<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OrcaSlicer: Slic3r::WipeTowerIntegration Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../OrcaSlicer_32px.png"/></td>
  <td id="projectalign">
   <div id="projectname">OrcaSlicer<span id="projectnumber">&#160;1.6.3</span>
   </div>
   <div id="projectbrief">OrcaSlicer</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d0/d4c/class_slic3r_1_1_wipe_tower_integration.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../d9/d29/class_slic3r_1_1_wipe_tower_integration-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Slic3r::WipeTowerIntegration Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../">src/libslic3r/GCode.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Collaboration diagram for Slic3r::WipeTowerIntegration:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d4e/class_slic3r_1_1_wipe_tower_integration__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8577d15ac40f5ec2bda08fb609a50c61"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a8577d15ac40f5ec2bda08fb609a50c61">WipeTowerIntegration</a> (const PrintConfig &amp;print_config, const <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a> plate_idx, const <a class="el" href="../../de/db8/namespace_slic3r.html#a6b8e15a6e63fb72a48bc5e49b8a6f6b1">Vec3d</a> plate_origin, const std::vector&lt; <a class="el" href="../../dc/deb/struct_slic3r_1_1_wipe_tower_1_1_tool_change_result.html">WipeTower::ToolChangeResult</a> &gt; &amp;priming, const std::vector&lt; std::vector&lt; <a class="el" href="../../dc/deb/struct_slic3r_1_1_wipe_tower_1_1_tool_change_result.html">WipeTower::ToolChangeResult</a> &gt; &gt; &amp;tool_changes, const <a class="el" href="../../dc/deb/struct_slic3r_1_1_wipe_tower_1_1_tool_change_result.html">WipeTower::ToolChangeResult</a> &amp;final_purge)</td></tr>
<tr class="separator:a8577d15ac40f5ec2bda08fb609a50c61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7497d8d42cdcc1e6eab63612993aee92"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a7497d8d42cdcc1e6eab63612993aee92">prime</a> (<a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html">GCode</a> &amp;gcodegen)</td></tr>
<tr class="separator:a7497d8d42cdcc1e6eab63612993aee92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16e8b64f43622e9f0af60b919b2f61c6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a16e8b64f43622e9f0af60b919b2f61c6">next_layer</a> ()</td></tr>
<tr class="separator:a16e8b64f43622e9f0af60b919b2f61c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a756231fc8c765bc08432e520fca5f49c"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a756231fc8c765bc08432e520fca5f49c">tool_change</a> (<a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html">GCode</a> &amp;gcodegen, <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a> extruder_id, bool finish_layer)</td></tr>
<tr class="separator:a756231fc8c765bc08432e520fca5f49c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad176401561c0de48be24cc98ab44b4bf"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#ad176401561c0de48be24cc98ab44b4bf">finalize</a> (<a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html">GCode</a> &amp;gcodegen)</td></tr>
<tr class="separator:ad176401561c0de48be24cc98ab44b4bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3c60453fffeaded5ed74bf807ac8b63"><td class="memItemLeft" align="right" valign="top">std::vector&lt; float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#ab3c60453fffeaded5ed74bf807ac8b63">used_filament_length</a> () const</td></tr>
<tr class="separator:ab3c60453fffeaded5ed74bf807ac8b63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fce866976cc546035665a7b45ef60e5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a5fce866976cc546035665a7b45ef60e5">is_first_print</a> () const</td></tr>
<tr class="separator:a5fce866976cc546035665a7b45ef60e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f83b8dbd70872654731a0f1c2807672"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a3f83b8dbd70872654731a0f1c2807672">set_is_first_print</a> (bool is)</td></tr>
<tr class="separator:a3f83b8dbd70872654731a0f1c2807672"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ce895c69b4725bff2c45081102e81df"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a0ce895c69b4725bff2c45081102e81df">enable_timelapse_print</a> () const</td></tr>
<tr class="separator:a0ce895c69b4725bff2c45081102e81df"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a28acb3449ddff4a51f341627ff08d29b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html">WipeTowerIntegration</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a28acb3449ddff4a51f341627ff08d29b">operator=</a> (const <a class="el" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html">WipeTowerIntegration</a> &amp;)</td></tr>
<tr class="separator:a28acb3449ddff4a51f341627ff08d29b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77890da960412cea8c288fe74a2d28cc"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a77890da960412cea8c288fe74a2d28cc">append_tcr</a> (<a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html">GCode</a> &amp;gcodegen, const <a class="el" href="../../dc/deb/struct_slic3r_1_1_wipe_tower_1_1_tool_change_result.html">WipeTower::ToolChangeResult</a> &amp;tcr, <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a> new_extruder_id, double z=-1.) const</td></tr>
<tr class="separator:a77890da960412cea8c288fe74a2d28cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a771e997a5fe634f6e4576978337086fd"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a771e997a5fe634f6e4576978337086fd">post_process_wipe_tower_moves</a> (const <a class="el" href="../../dc/deb/struct_slic3r_1_1_wipe_tower_1_1_tool_change_result.html">WipeTower::ToolChangeResult</a> &amp;tcr, const <a class="el" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> &amp;translation, float <a class="el" href="../../de/db8/namespace_slic3r.html#a7927d0ca1b31b8f9284ea268b11d27d5">angle</a>) const</td></tr>
<tr class="separator:a771e997a5fe634f6e4576978337086fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a22b30058ebbc99a7e5c270f4ce6458d5"><td class="memItemLeft" align="right" valign="top">const float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a22b30058ebbc99a7e5c270f4ce6458d5">m_left</a></td></tr>
<tr class="separator:a22b30058ebbc99a7e5c270f4ce6458d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a075718c7fb729620ccb589804f7993a6"><td class="memItemLeft" align="right" valign="top">const float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a075718c7fb729620ccb589804f7993a6">m_right</a></td></tr>
<tr class="separator:a075718c7fb729620ccb589804f7993a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a722e32ebde8833aa1ab02b37c62fc472"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a722e32ebde8833aa1ab02b37c62fc472">m_wipe_tower_pos</a></td></tr>
<tr class="separator:a722e32ebde8833aa1ab02b37c62fc472"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ab27296c9de54d39b3235ddad2d26c5"><td class="memItemLeft" align="right" valign="top">const float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a6ab27296c9de54d39b3235ddad2d26c5">m_wipe_tower_rotation</a></td></tr>
<tr class="separator:a6ab27296c9de54d39b3235ddad2d26c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48c69b9c336315f879eef938994b94c0"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; <a class="el" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a48c69b9c336315f879eef938994b94c0">m_extruder_offsets</a></td></tr>
<tr class="separator:a48c69b9c336315f879eef938994b94c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa781301aa91ef51fd6a2d3498b0aa2d8"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; <a class="el" href="../../dc/deb/struct_slic3r_1_1_wipe_tower_1_1_tool_change_result.html">WipeTower::ToolChangeResult</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#aa781301aa91ef51fd6a2d3498b0aa2d8">m_priming</a></td></tr>
<tr class="separator:aa781301aa91ef51fd6a2d3498b0aa2d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa8cf2cc0f08521e8ddc63bc62015a02"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; std::vector&lt; <a class="el" href="../../dc/deb/struct_slic3r_1_1_wipe_tower_1_1_tool_change_result.html">WipeTower::ToolChangeResult</a> &gt; &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#afa8cf2cc0f08521e8ddc63bc62015a02">m_tool_changes</a></td></tr>
<tr class="separator:afa8cf2cc0f08521e8ddc63bc62015a02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bbbdb71b9e0595564b4c6369cc72df1"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../dc/deb/struct_slic3r_1_1_wipe_tower_1_1_tool_change_result.html">WipeTower::ToolChangeResult</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a8bbbdb71b9e0595564b4c6369cc72df1">m_final_purge</a></td></tr>
<tr class="separator:a8bbbdb71b9e0595564b4c6369cc72df1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f8b027d8dc3fa7e23b050bb17f664b9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a0f8b027d8dc3fa7e23b050bb17f664b9">m_layer_idx</a></td></tr>
<tr class="separator:a0f8b027d8dc3fa7e23b050bb17f664b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71a1f9ba82309f7e23ab9e8a10a656e5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a71a1f9ba82309f7e23ab9e8a10a656e5">m_tool_change_idx</a></td></tr>
<tr class="separator:a71a1f9ba82309f7e23ab9e8a10a656e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80f1d9eb9171304288522d61b4567a43"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a80f1d9eb9171304288522d61b4567a43">m_last_wipe_tower_print_z</a> = 0.<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td></tr>
<tr class="separator:a80f1d9eb9171304288522d61b4567a43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf26f3325ed88e3ba1dcc1cd4d0a5a24"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/db8/namespace_slic3r.html#a6b8e15a6e63fb72a48bc5e49b8a6f6b1">Vec3d</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#acf26f3325ed88e3ba1dcc1cd4d0a5a24">m_plate_origin</a></td></tr>
<tr class="separator:acf26f3325ed88e3ba1dcc1cd4d0a5a24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedfa7591185e4f081a542c423542b569"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#aedfa7591185e4f081a542c423542b569">m_single_extruder_multi_material</a></td></tr>
<tr class="separator:aedfa7591185e4f081a542c423542b569"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a098870bbf8b913b3ad2b929a479f2cd2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a098870bbf8b913b3ad2b929a479f2cd2">m_enable_timelapse_print</a></td></tr>
<tr class="separator:a098870bbf8b913b3ad2b929a479f2cd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab46f0a696103facc9b22f401f6e1d03c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#ab46f0a696103facc9b22f401f6e1d03c">m_is_first_print</a></td></tr>
<tr class="separator:ab46f0a696103facc9b22f401f6e1d03c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"></div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a8577d15ac40f5ec2bda08fb609a50c61" name="a8577d15ac40f5ec2bda08fb609a50c61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8577d15ac40f5ec2bda08fb609a50c61">&#9670;&#160;</a></span>WipeTowerIntegration()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Slic3r::WipeTowerIntegration::WipeTowerIntegration </td>
          <td>(</td>
          <td class="paramtype">const PrintConfig &amp;&#160;</td>
          <td class="paramname"><em>print_config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>plate_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../de/db8/namespace_slic3r.html#a6b8e15a6e63fb72a48bc5e49b8a6f6b1">Vec3d</a>&#160;</td>
          <td class="paramname"><em>plate_origin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="../../dc/deb/struct_slic3r_1_1_wipe_tower_1_1_tool_change_result.html">WipeTower::ToolChangeResult</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>priming</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::vector&lt; <a class="el" href="../../dc/deb/struct_slic3r_1_1_wipe_tower_1_1_tool_change_result.html">WipeTower::ToolChangeResult</a> &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>tool_changes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../dc/deb/struct_slic3r_1_1_wipe_tower_1_1_tool_change_result.html">WipeTower::ToolChangeResult</a> &amp;&#160;</td>
          <td class="paramname"><em>final_purge</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   76</span>                                                                                :</div>
<div class="line"><span class="lineno">   77</span>        <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a22b30058ebbc99a7e5c270f4ce6458d5">m_left</a>(<span class="comment">/*float(print_config.wipe_tower_x.value)*/</span> 0.f),</div>
<div class="line"><span class="lineno">   78</span>        <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a075718c7fb729620ccb589804f7993a6">m_right</a>(<span class="keywordtype">float</span>(<span class="comment">/*print_config.wipe_tower_x.value +*/</span> print_config.prime_tower_width.value)),</div>
<div class="line"><span class="lineno">   79</span>        <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a722e32ebde8833aa1ab02b37c62fc472">m_wipe_tower_pos</a>(<span class="keywordtype">float</span>(print_config.wipe_tower_x.get_at(plate_idx)), <span class="keywordtype">float</span>(print_config.wipe_tower_y.get_at(plate_idx))),</div>
<div class="line"><span class="lineno">   80</span>        <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a6ab27296c9de54d39b3235ddad2d26c5">m_wipe_tower_rotation</a>(<span class="keywordtype">float</span>(print_config.wipe_tower_rotation_angle)),</div>
<div class="line"><span class="lineno">   81</span>        <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a48c69b9c336315f879eef938994b94c0">m_extruder_offsets</a>(print_config.extruder_offset.values),</div>
<div class="line"><span class="lineno">   82</span>        <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#aa781301aa91ef51fd6a2d3498b0aa2d8">m_priming</a>(priming),</div>
<div class="line"><span class="lineno">   83</span>        <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#afa8cf2cc0f08521e8ddc63bc62015a02">m_tool_changes</a>(tool_changes),</div>
<div class="line"><span class="lineno">   84</span>        <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a8bbbdb71b9e0595564b4c6369cc72df1">m_final_purge</a>(final_purge),</div>
<div class="line"><span class="lineno">   85</span>        <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a0f8b027d8dc3fa7e23b050bb17f664b9">m_layer_idx</a>(-1),</div>
<div class="line"><span class="lineno">   86</span>        <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a71a1f9ba82309f7e23ab9e8a10a656e5">m_tool_change_idx</a>(0),</div>
<div class="line"><span class="lineno">   87</span>        <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#acf26f3325ed88e3ba1dcc1cd4d0a5a24">m_plate_origin</a>(plate_origin),</div>
<div class="line"><span class="lineno">   88</span>        <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#aedfa7591185e4f081a542c423542b569">m_single_extruder_multi_material</a>(print_config.single_extruder_multi_material),</div>
<div class="line"><span class="lineno">   89</span>        <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a098870bbf8b913b3ad2b929a479f2cd2">m_enable_timelapse_print</a>(print_config.timelapse_type.value == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6b9b5e55b66ef4ae8d7fd0ec8f13644ea1bcf79276debe5a929b1722a10f7b88f">TimelapseType::tlSmooth</a>),</div>
<div class="line"><span class="lineno">   90</span>        <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#ab46f0a696103facc9b22f401f6e1d03c">m_is_first_print</a>(<span class="keyword">true</span>)</div>
<div class="line"><span class="lineno">   91</span>    {}</div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_integration_html_a075718c7fb729620ccb589804f7993a6"><div class="ttname"><a href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a075718c7fb729620ccb589804f7993a6">Slic3r::WipeTowerIntegration::m_right</a></div><div class="ttdeci">const float m_right</div><div class="ttdef"><b>Definition</b> GCode.hpp:113</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_integration_html_a098870bbf8b913b3ad2b929a479f2cd2"><div class="ttname"><a href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a098870bbf8b913b3ad2b929a479f2cd2">Slic3r::WipeTowerIntegration::m_enable_timelapse_print</a></div><div class="ttdeci">bool m_enable_timelapse_print</div><div class="ttdef"><b>Definition</b> GCode.hpp:130</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_integration_html_a0f8b027d8dc3fa7e23b050bb17f664b9"><div class="ttname"><a href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a0f8b027d8dc3fa7e23b050bb17f664b9">Slic3r::WipeTowerIntegration::m_layer_idx</a></div><div class="ttdeci">int m_layer_idx</div><div class="ttdef"><b>Definition</b> GCode.hpp:123</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_integration_html_a22b30058ebbc99a7e5c270f4ce6458d5"><div class="ttname"><a href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a22b30058ebbc99a7e5c270f4ce6458d5">Slic3r::WipeTowerIntegration::m_left</a></div><div class="ttdeci">const float m_left</div><div class="ttdef"><b>Definition</b> GCode.hpp:112</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_integration_html_a48c69b9c336315f879eef938994b94c0"><div class="ttname"><a href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a48c69b9c336315f879eef938994b94c0">Slic3r::WipeTowerIntegration::m_extruder_offsets</a></div><div class="ttdeci">const std::vector&lt; Vec2d &gt; m_extruder_offsets</div><div class="ttdef"><b>Definition</b> GCode.hpp:116</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_integration_html_a6ab27296c9de54d39b3235ddad2d26c5"><div class="ttname"><a href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a6ab27296c9de54d39b3235ddad2d26c5">Slic3r::WipeTowerIntegration::m_wipe_tower_rotation</a></div><div class="ttdeci">const float m_wipe_tower_rotation</div><div class="ttdef"><b>Definition</b> GCode.hpp:115</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_integration_html_a71a1f9ba82309f7e23ab9e8a10a656e5"><div class="ttname"><a href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a71a1f9ba82309f7e23ab9e8a10a656e5">Slic3r::WipeTowerIntegration::m_tool_change_idx</a></div><div class="ttdeci">int m_tool_change_idx</div><div class="ttdef"><b>Definition</b> GCode.hpp:124</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_integration_html_a722e32ebde8833aa1ab02b37c62fc472"><div class="ttname"><a href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a722e32ebde8833aa1ab02b37c62fc472">Slic3r::WipeTowerIntegration::m_wipe_tower_pos</a></div><div class="ttdeci">const Vec2f m_wipe_tower_pos</div><div class="ttdef"><b>Definition</b> GCode.hpp:114</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_integration_html_a8bbbdb71b9e0595564b4c6369cc72df1"><div class="ttname"><a href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a8bbbdb71b9e0595564b4c6369cc72df1">Slic3r::WipeTowerIntegration::m_final_purge</a></div><div class="ttdeci">const WipeTower::ToolChangeResult &amp; m_final_purge</div><div class="ttdef"><b>Definition</b> GCode.hpp:121</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_integration_html_aa781301aa91ef51fd6a2d3498b0aa2d8"><div class="ttname"><a href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#aa781301aa91ef51fd6a2d3498b0aa2d8">Slic3r::WipeTowerIntegration::m_priming</a></div><div class="ttdeci">const std::vector&lt; WipeTower::ToolChangeResult &gt; &amp; m_priming</div><div class="ttdef"><b>Definition</b> GCode.hpp:119</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_integration_html_ab46f0a696103facc9b22f401f6e1d03c"><div class="ttname"><a href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#ab46f0a696103facc9b22f401f6e1d03c">Slic3r::WipeTowerIntegration::m_is_first_print</a></div><div class="ttdeci">bool m_is_first_print</div><div class="ttdef"><b>Definition</b> GCode.hpp:131</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_integration_html_acf26f3325ed88e3ba1dcc1cd4d0a5a24"><div class="ttname"><a href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#acf26f3325ed88e3ba1dcc1cd4d0a5a24">Slic3r::WipeTowerIntegration::m_plate_origin</a></div><div class="ttdeci">Vec3d m_plate_origin</div><div class="ttdef"><b>Definition</b> GCode.hpp:128</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_integration_html_aedfa7591185e4f081a542c423542b569"><div class="ttname"><a href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#aedfa7591185e4f081a542c423542b569">Slic3r::WipeTowerIntegration::m_single_extruder_multi_material</a></div><div class="ttdeci">bool m_single_extruder_multi_material</div><div class="ttdef"><b>Definition</b> GCode.hpp:129</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_integration_html_afa8cf2cc0f08521e8ddc63bc62015a02"><div class="ttname"><a href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#afa8cf2cc0f08521e8ddc63bc62015a02">Slic3r::WipeTowerIntegration::m_tool_changes</a></div><div class="ttdeci">const std::vector&lt; std::vector&lt; WipeTower::ToolChangeResult &gt; &gt; &amp; m_tool_changes</div><div class="ttdef"><b>Definition</b> GCode.hpp:120</div></div>
<div class="ttc" id="anamespace_slic3r_html_a6b9b5e55b66ef4ae8d7fd0ec8f13644ea1bcf79276debe5a929b1722a10f7b88f"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a6b9b5e55b66ef4ae8d7fd0ec8f13644ea1bcf79276debe5a929b1722a10f7b88f">Slic3r::tlSmooth</a></div><div class="ttdeci">@ tlSmooth</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:168</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a77890da960412cea8c288fe74a2d28cc" name="a77890da960412cea8c288fe74a2d28cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77890da960412cea8c288fe74a2d28cc">&#9670;&#160;</a></span>append_tcr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string Slic3r::WipeTowerIntegration::append_tcr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html">GCode</a> &amp;&#160;</td>
          <td class="paramname"><em>gcodegen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../dc/deb/struct_slic3r_1_1_wipe_tower_1_1_tool_change_result.html">WipeTower::ToolChangeResult</a> &amp;&#160;</td>
          <td class="paramname"><em>tcr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>new_extruder_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>z</em> = <code>-1.</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  381</span>    {</div>
<div class="line"><span class="lineno">  382</span>        <span class="keywordflow">if</span> (new_extruder_id != -1 &amp;&amp; new_extruder_id != tcr.new_tool)</div>
<div class="line"><span class="lineno">  383</span>            <span class="keywordflow">throw</span> Slic3r::InvalidArgument(<span class="stringliteral">&quot;Error: WipeTowerIntegration::append_tcr was asked to do a toolchange it didn&#39;t expect.&quot;</span>);</div>
<div class="line"><span class="lineno">  384</span> </div>
<div class="line"><span class="lineno">  385</span>        std::string <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a>;</div>
<div class="line"><span class="lineno">  386</span> </div>
<div class="line"><span class="lineno">  387</span>        <span class="comment">// Toolchangeresult.gcode assumes the wipe tower corner is at the origin (except for priming lines)</span></div>
<div class="line"><span class="lineno">  388</span>        <span class="comment">// We want to rotate and shift all extrusions (gcode postprocessing) and starting and ending position</span></div>
<div class="line"><span class="lineno">  389</span>        <span class="keywordtype">float</span> alpha = <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a6ab27296c9de54d39b3235ddad2d26c5">m_wipe_tower_rotation</a> / 180.f * float(<a class="code hl_define" href="../../de/ddd/_extrusion_simulator_8cpp.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>);</div>
<div class="line"><span class="lineno">  390</span> </div>
<div class="line"><span class="lineno">  391</span>        <span class="keyword">auto</span> transform_wt_pt = [&amp;alpha, <span class="keyword">this</span>](<span class="keyword">const</span> <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a>&amp; pt) -&gt; <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> {</div>
<div class="line"><span class="lineno">  392</span>            <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> <a class="code hl_variable" href="../../d7/da4/testmini_8c.html#ad9e5eed42092079dea4d90550ff5fcf0">out</a> = <a class="code hl_typedef" href="../../d5/d00/group___geometry___module.html#ga35e2cace3ada497794734edb8bc33b6e">Eigen::Rotation2Df</a>(alpha) * pt;</div>
<div class="line"><span class="lineno">  393</span>            <a class="code hl_variable" href="../../d7/da4/testmini_8c.html#ad9e5eed42092079dea4d90550ff5fcf0">out</a> += <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a722e32ebde8833aa1ab02b37c62fc472">m_wipe_tower_pos</a>;</div>
<div class="line"><span class="lineno">  394</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d7/da4/testmini_8c.html#ad9e5eed42092079dea4d90550ff5fcf0">out</a>;</div>
<div class="line"><span class="lineno">  395</span>        };</div>
<div class="line"><span class="lineno">  396</span> </div>
<div class="line"><span class="lineno">  397</span>        <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> start_pos = tcr.start_pos;</div>
<div class="line"><span class="lineno">  398</span>        <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> end_pos = tcr.end_pos;</div>
<div class="line"><span class="lineno">  399</span>        <span class="keywordflow">if</span> (! tcr.priming) {</div>
<div class="line"><span class="lineno">  400</span>            start_pos = transform_wt_pt(start_pos);</div>
<div class="line"><span class="lineno">  401</span>            end_pos = transform_wt_pt(end_pos);</div>
<div class="line"><span class="lineno">  402</span>        }</div>
<div class="line"><span class="lineno">  403</span> </div>
<div class="line"><span class="lineno">  404</span>        <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> wipe_tower_offset = tcr.priming ? Vec2f::Zero() : <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a722e32ebde8833aa1ab02b37c62fc472">m_wipe_tower_pos</a>;</div>
<div class="line"><span class="lineno">  405</span>        <span class="keywordtype">float</span> wipe_tower_rotation = tcr.priming ? 0.f : alpha;</div>
<div class="line"><span class="lineno">  406</span> </div>
<div class="line"><span class="lineno">  407</span>        std::string tcr_rotated_gcode = <a class="code hl_function" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a771e997a5fe634f6e4576978337086fd">post_process_wipe_tower_moves</a>(tcr, wipe_tower_offset, wipe_tower_rotation);</div>
<div class="line"><span class="lineno">  408</span> </div>
<div class="line"><span class="lineno">  409</span>        <span class="comment">// BBS: add partplate logic</span></div>
<div class="line"><span class="lineno">  410</span>        <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> plate_origin_2d(<a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#acf26f3325ed88e3ba1dcc1cd4d0a5a24">m_plate_origin</a>(0), <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#acf26f3325ed88e3ba1dcc1cd4d0a5a24">m_plate_origin</a>(1));</div>
<div class="line"><span class="lineno">  411</span> </div>
<div class="line"><span class="lineno">  412</span>        <span class="comment">// BBS: toolchange gcode will move to start_pos,</span></div>
<div class="line"><span class="lineno">  413</span>        <span class="comment">// so only perform movement when printing sparse partition to support upper layer.</span></div>
<div class="line"><span class="lineno">  414</span>        <span class="comment">// start_pos is the position in plate coordinate.</span></div>
<div class="line"><span class="lineno">  415</span>        <span class="keywordflow">if</span> (! tcr.priming &amp;&amp; tcr.is_finish_first) {</div>
<div class="line"><span class="lineno">  416</span>            <span class="comment">// Move over the wipe tower.</span></div>
<div class="line"><span class="lineno">  417</span>            <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += gcodegen.retract();</div>
<div class="line"><span class="lineno">  418</span>            gcodegen.m_avoid_crossing_perimeters.use_external_mp_once();</div>
<div class="line"><span class="lineno">  419</span>            <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += gcodegen.travel_to(</div>
<div class="line"><span class="lineno">  420</span>                <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7246c3aef66e2889053ad36b7dc4ac63">wipe_tower_point_to_object_point</a>(gcodegen, start_pos + plate_origin_2d),</div>
<div class="line"><span class="lineno">  421</span>                <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a0786a0da8016e68133bca07352f8ff18">erMixed</a>,</div>
<div class="line"><span class="lineno">  422</span>                <span class="stringliteral">&quot;Travel to a Wipe Tower&quot;</span>);</div>
<div class="line"><span class="lineno">  423</span>            <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += gcodegen.unretract();</div>
<div class="line"><span class="lineno">  424</span>        }</div>
<div class="line"><span class="lineno">  425</span> </div>
<div class="line"><span class="lineno">  426</span>        <span class="comment">//BBS: if needed, write the gcode_label_objects_end then priming tower, if the retract, didn&#39;t did it.</span></div>
<div class="line"><span class="lineno">  427</span>        gcodegen.m_writer.add_object_end_labels(gcode);</div>
<div class="line"><span class="lineno">  428</span> </div>
<div class="line"><span class="lineno">  429</span>        <span class="keywordtype">double</span> current_z = gcodegen.writer().get_position().z();</div>
<div class="line"><span class="lineno">  430</span>        <span class="keywordflow">if</span> (z == -1.) <span class="comment">// in case no specific z was provided, print at current_z pos</span></div>
<div class="line"><span class="lineno">  431</span>            z = current_z;</div>
<div class="line"><span class="lineno">  432</span>        <span class="keywordflow">if</span> (! <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a93b359a57ef07c110b0f8c62d0a15045">is_approx</a>(z, current_z)) {</div>
<div class="line"><span class="lineno">  433</span>            <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += gcodegen.writer().retract();</div>
<div class="line"><span class="lineno">  434</span>            <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += gcodegen.writer().travel_to_z(z, <span class="stringliteral">&quot;Travel down to the last wipe tower layer.&quot;</span>);</div>
<div class="line"><span class="lineno">  435</span>            <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += gcodegen.writer().unretract();</div>
<div class="line"><span class="lineno">  436</span>        }</div>
<div class="line"><span class="lineno">  437</span> </div>
<div class="line"><span class="lineno">  438</span> </div>
<div class="line"><span class="lineno">  439</span>        <span class="comment">// Process the end filament gcode.</span></div>
<div class="line"><span class="lineno">  440</span>        std::string end_filament_gcode_str;</div>
<div class="line"><span class="lineno">  441</span>        <span class="keywordflow">if</span> (gcodegen.writer().extruder() != <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno">  442</span>            <span class="comment">// Process the custom filament_end_gcode in case of single_extruder_multi_material.</span></div>
<div class="line"><span class="lineno">  443</span>            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>        old_extruder_id = gcodegen.writer().extruder()-&gt;id();</div>
<div class="line"><span class="lineno">  444</span>            <span class="keyword">const</span> std::string&amp; filament_end_gcode = gcodegen.config().filament_end_gcode.get_at(old_extruder_id);</div>
<div class="line"><span class="lineno">  445</span>            <span class="keywordflow">if</span> (gcodegen.writer().extruder() != <span class="keyword">nullptr</span> &amp;&amp; !filament_end_gcode.empty()) {</div>
<div class="line"><span class="lineno">  446</span>                end_filament_gcode_str = gcodegen.placeholder_parser_process(<span class="stringliteral">&quot;filament_end_gcode&quot;</span>, filament_end_gcode, old_extruder_id);</div>
<div class="line"><span class="lineno">  447</span>                <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ae8d6e6e717d5e93e72d97b30431a0f78">check_add_eol</a>(end_filament_gcode_str);</div>
<div class="line"><span class="lineno">  448</span>            }</div>
<div class="line"><span class="lineno">  449</span>        }</div>
<div class="line"><span class="lineno">  450</span>        <span class="comment">//BBS: increase toolchange count</span></div>
<div class="line"><span class="lineno">  451</span>        gcodegen.m_toolchange_count++;</div>
<div class="line"><span class="lineno">  452</span> </div>
<div class="line"><span class="lineno">  453</span>        <span class="comment">// BBS: should be placed before toolchange parsing</span></div>
<div class="line"><span class="lineno">  454</span>        std::string toolchange_retract_str = gcodegen.retract(<span class="keyword">true</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  455</span>        <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ae8d6e6e717d5e93e72d97b30431a0f78">check_add_eol</a>(toolchange_retract_str);</div>
<div class="line"><span class="lineno">  456</span> </div>
<div class="line"><span class="lineno">  457</span>        <span class="comment">// Process the custom change_filament_gcode. If it is empty, provide a simple Tn command to change the filament.</span></div>
<div class="line"><span class="lineno">  458</span>        <span class="comment">// Otherwise, leave control to the user completely.</span></div>
<div class="line"><span class="lineno">  459</span>        std::string toolchange_gcode_str;</div>
<div class="line"><span class="lineno">  460</span>        <span class="keyword">const</span> std::string&amp; change_filament_gcode = gcodegen.config().change_filament_gcode.value;</div>
<div class="line"><span class="lineno">  461</span><span class="comment">//        m_max_layer_z = std::max(m_max_layer_z, tcr.print_z);</span></div>
<div class="line"><span class="lineno">  462</span>        <span class="keywordflow">if</span> (! change_filament_gcode.empty()) {</div>
<div class="line"><span class="lineno">  463</span>            DynamicConfig config;</div>
<div class="line"><span class="lineno">  464</span>            <span class="keywordtype">int</span> previous_extruder_id = gcodegen.writer().extruder() ? (<a class="code hl_variable" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>)gcodegen.writer().extruder()-&gt;id() : -1;</div>
<div class="line"><span class="lineno">  465</span>            config.set_key_value(<span class="stringliteral">&quot;previous_extruder&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#ac44dc7dc57ca4e75fffcf4b377abfd8b">ConfigOptionInt</a>(previous_extruder_id));</div>
<div class="line"><span class="lineno">  466</span>            config.set_key_value(<span class="stringliteral">&quot;next_extruder&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#ac44dc7dc57ca4e75fffcf4b377abfd8b">ConfigOptionInt</a>((<span class="keywordtype">int</span>)new_extruder_id));</div>
<div class="line"><span class="lineno">  467</span>            config.set_key_value(<span class="stringliteral">&quot;layer_num&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#ac44dc7dc57ca4e75fffcf4b377abfd8b">ConfigOptionInt</a>(gcodegen.m_layer_index));</div>
<div class="line"><span class="lineno">  468</span>            config.set_key_value(<span class="stringliteral">&quot;layer_z&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(tcr.print_z));</div>
<div class="line"><span class="lineno">  469</span>            config.set_key_value(<span class="stringliteral">&quot;toolchange_z&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(z));</div>
<div class="line"><span class="lineno">  470</span><span class="comment">//            config.set_key_value(&quot;max_layer_z&quot;, new ConfigOptionFloat(m_max_layer_z));</span></div>
<div class="line"><span class="lineno">  471</span>            <span class="comment">// BBS</span></div>
<div class="line"><span class="lineno">  472</span>            {</div>
<div class="line"><span class="lineno">  473</span>                GCodeWriter&amp; gcode_writer = gcodegen.m_writer;</div>
<div class="line"><span class="lineno">  474</span>                FullPrintConfig&amp; full_config = gcodegen.m_config;</div>
<div class="line"><span class="lineno">  475</span>                <span class="keywordtype">float</span> old_retract_length = gcode_writer.extruder() != <span class="keyword">nullptr</span> ? full_config.retraction_length.get_at(previous_extruder_id) : 0;</div>
<div class="line"><span class="lineno">  476</span>                <span class="keywordtype">float</span> new_retract_length = full_config.retraction_length.get_at(new_extruder_id);</div>
<div class="line"><span class="lineno">  477</span>                <span class="keywordtype">float</span> old_retract_length_toolchange = gcode_writer.extruder() != <span class="keyword">nullptr</span> ? full_config.retract_length_toolchange.get_at(previous_extruder_id) : 0;</div>
<div class="line"><span class="lineno">  478</span>                <span class="keywordtype">float</span> new_retract_length_toolchange = full_config.retract_length_toolchange.get_at(new_extruder_id);</div>
<div class="line"><span class="lineno">  479</span>                <span class="keywordtype">int</span> old_filament_temp = gcode_writer.extruder() != <span class="keyword">nullptr</span> ? (gcodegen.on_first_layer()? full_config.nozzle_temperature_initial_layer.get_at(previous_extruder_id) : full_config.nozzle_temperature.get_at(previous_extruder_id)) : 210;</div>
<div class="line"><span class="lineno">  480</span>                <span class="keywordtype">int</span> new_filament_temp = gcodegen.on_first_layer() ? full_config.nozzle_temperature_initial_layer.get_at(new_extruder_id) : full_config.nozzle_temperature.get_at(new_extruder_id);</div>
<div class="line"><span class="lineno">  481</span>                <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a6b8e15a6e63fb72a48bc5e49b8a6f6b1">Vec3d</a> nozzle_pos = gcode_writer.get_position();</div>
<div class="line"><span class="lineno">  482</span> </div>
<div class="line"><span class="lineno">  483</span>                <span class="keywordtype">float</span> purge_volume = tcr.purge_volume &lt; <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a> ? 0 : std::max(tcr.purge_volume, <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a47c173016f55d40d36a2593be3928062">g_min_purge_volume</a>);</div>
<div class="line"><span class="lineno">  484</span>                <span class="keywordtype">float</span> filament_area = float((<a class="code hl_define" href="../../de/ddd/_extrusion_simulator_8cpp.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a> / 4.f) * <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(full_config.filament_diameter.get_at(new_extruder_id), 2));</div>
<div class="line"><span class="lineno">  485</span>                <span class="keywordtype">float</span> purge_length = purge_volume / filament_area;</div>
<div class="line"><span class="lineno">  486</span> </div>
<div class="line"><span class="lineno">  487</span>                <span class="keywordtype">int</span> old_filament_e_feedrate = gcode_writer.extruder() != <span class="keyword">nullptr</span> ? (<a class="code hl_variable" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>)(60.0 * full_config.filament_max_volumetric_speed.get_at(previous_extruder_id) / filament_area) : 200;</div>
<div class="line"><span class="lineno">  488</span>                old_filament_e_feedrate = old_filament_e_feedrate == 0 ? 100 : old_filament_e_feedrate;</div>
<div class="line"><span class="lineno">  489</span>                <span class="keywordtype">int</span> new_filament_e_feedrate = (<a class="code hl_variable" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>)(60.0 * full_config.filament_max_volumetric_speed.get_at(new_extruder_id) / filament_area);</div>
<div class="line"><span class="lineno">  490</span>                new_filament_e_feedrate = new_filament_e_feedrate == 0 ? 100 : new_filament_e_feedrate;</div>
<div class="line"><span class="lineno">  491</span> </div>
<div class="line"><span class="lineno">  492</span>                config.set_key_value(<span class="stringliteral">&quot;max_layer_z&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(gcodegen.m_max_layer_z));</div>
<div class="line"><span class="lineno">  493</span>                config.set_key_value(<span class="stringliteral">&quot;relative_e_axis&quot;</span>, <span class="keyword">new</span> ConfigOptionBool(full_config.use_relative_e_distances));</div>
<div class="line"><span class="lineno">  494</span>                config.set_key_value(<span class="stringliteral">&quot;toolchange_count&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#ac44dc7dc57ca4e75fffcf4b377abfd8b">ConfigOptionInt</a>((<span class="keywordtype">int</span>)gcodegen.m_toolchange_count));</div>
<div class="line"><span class="lineno">  495</span>                <span class="comment">//BBS: fan speed is useless placeholer now, but we don&#39;t remove it to avoid</span></div>
<div class="line"><span class="lineno">  496</span>                <span class="comment">//slicing error in old change_filament_gcode in old 3MF</span></div>
<div class="line"><span class="lineno">  497</span>                config.set_key_value(<span class="stringliteral">&quot;fan_speed&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#ac44dc7dc57ca4e75fffcf4b377abfd8b">ConfigOptionInt</a>((<span class="keywordtype">int</span>)0));</div>
<div class="line"><span class="lineno">  498</span>                config.set_key_value(<span class="stringliteral">&quot;old_retract_length&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(old_retract_length));</div>
<div class="line"><span class="lineno">  499</span>                config.set_key_value(<span class="stringliteral">&quot;new_retract_length&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(new_retract_length));</div>
<div class="line"><span class="lineno">  500</span>                config.set_key_value(<span class="stringliteral">&quot;old_retract_length_toolchange&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(old_retract_length_toolchange));</div>
<div class="line"><span class="lineno">  501</span>                config.set_key_value(<span class="stringliteral">&quot;new_retract_length_toolchange&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(new_retract_length_toolchange));</div>
<div class="line"><span class="lineno">  502</span>                config.set_key_value(<span class="stringliteral">&quot;old_filament_temp&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#ac44dc7dc57ca4e75fffcf4b377abfd8b">ConfigOptionInt</a>(old_filament_temp));</div>
<div class="line"><span class="lineno">  503</span>                config.set_key_value(<span class="stringliteral">&quot;new_filament_temp&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#ac44dc7dc57ca4e75fffcf4b377abfd8b">ConfigOptionInt</a>(new_filament_temp));</div>
<div class="line"><span class="lineno">  504</span>                config.set_key_value(<span class="stringliteral">&quot;x_after_toolchange&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(start_pos(0)));</div>
<div class="line"><span class="lineno">  505</span>                config.set_key_value(<span class="stringliteral">&quot;y_after_toolchange&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(start_pos(1)));</div>
<div class="line"><span class="lineno">  506</span>                config.set_key_value(<span class="stringliteral">&quot;z_after_toolchange&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(nozzle_pos(2)));</div>
<div class="line"><span class="lineno">  507</span>                config.set_key_value(<span class="stringliteral">&quot;first_flush_volume&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(purge_length / 2.f));</div>
<div class="line"><span class="lineno">  508</span>                config.set_key_value(<span class="stringliteral">&quot;second_flush_volume&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(purge_length / 2.f));</div>
<div class="line"><span class="lineno">  509</span>                config.set_key_value(<span class="stringliteral">&quot;old_filament_e_feedrate&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#ac44dc7dc57ca4e75fffcf4b377abfd8b">ConfigOptionInt</a>(old_filament_e_feedrate));</div>
<div class="line"><span class="lineno">  510</span>                config.set_key_value(<span class="stringliteral">&quot;new_filament_e_feedrate&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#ac44dc7dc57ca4e75fffcf4b377abfd8b">ConfigOptionInt</a>(new_filament_e_feedrate));</div>
<div class="line"><span class="lineno">  511</span>                config.set_key_value(<span class="stringliteral">&quot;travel_point_1_x&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(<span class="keywordtype">float</span>(<a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#ac4d96e1e2e66db43dc9ef0e718ee32c2">travel_point_1</a>.x())));</div>
<div class="line"><span class="lineno">  512</span>                config.set_key_value(<span class="stringliteral">&quot;travel_point_1_y&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(<span class="keywordtype">float</span>(<a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#ac4d96e1e2e66db43dc9ef0e718ee32c2">travel_point_1</a>.y())));</div>
<div class="line"><span class="lineno">  513</span>                config.set_key_value(<span class="stringliteral">&quot;travel_point_2_x&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(<span class="keywordtype">float</span>(<a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#ab9627c9d229ca43d9efc0d60c4904600">travel_point_2</a>.x())));</div>
<div class="line"><span class="lineno">  514</span>                config.set_key_value(<span class="stringliteral">&quot;travel_point_2_y&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(<span class="keywordtype">float</span>(<a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#ab9627c9d229ca43d9efc0d60c4904600">travel_point_2</a>.y())));</div>
<div class="line"><span class="lineno">  515</span>                config.set_key_value(<span class="stringliteral">&quot;travel_point_3_x&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(<span class="keywordtype">float</span>(<a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#acc7a8f01094a952fc3db6dcfa9349d9a">travel_point_3</a>.x())));</div>
<div class="line"><span class="lineno">  516</span>                config.set_key_value(<span class="stringliteral">&quot;travel_point_3_y&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(<span class="keywordtype">float</span>(<a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#acc7a8f01094a952fc3db6dcfa9349d9a">travel_point_3</a>.y())));</div>
<div class="line"><span class="lineno">  517</span> </div>
<div class="line"><span class="lineno">  518</span>                <span class="keywordtype">int</span> flush_count = std::min(<a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#aaa2b8f42e9ed99ca39916b726176c67b">g_max_flush_count</a>, (<span class="keywordtype">int</span>)std::round(purge_volume / <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a976325415010ecd676f6a8981414fdfb">g_purge_volume_one_time</a>));</div>
<div class="line"><span class="lineno">  519</span>                <span class="keywordtype">float</span> flush_unit = purge_length / flush_count;</div>
<div class="line"><span class="lineno">  520</span>                <span class="keywordtype">int</span> flush_idx = 0;</div>
<div class="line"><span class="lineno">  521</span>                <span class="keywordflow">for</span> (; flush_idx &lt; flush_count; flush_idx++) {</div>
<div class="line"><span class="lineno">  522</span>                    <span class="keywordtype">char</span> key_value[64] = { 0 };</div>
<div class="line"><span class="lineno">  523</span>                    snprintf(key_value, <span class="keyword">sizeof</span>(key_value), <span class="stringliteral">&quot;flush_length_%d&quot;</span>, flush_idx + 1);</div>
<div class="line"><span class="lineno">  524</span>                    config.set_key_value(key_value, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(flush_unit));</div>
<div class="line"><span class="lineno">  525</span>                }</div>
<div class="line"><span class="lineno">  526</span> </div>
<div class="line"><span class="lineno">  527</span>                <span class="keywordflow">for</span> (; flush_idx &lt; <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#aaa2b8f42e9ed99ca39916b726176c67b">g_max_flush_count</a>; flush_idx++) {</div>
<div class="line"><span class="lineno">  528</span>                    <span class="keywordtype">char</span> key_value[64] = { 0 };</div>
<div class="line"><span class="lineno">  529</span>                    snprintf(key_value, <span class="keyword">sizeof</span>(key_value), <span class="stringliteral">&quot;flush_length_%d&quot;</span>, flush_idx + 1);</div>
<div class="line"><span class="lineno">  530</span>                    config.set_key_value(key_value, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(0.f));</div>
<div class="line"><span class="lineno">  531</span>                }</div>
<div class="line"><span class="lineno">  532</span>            }</div>
<div class="line"><span class="lineno">  533</span>            toolchange_gcode_str = gcodegen.placeholder_parser_process(<span class="stringliteral">&quot;change_filament_gcode&quot;</span>, change_filament_gcode, new_extruder_id, &amp;config);</div>
<div class="line"><span class="lineno">  534</span>            <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ae8d6e6e717d5e93e72d97b30431a0f78">check_add_eol</a>(toolchange_gcode_str);</div>
<div class="line"><span class="lineno">  535</span> </div>
<div class="line"><span class="lineno">  536</span>            <span class="comment">// retract before toolchange</span></div>
<div class="line"><span class="lineno">  537</span>            toolchange_gcode_str = toolchange_retract_str + toolchange_gcode_str;</div>
<div class="line"><span class="lineno">  538</span>            <span class="comment">//BBS</span></div>
<div class="line"><span class="lineno">  539</span>            {</div>
<div class="line"><span class="lineno">  540</span>                <span class="comment">//BBS: current position and fan_speed is unclear after interting change_filament_gcode</span></div>
<div class="line"><span class="lineno">  541</span>                <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ae8d6e6e717d5e93e72d97b30431a0f78">check_add_eol</a>(toolchange_gcode_str);</div>
<div class="line"><span class="lineno">  542</span>                toolchange_gcode_str += <span class="stringliteral">&quot;;_FORCE_RESUME_FAN_SPEED\n&quot;</span>;</div>
<div class="line"><span class="lineno">  543</span>                gcodegen.writer().set_current_position_clear(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  544</span>                <span class="comment">//BBS: check whether custom gcode changes the z position. Update if changed</span></div>
<div class="line"><span class="lineno">  545</span>                <span class="keywordtype">double</span> temp_z_after_tool_change;</div>
<div class="line"><span class="lineno">  546</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#aa22782dc139d89f8d2049fc2192c4d02">GCodeProcessor::get_last_z_from_gcode</a>(toolchange_gcode_str, temp_z_after_tool_change)) {</div>
<div class="line"><span class="lineno">  547</span>                    <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a6b8e15a6e63fb72a48bc5e49b8a6f6b1">Vec3d</a> <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#a2d49c0885f5562f98fbb19cbe6590d11">pos</a> = gcodegen.writer().get_position();</div>
<div class="line"><span class="lineno">  548</span>                    <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#a2d49c0885f5562f98fbb19cbe6590d11">pos</a>(2) = temp_z_after_tool_change;</div>
<div class="line"><span class="lineno">  549</span>                    gcodegen.writer().set_position(pos);</div>
<div class="line"><span class="lineno">  550</span>                }</div>
<div class="line"><span class="lineno">  551</span>            }</div>
<div class="line"><span class="lineno">  552</span> </div>
<div class="line"><span class="lineno">  553</span>            <span class="comment">// move to start_pos for wiping after toolchange</span></div>
<div class="line"><span class="lineno">  554</span>            std::string start_pos_str;</div>
<div class="line"><span class="lineno">  555</span>            start_pos_str = gcodegen.travel_to(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7246c3aef66e2889053ad36b7dc4ac63">wipe_tower_point_to_object_point</a>(gcodegen, start_pos + plate_origin_2d), <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a0786a0da8016e68133bca07352f8ff18">erMixed</a>, <span class="stringliteral">&quot;Move to start pos&quot;</span>);</div>
<div class="line"><span class="lineno">  556</span>            <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ae8d6e6e717d5e93e72d97b30431a0f78">check_add_eol</a>(start_pos_str);</div>
<div class="line"><span class="lineno">  557</span>            toolchange_gcode_str += start_pos_str;</div>
<div class="line"><span class="lineno">  558</span> </div>
<div class="line"><span class="lineno">  559</span>            <span class="comment">// unretract before wiping</span></div>
<div class="line"><span class="lineno">  560</span>            toolchange_gcode_str += gcodegen.unretract();</div>
<div class="line"><span class="lineno">  561</span>            <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ae8d6e6e717d5e93e72d97b30431a0f78">check_add_eol</a>(toolchange_gcode_str);</div>
<div class="line"><span class="lineno">  562</span>        }</div>
<div class="line"><span class="lineno">  563</span> </div>
<div class="line"><span class="lineno">  564</span>        std::string toolchange_command;</div>
<div class="line"><span class="lineno">  565</span>        <span class="keywordflow">if</span> (tcr.priming || (new_extruder_id &gt;= 0 &amp;&amp; gcodegen.writer().need_toolchange(new_extruder_id)))</div>
<div class="line"><span class="lineno">  566</span>            toolchange_command = gcodegen.writer().toolchange(new_extruder_id);</div>
<div class="line"><span class="lineno">  567</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#afbccd3fe590c185dd6b0ec4953f956d2">custom_gcode_changes_tool</a>(toolchange_gcode_str, gcodegen.writer().toolchange_prefix(), new_extruder_id))</div>
<div class="line"><span class="lineno">  568</span>            toolchange_gcode_str += toolchange_command;</div>
<div class="line"><span class="lineno">  569</span>        <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  570</span>            <span class="comment">// We have informed the m_writer about the current extruder_id, we can ignore the generated G-code.</span></div>
<div class="line"><span class="lineno">  571</span>        }</div>
<div class="line"><span class="lineno">  572</span> </div>
<div class="line"><span class="lineno">  573</span>        gcodegen.placeholder_parser().set(<span class="stringliteral">&quot;current_extruder&quot;</span>, new_extruder_id);</div>
<div class="line"><span class="lineno">  574</span> </div>
<div class="line"><span class="lineno">  575</span>        <span class="comment">// Process the start filament gcode.</span></div>
<div class="line"><span class="lineno">  576</span>        std::string start_filament_gcode_str;</div>
<div class="line"><span class="lineno">  577</span>        <span class="keyword">const</span> std::string&amp; filament_start_gcode = gcodegen.config().filament_start_gcode.get_at(new_extruder_id);</div>
<div class="line"><span class="lineno">  578</span>        <span class="keywordflow">if</span> (!filament_start_gcode.empty()) {</div>
<div class="line"><span class="lineno">  579</span>            <span class="comment">// Process the filament_start_gcode for the active filament only.</span></div>
<div class="line"><span class="lineno">  580</span>            DynamicConfig config;</div>
<div class="line"><span class="lineno">  581</span>            config.set_key_value(<span class="stringliteral">&quot;filament_extruder_id&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#ac44dc7dc57ca4e75fffcf4b377abfd8b">ConfigOptionInt</a>(new_extruder_id));</div>
<div class="line"><span class="lineno">  582</span>            start_filament_gcode_str = gcodegen.placeholder_parser_process(<span class="stringliteral">&quot;filament_start_gcode&quot;</span>, filament_start_gcode, new_extruder_id, &amp;config);</div>
<div class="line"><span class="lineno">  583</span>            <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ae8d6e6e717d5e93e72d97b30431a0f78">check_add_eol</a>(start_filament_gcode_str);</div>
<div class="line"><span class="lineno">  584</span>        }</div>
<div class="line"><span class="lineno">  585</span> </div>
<div class="line"><span class="lineno">  586</span>        <span class="comment">// Insert the end filament, toolchange, and start filament gcode into the generated gcode.</span></div>
<div class="line"><span class="lineno">  587</span>        DynamicConfig config;</div>
<div class="line"><span class="lineno">  588</span>        config.set_key_value(<span class="stringliteral">&quot;filament_end_gcode&quot;</span>, <span class="keyword">new</span> ConfigOptionString(end_filament_gcode_str));</div>
<div class="line"><span class="lineno">  589</span>        config.set_key_value(<span class="stringliteral">&quot;change_filament_gcode&quot;</span>, <span class="keyword">new</span> ConfigOptionString(toolchange_gcode_str));</div>
<div class="line"><span class="lineno">  590</span>        config.set_key_value(<span class="stringliteral">&quot;filament_start_gcode&quot;</span>, <span class="keyword">new</span> ConfigOptionString(start_filament_gcode_str));</div>
<div class="line"><span class="lineno">  591</span>        std::string tcr_gcode, tcr_escaped_gcode = gcodegen.placeholder_parser_process(<span class="stringliteral">&quot;tcr_rotated_gcode&quot;</span>, tcr_rotated_gcode, new_extruder_id, &amp;config);</div>
<div class="line"><span class="lineno">  592</span>        <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#adc08139e1bb59d39e8faa5ef4754c5e5">unescape_string_cstyle</a>(tcr_escaped_gcode, tcr_gcode);</div>
<div class="line"><span class="lineno">  593</span>        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += tcr_gcode;</div>
<div class="line"><span class="lineno">  594</span>        <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ae8d6e6e717d5e93e72d97b30431a0f78">check_add_eol</a>(toolchange_gcode_str);</div>
<div class="line"><span class="lineno">  595</span> </div>
<div class="line"><span class="lineno">  596</span>        <span class="comment">//SoftFever: set new PA for new filament</span></div>
<div class="line"><span class="lineno">  597</span>        <span class="keywordflow">if</span> (gcodegen.config().enable_pressure_advance.get_at(new_extruder_id)) {</div>
<div class="line"><span class="lineno">  598</span>            <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += gcodegen.writer().set_pressure_advance(gcodegen.config().pressure_advance.get_at(new_extruder_id));</div>
<div class="line"><span class="lineno">  599</span>        }</div>
<div class="line"><span class="lineno">  600</span> </div>
<div class="line"><span class="lineno">  601</span>        <span class="comment">// A phony move to the end position at the wipe tower.</span></div>
<div class="line"><span class="lineno">  602</span>        gcodegen.writer().travel_to_xy(end_pos.cast&lt;<span class="keywordtype">double</span>&gt;());</div>
<div class="line"><span class="lineno">  603</span>        gcodegen.set_last_pos(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7246c3aef66e2889053ad36b7dc4ac63">wipe_tower_point_to_object_point</a>(gcodegen, end_pos + plate_origin_2d));</div>
<div class="line"><span class="lineno">  604</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a93b359a57ef07c110b0f8c62d0a15045">is_approx</a>(z, current_z)) {</div>
<div class="line"><span class="lineno">  605</span>            <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += gcodegen.writer().retract();</div>
<div class="line"><span class="lineno">  606</span>            <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += gcodegen.writer().travel_to_z(current_z, <span class="stringliteral">&quot;Travel back up to the topmost object layer.&quot;</span>);</div>
<div class="line"><span class="lineno">  607</span>            <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += gcodegen.writer().unretract();</div>
<div class="line"><span class="lineno">  608</span>        }</div>
<div class="line"><span class="lineno">  609</span> </div>
<div class="line"><span class="lineno">  610</span>        <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  611</span>            <span class="comment">// Prepare a future wipe.</span></div>
<div class="line"><span class="lineno">  612</span>            gcodegen.m_wipe.reset_path();</div>
<div class="line"><span class="lineno">  613</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a>&amp; wipe_pt : tcr.wipe_path)</div>
<div class="line"><span class="lineno">  614</span>                gcodegen.m_wipe.path.points.emplace_back(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7246c3aef66e2889053ad36b7dc4ac63">wipe_tower_point_to_object_point</a>(gcodegen, transform_wt_pt(wipe_pt)));</div>
<div class="line"><span class="lineno">  615</span>        }</div>
<div class="line"><span class="lineno">  616</span> </div>
<div class="line"><span class="lineno">  617</span>        <span class="comment">// Let the planner know we are traveling between objects.</span></div>
<div class="line"><span class="lineno">  618</span>        gcodegen.m_avoid_crossing_perimeters.use_external_mp_once();</div>
<div class="line"><span class="lineno">  619</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a>;</div>
<div class="line"><span class="lineno">  620</span>    }</div>
<div class="ttc" id="a_extrusion_simulator_8cpp_html_ae71449b1cc6e6250b91f539153a7a0d3"><div class="ttname"><a href="../../de/ddd/_extrusion_simulator_8cpp.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a></div><div class="ttdeci">#define M_PI</div><div class="ttdef"><b>Definition</b> ExtrusionSimulator.cpp:20</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_processor_html_aa22782dc139d89f8d2049fc2192c4d02"><div class="ttname"><a href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#aa22782dc139d89f8d2049fc2192c4d02">Slic3r::GCodeProcessor::get_last_z_from_gcode</a></div><div class="ttdeci">static bool get_last_z_from_gcode(const std::string &amp;gcode_str, double &amp;z)</div><div class="ttdef"><b>Definition</b> GCodeProcessor.cpp:1991</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_integration_html_a771e997a5fe634f6e4576978337086fd"><div class="ttname"><a href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a771e997a5fe634f6e4576978337086fd">Slic3r::WipeTowerIntegration::post_process_wipe_tower_moves</a></div><div class="ttdeci">std::string post_process_wipe_tower_moves(const WipeTower::ToolChangeResult &amp;tcr, const Vec2f &amp;translation, float angle) const</div><div class="ttdef"><b>Definition</b> GCode.cpp:624</div></div>
<div class="ttc" id="agroup___geometry___module_html_ga35e2cace3ada497794734edb8bc33b6e"><div class="ttname"><a href="../../d5/d00/group___geometry___module.html#ga35e2cace3ada497794734edb8bc33b6e">Eigen::Rotation2Df</a></div><div class="ttdeci">Rotation2D&lt; float &gt; Rotation2Df</div><div class="ttdef"><b>Definition</b> Rotation2D.h:165</div></div>
<div class="ttc" id="alibslic3r_8h_html_a75f355966e0a97665eaf5a4c79baa7af"><div class="ttname"><a href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a></div><div class="ttdeci">static constexpr double EPSILON</div><div class="ttdef"><b>Definition</b> libslic3r.h:52</div></div>
<div class="ttc" id="alzoconf_8h_html_a61569f2965b7a369eb10b6d75d410d11"><div class="ttname"><a href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a></div><div class="ttdeci">int</div><div class="ttdef"><b>Definition</b> lzoconf.h:340</div></div>
<div class="ttc" id="anamespace_eigen_1_1half__impl_html_a829ad00a9c93131d5a8342b4ee29d83d"><div class="ttname"><a href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">Eigen::half_impl::pow</a></div><div class="ttdeci">EIGEN_STRONG_INLINE EIGEN_DEVICE_FUNC half pow(const half &amp;a, const half &amp;b)</div><div class="ttdef"><b>Definition</b> Half.h:477</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_utils_html_a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62"><div class="ttname"><a href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">Slic3r::Utils::TimeFormat::gcode</a></div><div class="ttdeci">@ gcode</div></div>
<div class="ttc" id="anamespace_slic3r_1_1sla_html_a2d49c0885f5562f98fbb19cbe6590d11"><div class="ttname"><a href="../../d2/d57/namespace_slic3r_1_1sla.html#a2d49c0885f5562f98fbb19cbe6590d11">Slic3r::sla::pos</a></div><div class="ttdeci">Vec3d pos(const Pt &amp;p)</div><div class="ttdef"><b>Definition</b> ReprojectPointsOnMesh.hpp:14</div></div>
<div class="ttc" id="anamespace_slic3r_html_a0480eaf0e409328d67e4cfe7ff5765e6"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">Slic3r::ConfigOptionFloat</a></div><div class="ttdeci">ConfigOptionFloat</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:1061</div></div>
<div class="ttc" id="anamespace_slic3r_html_a47c173016f55d40d36a2593be3928062"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a47c173016f55d40d36a2593be3928062">Slic3r::g_min_purge_volume</a></div><div class="ttdeci">static const float g_min_purge_volume</div><div class="ttdef"><b>Definition</b> GCode.cpp:80</div></div>
<div class="ttc" id="anamespace_slic3r_html_a6b8e15a6e63fb72a48bc5e49b8a6f6b1"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a6b8e15a6e63fb72a48bc5e49b8a6f6b1">Slic3r::Vec3d</a></div><div class="ttdeci">Eigen::Matrix&lt; double, 3, 1, Eigen::DontAlign &gt; Vec3d</div><div class="ttdef"><b>Definition</b> Point.hpp:46</div></div>
<div class="ttc" id="anamespace_slic3r_html_a6fa3193f46e8c4fc55359a5c124f46e6a0786a0da8016e68133bca07352f8ff18"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a0786a0da8016e68133bca07352f8ff18">Slic3r::erMixed</a></div><div class="ttdeci">@ erMixed</div><div class="ttdef"><b>Definition</b> ExtrusionEntity.hpp:41</div></div>
<div class="ttc" id="anamespace_slic3r_html_a7246c3aef66e2889053ad36b7dc4ac63"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a7246c3aef66e2889053ad36b7dc4ac63">Slic3r::wipe_tower_point_to_object_point</a></div><div class="ttdeci">static Point wipe_tower_point_to_object_point(GCode &amp;gcodegen, const Vec2f &amp;wipe_tower_pt)</div><div class="ttdef"><b>Definition</b> GCode.cpp:375</div></div>
<div class="ttc" id="anamespace_slic3r_html_a93b359a57ef07c110b0f8c62d0a15045"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a93b359a57ef07c110b0f8c62d0a15045">Slic3r::is_approx</a></div><div class="ttdeci">constexpr bool is_approx(Number value, Number test_value, Number precision=EPSILON)</div><div class="ttdef"><b>Definition</b> libslic3r.h:289</div></div>
<div class="ttc" id="anamespace_slic3r_html_a976325415010ecd676f6a8981414fdfb"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a976325415010ecd676f6a8981414fdfb">Slic3r::g_purge_volume_one_time</a></div><div class="ttdeci">static const float g_purge_volume_one_time</div><div class="ttdef"><b>Definition</b> GCode.cpp:81</div></div>
<div class="ttc" id="anamespace_slic3r_html_aaa2b8f42e9ed99ca39916b726176c67b"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#aaa2b8f42e9ed99ca39916b726176c67b">Slic3r::g_max_flush_count</a></div><div class="ttdeci">static const int g_max_flush_count</div><div class="ttdef"><b>Definition</b> GCode.cpp:82</div></div>
<div class="ttc" id="anamespace_slic3r_html_ab9627c9d229ca43d9efc0d60c4904600"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#ab9627c9d229ca43d9efc0d60c4904600">Slic3r::travel_point_2</a></div><div class="ttdeci">Vec2d travel_point_2</div><div class="ttdef"><b>Definition</b> GCode.cpp:86</div></div>
<div class="ttc" id="anamespace_slic3r_html_abe1c34afe5a07b8b1a7823ecfe2d1722"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Slic3r::Vec2f</a></div><div class="ttdeci">Eigen::Matrix&lt; float, 2, 1, Eigen::DontAlign &gt; Vec2f</div><div class="ttdef"><b>Definition</b> Point.hpp:43</div></div>
<div class="ttc" id="anamespace_slic3r_html_ac44dc7dc57ca4e75fffcf4b377abfd8b"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#ac44dc7dc57ca4e75fffcf4b377abfd8b">Slic3r::ConfigOptionInt</a></div><div class="ttdeci">ConfigOptionInt</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:730</div></div>
<div class="ttc" id="anamespace_slic3r_html_ac4d96e1e2e66db43dc9ef0e718ee32c2"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#ac4d96e1e2e66db43dc9ef0e718ee32c2">Slic3r::travel_point_1</a></div><div class="ttdeci">Vec2d travel_point_1</div><div class="ttdef"><b>Definition</b> GCode.cpp:85</div></div>
<div class="ttc" id="anamespace_slic3r_html_acc7a8f01094a952fc3db6dcfa9349d9a"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#acc7a8f01094a952fc3db6dcfa9349d9a">Slic3r::travel_point_3</a></div><div class="ttdeci">Vec2d travel_point_3</div><div class="ttdef"><b>Definition</b> GCode.cpp:87</div></div>
<div class="ttc" id="anamespace_slic3r_html_adc08139e1bb59d39e8faa5ef4754c5e5"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#adc08139e1bb59d39e8faa5ef4754c5e5">Slic3r::unescape_string_cstyle</a></div><div class="ttdeci">bool unescape_string_cstyle(const std::string &amp;str, std::string &amp;str_out)</div><div class="ttdef"><b>Definition</b> Config.cpp:121</div></div>
<div class="ttc" id="anamespace_slic3r_html_ae8d6e6e717d5e93e72d97b30431a0f78"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#ae8d6e6e717d5e93e72d97b30431a0f78">Slic3r::check_add_eol</a></div><div class="ttdeci">static void check_add_eol(std::string &amp;gcode)</div><div class="ttdef"><b>Definition</b> GCode.cpp:212</div></div>
<div class="ttc" id="anamespace_slic3r_html_afbccd3fe590c185dd6b0ec4953f956d2"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#afbccd3fe590c185dd6b0ec4953f956d2">Slic3r::custom_gcode_changes_tool</a></div><div class="ttdeci">static bool custom_gcode_changes_tool(const std::string &amp;custom_gcode, const std::string &amp;tch_prefix, unsigned next_extruder)</div><div class="ttdef"><b>Definition</b> GCode.cpp:220</div></div>
<div class="ttc" id="atestmini_8c_html_ad9e5eed42092079dea4d90550ff5fcf0"><div class="ttname"><a href="../../d7/da4/testmini_8c.html#ad9e5eed42092079dea4d90550ff5fcf0">out</a></div><div class="ttdeci">static unsigned char __LZO_MMODEL out[OUT_LEN]</div><div class="ttdef"><b>Definition</b> testmini.c:58</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00791">Slic3r::GCodeWriter::add_object_end_labels()</a>, <a class="el" href="../../#l00212">Slic3r::check_add_eol()</a>, <a class="el" href="../../#l00185">Slic3r::GCode::config()</a>, <a class="el" href="../../#l00220">Slic3r::custom_gcode_changes_tool()</a>, <a class="el" href="../../#l00055">Slic3r::WipeTower::ToolChangeResult::end_pos</a>, <a class="el" href="../../#l00052">EPSILON</a>, <a class="el" href="../../#l00041">Slic3r::erMixed</a>, <a class="el" href="../../#l00030">Slic3r::GCodeWriter::extruder()</a>, <a class="el" href="../../#l00082">Slic3r::g_max_flush_count</a>, <a class="el" href="../../#l00080">Slic3r::g_min_purge_volume</a>, <a class="el" href="../../#l00081">Slic3r::g_purge_volume_one_time</a>, <a class="el" href="../../#l01991">Slic3r::GCodeProcessor::get_last_z_from_gcode()</a>, <a class="el" href="../../#l00078">Slic3r::GCodeWriter::get_position()</a>, <a class="el" href="../../#l00031">Slic3r::Extruder::id()</a>, <a class="el" href="../../#l00340">int</a>, <a class="el" href="../../#l00289">Slic3r::is_approx()</a>, <a class="el" href="../../#l00082">Slic3r::WipeTower::ToolChangeResult::is_finish_first</a>, <a class="el" href="../../#l00440">Slic3r::GCode::m_avoid_crossing_perimeters</a>, <a class="el" href="../../#l00428">Slic3r::GCode::m_config</a>, <a class="el" href="../../#l00463">Slic3r::GCode::m_layer_index</a>, <a class="el" href="../../#l00477">Slic3r::GCode::m_max_layer_z</a>, <a class="el" href="../../#l00020">M_PI</a>, <a class="el" href="../../#l00128">m_plate_origin</a>, <a class="el" href="../../#l00512">Slic3r::GCode::m_toolchange_count</a>, <a class="el" href="../../#l00439">Slic3r::GCode::m_wipe</a>, <a class="el" href="../../#l00114">m_wipe_tower_pos</a>, <a class="el" href="../../#l00115">m_wipe_tower_rotation</a>, <a class="el" href="../../#l00432">Slic3r::GCode::m_writer</a>, <a class="el" href="../../#l00054">Slic3r::GCodeWriter::need_toolchange()</a>, <a class="el" href="../../#l00077">Slic3r::WipeTower::ToolChangeResult::new_tool</a>, <a class="el" href="../../#l00526">Slic3r::GCode::on_first_layer()</a>, <a class="el" href="../../#l00058">out</a>, <a class="el" href="../../#l00059">Slic3r::Wipe::path</a>, <a class="el" href="../../#l00189">Slic3r::GCode::placeholder_parser()</a>, <a class="el" href="../../#l02364">Slic3r::GCode::placeholder_parser_process()</a>, <a class="el" href="../../#l00018">Slic3r::MultiPoint::points</a>, <a class="el" href="../../#l00624">post_process_wipe_tower_moves()</a>, <a class="el" href="../../#l00061">Slic3r::WipeTower::ToolChangeResult::priming</a>, <a class="el" href="../../#l00044">Slic3r::WipeTower::ToolChangeResult::print_z</a>, <a class="el" href="../../#l00071">Slic3r::WipeTower::ToolChangeResult::purge_volume</a>, <a class="el" href="../../#l00063">Slic3r::Wipe::reset_path()</a>, <a class="el" href="../../#l00610">Slic3r::GCodeWriter::retract()</a>, <a class="el" href="../../#l04664">Slic3r::GCode::retract()</a>, <a class="el" href="../../#l00178">Slic3r::Extruder::retract_length_toolchange()</a>, <a class="el" href="../../#l00147">Slic3r::Extruder::retraction_length()</a>, <a class="el" href="../../#l00040">Slic3r::PlaceholderParser::set()</a>, <a class="el" href="../../#l00101">Slic3r::GCodeWriter::set_current_position_clear()</a>, <a class="el" href="../../#l02289">Slic3r::DynamicConfig::set_key_value()</a>, <a class="el" href="../../#l00333">Slic3r::GCode::set_last_pos()</a>, <a class="el" href="../../#l00079">Slic3r::GCodeWriter::set_position()</a>, <a class="el" href="../../#l00223">Slic3r::GCodeWriter::set_pressure_advance()</a>, <a class="el" href="../../#l00052">Slic3r::WipeTower::ToolChangeResult::start_pos</a>, <a class="el" href="../../#l00292">Slic3r::GCodeWriter::toolchange()</a>, <a class="el" href="../../#l00286">Slic3r::GCodeWriter::toolchange_prefix()</a>, <a class="el" href="../../#l00085">Slic3r::travel_point_1</a>, <a class="el" href="../../#l00086">Slic3r::travel_point_2</a>, <a class="el" href="../../#l00087">Slic3r::travel_point_3</a>, <a class="el" href="../../#l04432">Slic3r::GCode::travel_to()</a>, <a class="el" href="../../#l00327">Slic3r::GCodeWriter::travel_to_xy()</a>, <a class="el" href="../../#l00473">Slic3r::GCodeWriter::travel_to_z()</a>, <a class="el" href="../../#l00121">Slic3r::unescape_string_cstyle()</a>, <a class="el" href="../../#l00204">Slic3r::GCode::unretract()</a>, <a class="el" href="../../#l00662">Slic3r::GCodeWriter::unretract()</a>, <a class="el" href="../../#l00020">Slic3r::AvoidCrossingPerimeters::use_external_mp_once()</a>, <a class="el" href="../../#l00068">Slic3r::WipeTower::ToolChangeResult::wipe_path</a>, <a class="el" href="../../#l00375">Slic3r::wipe_tower_point_to_object_point()</a>, and <a class="el" href="../../#l00187">Slic3r::GCode::writer()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00753">finalize()</a>, <a class="el" href="../../#l00704">prime()</a>, and <a class="el" href="../../#l00716">tool_change()</a>.</p>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration_a77890da960412cea8c288fe74a2d28cc_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration_a77890da960412cea8c288fe74a2d28cc_icgraph.svg" width="436" height="183"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a0ce895c69b4725bff2c45081102e81df" name="a0ce895c69b4725bff2c45081102e81df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ce895c69b4725bff2c45081102e81df">&#9670;&#160;</a></span>enable_timelapse_print()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::WipeTowerIntegration::enable_timelapse_print </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  102</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a098870bbf8b913b3ad2b929a479f2cd2">m_enable_timelapse_print</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00130">m_enable_timelapse_print</a>.</p>

</div>
</div>
<a id="ad176401561c0de48be24cc98ab44b4bf" name="ad176401561c0de48be24cc98ab44b4bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad176401561c0de48be24cc98ab44b4bf">&#9670;&#160;</a></span>finalize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string Slic3r::WipeTowerIntegration::finalize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html">GCode</a> &amp;&#160;</td>
          <td class="paramname"><em>gcodegen</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  754</span>    {</div>
<div class="line"><span class="lineno">  755</span>        std::string <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a>;</div>
<div class="line"><span class="lineno">  756</span>        <span class="comment">// BBS</span></div>
<div class="line"><span class="lineno">  757</span><span class="preprocessor">#if 0</span></div>
<div class="line"><span class="lineno">  758</span>        <span class="keywordflow">if</span> (std::abs(gcodegen.writer().get_position()(2) - <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a8bbbdb71b9e0595564b4c6369cc72df1">m_final_purge</a>.<a class="code hl_variable" href="../../dc/deb/struct_slic3r_1_1_wipe_tower_1_1_tool_change_result.html#a40f17010d3f93521caf7eb5e5fd01225">print_z</a>) &gt; <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>)</div>
<div class="line"><span class="lineno">  759</span>            <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += gcodegen.change_layer(<a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a8bbbdb71b9e0595564b4c6369cc72df1">m_final_purge</a>.<a class="code hl_variable" href="../../dc/deb/struct_slic3r_1_1_wipe_tower_1_1_tool_change_result.html#a40f17010d3f93521caf7eb5e5fd01225">print_z</a>);</div>
<div class="line"><span class="lineno">  760</span>        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <a class="code hl_function" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a77890da960412cea8c288fe74a2d28cc">append_tcr</a>(gcodegen, <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a8bbbdb71b9e0595564b4c6369cc72df1">m_final_purge</a>, -1);</div>
<div class="line"><span class="lineno">  761</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  762</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a>;</div>
<div class="line"><span class="lineno">  763</span>    }</div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_integration_html_a77890da960412cea8c288fe74a2d28cc"><div class="ttname"><a href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a77890da960412cea8c288fe74a2d28cc">Slic3r::WipeTowerIntegration::append_tcr</a></div><div class="ttdeci">std::string append_tcr(GCode &amp;gcodegen, const WipeTower::ToolChangeResult &amp;tcr, int new_extruder_id, double z=-1.) const</div><div class="ttdef"><b>Definition</b> GCode.cpp:380</div></div>
<div class="ttc" id="astruct_slic3r_1_1_wipe_tower_1_1_tool_change_result_html_a40f17010d3f93521caf7eb5e5fd01225"><div class="ttname"><a href="../../dc/deb/struct_slic3r_1_1_wipe_tower_1_1_tool_change_result.html#a40f17010d3f93521caf7eb5e5fd01225">Slic3r::WipeTower::ToolChangeResult::print_z</a></div><div class="ttdeci">float print_z</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:44</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00380">append_tcr()</a>, <a class="el" href="../../#l03570">Slic3r::GCode::change_layer()</a>, <a class="el" href="../../#l00052">EPSILON</a>, <a class="el" href="../../#l00078">Slic3r::GCodeWriter::get_position()</a>, <a class="el" href="../../#l00121">m_final_purge</a>, <a class="el" href="../../#l00044">Slic3r::WipeTower::ToolChangeResult::print_z</a>, and <a class="el" href="../../#l00187">Slic3r::GCode::writer()</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration_ad176401561c0de48be24cc98ab44b4bf_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a5fce866976cc546035665a7b45ef60e5" name="a5fce866976cc546035665a7b45ef60e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fce866976cc546035665a7b45ef60e5">&#9670;&#160;</a></span>is_first_print()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::WipeTowerIntegration::is_first_print </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   99</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#ab46f0a696103facc9b22f401f6e1d03c">m_is_first_print</a>;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00131">m_is_first_print</a>.</p>

</div>
</div>
<a id="a16e8b64f43622e9f0af60b919b2f61c6" name="a16e8b64f43622e9f0af60b919b2f61c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16e8b64f43622e9f0af60b919b2f61c6">&#9670;&#160;</a></span>next_layer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::WipeTowerIntegration::next_layer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   94</span>{ ++ <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a0f8b027d8dc3fa7e23b050bb17f664b9">m_layer_idx</a>; <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a71a1f9ba82309f7e23ab9e8a10a656e5">m_tool_change_idx</a> = 0; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00123">m_layer_idx</a>, and <a class="el" href="../../#l00124">m_tool_change_idx</a>.</p>

</div>
</div>
<a id="a28acb3449ddff4a51f341627ff08d29b" name="a28acb3449ddff4a51f341627ff08d29b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28acb3449ddff4a51f341627ff08d29b">&#9670;&#160;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html">WipeTowerIntegration</a> &amp; Slic3r::WipeTowerIntegration::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html">WipeTowerIntegration</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a771e997a5fe634f6e4576978337086fd" name="a771e997a5fe634f6e4576978337086fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a771e997a5fe634f6e4576978337086fd">&#9670;&#160;</a></span>post_process_wipe_tower_moves()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string Slic3r::WipeTowerIntegration::post_process_wipe_tower_moves </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../dc/deb/struct_slic3r_1_1_wipe_tower_1_1_tool_change_result.html">WipeTower::ToolChangeResult</a> &amp;&#160;</td>
          <td class="paramname"><em>tcr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> &amp;&#160;</td>
          <td class="paramname"><em>translation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>angle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  625</span>    {</div>
<div class="line"><span class="lineno">  626</span>        <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#aa273f3521311564aa64538354a5a5663">extruder_offset</a>;</div>
<div class="line"><span class="lineno">  627</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#aedfa7591185e4f081a542c423542b569">m_single_extruder_multi_material</a>)</div>
<div class="line"><span class="lineno">  628</span>            <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#aa273f3521311564aa64538354a5a5663">extruder_offset</a> = <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a48c69b9c336315f879eef938994b94c0">m_extruder_offsets</a>[0].cast&lt;<span class="keywordtype">float</span>&gt;();</div>
<div class="line"><span class="lineno">  629</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  630</span>            <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#aa273f3521311564aa64538354a5a5663">extruder_offset</a> = <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a48c69b9c336315f879eef938994b94c0">m_extruder_offsets</a>[tcr.initial_tool].cast&lt;<span class="keywordtype">float</span>&gt;();</div>
<div class="line"><span class="lineno">  631</span> </div>
<div class="line"><span class="lineno">  632</span>        std::istringstream gcode_str(tcr.gcode);</div>
<div class="line"><span class="lineno">  633</span>        std::string gcode_out;</div>
<div class="line"><span class="lineno">  634</span>        std::string line;</div>
<div class="line"><span class="lineno">  635</span>        <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#a2d49c0885f5562f98fbb19cbe6590d11">pos</a> = tcr.start_pos;</div>
<div class="line"><span class="lineno">  636</span>        <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> transformed_pos = <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#a2d49c0885f5562f98fbb19cbe6590d11">pos</a>;</div>
<div class="line"><span class="lineno">  637</span>        <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> old_pos(-1000.1f, -1000.1f);</div>
<div class="line"><span class="lineno">  638</span> </div>
<div class="line"><span class="lineno">  639</span>        <span class="keywordflow">while</span> (gcode_str) {</div>
<div class="line"><span class="lineno">  640</span>            std::getline(gcode_str, line);  <span class="comment">// we read the gcode line by line</span></div>
<div class="line"><span class="lineno">  641</span> </div>
<div class="line"><span class="lineno">  642</span>            <span class="comment">// All G1 commands should be translated and rotated. X and Y coords are</span></div>
<div class="line"><span class="lineno">  643</span>            <span class="comment">// only pushed to the output when they differ from last time.</span></div>
<div class="line"><span class="lineno">  644</span>            <span class="comment">// WT generator can override this by appending the never_skip_tag</span></div>
<div class="line"><span class="lineno">  645</span>            <span class="keywordflow">if</span> (line.find(<span class="stringliteral">&quot;G1 &quot;</span>) == 0) {</div>
<div class="line"><span class="lineno">  646</span>                <span class="keywordtype">bool</span> never_skip = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  647</span>                <span class="keyword">auto</span> it = line.find(<a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a984bd17e162cfaf19285cadffe5d563f">WipeTower::never_skip_tag</a>());</div>
<div class="line"><span class="lineno">  648</span>                <span class="keywordflow">if</span> (it != std::string::npos) {</div>
<div class="line"><span class="lineno">  649</span>                    <span class="comment">// remove the tag and remember we saw it</span></div>
<div class="line"><span class="lineno">  650</span>                    never_skip = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  651</span>                    line.erase(it, it + <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a984bd17e162cfaf19285cadffe5d563f">WipeTower::never_skip_tag</a>().<a class="code hl_variable" href="../../de/d38/lzoconf_8h.html#a809275ccd755fb7b88661d952134b14d">size</a>());</div>
<div class="line"><span class="lineno">  652</span>                }</div>
<div class="line"><span class="lineno">  653</span>                std::ostringstream line_out;</div>
<div class="line"><span class="lineno">  654</span>                std::istringstream line_str(line);</div>
<div class="line"><span class="lineno">  655</span>                line_str &gt;&gt; std::noskipws;  <span class="comment">// don&#39;t skip whitespace</span></div>
<div class="line"><span class="lineno">  656</span>                <span class="keywordtype">char</span> ch = 0;</div>
<div class="line"><span class="lineno">  657</span>                <span class="keywordflow">while</span> (line_str &gt;&gt; ch) {</div>
<div class="line"><span class="lineno">  658</span>                    <span class="keywordflow">if</span> (ch == <span class="charliteral">&#39;X&#39;</span> || ch == <span class="charliteral">&#39;Y&#39;</span>)</div>
<div class="line"><span class="lineno">  659</span>                        line_str &gt;&gt; (ch == <span class="charliteral">&#39;X&#39;</span> ? <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#a2d49c0885f5562f98fbb19cbe6590d11">pos</a>.x() : <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#a2d49c0885f5562f98fbb19cbe6590d11">pos</a>.y());</div>
<div class="line"><span class="lineno">  660</span>                    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  661</span>                        line_out &lt;&lt; ch;</div>
<div class="line"><span class="lineno">  662</span>                }</div>
<div class="line"><span class="lineno">  663</span> </div>
<div class="line"><span class="lineno">  664</span>                transformed_pos = <a class="code hl_typedef" href="../../d5/d00/group___geometry___module.html#ga35e2cace3ada497794734edb8bc33b6e">Eigen::Rotation2Df</a>(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7927d0ca1b31b8f9284ea268b11d27d5">angle</a>) * <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#a2d49c0885f5562f98fbb19cbe6590d11">pos</a> + translation;</div>
<div class="line"><span class="lineno">  665</span> </div>
<div class="line"><span class="lineno">  666</span>                <span class="keywordflow">if</span> (transformed_pos != old_pos || never_skip) {</div>
<div class="line"><span class="lineno">  667</span>                    line = line_out.str();</div>
<div class="line"><span class="lineno">  668</span>                    std::ostringstream oss;</div>
<div class="line"><span class="lineno">  669</span>                    oss &lt;&lt; std::fixed &lt;&lt; std::setprecision(3) &lt;&lt; <span class="stringliteral">&quot;G1 &quot;</span>;</div>
<div class="line"><span class="lineno">  670</span>                    <span class="keywordflow">if</span> (transformed_pos.x() != old_pos.x() || never_skip)</div>
<div class="line"><span class="lineno">  671</span>                        oss &lt;&lt; <span class="stringliteral">&quot; X&quot;</span> &lt;&lt; transformed_pos.x() - <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#aa273f3521311564aa64538354a5a5663">extruder_offset</a>.x();</div>
<div class="line"><span class="lineno">  672</span>                    <span class="keywordflow">if</span> (transformed_pos.y() != old_pos.y() || never_skip)</div>
<div class="line"><span class="lineno">  673</span>                        oss &lt;&lt; <span class="stringliteral">&quot; Y&quot;</span> &lt;&lt; transformed_pos.y() - <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#aa273f3521311564aa64538354a5a5663">extruder_offset</a>.y();</div>
<div class="line"><span class="lineno">  674</span>                    oss &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><span class="lineno">  675</span>                    line.replace(line.find(<span class="stringliteral">&quot;G1 &quot;</span>), 3, oss.str());</div>
<div class="line"><span class="lineno">  676</span>                    old_pos = transformed_pos;</div>
<div class="line"><span class="lineno">  677</span>                }</div>
<div class="line"><span class="lineno">  678</span>            }</div>
<div class="line"><span class="lineno">  679</span> </div>
<div class="line"><span class="lineno">  680</span>            gcode_out += line + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  681</span> </div>
<div class="line"><span class="lineno">  682</span>            <span class="comment">// If this was a toolchange command, we should change current extruder offset</span></div>
<div class="line"><span class="lineno">  683</span>            <span class="keywordflow">if</span> (line == <span class="stringliteral">&quot;[change_filament_gcode]&quot;</span>) {</div>
<div class="line"><span class="lineno">  684</span>                <span class="comment">// BBS</span></div>
<div class="line"><span class="lineno">  685</span>                <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#aedfa7591185e4f081a542c423542b569">m_single_extruder_multi_material</a>) {</div>
<div class="line"><span class="lineno">  686</span>                    <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#aa273f3521311564aa64538354a5a5663">extruder_offset</a> = <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a48c69b9c336315f879eef938994b94c0">m_extruder_offsets</a>[tcr.new_tool].cast&lt;<span class="keywordtype">float</span>&gt;();</div>
<div class="line"><span class="lineno">  687</span> </div>
<div class="line"><span class="lineno">  688</span>                    <span class="comment">// If the extruder offset changed, add an extra move so everything is continuous</span></div>
<div class="line"><span class="lineno">  689</span>                    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#aa273f3521311564aa64538354a5a5663">extruder_offset</a> != <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a48c69b9c336315f879eef938994b94c0">m_extruder_offsets</a>[tcr.initial_tool].cast&lt;<span class="keywordtype">float</span>&gt;()) {</div>
<div class="line"><span class="lineno">  690</span>                        std::ostringstream oss;</div>
<div class="line"><span class="lineno">  691</span>                        oss &lt;&lt; std::fixed &lt;&lt; std::setprecision(3)</div>
<div class="line"><span class="lineno">  692</span>                            &lt;&lt; <span class="stringliteral">&quot;G1 X&quot;</span> &lt;&lt; transformed_pos.x() - <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#aa273f3521311564aa64538354a5a5663">extruder_offset</a>.x()</div>
<div class="line"><span class="lineno">  693</span>                            &lt;&lt; <span class="stringliteral">&quot; Y&quot;</span> &lt;&lt; transformed_pos.y() - <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#aa273f3521311564aa64538354a5a5663">extruder_offset</a>.y()</div>
<div class="line"><span class="lineno">  694</span>                            &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  695</span>                        gcode_out += oss.str();</div>
<div class="line"><span class="lineno">  696</span>                    }</div>
<div class="line"><span class="lineno">  697</span>                }</div>
<div class="line"><span class="lineno">  698</span>            }</div>
<div class="line"><span class="lineno">  699</span>        }</div>
<div class="line"><span class="lineno">  700</span>        <span class="keywordflow">return</span> gcode_out;</div>
<div class="line"><span class="lineno">  701</span>    }</div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_a984bd17e162cfaf19285cadffe5d563f"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a984bd17e162cfaf19285cadffe5d563f">Slic3r::WipeTower::never_skip_tag</a></div><div class="ttdeci">static const std::string never_skip_tag()</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:24</div></div>
<div class="ttc" id="alzoconf_8h_html_a809275ccd755fb7b88661d952134b14d"><div class="ttname"><a href="../../de/d38/lzoconf_8h.html#a809275ccd755fb7b88661d952134b14d">size</a></div><div class="ttdeci">lzo_uint size</div><div class="ttdef"><b>Definition</b> lzoconf.h:378</div></div>
<div class="ttc" id="anamespace_slic3r_html_a7927d0ca1b31b8f9284ea268b11d27d5"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a7927d0ca1b31b8f9284ea268b11d27d5">Slic3r::angle</a></div><div class="ttdeci">double angle(const Eigen::MatrixBase&lt; Derived &gt; &amp;v1, const Eigen::MatrixBase&lt; Derived2 &gt; &amp;v2)</div><div class="ttdef"><b>Definition</b> Point.hpp:101</div></div>
<div class="ttc" id="anamespace_slic3r_html_aa273f3521311564aa64538354a5a5663"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#aa273f3521311564aa64538354a5a5663">Slic3r::extruder_offset</a></div><div class="ttdeci">machine_min_extruding_rate extruder_offset((ConfigOptionBools, reduce_fan_stop_start_freq))((ConfigOptionFloats</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00101">Slic3r::angle()</a>, <a class="el" href="../../de/db8/namespace_slic3r.html#aa273f3521311564aa64538354a5a5663">Slic3r::extruder_offset()</a>, <a class="el" href="../../#l00047">Slic3r::WipeTower::ToolChangeResult::gcode</a>, <a class="el" href="../../#l00074">Slic3r::WipeTower::ToolChangeResult::initial_tool</a>, <a class="el" href="../../#l00116">m_extruder_offsets</a>, <a class="el" href="../../#l00129">m_single_extruder_multi_material</a>, <a class="el" href="../../#l00024">Slic3r::WipeTower::never_skip_tag()</a>, <a class="el" href="../../#l00077">Slic3r::WipeTower::ToolChangeResult::new_tool</a>, <a class="el" href="../../#l00378">size</a>, and <a class="el" href="../../#l00052">Slic3r::WipeTower::ToolChangeResult::start_pos</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00380">append_tcr()</a>.</p>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration_a771e997a5fe634f6e4576978337086fd_cgraph.svg" width="584" height="151"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration_a771e997a5fe634f6e4576978337086fd_icgraph.svg" width="100%" height="437"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a7497d8d42cdcc1e6eab63612993aee92" name="a7497d8d42cdcc1e6eab63612993aee92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7497d8d42cdcc1e6eab63612993aee92">&#9670;&#160;</a></span>prime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string Slic3r::WipeTowerIntegration::prime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html">GCode</a> &amp;&#160;</td>
          <td class="paramname"><em>gcodegen</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  705</span>    {</div>
<div class="line"><span class="lineno">  706</span>        std::string <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a>;</div>
<div class="line"><span class="lineno">  707</span><span class="preprocessor">#if 0</span></div>
<div class="line"><span class="lineno">  708</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> WipeTower::ToolChangeResult&amp; tcr : <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#aa781301aa91ef51fd6a2d3498b0aa2d8">m_priming</a>) {</div>
<div class="line"><span class="lineno">  709</span>            <span class="keywordflow">if</span> (! tcr.extrusions.empty())</div>
<div class="line"><span class="lineno">  710</span>                <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <a class="code hl_function" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a77890da960412cea8c288fe74a2d28cc">append_tcr</a>(gcodegen, tcr, tcr.new_tool);</div>
<div class="line"><span class="lineno">  711</span>        }</div>
<div class="line"><span class="lineno">  712</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  713</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a>;</div>
<div class="line"><span class="lineno">  714</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00380">append_tcr()</a>, and <a class="el" href="../../#l00119">m_priming</a>.</p>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration_a7497d8d42cdcc1e6eab63612993aee92_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a3f83b8dbd70872654731a0f1c2807672" name="a3f83b8dbd70872654731a0f1c2807672"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f83b8dbd70872654731a0f1c2807672">&#9670;&#160;</a></span>set_is_first_print()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::WipeTowerIntegration::set_is_first_print </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  100</span>{ <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#ab46f0a696103facc9b22f401f6e1d03c">m_is_first_print</a> = is; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00131">m_is_first_print</a>.</p>

</div>
</div>
<a id="a756231fc8c765bc08432e520fca5f49c" name="a756231fc8c765bc08432e520fca5f49c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a756231fc8c765bc08432e520fca5f49c">&#9670;&#160;</a></span>tool_change()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string Slic3r::WipeTowerIntegration::tool_change </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html">GCode</a> &amp;&#160;</td>
          <td class="paramname"><em>gcodegen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>extruder_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>finish_layer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  717</span>    {</div>
<div class="line"><span class="lineno">  718</span>        std::string <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a>;</div>
<div class="line"><span class="lineno">  719</span> </div>
<div class="line"><span class="lineno">  720</span>        assert(<a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a0f8b027d8dc3fa7e23b050bb17f664b9">m_layer_idx</a> &gt;= 0);</div>
<div class="line"><span class="lineno">  721</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a0f8b027d8dc3fa7e23b050bb17f664b9">m_layer_idx</a> &gt;= (<span class="keywordtype">int</span>) <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#afa8cf2cc0f08521e8ddc63bc62015a02">m_tool_changes</a>.size()) <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a>;</div>
<div class="line"><span class="lineno">  722</span> </div>
<div class="line"><span class="lineno">  723</span>        <span class="comment">// Calculate where the wipe tower layer will be printed. -1 means that print z will not change,</span></div>
<div class="line"><span class="lineno">  724</span>        <span class="comment">// resulting in a wipe tower with sparse layers.</span></div>
<div class="line"><span class="lineno">  725</span>        <span class="keywordtype">double</span> wipe_tower_z  = -1;</div>
<div class="line"><span class="lineno">  726</span>        <span class="keywordtype">bool</span>   ignore_sparse = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  727</span>        <span class="keywordflow">if</span> (gcodegen.config().wipe_tower_no_sparse_layers.value) {</div>
<div class="line"><span class="lineno">  728</span>            wipe_tower_z  = <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a80f1d9eb9171304288522d61b4567a43">m_last_wipe_tower_print_z</a>;</div>
<div class="line"><span class="lineno">  729</span>            ignore_sparse = (<a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#afa8cf2cc0f08521e8ddc63bc62015a02">m_tool_changes</a>[<a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a0f8b027d8dc3fa7e23b050bb17f664b9">m_layer_idx</a>].size() == 1 &amp;&amp; <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#afa8cf2cc0f08521e8ddc63bc62015a02">m_tool_changes</a>[<a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a0f8b027d8dc3fa7e23b050bb17f664b9">m_layer_idx</a>].front().initial_tool == <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#afa8cf2cc0f08521e8ddc63bc62015a02">m_tool_changes</a>[<a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a0f8b027d8dc3fa7e23b050bb17f664b9">m_layer_idx</a>].front().new_tool);</div>
<div class="line"><span class="lineno">  730</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a71a1f9ba82309f7e23ab9e8a10a656e5">m_tool_change_idx</a> == 0 &amp;&amp; !ignore_sparse)</div>
<div class="line"><span class="lineno">  731</span>                wipe_tower_z = <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a80f1d9eb9171304288522d61b4567a43">m_last_wipe_tower_print_z</a> + <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#afa8cf2cc0f08521e8ddc63bc62015a02">m_tool_changes</a>[<a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a0f8b027d8dc3fa7e23b050bb17f664b9">m_layer_idx</a>].front().layer_height;</div>
<div class="line"><span class="lineno">  732</span>        }</div>
<div class="line"><span class="lineno">  733</span> </div>
<div class="line"><span class="lineno">  734</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a098870bbf8b913b3ad2b929a479f2cd2">m_enable_timelapse_print</a> &amp;&amp; <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#ab46f0a696103facc9b22f401f6e1d03c">m_is_first_print</a>) {</div>
<div class="line"><span class="lineno">  735</span>            <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <a class="code hl_function" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a77890da960412cea8c288fe74a2d28cc">append_tcr</a>(gcodegen, <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#afa8cf2cc0f08521e8ddc63bc62015a02">m_tool_changes</a>[<a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a0f8b027d8dc3fa7e23b050bb17f664b9">m_layer_idx</a>][0], <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#afa8cf2cc0f08521e8ddc63bc62015a02">m_tool_changes</a>[<a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a0f8b027d8dc3fa7e23b050bb17f664b9">m_layer_idx</a>][0].new_tool, wipe_tower_z);</div>
<div class="line"><span class="lineno">  736</span>            <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a71a1f9ba82309f7e23ab9e8a10a656e5">m_tool_change_idx</a>++;</div>
<div class="line"><span class="lineno">  737</span>            <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#ab46f0a696103facc9b22f401f6e1d03c">m_is_first_print</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  738</span>        }</div>
<div class="line"><span class="lineno">  739</span> </div>
<div class="line"><span class="lineno">  740</span>        <span class="keywordflow">if</span> (gcodegen.writer().need_toolchange(extruder_id) || finish_layer) {</div>
<div class="line"><span class="lineno">  741</span>            <span class="keywordflow">if</span> (!(<span class="keywordtype">size_t</span>(<a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a71a1f9ba82309f7e23ab9e8a10a656e5">m_tool_change_idx</a>) &lt; <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#afa8cf2cc0f08521e8ddc63bc62015a02">m_tool_changes</a>[<a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a0f8b027d8dc3fa7e23b050bb17f664b9">m_layer_idx</a>].<a class="code hl_variable" href="../../de/d38/lzoconf_8h.html#a809275ccd755fb7b88661d952134b14d">size</a>())) <span class="keywordflow">throw</span> Slic3r::RuntimeError(<span class="stringliteral">&quot;Wipe tower generation failed, possibly due to empty first layer.&quot;</span>);</div>
<div class="line"><span class="lineno">  742</span> </div>
<div class="line"><span class="lineno">  743</span>            <span class="keywordflow">if</span> (!ignore_sparse) {</div>
<div class="line"><span class="lineno">  744</span>                <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <a class="code hl_function" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a77890da960412cea8c288fe74a2d28cc">append_tcr</a>(gcodegen, <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#afa8cf2cc0f08521e8ddc63bc62015a02">m_tool_changes</a>[<a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a0f8b027d8dc3fa7e23b050bb17f664b9">m_layer_idx</a>][<a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a71a1f9ba82309f7e23ab9e8a10a656e5">m_tool_change_idx</a>++], extruder_id, wipe_tower_z);</div>
<div class="line"><span class="lineno">  745</span>                <a class="code hl_variable" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a80f1d9eb9171304288522d61b4567a43">m_last_wipe_tower_print_z</a> = wipe_tower_z;</div>
<div class="line"><span class="lineno">  746</span>            }</div>
<div class="line"><span class="lineno">  747</span>        }</div>
<div class="line"><span class="lineno">  748</span> </div>
<div class="line"><span class="lineno">  749</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a>;</div>
<div class="line"><span class="lineno">  750</span>    }</div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_integration_html_a80f1d9eb9171304288522d61b4567a43"><div class="ttname"><a href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html#a80f1d9eb9171304288522d61b4567a43">Slic3r::WipeTowerIntegration::m_last_wipe_tower_print_z</a></div><div class="ttdeci">double m_last_wipe_tower_print_z</div><div class="ttdef"><b>Definition</b> GCode.hpp:125</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00380">append_tcr()</a>, <a class="el" href="../../#l00185">Slic3r::GCode::config()</a>, <a class="el" href="../../#l00130">m_enable_timelapse_print</a>, <a class="el" href="../../#l00131">m_is_first_print</a>, <a class="el" href="../../#l00125">m_last_wipe_tower_print_z</a>, <a class="el" href="../../#l00123">m_layer_idx</a>, <a class="el" href="../../#l00124">m_tool_change_idx</a>, <a class="el" href="../../#l00120">m_tool_changes</a>, <a class="el" href="../../#l00054">Slic3r::GCodeWriter::need_toolchange()</a>, <a class="el" href="../../#l00378">size</a>, and <a class="el" href="../../#l00187">Slic3r::GCode::writer()</a>.</p>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration_a756231fc8c765bc08432e520fca5f49c_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ab3c60453fffeaded5ed74bf807ac8b63" name="ab3c60453fffeaded5ed74bf807ac8b63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3c60453fffeaded5ed74bf807ac8b63">&#9670;&#160;</a></span>used_filament_length()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; float &gt; Slic3r::WipeTowerIntegration::used_filament_length </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a098870bbf8b913b3ad2b929a479f2cd2" name="a098870bbf8b913b3ad2b929a479f2cd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a098870bbf8b913b3ad2b929a479f2cd2">&#9670;&#160;</a></span>m_enable_timelapse_print</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::WipeTowerIntegration::m_enable_timelapse_print</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00102">enable_timelapse_print()</a>, and <a class="el" href="../../#l00716">tool_change()</a>.</p>

</div>
</div>
<a id="a48c69b9c336315f879eef938994b94c0" name="a48c69b9c336315f879eef938994b94c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48c69b9c336315f879eef938994b94c0">&#9670;&#160;</a></span>m_extruder_offsets</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt;<a class="el" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a>&gt; Slic3r::WipeTowerIntegration::m_extruder_offsets</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00624">post_process_wipe_tower_moves()</a>.</p>

</div>
</div>
<a id="a8bbbdb71b9e0595564b4c6369cc72df1" name="a8bbbdb71b9e0595564b4c6369cc72df1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bbbdb71b9e0595564b4c6369cc72df1">&#9670;&#160;</a></span>m_final_purge</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../dc/deb/struct_slic3r_1_1_wipe_tower_1_1_tool_change_result.html">WipeTower::ToolChangeResult</a>&amp; Slic3r::WipeTowerIntegration::m_final_purge</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00753">finalize()</a>.</p>

</div>
</div>
<a id="ab46f0a696103facc9b22f401f6e1d03c" name="ab46f0a696103facc9b22f401f6e1d03c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab46f0a696103facc9b22f401f6e1d03c">&#9670;&#160;</a></span>m_is_first_print</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::WipeTowerIntegration::m_is_first_print</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00099">is_first_print()</a>, <a class="el" href="../../#l00100">set_is_first_print()</a>, and <a class="el" href="../../#l00716">tool_change()</a>.</p>

</div>
</div>
<a id="a80f1d9eb9171304288522d61b4567a43" name="a80f1d9eb9171304288522d61b4567a43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80f1d9eb9171304288522d61b4567a43">&#9670;&#160;</a></span>m_last_wipe_tower_print_z</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double Slic3r::WipeTowerIntegration::m_last_wipe_tower_print_z = 0.<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00716">tool_change()</a>.</p>

</div>
</div>
<a id="a0f8b027d8dc3fa7e23b050bb17f664b9" name="a0f8b027d8dc3fa7e23b050bb17f664b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f8b027d8dc3fa7e23b050bb17f664b9">&#9670;&#160;</a></span>m_layer_idx</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a> Slic3r::WipeTowerIntegration::m_layer_idx</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00094">next_layer()</a>, and <a class="el" href="../../#l00716">tool_change()</a>.</p>

</div>
</div>
<a id="a22b30058ebbc99a7e5c270f4ce6458d5" name="a22b30058ebbc99a7e5c270f4ce6458d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22b30058ebbc99a7e5c270f4ce6458d5">&#9670;&#160;</a></span>m_left</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const float Slic3r::WipeTowerIntegration::m_left</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="acf26f3325ed88e3ba1dcc1cd4d0a5a24" name="acf26f3325ed88e3ba1dcc1cd4d0a5a24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf26f3325ed88e3ba1dcc1cd4d0a5a24">&#9670;&#160;</a></span>m_plate_origin</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/db8/namespace_slic3r.html#a6b8e15a6e63fb72a48bc5e49b8a6f6b1">Vec3d</a> Slic3r::WipeTowerIntegration::m_plate_origin</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00380">append_tcr()</a>.</p>

</div>
</div>
<a id="aa781301aa91ef51fd6a2d3498b0aa2d8" name="aa781301aa91ef51fd6a2d3498b0aa2d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa781301aa91ef51fd6a2d3498b0aa2d8">&#9670;&#160;</a></span>m_priming</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt;<a class="el" href="../../dc/deb/struct_slic3r_1_1_wipe_tower_1_1_tool_change_result.html">WipeTower::ToolChangeResult</a>&gt;&amp; Slic3r::WipeTowerIntegration::m_priming</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00704">prime()</a>.</p>

</div>
</div>
<a id="a075718c7fb729620ccb589804f7993a6" name="a075718c7fb729620ccb589804f7993a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a075718c7fb729620ccb589804f7993a6">&#9670;&#160;</a></span>m_right</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const float Slic3r::WipeTowerIntegration::m_right</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aedfa7591185e4f081a542c423542b569" name="aedfa7591185e4f081a542c423542b569"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedfa7591185e4f081a542c423542b569">&#9670;&#160;</a></span>m_single_extruder_multi_material</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::WipeTowerIntegration::m_single_extruder_multi_material</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00624">post_process_wipe_tower_moves()</a>.</p>

</div>
</div>
<a id="a71a1f9ba82309f7e23ab9e8a10a656e5" name="a71a1f9ba82309f7e23ab9e8a10a656e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71a1f9ba82309f7e23ab9e8a10a656e5">&#9670;&#160;</a></span>m_tool_change_idx</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a> Slic3r::WipeTowerIntegration::m_tool_change_idx</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00094">next_layer()</a>, and <a class="el" href="../../#l00716">tool_change()</a>.</p>

</div>
</div>
<a id="afa8cf2cc0f08521e8ddc63bc62015a02" name="afa8cf2cc0f08521e8ddc63bc62015a02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa8cf2cc0f08521e8ddc63bc62015a02">&#9670;&#160;</a></span>m_tool_changes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt;std::vector&lt;<a class="el" href="../../dc/deb/struct_slic3r_1_1_wipe_tower_1_1_tool_change_result.html">WipeTower::ToolChangeResult</a>&gt; &gt;&amp; Slic3r::WipeTowerIntegration::m_tool_changes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00716">tool_change()</a>.</p>

</div>
</div>
<a id="a722e32ebde8833aa1ab02b37c62fc472" name="a722e32ebde8833aa1ab02b37c62fc472"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a722e32ebde8833aa1ab02b37c62fc472">&#9670;&#160;</a></span>m_wipe_tower_pos</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> Slic3r::WipeTowerIntegration::m_wipe_tower_pos</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00380">append_tcr()</a>.</p>

</div>
</div>
<a id="a6ab27296c9de54d39b3235ddad2d26c5" name="a6ab27296c9de54d39b3235ddad2d26c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ab27296c9de54d39b3235ddad2d26c5">&#9670;&#160;</a></span>m_wipe_tower_rotation</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const float Slic3r::WipeTowerIntegration::m_wipe_tower_rotation</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00380">append_tcr()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/libslic3r/<a class="el" href="../../">GCode.hpp</a></li>
<li>src/libslic3r/<a class="el" href="../../">GCode.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../de/db8/namespace_slic3r.html">Slic3r</a></li><li class="navelem"><a class="el" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html">WipeTowerIntegration</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>
</body>
</html>
