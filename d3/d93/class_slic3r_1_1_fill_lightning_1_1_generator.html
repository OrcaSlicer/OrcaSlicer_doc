<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OrcaSlicer: Slic3r::FillLightning::Generator Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../OrcaSlicer_32px.png"/></td>
  <td id="projectalign">
   <div id="projectname">OrcaSlicer<span id="projectnumber">&#160;1.6.3</span>
   </div>
   <div id="projectbrief">OrcaSlicer</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../dd/db0/class_slic3r_1_1_fill_lightning_1_1_generator-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Slic3r::FillLightning::Generator Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../">src/libslic3r/Fill/Lightning/Generator.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Collaboration diagram for Slic3r::FillLightning::Generator:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../da/d97/class_slic3r_1_1_fill_lightning_1_1_generator__coll__graph.svg" width="100%" height="557"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a53fdc599e3960cfe39634df1b1629266"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a53fdc599e3960cfe39634df1b1629266">Generator</a> (const <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> &amp;print_object, const std::function&lt; <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>()&gt; &amp;throw_on_cancel_callback)</td></tr>
<tr class="separator:a53fdc599e3960cfe39634df1b1629266"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92e284f3c3e578441d4fc7208b13b3b0"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../d3/dcb/class_slic3r_1_1_fill_lightning_1_1_layer.html">Layer</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a92e284f3c3e578441d4fc7208b13b3b0">getTreesForLayer</a> (const size_t &amp;layer_id) const</td></tr>
<tr class="separator:a92e284f3c3e578441d4fc7208b13b3b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a890eb02cd8d2c97f285ab73a779e3f53"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../de/db8/namespace_slic3r.html#ae39547681b4c9f15f0d44712cdb01d6a">Polygons</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a890eb02cd8d2c97f285ab73a779e3f53">Overhangs</a> ()</td></tr>
<tr class="separator:a890eb02cd8d2c97f285ab73a779e3f53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64dc7830d6375770b39eb6720dce979c"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a64dc7830d6375770b39eb6720dce979c">infilll_extrusion_width</a> () const</td></tr>
<tr class="separator:a64dc7830d6375770b39eb6720dce979c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3afb819252c42852ccd9e293786a2241"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a3afb819252c42852ccd9e293786a2241">Generator</a> (<a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> *m_object, std::vector&lt; <a class="el" href="../../de/db8/namespace_slic3r.html#ae39547681b4c9f15f0d44712cdb01d6a">Polygons</a> &gt; &amp;contours, std::vector&lt; <a class="el" href="../../de/db8/namespace_slic3r.html#ae39547681b4c9f15f0d44712cdb01d6a">Polygons</a> &gt; &amp;overhangs, const std::function&lt; <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>()&gt; &amp;throw_on_cancel_callback, float density=0.15)</td></tr>
<tr class="separator:a3afb819252c42852ccd9e293786a2241"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a62b4cac64981187cefee48728b64d3bd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a62b4cac64981187cefee48728b64d3bd">generateInitialInternalOverhangs</a> (const <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> &amp;print_object, const std::function&lt; <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>()&gt; &amp;throw_on_cancel_callback)</td></tr>
<tr class="separator:a62b4cac64981187cefee48728b64d3bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab287acdf9336ac51aadc9e89150866f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#ab287acdf9336ac51aadc9e89150866f5">generateTrees</a> (const <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> &amp;print_object, const std::function&lt; <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>()&gt; &amp;throw_on_cancel_callback)</td></tr>
<tr class="separator:ab287acdf9336ac51aadc9e89150866f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76bcb6eeba77b67b75efdfb5c19fad6b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a76bcb6eeba77b67b75efdfb5c19fad6b">generateTreesforSupport</a> (std::vector&lt; <a class="el" href="../../de/db8/namespace_slic3r.html#ae39547681b4c9f15f0d44712cdb01d6a">Polygons</a> &gt; &amp;contours, const std::function&lt; <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>()&gt; &amp;throw_on_cancel_callback)</td></tr>
<tr class="separator:a76bcb6eeba77b67b75efdfb5c19fad6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:aa7a771f324d00c318669e5d5b2ab3f56"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#aa7a771f324d00c318669e5d5b2ab3f56">m_infill_extrusion_width</a></td></tr>
<tr class="separator:aa7a771f324d00c318669e5d5b2ab3f56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29a1d080d6e5353d01868478ebbb88cb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a29a1d080d6e5353d01868478ebbb88cb">m_supporting_radius</a></td></tr>
<tr class="separator:a29a1d080d6e5353d01868478ebbb88cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac41d0b8fde6e078316d5b3f26e745edd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#ac41d0b8fde6e078316d5b3f26e745edd">m_wall_supporting_radius</a></td></tr>
<tr class="separator:ac41d0b8fde6e078316d5b3f26e745edd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26f17f105c912fd03b0a0593b55e4f3f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a26f17f105c912fd03b0a0593b55e4f3f">m_prune_length</a></td></tr>
<tr class="separator:a26f17f105c912fd03b0a0593b55e4f3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7aae08c62c725b09d16cd1cbbc891f2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#ab7aae08c62c725b09d16cd1cbbc891f2">m_straightening_max_distance</a></td></tr>
<tr class="separator:ab7aae08c62c725b09d16cd1cbbc891f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0077f7f26cd9348d142b05e837e5544"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../de/db8/namespace_slic3r.html#ae39547681b4c9f15f0d44712cdb01d6a">Polygons</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#aa0077f7f26cd9348d142b05e837e5544">m_overhang_per_layer</a></td></tr>
<tr class="separator:aa0077f7f26cd9348d142b05e837e5544"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71ceb55e8674fb0afc8af4660faa8a29"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d3/dcb/class_slic3r_1_1_fill_lightning_1_1_layer.html">Layer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a71ceb55e8674fb0afc8af4660faa8a29">m_lightning_layers</a></td></tr>
<tr class="separator:a71ceb55e8674fb0afc8af4660faa8a29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17ccab09951694fb49eb3a43e1bd4545"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d4/d2d/class_slic3r_1_1_bounding_box.html">BoundingBox</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a17ccab09951694fb49eb3a43e1bd4545">bboxs</a></td></tr>
<tr class="separator:a17ccab09951694fb49eb3a43e1bd4545"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Generates the Lightning Infill pattern.</p>
<p>The lightning infill pattern is designed to use a minimal amount of material to support the top skin of the print, while still printing with reasonably consistently flowing lines. It sacrifices strength completely in favour of top surface quality and reduced print time / material usage.</p>
<p>Lightning Infill is so named because the patterns it creates resemble a forked path with one main path and many small lines on the side. These paths grow out from the sides of the model just below where the top surface needs to be supported from the inside, so that minimal material is needed.</p>
<p>This pattern is based on a paper called "Ribbed Support Vaults for 3D
Printing of Hollowed Objects" by Tricard, Claux and Lefebvre: <a href="https://www.researchgate.net/publication/333808588_Ribbed_Support_Vaults_for_3D_Printing_of_Hollowed_Objects">https://www.researchgate.net/publication/333808588_Ribbed_Support_Vaults_for_3D_Printing_of_Hollowed_Objects</a> </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a53fdc599e3960cfe39634df1b1629266" name="a53fdc599e3960cfe39634df1b1629266"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53fdc599e3960cfe39634df1b1629266">&#9670;&#160;</a></span>Generator() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Slic3r::FillLightning::Generator::Generator </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> &amp;&#160;</td>
          <td class="paramname"><em>print_object</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>()&gt; &amp;&#160;</td>
          <td class="paramname"><em>throw_on_cancel_callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a generator to fill a certain mesh with infill.</p>
<p>This generator will pre-compute things in preparation of generating Lightning Infill for the infill areas in that mesh. The infill areas must already be calculated at this point. </p>
<div class="fragment"><div class="line"><span class="lineno">   67</span>{</div>
<div class="line"><span class="lineno">   68</span>    <span class="keyword">const</span> PrintConfig         &amp;print_config         = print_object.print()-&gt;config();</div>
<div class="line"><span class="lineno">   69</span>    <span class="keyword">const</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#ad48b86fa8e529e56c6bd00ff2f9839ab">PrintObjectConfig</a>   &amp;object_config        = print_object.config();</div>
<div class="line"><span class="lineno">   70</span>    <span class="keyword">const</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#ad80935cdce16c0621a1242935083a4f8">PrintRegionConfig</a>   &amp;region_config        = print_object.shared_regions()-&gt;all_regions.front()-&gt;config();</div>
<div class="line"><span class="lineno">   71</span>    <span class="keyword">const</span> std::vector&lt;double&gt; &amp;nozzle_diameters     = print_config.nozzle_diameter.values;</div>
<div class="line"><span class="lineno">   72</span>    <span class="keywordtype">double</span>                     max_nozzle_diameter  = *std::max_element(nozzle_diameters.begin(), nozzle_diameters.end());</div>
<div class="line"><span class="lineno">   73</span><span class="comment">//    const int                  infill_extruder      = region_config.infill_extruder.value;</span></div>
<div class="line"><span class="lineno">   74</span>    <span class="keyword">const</span> <span class="keywordtype">double</span>               default_infill_extrusion_width = <a class="code hl_function" href="../../d6/d0f/class_slic3r_1_1_flow.html#a84918dd0798eb452f858b0391847bddd">Flow::auto_extrusion_width</a>(<a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a4bcb312043a874462f942e362c16567aadc1f79acb9a303b4dcd74d6aaaa637e2">FlowRole::frInfill</a>, <span class="keywordtype">float</span>(max_nozzle_diameter));</div>
<div class="line"><span class="lineno">   75</span>    <span class="comment">// Note: There&#39;s not going to be a layer below the first one, so the &#39;initial layer height&#39; doesn&#39;t have to be taken into account.</span></div>
<div class="line"><span class="lineno">   76</span>    <span class="keyword">const</span> <span class="keywordtype">double</span>               layer_thickness      = scaled&lt;double&gt;(object_config.layer_height.value);</div>
<div class="line"><span class="lineno">   77</span> </div>
<div class="line"><span class="lineno">   78</span>    <a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#aa7a771f324d00c318669e5d5b2ab3f56">m_infill_extrusion_width</a> = scaled&lt;float&gt;(region_config.sparse_infill_line_width.get_abs_value(max_nozzle_diameter));</div>
<div class="line"><span class="lineno">   79</span>    <a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a29a1d080d6e5353d01868478ebbb88cb">m_supporting_radius</a> = <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>(<a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#aa7a771f324d00c318669e5d5b2ab3f56">m_infill_extrusion_width</a>) * 100 / region_config.sparse_infill_density;</div>
<div class="line"><span class="lineno">   80</span> </div>
<div class="line"><span class="lineno">   81</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> lightning_infill_overhang_angle      = <a class="code hl_define" href="../../de/ddd/_extrusion_simulator_8cpp.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a> / 4; <span class="comment">// 45 degrees</span></div>
<div class="line"><span class="lineno">   82</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> lightning_infill_prune_angle         = <a class="code hl_define" href="../../de/ddd/_extrusion_simulator_8cpp.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a> / 4; <span class="comment">// 45 degrees</span></div>
<div class="line"><span class="lineno">   83</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> lightning_infill_straightening_angle = <a class="code hl_define" href="../../de/ddd/_extrusion_simulator_8cpp.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a> / 4; <span class="comment">// 45 degrees</span></div>
<div class="line"><span class="lineno">   84</span>    <a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#ac41d0b8fde6e078316d5b3f26e745edd">m_wall_supporting_radius</a>                          = <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>(layer_thickness * std::tan(lightning_infill_overhang_angle));</div>
<div class="line"><span class="lineno">   85</span>    <a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a26f17f105c912fd03b0a0593b55e4f3f">m_prune_length</a>                                    = <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>(layer_thickness * std::tan(lightning_infill_prune_angle));</div>
<div class="line"><span class="lineno">   86</span>    <a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#ab7aae08c62c725b09d16cd1cbbc891f2">m_straightening_max_distance</a>                      = <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>(layer_thickness * std::tan(lightning_infill_straightening_angle));</div>
<div class="line"><span class="lineno">   87</span> </div>
<div class="line"><span class="lineno">   88</span>    <a class="code hl_function" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a62b4cac64981187cefee48728b64d3bd">generateInitialInternalOverhangs</a>(print_object, throw_on_cancel_callback);</div>
<div class="line"><span class="lineno">   89</span>    <a class="code hl_function" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#ab287acdf9336ac51aadc9e89150866f5">generateTrees</a>(print_object, throw_on_cancel_callback);</div>
<div class="line"><span class="lineno">   90</span>}</div>
<div class="ttc" id="a_extrusion_simulator_8cpp_html_ae71449b1cc6e6250b91f539153a7a0d3"><div class="ttname"><a href="../../de/ddd/_extrusion_simulator_8cpp.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a></div><div class="ttdeci">#define M_PI</div><div class="ttdef"><b>Definition</b> ExtrusionSimulator.cpp:20</div></div>
<div class="ttc" id="aclass_slic3r_1_1_fill_lightning_1_1_generator_html_a26f17f105c912fd03b0a0593b55e4f3f"><div class="ttname"><a href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a26f17f105c912fd03b0a0593b55e4f3f">Slic3r::FillLightning::Generator::m_prune_length</a></div><div class="ttdeci">coord_t m_prune_length</div><div class="ttdef"><b>Definition</b> Generator.hpp:106</div></div>
<div class="ttc" id="aclass_slic3r_1_1_fill_lightning_1_1_generator_html_a29a1d080d6e5353d01868478ebbb88cb"><div class="ttname"><a href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a29a1d080d6e5353d01868478ebbb88cb">Slic3r::FillLightning::Generator::m_supporting_radius</a></div><div class="ttdeci">coord_t m_supporting_radius</div><div class="ttdef"><b>Definition</b> Generator.hpp:88</div></div>
<div class="ttc" id="aclass_slic3r_1_1_fill_lightning_1_1_generator_html_a62b4cac64981187cefee48728b64d3bd"><div class="ttname"><a href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a62b4cac64981187cefee48728b64d3bd">Slic3r::FillLightning::Generator::generateInitialInternalOverhangs</a></div><div class="ttdeci">void generateInitialInternalOverhangs(const PrintObject &amp;print_object, const std::function&lt; void()&gt; &amp;throw_on_cancel_callback)</div><div class="ttdef"><b>Definition</b> Generator.cpp:131</div></div>
<div class="ttc" id="aclass_slic3r_1_1_fill_lightning_1_1_generator_html_aa7a771f324d00c318669e5d5b2ab3f56"><div class="ttname"><a href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#aa7a771f324d00c318669e5d5b2ab3f56">Slic3r::FillLightning::Generator::m_infill_extrusion_width</a></div><div class="ttdeci">float m_infill_extrusion_width</div><div class="ttdef"><b>Definition</b> Generator.hpp:83</div></div>
<div class="ttc" id="aclass_slic3r_1_1_fill_lightning_1_1_generator_html_ab287acdf9336ac51aadc9e89150866f5"><div class="ttname"><a href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#ab287acdf9336ac51aadc9e89150866f5">Slic3r::FillLightning::Generator::generateTrees</a></div><div class="ttdeci">void generateTrees(const PrintObject &amp;print_object, const std::function&lt; void()&gt; &amp;throw_on_cancel_callback)</div><div class="ttdef"><b>Definition</b> Generator.cpp:159</div></div>
<div class="ttc" id="aclass_slic3r_1_1_fill_lightning_1_1_generator_html_ab7aae08c62c725b09d16cd1cbbc891f2"><div class="ttname"><a href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#ab7aae08c62c725b09d16cd1cbbc891f2">Slic3r::FillLightning::Generator::m_straightening_max_distance</a></div><div class="ttdeci">coord_t m_straightening_max_distance</div><div class="ttdef"><b>Definition</b> Generator.hpp:116</div></div>
<div class="ttc" id="aclass_slic3r_1_1_fill_lightning_1_1_generator_html_ac41d0b8fde6e078316d5b3f26e745edd"><div class="ttname"><a href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#ac41d0b8fde6e078316d5b3f26e745edd">Slic3r::FillLightning::Generator::m_wall_supporting_radius</a></div><div class="ttdeci">coord_t m_wall_supporting_radius</div><div class="ttdef"><b>Definition</b> Generator.hpp:97</div></div>
<div class="ttc" id="aclass_slic3r_1_1_flow_html_a84918dd0798eb452f858b0391847bddd"><div class="ttname"><a href="../../d6/d0f/class_slic3r_1_1_flow.html#a84918dd0798eb452f858b0391847bddd">Slic3r::Flow::auto_extrusion_width</a></div><div class="ttdeci">static float auto_extrusion_width(FlowRole role, float nozzle_diameter)</div><div class="ttdef"><b>Definition</b> Flow.cpp:21</div></div>
<div class="ttc" id="alibslic3r_8h_html_a8a7f69c27280e7542b2d1fd979af4545"><div class="ttname"><a href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a></div><div class="ttdeci">int32_t coord_t</div><div class="ttdef"><b>Definition</b> libslic3r.h:40</div></div>
<div class="ttc" id="anamespace_slic3r_html_a4bcb312043a874462f942e362c16567aadc1f79acb9a303b4dcd74d6aaaa637e2"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a4bcb312043a874462f942e362c16567aadc1f79acb9a303b4dcd74d6aaaa637e2">Slic3r::frInfill</a></div><div class="ttdeci">@ frInfill</div><div class="ttdef"><b>Definition</b> Flow.hpp:19</div></div>
<div class="ttc" id="anamespace_slic3r_html_ad48b86fa8e529e56c6bd00ff2f9839ab"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#ad48b86fa8e529e56c6bd00ff2f9839ab">Slic3r::PrintObjectConfig</a></div><div class="ttdeci">machine_min_extruding_rate PrintObjectConfig</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:1047</div></div>
<div class="ttc" id="anamespace_slic3r_html_ad80935cdce16c0621a1242935083a4f8"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#ad80935cdce16c0621a1242935083a4f8">Slic3r::PrintRegionConfig</a></div><div class="ttdeci">machine_min_extruding_rate PrintRegionConfig</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:1047</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00269">Slic3r::PrintObjectRegions::all_regions</a>, <a class="el" href="../../#l00021">Slic3r::Flow::auto_extrusion_width()</a>, <a class="el" href="../../#l00299">Slic3r::PrintObject::config()</a>, <a class="el" href="../../#l00740">Slic3r::Print::config()</a>, <a class="el" href="../../#l00019">Slic3r::frInfill</a>, <a class="el" href="../../#l00131">generateInitialInternalOverhangs()</a>, <a class="el" href="../../#l00159">generateTrees()</a>, <a class="el" href="../../#l00083">m_infill_extrusion_width</a>, <a class="el" href="../../#l00020">M_PI</a>, <a class="el" href="../../#l00106">m_prune_length</a>, <a class="el" href="../../#l00116">m_straightening_max_distance</a>, <a class="el" href="../../#l00088">m_supporting_radius</a>, <a class="el" href="../../#l00097">m_wall_supporting_radius</a>, <a class="el" href="../../#l00625">Slic3r::PrintObjectBaseWithState&lt; PrintType, PrintObjectStepEnum, COUNT &gt;::print()</a>, <a class="el" href="../../#l01047">Slic3r::PrintObjectConfig</a>, <a class="el" href="../../#l01047">Slic3r::PrintRegionConfig</a>, and <a class="el" href="../../#l00402">Slic3r::PrintObject::shared_regions()</a>.</p>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator_a53fdc599e3960cfe39634df1b1629266_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a3afb819252c42852ccd9e293786a2241" name="a3afb819252c42852ccd9e293786a2241"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3afb819252c42852ccd9e293786a2241">&#9670;&#160;</a></span>Generator() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Slic3r::FillLightning::Generator::Generator </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> *&#160;</td>
          <td class="paramname"><em>m_object</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../de/db8/namespace_slic3r.html#ae39547681b4c9f15f0d44712cdb01d6a">Polygons</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>contours</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../de/db8/namespace_slic3r.html#ae39547681b4c9f15f0d44712cdb01d6a">Polygons</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>overhangs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>()&gt; &amp;&#160;</td>
          <td class="paramname"><em>throw_on_cancel_callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>density</em> = <code>0.15</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   93</span>{</div>
<div class="line"><span class="lineno">   94</span>    <span class="keyword">const</span> PrintConfig         &amp;print_config         = m_object-&gt;print()-&gt;config();</div>
<div class="line"><span class="lineno">   95</span>    <span class="keyword">const</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#ad48b86fa8e529e56c6bd00ff2f9839ab">PrintObjectConfig</a>   &amp;object_config        = m_object-&gt;config();</div>
<div class="line"><span class="lineno">   96</span>    <span class="keyword">const</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#ad80935cdce16c0621a1242935083a4f8">PrintRegionConfig</a>   &amp;region_config        = m_object-&gt;shared_regions()-&gt;all_regions.front()-&gt;config();</div>
<div class="line"><span class="lineno">   97</span>    <span class="keyword">const</span> std::vector&lt;double&gt; &amp;nozzle_diameters     = print_config.nozzle_diameter.values;</div>
<div class="line"><span class="lineno">   98</span>    <span class="keywordtype">double</span>                     max_nozzle_diameter  = *std::max_element(nozzle_diameters.begin(), nozzle_diameters.end());</div>
<div class="line"><span class="lineno">   99</span><span class="comment">//    const int                  infill_extruder      = region_config.infill_extruder.value;</span></div>
<div class="line"><span class="lineno">  100</span>    <span class="keyword">const</span> <span class="keywordtype">double</span>               default_infill_extrusion_width = <a class="code hl_function" href="../../d6/d0f/class_slic3r_1_1_flow.html#a84918dd0798eb452f858b0391847bddd">Flow::auto_extrusion_width</a>(<a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a4bcb312043a874462f942e362c16567aadc1f79acb9a303b4dcd74d6aaaa637e2">FlowRole::frInfill</a>, <span class="keywordtype">float</span>(max_nozzle_diameter));</div>
<div class="line"><span class="lineno">  101</span>    <span class="comment">// Note: There&#39;s not going to be a layer below the first one, so the &#39;initial layer height&#39; doesn&#39;t have to be taken into account.</span></div>
<div class="line"><span class="lineno">  102</span>    <span class="keyword">const</span> <span class="keywordtype">double</span>               layer_thickness      = scaled&lt;double&gt;(object_config.layer_height.value);</div>
<div class="line"><span class="lineno">  103</span> </div>
<div class="line"><span class="lineno">  104</span>    <a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#aa7a771f324d00c318669e5d5b2ab3f56">m_infill_extrusion_width</a> = scaled&lt;float&gt;(region_config.sparse_infill_line_width.get_abs_value(max_nozzle_diameter));</div>
<div class="line"><span class="lineno">  105</span>    <span class="comment">//m_supporting_radius: against to the density of lightning, failures may happen if set to high density</span></div>
<div class="line"><span class="lineno">  106</span>    <span class="comment">//higher density lightning makes support harder, more time-consuming on computing and printing, but more reliable on supporting overhangs</span></div>
<div class="line"><span class="lineno">  107</span>    <span class="comment">//lower density lightning performs opposite</span></div>
<div class="line"><span class="lineno">  108</span>    <span class="comment">//TODO: decide whether enable density controller in advanced options or not</span></div>
<div class="line"><span class="lineno">  109</span>    density = std::max(0.15f, density);</div>
<div class="line"><span class="lineno">  110</span>    <a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a29a1d080d6e5353d01868478ebbb88cb">m_supporting_radius</a> = <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>(<a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#aa7a771f324d00c318669e5d5b2ab3f56">m_infill_extrusion_width</a>) / density;</div>
<div class="line"><span class="lineno">  111</span> </div>
<div class="line"><span class="lineno">  112</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> lightning_infill_overhang_angle = <a class="code hl_define" href="../../de/ddd/_extrusion_simulator_8cpp.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a> / 4; <span class="comment">// 45 degrees</span></div>
<div class="line"><span class="lineno">  113</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> lightning_infill_prune_angle = <a class="code hl_define" href="../../de/ddd/_extrusion_simulator_8cpp.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a> / 4; <span class="comment">// 45 degrees</span></div>
<div class="line"><span class="lineno">  114</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> lightning_infill_straightening_angle = <a class="code hl_define" href="../../de/ddd/_extrusion_simulator_8cpp.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a> / 4; <span class="comment">// 45 degrees</span></div>
<div class="line"><span class="lineno">  115</span>    <a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#ac41d0b8fde6e078316d5b3f26e745edd">m_wall_supporting_radius</a> = layer_thickness * std::tan(lightning_infill_overhang_angle);</div>
<div class="line"><span class="lineno">  116</span>    <a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a26f17f105c912fd03b0a0593b55e4f3f">m_prune_length</a> = layer_thickness * std::tan(lightning_infill_prune_angle);</div>
<div class="line"><span class="lineno">  117</span>    <a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#ab7aae08c62c725b09d16cd1cbbc891f2">m_straightening_max_distance</a> = layer_thickness * std::tan(lightning_infill_straightening_angle);</div>
<div class="line"><span class="lineno">  118</span> </div>
<div class="line"><span class="lineno">  119</span>    <a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#aa0077f7f26cd9348d142b05e837e5544">m_overhang_per_layer</a> = overhangs;</div>
<div class="line"><span class="lineno">  120</span> </div>
<div class="line"><span class="lineno">  121</span>    <a class="code hl_function" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a76bcb6eeba77b67b75efdfb5c19fad6b">generateTreesforSupport</a>(contours, throw_on_cancel_callback);</div>
<div class="line"><span class="lineno">  122</span> </div>
<div class="line"><span class="lineno">  123</span>    <span class="comment">//for (size_t i = 0; i &lt; overhangs.size(); i++)</span></div>
<div class="line"><span class="lineno">  124</span>    <span class="comment">//{</span></div>
<div class="line"><span class="lineno">  125</span>    <span class="comment">//    auto svg = draw_two_overhangs_to_svg(i, to_expolygons(contours[i]), to_expolygons(overhangs[i]));</span></div>
<div class="line"><span class="lineno">  126</span>    <span class="comment">//    for (auto&amp; root : m_lightning_layers[i].tree_roots)</span></div>
<div class="line"><span class="lineno">  127</span>    <span class="comment">//        root-&gt;draw_tree(svg);</span></div>
<div class="line"><span class="lineno">  128</span>    <span class="comment">//}</span></div>
<div class="line"><span class="lineno">  129</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_fill_lightning_1_1_generator_html_a76bcb6eeba77b67b75efdfb5c19fad6b"><div class="ttname"><a href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a76bcb6eeba77b67b75efdfb5c19fad6b">Slic3r::FillLightning::Generator::generateTreesforSupport</a></div><div class="ttdeci">void generateTreesforSupport(std::vector&lt; Polygons &gt; &amp;contours, const std::function&lt; void()&gt; &amp;throw_on_cancel_callback)</div><div class="ttdef"><b>Definition</b> Generator.cpp:215</div></div>
<div class="ttc" id="aclass_slic3r_1_1_fill_lightning_1_1_generator_html_aa0077f7f26cd9348d142b05e837e5544"><div class="ttname"><a href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#aa0077f7f26cd9348d142b05e837e5544">Slic3r::FillLightning::Generator::m_overhang_per_layer</a></div><div class="ttdeci">std::vector&lt; Polygons &gt; m_overhang_per_layer</div><div class="ttdef"><b>Definition</b> Generator.hpp:123</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00269">Slic3r::PrintObjectRegions::all_regions</a>, <a class="el" href="../../#l00021">Slic3r::Flow::auto_extrusion_width()</a>, <a class="el" href="../../#l00299">Slic3r::PrintObject::config()</a>, <a class="el" href="../../#l00740">Slic3r::Print::config()</a>, <a class="el" href="../../#l00019">Slic3r::frInfill</a>, <a class="el" href="../../#l00215">generateTreesforSupport()</a>, <a class="el" href="../../#l00083">m_infill_extrusion_width</a>, <a class="el" href="../../#l00123">m_overhang_per_layer</a>, <a class="el" href="../../#l00020">M_PI</a>, <a class="el" href="../../#l00106">m_prune_length</a>, <a class="el" href="../../#l00116">m_straightening_max_distance</a>, <a class="el" href="../../#l00088">m_supporting_radius</a>, <a class="el" href="../../#l00097">m_wall_supporting_radius</a>, <a class="el" href="../../#l00625">Slic3r::PrintObjectBaseWithState&lt; PrintType, PrintObjectStepEnum, COUNT &gt;::print()</a>, <a class="el" href="../../#l01047">Slic3r::PrintObjectConfig</a>, <a class="el" href="../../#l01047">Slic3r::PrintRegionConfig</a>, and <a class="el" href="../../#l00402">Slic3r::PrintObject::shared_regions()</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator_a3afb819252c42852ccd9e293786a2241_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a62b4cac64981187cefee48728b64d3bd" name="a62b4cac64981187cefee48728b64d3bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62b4cac64981187cefee48728b64d3bd">&#9670;&#160;</a></span>generateInitialInternalOverhangs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::FillLightning::Generator::generateInitialInternalOverhangs </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> &amp;&#160;</td>
          <td class="paramname"><em>print_object</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>()&gt; &amp;&#160;</td>
          <td class="paramname"><em>throw_on_cancel_callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Calculate the overhangs above the infill areas that need to be supported by infill.</p>
<p>Normally, overhangs are only generated for the outside of the model and only when support is generated. For this pattern, we also need to generate overhang areas for the inside of the model. </p>
<div class="fragment"><div class="line"><span class="lineno">  132</span>{</div>
<div class="line"><span class="lineno">  133</span>    <a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#aa0077f7f26cd9348d142b05e837e5544">m_overhang_per_layer</a>.resize(print_object.layers().size());</div>
<div class="line"><span class="lineno">  134</span> </div>
<div class="line"><span class="lineno">  135</span>    <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#ae39547681b4c9f15f0d44712cdb01d6a">Polygons</a> infill_area_above;</div>
<div class="line"><span class="lineno">  136</span>    <span class="comment">//Iterate from top to bottom, to subtract the overhang areas above from the overhang areas on the layer below, to get only overhang in the top layer where it is overhanging.</span></div>
<div class="line"><span class="lineno">  137</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> layer_nr = <span class="keywordtype">int</span>(print_object.layers().size()) - 1; layer_nr &gt;= 0; --layer_nr) {</div>
<div class="line"><span class="lineno">  138</span>        throw_on_cancel_callback();</div>
<div class="line"><span class="lineno">  139</span>        <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#ae39547681b4c9f15f0d44712cdb01d6a">Polygons</a> infill_area_here;</div>
<div class="line"><span class="lineno">  140</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> LayerRegion* layerm : print_object.get_layer(layer_nr)-&gt;regions())</div>
<div class="line"><span class="lineno">  141</span>            for (const Surface&amp; surface : layerm-&gt;fill_surfaces.surfaces)</div>
<div class="line"><span class="lineno">  142</span>                if (surface.surface_type == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#abe9699b26eb18f6636b045c930d167d8a8f516f8e4fc6924f168bc89064630424">stInternal</a> || surface.surface_type == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#abe9699b26eb18f6636b045c930d167d8ad4eb4c291134fe939028330730d70677">stInternalVoid</a>)</div>
<div class="line"><span class="lineno">  143</span>                    <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a5f240a84e573ed2d7785a439f4239e1a">append</a>(infill_area_here, <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a843ba2fe16b213f550fb3d55c55a716e">to_polygons</a>(surface.expolygon));</div>
<div class="line"><span class="lineno">  144</span> </div>
<div class="line"><span class="lineno">  145</span>        <span class="comment">//Remove the part of the infill area that is already supported by the walls.</span></div>
<div class="line"><span class="lineno">  146</span>        <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#ae39547681b4c9f15f0d44712cdb01d6a">Polygons</a> overhang = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#aed0434d42d75979bb4d469ff41de7158">diff</a>(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a5ec552d076296fd705739c608edc1580">offset</a>(infill_area_here, -<span class="keywordtype">float</span>(<a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#ac41d0b8fde6e078316d5b3f26e745edd">m_wall_supporting_radius</a>)), infill_area_above);</div>
<div class="line"><span class="lineno">  147</span> </div>
<div class="line"><span class="lineno">  148</span>        <a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#aa0077f7f26cd9348d142b05e837e5544">m_overhang_per_layer</a>[layer_nr] = overhang;</div>
<div class="line"><span class="lineno">  149</span>        infill_area_above = std::move(infill_area_here);</div>
<div class="line"><span class="lineno">  150</span>    }</div>
<div class="line"><span class="lineno">  151</span>}</div>
<div class="ttc" id="anamespace_slic3r_html_a5ec552d076296fd705739c608edc1580"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a5ec552d076296fd705739c608edc1580">Slic3r::offset</a></div><div class="ttdeci">Slic3r::Polygons offset(const Slic3r::Polygon &amp;polygon, const float delta, ClipperLib::JoinType joinType, double miterLimit)</div><div class="ttdef"><b>Definition</b> ClipperUtils.cpp:404</div></div>
<div class="ttc" id="anamespace_slic3r_html_a5f240a84e573ed2d7785a439f4239e1a"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a5f240a84e573ed2d7785a439f4239e1a">Slic3r::append</a></div><div class="ttdeci">void append(std::vector&lt; T &gt; &amp;dest, const std::vector&lt; T &gt; &amp;src)</div><div class="ttdef"><b>Definition</b> libslic3r.h:132</div></div>
<div class="ttc" id="anamespace_slic3r_html_a843ba2fe16b213f550fb3d55c55a716e"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a843ba2fe16b213f550fb3d55c55a716e">Slic3r::to_polygons</a></div><div class="ttdeci">Polygons to_polygons(const ExPolygon &amp;src)</div><div class="ttdef"><b>Definition</b> ExPolygon.hpp:280</div></div>
<div class="ttc" id="anamespace_slic3r_html_abe9699b26eb18f6636b045c930d167d8a8f516f8e4fc6924f168bc89064630424"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#abe9699b26eb18f6636b045c930d167d8a8f516f8e4fc6924f168bc89064630424">Slic3r::stInternal</a></div><div class="ttdeci">@ stInternal</div><div class="ttdef"><b>Definition</b> Surface.hpp:17</div></div>
<div class="ttc" id="anamespace_slic3r_html_abe9699b26eb18f6636b045c930d167d8ad4eb4c291134fe939028330730d70677"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#abe9699b26eb18f6636b045c930d167d8ad4eb4c291134fe939028330730d70677">Slic3r::stInternalVoid</a></div><div class="ttdeci">@ stInternalVoid</div><div class="ttdef"><b>Definition</b> Surface.hpp:26</div></div>
<div class="ttc" id="anamespace_slic3r_html_ae39547681b4c9f15f0d44712cdb01d6a"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#ae39547681b4c9f15f0d44712cdb01d6a">Slic3r::Polygons</a></div><div class="ttdeci">std::vector&lt; Polygon &gt; Polygons</div><div class="ttdef"><b>Definition</b> Polygon.hpp:14</div></div>
<div class="ttc" id="anamespace_slic3r_html_aed0434d42d75979bb4d469ff41de7158"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#aed0434d42d75979bb4d469ff41de7158">Slic3r::diff</a></div><div class="ttdeci">Slic3r::Polygons diff(const Slic3r::Polygon &amp;subject, const Slic3r::Polygon &amp;clip, ApplySafetyOffset do_safety_offset)</div><div class="ttdef"><b>Definition</b> ClipperUtils.cpp:654</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00132">Slic3r::append()</a>, <a class="el" href="../../#l00654">Slic3r::diff()</a>, <a class="el" href="../../#l00355">Slic3r::PrintObject::get_layer()</a>, <a class="el" href="../../#l00301">Slic3r::PrintObject::layers()</a>, <a class="el" href="../../#l00123">m_overhang_per_layer</a>, <a class="el" href="../../#l00097">m_wall_supporting_radius</a>, <a class="el" href="../../#l00404">Slic3r::offset()</a>, <a class="el" href="../../#l00158">Slic3r::Layer::regions()</a>, <a class="el" href="../../#l00159">Slic3r::ConstVectorOfPtrsAdaptor&lt; T &gt;::size()</a>, <a class="el" href="../../#l00017">Slic3r::stInternal</a>, <a class="el" href="../../#l00026">Slic3r::stInternalVoid</a>, and <a class="el" href="../../#l00280">Slic3r::to_polygons()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00066">Generator()</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator_a62b4cac64981187cefee48728b64d3bd_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator_a62b4cac64981187cefee48728b64d3bd_icgraph.svg" width="386" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ab287acdf9336ac51aadc9e89150866f5" name="ab287acdf9336ac51aadc9e89150866f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab287acdf9336ac51aadc9e89150866f5">&#9670;&#160;</a></span>generateTrees()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::FillLightning::Generator::generateTrees </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> &amp;&#160;</td>
          <td class="paramname"><em>print_object</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>()&gt; &amp;&#160;</td>
          <td class="paramname"><em>throw_on_cancel_callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Calculate the tree structure of all layers. </p>
<div class="fragment"><div class="line"><span class="lineno">  160</span>{</div>
<div class="line"><span class="lineno">  161</span>    <a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a71ceb55e8674fb0afc8af4660faa8a29">m_lightning_layers</a>.resize(print_object.layers().size());</div>
<div class="line"><span class="lineno">  162</span>    <a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a17ccab09951694fb49eb3a43e1bd4545">bboxs</a>.resize(print_object.layers().size());</div>
<div class="line"><span class="lineno">  163</span>    std::vector&lt;Polygons&gt; infill_outlines(print_object.layers().size(), <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#ae39547681b4c9f15f0d44712cdb01d6a">Polygons</a>());</div>
<div class="line"><span class="lineno">  164</span> </div>
<div class="line"><span class="lineno">  165</span>    <span class="comment">// For-each layer from top to bottom:</span></div>
<div class="line"><span class="lineno">  166</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> layer_id = <span class="keywordtype">int</span>(print_object.layers().size()) - 1; layer_id &gt;= 0; layer_id--) {</div>
<div class="line"><span class="lineno">  167</span>        throw_on_cancel_callback();</div>
<div class="line"><span class="lineno">  168</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> LayerRegion *layerm : print_object.get_layer(layer_id)-&gt;regions())</div>
<div class="line"><span class="lineno">  169</span>            for (const Surface &amp;surface : layerm-&gt;fill_surfaces.surfaces)</div>
<div class="line"><span class="lineno">  170</span>                if (surface.surface_type == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#abe9699b26eb18f6636b045c930d167d8a8f516f8e4fc6924f168bc89064630424">stInternal</a> || surface.surface_type == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#abe9699b26eb18f6636b045c930d167d8ad4eb4c291134fe939028330730d70677">stInternalVoid</a>)</div>
<div class="line"><span class="lineno">  171</span>                    <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a5f240a84e573ed2d7785a439f4239e1a">append</a>(infill_outlines[layer_id], <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a843ba2fe16b213f550fb3d55c55a716e">to_polygons</a>(surface.expolygon));</div>
<div class="line"><span class="lineno">  172</span>    }</div>
<div class="line"><span class="lineno">  173</span> </div>
<div class="line"><span class="lineno">  174</span>    <span class="comment">// For various operations its beneficial to quickly locate nearby features on the polygon:</span></div>
<div class="line"><span class="lineno">  175</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> top_layer_id = print_object.layers().size() - 1;</div>
<div class="line"><span class="lineno">  176</span>    EdgeGrid::Grid outlines_locator(<a class="code hl_function" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#a51f28b2f8ea7f5695b33315b76c394a6">get_extents</a>(infill_outlines[top_layer_id]).inflated(<a class="code hl_define" href="../../dd/d47/libslic3r_8h.html#a57f3510310e75de35abd65c9650b49f7">SCALED_EPSILON</a>));</div>
<div class="line"><span class="lineno">  177</span>    outlines_locator.create(infill_outlines[top_layer_id], <a class="code hl_variable" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#ab6c467cafc3a1f9357f60b9742432ad7">locator_cell_size</a>);</div>
<div class="line"><span class="lineno">  178</span> </div>
<div class="line"><span class="lineno">  179</span>    <span class="comment">// For-each layer from top to bottom:</span></div>
<div class="line"><span class="lineno">  180</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> layer_id = <span class="keywordtype">int</span>(top_layer_id); layer_id &gt;= 0; layer_id--) {</div>
<div class="line"><span class="lineno">  181</span>        throw_on_cancel_callback();</div>
<div class="line"><span class="lineno">  182</span>        Layer             &amp;current_lightning_layer = <a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a71ceb55e8674fb0afc8af4660faa8a29">m_lightning_layers</a>[layer_id];</div>
<div class="line"><span class="lineno">  183</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#ae39547681b4c9f15f0d44712cdb01d6a">Polygons</a>    &amp;current_outlines        = infill_outlines[layer_id];</div>
<div class="line"><span class="lineno">  184</span>        <span class="keyword">const</span> BoundingBox &amp;current_outlines_bbox   = <a class="code hl_function" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#a51f28b2f8ea7f5695b33315b76c394a6">get_extents</a>(current_outlines);</div>
<div class="line"><span class="lineno">  185</span> </div>
<div class="line"><span class="lineno">  186</span>        <a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a17ccab09951694fb49eb3a43e1bd4545">bboxs</a>[layer_id] = <a class="code hl_function" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#a51f28b2f8ea7f5695b33315b76c394a6">get_extents</a>(current_outlines);</div>
<div class="line"><span class="lineno">  187</span> </div>
<div class="line"><span class="lineno">  188</span>        <span class="comment">// register all trees propagated from the previous layer as to-be-reconnected</span></div>
<div class="line"><span class="lineno">  189</span>        std::vector&lt;NodeSPtr&gt; to_be_reconnected_tree_roots = current_lightning_layer.tree_roots;</div>
<div class="line"><span class="lineno">  190</span> </div>
<div class="line"><span class="lineno">  191</span>        current_lightning_layer.generateNewTrees(<a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#aa0077f7f26cd9348d142b05e837e5544">m_overhang_per_layer</a>[layer_id], current_outlines, current_outlines_bbox, outlines_locator, <a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a29a1d080d6e5353d01868478ebbb88cb">m_supporting_radius</a>, <a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#ac41d0b8fde6e078316d5b3f26e745edd">m_wall_supporting_radius</a>, throw_on_cancel_callback);</div>
<div class="line"><span class="lineno">  192</span>        current_lightning_layer.reconnectRoots(to_be_reconnected_tree_roots, current_outlines, current_outlines_bbox, outlines_locator, <a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a29a1d080d6e5353d01868478ebbb88cb">m_supporting_radius</a>, <a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#ac41d0b8fde6e078316d5b3f26e745edd">m_wall_supporting_radius</a>);</div>
<div class="line"><span class="lineno">  193</span> </div>
<div class="line"><span class="lineno">  194</span>        <span class="comment">// Initialize trees for next lower layer from the current one.</span></div>
<div class="line"><span class="lineno">  195</span>        <span class="keywordflow">if</span> (layer_id == 0)</div>
<div class="line"><span class="lineno">  196</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  197</span> </div>
<div class="line"><span class="lineno">  198</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#ae39547681b4c9f15f0d44712cdb01d6a">Polygons</a> &amp;below_outlines      = infill_outlines[layer_id - 1];</div>
<div class="line"><span class="lineno">  199</span>        BoundingBox     below_outlines_bbox = <a class="code hl_function" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#a51f28b2f8ea7f5695b33315b76c394a6">get_extents</a>(below_outlines).<a class="code hl_function" href="../../d4/d2d/class_slic3r_1_1_bounding_box.html#afdf8cd62dd83f934bac9758e302c3bd1">inflated</a>(<a class="code hl_define" href="../../dd/d47/libslic3r_8h.html#a57f3510310e75de35abd65c9650b49f7">SCALED_EPSILON</a>);</div>
<div class="line"><span class="lineno">  200</span>        <span class="keywordflow">if</span> (<span class="keyword">const</span> BoundingBox &amp;outlines_locator_bbox = outlines_locator.bbox(); outlines_locator_bbox.defined)</div>
<div class="line"><span class="lineno">  201</span>            below_outlines_bbox.<a class="code hl_function" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#af05bfd6f2d56108f60099c6bf5c114ab">merge</a>(outlines_locator_bbox);</div>
<div class="line"><span class="lineno">  202</span> </div>
<div class="line"><span class="lineno">  203</span>        <span class="keywordflow">if</span> (!current_lightning_layer.tree_roots.empty())</div>
<div class="line"><span class="lineno">  204</span>            below_outlines_bbox.merge(<a class="code hl_function" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#a51f28b2f8ea7f5695b33315b76c394a6">get_extents</a>(current_lightning_layer.tree_roots).<a class="code hl_function" href="../../d4/d2d/class_slic3r_1_1_bounding_box.html#afdf8cd62dd83f934bac9758e302c3bd1">inflated</a>(<a class="code hl_define" href="../../dd/d47/libslic3r_8h.html#a57f3510310e75de35abd65c9650b49f7">SCALED_EPSILON</a>));</div>
<div class="line"><span class="lineno">  205</span> </div>
<div class="line"><span class="lineno">  206</span>        outlines_locator.set_bbox(below_outlines_bbox);</div>
<div class="line"><span class="lineno">  207</span>        outlines_locator.create(below_outlines, <a class="code hl_variable" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#ab6c467cafc3a1f9357f60b9742432ad7">locator_cell_size</a>);</div>
<div class="line"><span class="lineno">  208</span> </div>
<div class="line"><span class="lineno">  209</span>        std::vector&lt;NodeSPtr&gt;&amp; lower_trees = <a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a71ceb55e8674fb0afc8af4660faa8a29">m_lightning_layers</a>[layer_id - 1].tree_roots;</div>
<div class="line"><span class="lineno">  210</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; tree : current_lightning_layer.tree_roots)</div>
<div class="line"><span class="lineno">  211</span>            tree-&gt;propagateToNextLayer(lower_trees, below_outlines, outlines_locator, <a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a26f17f105c912fd03b0a0593b55e4f3f">m_prune_length</a>, <a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#ab7aae08c62c725b09d16cd1cbbc891f2">m_straightening_max_distance</a>, <a class="code hl_variable" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#ab6c467cafc3a1f9357f60b9742432ad7">locator_cell_size</a> / 2);</div>
<div class="line"><span class="lineno">  212</span>    }</div>
<div class="line"><span class="lineno">  213</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_bounding_box_base_html_af05bfd6f2d56108f60099c6bf5c114ab"><div class="ttname"><a href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#af05bfd6f2d56108f60099c6bf5c114ab">Slic3r::BoundingBoxBase::merge</a></div><div class="ttdeci">void merge(const PointClass &amp;point)</div><div class="ttdef"><b>Definition</b> BoundingBox.cpp:67</div></div>
<div class="ttc" id="aclass_slic3r_1_1_bounding_box_html_afdf8cd62dd83f934bac9758e302c3bd1"><div class="ttname"><a href="../../d4/d2d/class_slic3r_1_1_bounding_box.html#afdf8cd62dd83f934bac9758e302c3bd1">Slic3r::BoundingBox::inflated</a></div><div class="ttdeci">BoundingBox inflated(coordf_t delta) const</div><div class="ttdef"><b>Definition</b> BoundingBox.hpp:211</div></div>
<div class="ttc" id="aclass_slic3r_1_1_fill_lightning_1_1_generator_html_a17ccab09951694fb49eb3a43e1bd4545"><div class="ttname"><a href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a17ccab09951694fb49eb3a43e1bd4545">Slic3r::FillLightning::Generator::bboxs</a></div><div class="ttdeci">std::vector&lt; BoundingBox &gt; bboxs</div><div class="ttdef"><b>Definition</b> Generator.hpp:132</div></div>
<div class="ttc" id="aclass_slic3r_1_1_fill_lightning_1_1_generator_html_a71ceb55e8674fb0afc8af4660faa8a29"><div class="ttname"><a href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a71ceb55e8674fb0afc8af4660faa8a29">Slic3r::FillLightning::Generator::m_lightning_layers</a></div><div class="ttdeci">std::vector&lt; Layer &gt; m_lightning_layers</div><div class="ttdef"><b>Definition</b> Generator.hpp:130</div></div>
<div class="ttc" id="alibslic3r_8h_html_a57f3510310e75de35abd65c9650b49f7"><div class="ttname"><a href="../../dd/d47/libslic3r_8h.html#a57f3510310e75de35abd65c9650b49f7">SCALED_EPSILON</a></div><div class="ttdeci">#define SCALED_EPSILON</div><div class="ttdef"><b>Definition</b> libslic3r.h:84</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_fill_lightning_html_a51f28b2f8ea7f5695b33315b76c394a6"><div class="ttname"><a href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#a51f28b2f8ea7f5695b33315b76c394a6">Slic3r::FillLightning::get_extents</a></div><div class="ttdeci">BoundingBox get_extents(const NodeSPtr &amp;root_node)</div><div class="ttdef"><b>Definition</b> TreeNode.hpp:286</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_fill_lightning_html_ab6c467cafc3a1f9357f60b9742432ad7"><div class="ttname"><a href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#ab6c467cafc3a1f9357f60b9742432ad7">Slic3r::FillLightning::locator_cell_size</a></div><div class="ttdeci">constexpr auto locator_cell_size</div><div class="ttdef"><b>Definition</b> TreeNode.hpp:21</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00132">Slic3r::append()</a>, <a class="el" href="../../#l00159">Slic3r::EdgeGrid::Grid::bbox()</a>, <a class="el" href="../../#l00132">bboxs</a>, <a class="el" href="../../#l00052">Slic3r::EdgeGrid::Grid::create()</a>, <a class="el" href="../../#l00045">Slic3r::FillLightning::Layer::generateNewTrees()</a>, <a class="el" href="../../#l00286">Slic3r::FillLightning::get_extents()</a>, <a class="el" href="../../#l00355">Slic3r::PrintObject::get_layer()</a>, <a class="el" href="../../#l00211">Slic3r::BoundingBox::inflated()</a>, <a class="el" href="../../#l00301">Slic3r::PrintObject::layers()</a>, <a class="el" href="../../#l00021">Slic3r::FillLightning::locator_cell_size</a>, <a class="el" href="../../#l00130">m_lightning_layers</a>, <a class="el" href="../../#l00123">m_overhang_per_layer</a>, <a class="el" href="../../#l00106">m_prune_length</a>, <a class="el" href="../../#l00116">m_straightening_max_distance</a>, <a class="el" href="../../#l00088">m_supporting_radius</a>, <a class="el" href="../../#l00097">m_wall_supporting_radius</a>, <a class="el" href="../../#l00067">Slic3r::BoundingBoxBase&lt; PointClass &gt;::merge()</a>, <a class="el" href="../../#l00221">Slic3r::FillLightning::Layer::reconnectRoots()</a>, <a class="el" href="../../#l00158">Slic3r::Layer::regions()</a>, <a class="el" href="../../#l00084">SCALED_EPSILON</a>, <a class="el" href="../../#l00097">Slic3r::EdgeGrid::Grid::set_bbox()</a>, <a class="el" href="../../#l00159">Slic3r::ConstVectorOfPtrsAdaptor&lt; T &gt;::size()</a>, <a class="el" href="../../#l00017">Slic3r::stInternal</a>, <a class="el" href="../../#l00026">Slic3r::stInternalVoid</a>, <a class="el" href="../../#l00280">Slic3r::to_polygons()</a>, and <a class="el" href="../../#l00038">Slic3r::FillLightning::Layer::tree_roots</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00066">Generator()</a>.</p>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator_ab287acdf9336ac51aadc9e89150866f5_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator_ab287acdf9336ac51aadc9e89150866f5_icgraph.svg" width="388" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a76bcb6eeba77b67b75efdfb5c19fad6b" name="a76bcb6eeba77b67b75efdfb5c19fad6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76bcb6eeba77b67b75efdfb5c19fad6b">&#9670;&#160;</a></span>generateTreesforSupport()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::FillLightning::Generator::generateTreesforSupport </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../de/db8/namespace_slic3r.html#ae39547681b4c9f15f0d44712cdb01d6a">Polygons</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>contours</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>()&gt; &amp;&#160;</td>
          <td class="paramname"><em>throw_on_cancel_callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  216</span>{</div>
<div class="line"><span class="lineno">  217</span>    <span class="keywordflow">if</span> (contours.empty()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  218</span> </div>
<div class="line"><span class="lineno">  219</span>    <a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a71ceb55e8674fb0afc8af4660faa8a29">m_lightning_layers</a>.resize(contours.size());</div>
<div class="line"><span class="lineno">  220</span>    <a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a17ccab09951694fb49eb3a43e1bd4545">bboxs</a>.resize(contours.size());</div>
<div class="line"><span class="lineno">  221</span> </div>
<div class="line"><span class="lineno">  222</span>    <span class="comment">// For various operations its beneficial to quickly locate nearby features on the polygon:</span></div>
<div class="line"><span class="lineno">  223</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> top_layer_id = contours.size() - 1;</div>
<div class="line"><span class="lineno">  224</span>    EdgeGrid::Grid outlines_locator(<a class="code hl_function" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#a51f28b2f8ea7f5695b33315b76c394a6">get_extents</a>(contours[top_layer_id]).inflated(<a class="code hl_define" href="../../dd/d47/libslic3r_8h.html#a57f3510310e75de35abd65c9650b49f7">SCALED_EPSILON</a>));</div>
<div class="line"><span class="lineno">  225</span>    outlines_locator.create(contours[top_layer_id], <a class="code hl_variable" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#ab6c467cafc3a1f9357f60b9742432ad7">locator_cell_size</a>);</div>
<div class="line"><span class="lineno">  226</span> </div>
<div class="line"><span class="lineno">  227</span>    <span class="comment">// For-each layer from top to bottom:</span></div>
<div class="line"><span class="lineno">  228</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> layer_id = <span class="keywordtype">int</span>(top_layer_id); layer_id &gt;= 0; layer_id--) {</div>
<div class="line"><span class="lineno">  229</span>    throw_on_cancel_callback();</div>
<div class="line"><span class="lineno">  230</span>        Layer&amp; current_lightning_layer = <a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a71ceb55e8674fb0afc8af4660faa8a29">m_lightning_layers</a>[layer_id];</div>
<div class="line"><span class="lineno">  231</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#ae39547681b4c9f15f0d44712cdb01d6a">Polygons</a>&amp; current_outlines = contours[layer_id];</div>
<div class="line"><span class="lineno">  232</span>        <span class="keyword">const</span> BoundingBox&amp; current_outlines_bbox = <a class="code hl_function" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#a51f28b2f8ea7f5695b33315b76c394a6">get_extents</a>(current_outlines);</div>
<div class="line"><span class="lineno">  233</span> </div>
<div class="line"><span class="lineno">  234</span>        <a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a17ccab09951694fb49eb3a43e1bd4545">bboxs</a>[layer_id] = <a class="code hl_function" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#a51f28b2f8ea7f5695b33315b76c394a6">get_extents</a>(current_outlines);</div>
<div class="line"><span class="lineno">  235</span> </div>
<div class="line"><span class="lineno">  236</span>        <span class="comment">// register all trees propagated from the previous layer as to-be-reconnected</span></div>
<div class="line"><span class="lineno">  237</span>        std::vector&lt;NodeSPtr&gt; to_be_reconnected_tree_roots = current_lightning_layer.tree_roots;</div>
<div class="line"><span class="lineno">  238</span> </div>
<div class="line"><span class="lineno">  239</span>        current_lightning_layer.generateNewTrees(<a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#aa0077f7f26cd9348d142b05e837e5544">m_overhang_per_layer</a>[layer_id], current_outlines, current_outlines_bbox, outlines_locator, <a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a29a1d080d6e5353d01868478ebbb88cb">m_supporting_radius</a>, <a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#ac41d0b8fde6e078316d5b3f26e745edd">m_wall_supporting_radius</a>, throw_on_cancel_callback);</div>
<div class="line"><span class="lineno">  240</span>        current_lightning_layer.reconnectRoots(to_be_reconnected_tree_roots, current_outlines, current_outlines_bbox, outlines_locator, <a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a29a1d080d6e5353d01868478ebbb88cb">m_supporting_radius</a>, <a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#ac41d0b8fde6e078316d5b3f26e745edd">m_wall_supporting_radius</a>);</div>
<div class="line"><span class="lineno">  241</span> </div>
<div class="line"><span class="lineno">  242</span>        <span class="comment">// Initialize trees for next lower layer from the current one.</span></div>
<div class="line"><span class="lineno">  243</span>        <span class="keywordflow">if</span> (layer_id == 0)</div>
<div class="line"><span class="lineno">  244</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  245</span> </div>
<div class="line"><span class="lineno">  246</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#ae39547681b4c9f15f0d44712cdb01d6a">Polygons</a>&amp; below_outlines = contours[layer_id - 1];</div>
<div class="line"><span class="lineno">  247</span>        BoundingBox     below_outlines_bbox = <a class="code hl_function" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#a51f28b2f8ea7f5695b33315b76c394a6">get_extents</a>(below_outlines).<a class="code hl_function" href="../../d4/d2d/class_slic3r_1_1_bounding_box.html#afdf8cd62dd83f934bac9758e302c3bd1">inflated</a>(<a class="code hl_define" href="../../dd/d47/libslic3r_8h.html#a57f3510310e75de35abd65c9650b49f7">SCALED_EPSILON</a>);</div>
<div class="line"><span class="lineno">  248</span>        <span class="keywordflow">if</span> (<span class="keyword">const</span> BoundingBox&amp; outlines_locator_bbox = outlines_locator.bbox(); outlines_locator_bbox.defined)</div>
<div class="line"><span class="lineno">  249</span>            below_outlines_bbox.<a class="code hl_function" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#af05bfd6f2d56108f60099c6bf5c114ab">merge</a>(outlines_locator_bbox);</div>
<div class="line"><span class="lineno">  250</span> </div>
<div class="line"><span class="lineno">  251</span>        <span class="keywordflow">if</span> (!current_lightning_layer.tree_roots.empty())</div>
<div class="line"><span class="lineno">  252</span>            below_outlines_bbox.merge(<a class="code hl_function" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#a51f28b2f8ea7f5695b33315b76c394a6">get_extents</a>(current_lightning_layer.tree_roots).<a class="code hl_function" href="../../d4/d2d/class_slic3r_1_1_bounding_box.html#afdf8cd62dd83f934bac9758e302c3bd1">inflated</a>(<a class="code hl_define" href="../../dd/d47/libslic3r_8h.html#a57f3510310e75de35abd65c9650b49f7">SCALED_EPSILON</a>));</div>
<div class="line"><span class="lineno">  253</span> </div>
<div class="line"><span class="lineno">  254</span>        outlines_locator.set_bbox(below_outlines_bbox);</div>
<div class="line"><span class="lineno">  255</span>        outlines_locator.create(below_outlines, <a class="code hl_variable" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#ab6c467cafc3a1f9357f60b9742432ad7">locator_cell_size</a>);</div>
<div class="line"><span class="lineno">  256</span> </div>
<div class="line"><span class="lineno">  257</span>        std::vector&lt;NodeSPtr&gt;&amp; lower_trees = <a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a71ceb55e8674fb0afc8af4660faa8a29">m_lightning_layers</a>[layer_id - 1].tree_roots;</div>
<div class="line"><span class="lineno">  258</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; tree : current_lightning_layer.tree_roots)</div>
<div class="line"><span class="lineno">  259</span>            tree-&gt;propagateToNextLayer(lower_trees, below_outlines, outlines_locator, <a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a26f17f105c912fd03b0a0593b55e4f3f">m_prune_length</a>, <a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#ab7aae08c62c725b09d16cd1cbbc891f2">m_straightening_max_distance</a>, <a class="code hl_variable" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#ab6c467cafc3a1f9357f60b9742432ad7">locator_cell_size</a> / 2);</div>
<div class="line"><span class="lineno">  260</span>    }</div>
<div class="line"><span class="lineno">  261</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00159">Slic3r::EdgeGrid::Grid::bbox()</a>, <a class="el" href="../../#l00132">bboxs</a>, <a class="el" href="../../#l00052">Slic3r::EdgeGrid::Grid::create()</a>, <a class="el" href="../../#l00045">Slic3r::FillLightning::Layer::generateNewTrees()</a>, <a class="el" href="../../#l00286">Slic3r::FillLightning::get_extents()</a>, <a class="el" href="../../#l00211">Slic3r::BoundingBox::inflated()</a>, <a class="el" href="../../#l00021">Slic3r::FillLightning::locator_cell_size</a>, <a class="el" href="../../#l00130">m_lightning_layers</a>, <a class="el" href="../../#l00123">m_overhang_per_layer</a>, <a class="el" href="../../#l00106">m_prune_length</a>, <a class="el" href="../../#l00116">m_straightening_max_distance</a>, <a class="el" href="../../#l00088">m_supporting_radius</a>, <a class="el" href="../../#l00097">m_wall_supporting_radius</a>, <a class="el" href="../../#l00067">Slic3r::BoundingBoxBase&lt; PointClass &gt;::merge()</a>, <a class="el" href="../../#l00221">Slic3r::FillLightning::Layer::reconnectRoots()</a>, <a class="el" href="../../#l00084">SCALED_EPSILON</a>, <a class="el" href="../../#l00097">Slic3r::EdgeGrid::Grid::set_bbox()</a>, and <a class="el" href="../../#l00038">Slic3r::FillLightning::Layer::tree_roots</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00092">Generator()</a>.</p>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator_a76bcb6eeba77b67b75efdfb5c19fad6b_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator_a76bcb6eeba77b67b75efdfb5c19fad6b_icgraph.svg" width="403" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a92e284f3c3e578441d4fc7208b13b3b0" name="a92e284f3c3e578441d4fc7208b13b3b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92e284f3c3e578441d4fc7208b13b3b0">&#9670;&#160;</a></span>getTreesForLayer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../d3/dcb/class_slic3r_1_1_fill_lightning_1_1_layer.html">Layer</a> &amp; Slic3r::FillLightning::Generator::getTreesForLayer </td>
          <td>(</td>
          <td class="paramtype">const size_t &amp;&#160;</td>
          <td class="paramname"><em>layer_id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a tree of paths generated for a certain layer of the mesh.</p>
<p>This tree represents the paths that must be traced to print the infill. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">layer_id</td><td>The layer number to get the path tree for. This is within the range of layers of the mesh (not the global layer numbers). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A tree structure representing paths to print to create the Lightning Infill pattern. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  154</span>{</div>
<div class="line"><span class="lineno">  155</span>    assert(layer_id &lt; <a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a71ceb55e8674fb0afc8af4660faa8a29">m_lightning_layers</a>.size());</div>
<div class="line"><span class="lineno">  156</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a71ceb55e8674fb0afc8af4660faa8a29">m_lightning_layers</a>[layer_id];</div>
<div class="line"><span class="lineno">  157</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00130">m_lightning_layers</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00009">Slic3r::FillLightning::Filler::_fill_surface_single()</a>.</p>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator_a92e284f3c3e578441d4fc7208b13b3b0_icgraph.svg" width="391" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a64dc7830d6375770b39eb6720dce979c" name="a64dc7830d6375770b39eb6720dce979c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64dc7830d6375770b39eb6720dce979c">&#9670;&#160;</a></span>infilll_extrusion_width()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Slic3r::FillLightning::Generator::infilll_extrusion_width </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   62</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#aa7a771f324d00c318669e5d5b2ab3f56">m_infill_extrusion_width</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00083">m_infill_extrusion_width</a>.</p>

</div>
</div>
<a id="a890eb02cd8d2c97f285ab73a779e3f53" name="a890eb02cd8d2c97f285ab73a779e3f53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a890eb02cd8d2c97f285ab73a779e3f53">&#9670;&#160;</a></span>Overhangs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="../../de/db8/namespace_slic3r.html#ae39547681b4c9f15f0d44712cdb01d6a">Polygons</a> &gt; &amp; Slic3r::FillLightning::Generator::Overhangs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   60</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#aa0077f7f26cd9348d142b05e837e5544">m_overhang_per_layer</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00123">m_overhang_per_layer</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a17ccab09951694fb49eb3a43e1bd4545" name="a17ccab09951694fb49eb3a43e1bd4545"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17ccab09951694fb49eb3a43e1bd4545">&#9670;&#160;</a></span>bboxs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../d4/d2d/class_slic3r_1_1_bounding_box.html">BoundingBox</a>&gt; Slic3r::FillLightning::Generator::bboxs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00159">generateTrees()</a>, and <a class="el" href="../../#l00215">generateTreesforSupport()</a>.</p>

</div>
</div>
<a id="aa7a771f324d00c318669e5d5b2ab3f56" name="aa7a771f324d00c318669e5d5b2ab3f56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7a771f324d00c318669e5d5b2ab3f56">&#9670;&#160;</a></span>m_infill_extrusion_width</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Slic3r::FillLightning::Generator::m_infill_extrusion_width</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00066">Generator()</a>, <a class="el" href="../../#l00092">Generator()</a>, and <a class="el" href="../../#l00062">infilll_extrusion_width()</a>.</p>

</div>
</div>
<a id="a71ceb55e8674fb0afc8af4660faa8a29" name="a71ceb55e8674fb0afc8af4660faa8a29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71ceb55e8674fb0afc8af4660faa8a29">&#9670;&#160;</a></span>m_lightning_layers</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../d3/dcb/class_slic3r_1_1_fill_lightning_1_1_layer.html">Layer</a>&gt; Slic3r::FillLightning::Generator::m_lightning_layers</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>For each layer, the generated lightning paths.</p>
<p>This is generated by <a class="el" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#ab287acdf9336ac51aadc9e89150866f5">generateTrees</a>. </p>

<p class="reference">Referenced by <a class="el" href="../../#l00159">generateTrees()</a>, <a class="el" href="../../#l00215">generateTreesforSupport()</a>, and <a class="el" href="../../#l00153">getTreesForLayer()</a>.</p>

</div>
</div>
<a id="aa0077f7f26cd9348d142b05e837e5544" name="aa0077f7f26cd9348d142b05e837e5544"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0077f7f26cd9348d142b05e837e5544">&#9670;&#160;</a></span>m_overhang_per_layer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../de/db8/namespace_slic3r.html#ae39547681b4c9f15f0d44712cdb01d6a">Polygons</a>&gt; Slic3r::FillLightning::Generator::m_overhang_per_layer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>For each layer, the overhang that needs to be supported by the pattern.</p>
<p>This is generated by <a class="el" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html#a62b4cac64981187cefee48728b64d3bd">generateInitialInternalOverhangs</a>. </p>

<p class="reference">Referenced by <a class="el" href="../../#l00092">Generator()</a>, <a class="el" href="../../#l00131">generateInitialInternalOverhangs()</a>, <a class="el" href="../../#l00159">generateTrees()</a>, <a class="el" href="../../#l00215">generateTreesforSupport()</a>, and <a class="el" href="../../#l00060">Overhangs()</a>.</p>

</div>
</div>
<a id="a26f17f105c912fd03b0a0593b55e4f3f" name="a26f17f105c912fd03b0a0593b55e4f3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26f17f105c912fd03b0a0593b55e4f3f">&#9670;&#160;</a></span>m_prune_length</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> Slic3r::FillLightning::Generator::m_prune_length</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>How far each piece of infill can support other infill in the layer above.</p>
<p>This may be different than supporting_radius, because the infill is printed with one end floating in mid-air. This endpoint will sag more, so an infill line may need to be supported more than a skin line. </p>

<p class="reference">Referenced by <a class="el" href="../../#l00066">Generator()</a>, <a class="el" href="../../#l00092">Generator()</a>, <a class="el" href="../../#l00159">generateTrees()</a>, and <a class="el" href="../../#l00215">generateTreesforSupport()</a>.</p>

</div>
</div>
<a id="ab7aae08c62c725b09d16cd1cbbc891f2" name="ab7aae08c62c725b09d16cd1cbbc891f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7aae08c62c725b09d16cd1cbbc891f2">&#9670;&#160;</a></span>m_straightening_max_distance</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> Slic3r::FillLightning::Generator::m_straightening_max_distance</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>How far a line may be shifted in order to straighten the line out.</p>
<p>Straightening the line reduces material and time usage and reduces accelerations needed to print the pattern. However it makes the infill weak if lines are partially suspended next to the line on the previous layer. </p>

<p class="reference">Referenced by <a class="el" href="../../#l00066">Generator()</a>, <a class="el" href="../../#l00092">Generator()</a>, <a class="el" href="../../#l00159">generateTrees()</a>, and <a class="el" href="../../#l00215">generateTreesforSupport()</a>.</p>

</div>
</div>
<a id="a29a1d080d6e5353d01868478ebbb88cb" name="a29a1d080d6e5353d01868478ebbb88cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29a1d080d6e5353d01868478ebbb88cb">&#9670;&#160;</a></span>m_supporting_radius</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> Slic3r::FillLightning::Generator::m_supporting_radius</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>How far each piece of infill can support skin in the layer above. </p>

<p class="reference">Referenced by <a class="el" href="../../#l00066">Generator()</a>, <a class="el" href="../../#l00092">Generator()</a>, <a class="el" href="../../#l00159">generateTrees()</a>, and <a class="el" href="../../#l00215">generateTreesforSupport()</a>.</p>

</div>
</div>
<a id="ac41d0b8fde6e078316d5b3f26e745edd" name="ac41d0b8fde6e078316d5b3f26e745edd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac41d0b8fde6e078316d5b3f26e745edd">&#9670;&#160;</a></span>m_wall_supporting_radius</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> Slic3r::FillLightning::Generator::m_wall_supporting_radius</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>How far a wall can support the wall above it. If a wall completely supports the wall above it, no infill needs to support that.</p>
<p>This is similar to the overhang distance calculated for support. It is determined by the lightning_infill_overhang_angle setting. </p>

<p class="reference">Referenced by <a class="el" href="../../#l00066">Generator()</a>, <a class="el" href="../../#l00092">Generator()</a>, <a class="el" href="../../#l00131">generateInitialInternalOverhangs()</a>, <a class="el" href="../../#l00159">generateTrees()</a>, and <a class="el" href="../../#l00215">generateTreesforSupport()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/libslic3r/Fill/Lightning/<a class="el" href="../../">Generator.hpp</a></li>
<li>src/libslic3r/Fill/Lightning/<a class="el" href="../../">Generator.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../de/db8/namespace_slic3r.html">Slic3r</a></li><li class="navelem"><a class="el" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html">FillLightning</a></li><li class="navelem"><a class="el" href="../../d3/d93/class_slic3r_1_1_fill_lightning_1_1_generator.html">Generator</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>
</body>
</html>
