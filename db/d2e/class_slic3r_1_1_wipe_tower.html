<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OrcaSlicer: Slic3r::WipeTower Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../OrcaSlicer_32px.png"/></td>
  <td id="projectalign">
   <div id="projectname">OrcaSlicer<span id="projectnumber">&#160;1.6.3</span>
   </div>
   <div id="projectbrief">OrcaSlicer</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('db/d2e/class_slic3r_1_1_wipe_tower.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../d2/dd1/class_slic3r_1_1_wipe_tower-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Slic3r::WipeTower Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../">src/libslic3r/GCode/WipeTower.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Collaboration diagram for Slic3r::WipeTower:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d6e/class_slic3r_1_1_wipe_tower__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d58/struct_slic3r_1_1_wipe_tower_1_1box__coordinates.html">box_coordinates</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/db3/struct_slic3r_1_1_wipe_tower_1_1_extrusion.html">Extrusion</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:dd/dc0/struct_slic3r_1_1_wipe_tower_1_1_filament_parameters"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#dd/dc0/struct_slic3r_1_1_wipe_tower_1_1_filament_parameters">FilamentParameters</a></td></tr>
<tr class="separator:dd/dc0/struct_slic3r_1_1_wipe_tower_1_1_filament_parameters"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/deb/struct_slic3r_1_1_wipe_tower_1_1_tool_change_result.html">ToolChangeResult</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dab/struct_slic3r_1_1_wipe_tower_1_1_wipe_tower_info.html">WipeTowerInfo</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a75ab0a1719cfcfbee126f8788733575a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/deb/struct_slic3r_1_1_wipe_tower_1_1_tool_change_result.html">ToolChangeResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a75ab0a1719cfcfbee126f8788733575a">construct_tcr</a> (<a class="el" href="../../d6/dcf/class_slic3r_1_1_wipe_tower_writer.html">WipeTowerWriter</a> &amp;writer, bool priming, size_t old_tool, bool is_finish, float purge_volume) const</td></tr>
<tr class="separator:a75ab0a1719cfcfbee126f8788733575a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa85bf8f49ef94bc5bf22f934d4c1067"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#afa85bf8f49ef94bc5bf22f934d4c1067">WipeTower</a> (const PrintConfig &amp;config, <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a> plate_idx, <a class="el" href="../../de/db8/namespace_slic3r.html#a6b8e15a6e63fb72a48bc5e49b8a6f6b1">Vec3d</a> plate_origin, const float wipe_volume, size_t initial_tool, const float wipe_tower_height)</td></tr>
<tr class="separator:afa85bf8f49ef94bc5bf22f934d4c1067"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac346c213c22c66792e67a8e2ac2cbb3e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac346c213c22c66792e67a8e2ac2cbb3e">set_extruder</a> (size_t idx, const PrintConfig &amp;config)</td></tr>
<tr class="separator:ac346c213c22c66792e67a8e2ac2cbb3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc322bb09af389503d6d02da37db9387"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#acc322bb09af389503d6d02da37db9387">plan_toolchange</a> (float z_par, float layer_height_par, unsigned <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a> old_tool, unsigned <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a> new_tool, float wipe_volume=0.<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a>, float prime_volume=0.<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a>)</td></tr>
<tr class="separator:acc322bb09af389503d6d02da37db9387"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaba2eb3a4147fd11a28c045198266777"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aaba2eb3a4147fd11a28c045198266777">generate</a> (std::vector&lt; std::vector&lt; <a class="el" href="../../dc/deb/struct_slic3r_1_1_wipe_tower_1_1_tool_change_result.html">ToolChangeResult</a> &gt; &gt; &amp;result)</td></tr>
<tr class="separator:aaba2eb3a4147fd11a28c045198266777"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ec1205f41bd607390bcbd249c5a8de1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/deb/struct_slic3r_1_1_wipe_tower_1_1_tool_change_result.html">WipeTower::ToolChangeResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5ec1205f41bd607390bcbd249c5a8de1">only_generate_out_wall</a> ()</td></tr>
<tr class="separator:a5ec1205f41bd607390bcbd249c5a8de1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff58a649a7ec0aaa8799604eabd61b74"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aff58a649a7ec0aaa8799604eabd61b74">get_depth</a> () const</td></tr>
<tr class="separator:aff58a649a7ec0aaa8799604eabd61b74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80ce4a094e359bf1746774570f004df3"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a80ce4a094e359bf1746774570f004df3">get_brim_width</a> () const</td></tr>
<tr class="separator:a80ce4a094e359bf1746774570f004df3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04b55b1d62de272b1f5a7a35eaea1412"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a04b55b1d62de272b1f5a7a35eaea1412">get_height</a> () const</td></tr>
<tr class="separator:a04b55b1d62de272b1f5a7a35eaea1412"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4772973acce55c69cf7ca5b9753ceafa"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a4772973acce55c69cf7ca5b9753ceafa">get_layer_height</a> () const</td></tr>
<tr class="separator:a4772973acce55c69cf7ca5b9753ceafa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dcbb5ac2658e1b4dc9aca55c0335ce0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a3dcbb5ac2658e1b4dc9aca55c0335ce0">set_last_layer_extruder_fill</a> (bool extruder_fill)</td></tr>
<tr class="separator:a3dcbb5ac2658e1b4dc9aca55c0335ce0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3bb9f1b19987c3c7e728793794592dd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ae3bb9f1b19987c3c7e728793794592dd">set_layer</a> (float print_z, float <a class="el" href="../../de/db8/namespace_slic3r.html#a3fc0fbbcb45d8a2fef27e26e1289ec21">layer_height</a>, size_t max_tool_changes, bool <a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab1cde0465af2371ac9376601713fcaf4">is_first_layer</a>, bool is_last_layer)</td></tr>
<tr class="separator:ae3bb9f1b19987c3c7e728793794592dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65e948fcc251c173a04e53073e99e211"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a65e948fcc251c173a04e53073e99e211">position</a> () const</td></tr>
<tr class="separator:a65e948fcc251c173a04e53073e99e211"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab86710f19bd0626999645d16dab7b25d"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab86710f19bd0626999645d16dab7b25d">width</a> () const</td></tr>
<tr class="separator:ab86710f19bd0626999645d16dab7b25d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61a7b627517e25eceb55a29cdaefdacb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a61a7b627517e25eceb55a29cdaefdacb">finished</a> () const</td></tr>
<tr class="separator:a61a7b627517e25eceb55a29cdaefdacb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ed6171a6f72b5f024f6373c0ea2fae4"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../dc/deb/struct_slic3r_1_1_wipe_tower_1_1_tool_change_result.html">ToolChangeResult</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5ed6171a6f72b5f024f6373c0ea2fae4">prime</a> (float initial_layer_print_height, const std::vector&lt; unsigned <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt; &amp;tools, bool last_wipe_inside_wipe_tower)</td></tr>
<tr class="separator:a5ed6171a6f72b5f024f6373c0ea2fae4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02c8c689fb5107ac549a295158d96a5d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/deb/struct_slic3r_1_1_wipe_tower_1_1_tool_change_result.html">ToolChangeResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a02c8c689fb5107ac549a295158d96a5d">tool_change</a> (size_t new_tool, bool extrude_perimeter=false, bool first_toolchange_to_nonsoluble=false)</td></tr>
<tr class="separator:a02c8c689fb5107ac549a295158d96a5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37cad24ea51d05edcb6ccde4204d3fba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/deb/struct_slic3r_1_1_wipe_tower_1_1_tool_change_result.html">ToolChangeResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a37cad24ea51d05edcb6ccde4204d3fba">finish_layer</a> (bool extruder_perimeter=true, bool extruder_fill=true)</td></tr>
<tr class="separator:a37cad24ea51d05edcb6ccde4204d3fba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee98daa9ed84d4bfa90b92c826e913eb"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aee98daa9ed84d4bfa90b92c826e913eb">extrusion_flow</a> (float <a class="el" href="../../de/db8/namespace_slic3r.html#a3fc0fbbcb45d8a2fef27e26e1289ec21">layer_height</a>=-1.<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a>) const</td></tr>
<tr class="separator:aee98daa9ed84d4bfa90b92c826e913eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a263d3323766a376a865e56da3176a40e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a263d3323766a376a865e56da3176a40e">get_floating_area</a> (float &amp;start_pos_y, float &amp;end_pos_y) const</td></tr>
<tr class="separator:a263d3323766a376a865e56da3176a40e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7d4e0ff2cb31d0523a6c5f2bb51ce15"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aa7d4e0ff2cb31d0523a6c5f2bb51ce15">need_thick_bridge_flow</a> (float pos_y) const</td></tr>
<tr class="separator:aa7d4e0ff2cb31d0523a6c5f2bb51ce15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf5394b278afd08ebd9c595f244c93e9"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#acf5394b278afd08ebd9c595f244c93e9">get_extrusion_flow</a> () const</td></tr>
<tr class="separator:acf5394b278afd08ebd9c595f244c93e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace4046cd7409e1356c415e3911a949ab"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ace4046cd7409e1356c415e3911a949ab">layer_finished</a> () const</td></tr>
<tr class="separator:ace4046cd7409e1356c415e3911a949ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f143b10f95d9cc5122791589652b9ff"><td class="memItemLeft" align="right" valign="top">std::vector&lt; float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a4f143b10f95d9cc5122791589652b9ff">get_used_filament</a> () const</td></tr>
<tr class="separator:a4f143b10f95d9cc5122791589652b9ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fce8d91bf2bbfa04076ee4b829abbba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a2fce8d91bf2bbfa04076ee4b829abbba">get_number_of_toolchanges</a> () const</td></tr>
<tr class="separator:a2fce8d91bf2bbfa04076ee4b829abbba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a984bd17e162cfaf19285cadffe5d563f"><td class="memItemLeft" align="right" valign="top">static const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a984bd17e162cfaf19285cadffe5d563f">never_skip_tag</a> ()</td></tr>
<tr class="separator:a984bd17e162cfaf19285cadffe5d563f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a345d5bb0b635654a0cd146b822bc5753"><td class="memItemLeft" align="right" valign="top">static const std::map&lt; float, float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a345d5bb0b635654a0cd146b822bc5753">min_depth_per_height</a></td></tr>
<tr class="separator:a345d5bb0b635654a0cd146b822bc5753"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-types" name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a657379b3c9f96819c3dc78a8d81e7d4f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a657379b3c9f96819c3dc78a8d81e7d4f">wipe_shape</a> { <a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a657379b3c9f96819c3dc78a8d81e7d4fa0272eb51694bf77c56b63111f2829b6b">SHAPE_NORMAL</a> = 1
, <a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a657379b3c9f96819c3dc78a8d81e7d4fac35ae63524beb5374e03cfcf862748f6">SHAPE_REVERSED</a> = -1
 }</td></tr>
<tr class="separator:a657379b3c9f96819c3dc78a8d81e7d4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c43338c150e3329b3551ee68f189758"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5c43338c150e3329b3551ee68f189758a77c87b4269359042589774cd76a46951">RectangularBed</a>
, <a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5c43338c150e3329b3551ee68f189758adb90520e207ce427877554e0bfad7afb">CircularBed</a>
, <a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5c43338c150e3329b3551ee68f189758a2c74aeb6a9d2e1cbb5fa421a3bfb9006">CustomBed</a>
 }</td></tr>
<tr class="separator:a5c43338c150e3329b3551ee68f189758"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:abaf41702dc172b64196f4dd316cd7d37"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#abaf41702dc172b64196f4dd316cd7d37">filament_area</a> () const</td></tr>
<tr class="separator:abaf41702dc172b64196f4dd316cd7d37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1cde0465af2371ac9376601713fcaf4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab1cde0465af2371ac9376601713fcaf4">is_first_layer</a> () const</td></tr>
<tr class="separator:ab1cde0465af2371ac9376601713fcaf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0abc0a71c9eb429f49cbe89e90eb22c"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#af0abc0a71c9eb429f49cbe89e90eb22c">volume_to_length</a> (float volume, float line_width, float <a class="el" href="../../de/db8/namespace_slic3r.html#a3fc0fbbcb45d8a2fef27e26e1289ec21">layer_height</a>) const</td></tr>
<tr class="separator:af0abc0a71c9eb429f49cbe89e90eb22c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b216a2f96dee13c69e7c8f98a46c5ae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a0b216a2f96dee13c69e7c8f98a46c5ae">plan_tower</a> ()</td></tr>
<tr class="separator:a0b216a2f96dee13c69e7c8f98a46c5ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afddbc30cff161de665a5295aba8f06c1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#afddbc30cff161de665a5295aba8f06c1">make_wipe_tower_square</a> ()</td></tr>
<tr class="separator:afddbc30cff161de665a5295aba8f06c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38118f226bd66ac4a077c974f92230e6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a38118f226bd66ac4a077c974f92230e6">save_on_last_wipe</a> ()</td></tr>
<tr class="separator:a38118f226bd66ac4a077c974f92230e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb157755bc6c3c9916d424206db2ba7e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/d58/struct_slic3r_1_1_wipe_tower_1_1box__coordinates.html">box_coordinates</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#acb157755bc6c3c9916d424206db2ba7e">align_perimeter</a> (const <a class="el" href="../../d5/d58/struct_slic3r_1_1_wipe_tower_1_1box__coordinates.html">box_coordinates</a> &amp;perimeter_box)</td></tr>
<tr class="separator:acb157755bc6c3c9916d424206db2ba7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6607bbe5e8724ec9f0c7dbbac78f2c63"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a6607bbe5e8724ec9f0c7dbbac78f2c63">first_toolchange_to_nonsoluble_nonsupport</a> (const std::vector&lt; <a class="el" href="../../dc/d59/struct_slic3r_1_1_wipe_tower_1_1_wipe_tower_info_1_1_tool_change.html">WipeTowerInfo::ToolChange</a> &gt; &amp;tool_changes) const</td></tr>
<tr class="separator:a6607bbe5e8724ec9f0c7dbbac78f2c63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9ab22d265bad225aca67b2d301afae1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aa9ab22d265bad225aca67b2d301afae1">toolchange_Unload</a> (<a class="el" href="../../d6/dcf/class_slic3r_1_1_wipe_tower_writer.html">WipeTowerWriter</a> &amp;writer, const <a class="el" href="../../d5/d58/struct_slic3r_1_1_wipe_tower_1_1box__coordinates.html">box_coordinates</a> &amp;cleaning_box, const std::string &amp;current_material, const <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a> new_temperature)</td></tr>
<tr class="separator:aa9ab22d265bad225aca67b2d301afae1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37f6b2c16f87ff7e2e7a6c9fe70590f8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a37f6b2c16f87ff7e2e7a6c9fe70590f8">toolchange_Change</a> (<a class="el" href="../../d6/dcf/class_slic3r_1_1_wipe_tower_writer.html">WipeTowerWriter</a> &amp;writer, const size_t new_tool, const std::string &amp;new_material)</td></tr>
<tr class="separator:a37f6b2c16f87ff7e2e7a6c9fe70590f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ef242b87f4c1e3c29d12662508fbb36"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a7ef242b87f4c1e3c29d12662508fbb36">toolchange_Load</a> (<a class="el" href="../../d6/dcf/class_slic3r_1_1_wipe_tower_writer.html">WipeTowerWriter</a> &amp;writer, const <a class="el" href="../../d5/d58/struct_slic3r_1_1_wipe_tower_1_1box__coordinates.html">box_coordinates</a> &amp;cleaning_box)</td></tr>
<tr class="separator:a7ef242b87f4c1e3c29d12662508fbb36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4871009e91de16f6bd793fde8d77eeb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aa4871009e91de16f6bd793fde8d77eeb">toolchange_Wipe</a> (<a class="el" href="../../d6/dcf/class_slic3r_1_1_wipe_tower_writer.html">WipeTowerWriter</a> &amp;writer, const <a class="el" href="../../d5/d58/struct_slic3r_1_1_wipe_tower_1_1box__coordinates.html">box_coordinates</a> &amp;cleaning_box, float wipe_volume)</td></tr>
<tr class="separator:aa4871009e91de16f6bd793fde8d77eeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a901731d3077a05684e96c9c9e3d0c6f7"><td class="memItemLeft" align="right" valign="top">const float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a901731d3077a05684e96c9c9e3d0c6f7">Width_To_Nozzle_Ratio</a> = 1.25<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td></tr>
<tr class="separator:a901731d3077a05684e96c9c9e3d0c6f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cf052cbfd60f7cf767c8de8604f63a2"><td class="memItemLeft" align="right" valign="top">const float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a2cf052cbfd60f7cf767c8de8604f63a2">WT_EPSILON</a> = 1e-3<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td></tr>
<tr class="separator:a2cf052cbfd60f7cf767c8de8604f63a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5837cb60d203755c0d4687fca281fe4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad5837cb60d203755c0d4687fca281fe4">m_enable_timelapse_print</a> = false</td></tr>
<tr class="separator:ad5837cb60d203755c0d4687fca281fe4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a273404b4c31855e8394153a17bf10dea"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a273404b4c31855e8394153a17bf10dea">m_semm</a> = true</td></tr>
<tr class="separator:a273404b4c31855e8394153a17bf10dea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a172cd00b541bfdaf5c3481af8418698f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a172cd00b541bfdaf5c3481af8418698f">m_wipe_tower_pos</a></td></tr>
<tr class="separator:a172cd00b541bfdaf5c3481af8418698f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff64de9eb31fe773ed3de9c389317692"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aff64de9eb31fe773ed3de9c389317692">m_wipe_tower_width</a></td></tr>
<tr class="separator:aff64de9eb31fe773ed3de9c389317692"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7593647d012a658da21075031ec8cbb"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#af7593647d012a658da21075031ec8cbb">m_wipe_tower_depth</a> = 0.<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td></tr>
<tr class="separator:af7593647d012a658da21075031ec8cbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59f1a53d9531ce1f53d025adf991e619"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a59f1a53d9531ce1f53d025adf991e619">m_wipe_tower_height</a> = 0.<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td></tr>
<tr class="separator:a59f1a53d9531ce1f53d025adf991e619"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a185fe9760806bcc80cd7bfe3d116f30e"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a185fe9760806bcc80cd7bfe3d116f30e">m_wipe_tower_brim_width</a> = 0.<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td></tr>
<tr class="separator:a185fe9760806bcc80cd7bfe3d116f30e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad61517836af040f67544c690f69fa5b1"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad61517836af040f67544c690f69fa5b1">m_wipe_tower_brim_width_real</a> = 0.<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td></tr>
<tr class="separator:ad61517836af040f67544c690f69fa5b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a978c6448996ed86aaa98f0984d339160"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a978c6448996ed86aaa98f0984d339160">m_wipe_tower_rotation_angle</a> = 0.<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td></tr>
<tr class="separator:a978c6448996ed86aaa98f0984d339160"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59a6e9ba9a8694b196a42b5370b9b52c"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a59a6e9ba9a8694b196a42b5370b9b52c">m_internal_rotation</a> = 0.<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td></tr>
<tr class="separator:a59a6e9ba9a8694b196a42b5370b9b52c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a194653c9aca05d7054bc9662586eb753"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a194653c9aca05d7054bc9662586eb753">m_y_shift</a> = 0.<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td></tr>
<tr class="separator:a194653c9aca05d7054bc9662586eb753"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97a2ddd6167f4a5947dcca8856f87349"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a97a2ddd6167f4a5947dcca8856f87349">m_z_pos</a> = 0.<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td></tr>
<tr class="separator:a97a2ddd6167f4a5947dcca8856f87349"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedd2cb7a88fceecab7234e25738934d9"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aedd2cb7a88fceecab7234e25738934d9">m_layer_height</a> = 0.<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td></tr>
<tr class="separator:aedd2cb7a88fceecab7234e25738934d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d9dd7dc482ae17751b32e8a74e21f37"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a4d9dd7dc482ae17751b32e8a74e21f37">m_max_color_changes</a> = 0</td></tr>
<tr class="separator:a4d9dd7dc482ae17751b32e8a74e21f37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a053760416d4d821e17663a1efd7c6d66"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a053760416d4d821e17663a1efd7c6d66">m_old_temperature</a> = -1</td></tr>
<tr class="separator:a053760416d4d821e17663a1efd7c6d66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae12e1a7d382cf4abc9ad9daf5a71abe8"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ae12e1a7d382cf4abc9ad9daf5a71abe8">m_travel_speed</a> = 0.<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td></tr>
<tr class="separator:ae12e1a7d382cf4abc9ad9daf5a71abe8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5e2debf595620b1f47d00c89b2da9f6"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#af5e2debf595620b1f47d00c89b2da9f6">m_first_layer_speed</a> = 0.<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td></tr>
<tr class="separator:af5e2debf595620b1f47d00c89b2da9f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84b159843142ae71fbee5c9ab3d3f057"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a84b159843142ae71fbee5c9ab3d3f057">m_first_layer_idx</a> = size_t(-1)</td></tr>
<tr class="separator:a84b159843142ae71fbee5c9ab3d3f057"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af326ce4e8be1946b56305fc61124cffd"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#af326ce4e8be1946b56305fc61124cffd">m_bridging</a> = 0.<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td></tr>
<tr class="separator:af326ce4e8be1946b56305fc61124cffd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc58b966838e34869997c49c084ff134"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#acc58b966838e34869997c49c084ff134">m_no_sparse_layers</a> = false</td></tr>
<tr class="separator:acc58b966838e34869997c49c084ff134"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4bc6ffa33c4b7011f45d52417220e52"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab4bc6ffa33c4b7011f45d52417220e52">m_adhesion</a> = true</td></tr>
<tr class="separator:ab4bc6ffa33c4b7011f45d52417220e52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b6a79c3bda43c7282a43f7c49a600e8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/db8/namespace_slic3r.html#a02d66b5053fbce6319e225982b3c5a90">GCodeFlavor</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a3b6a79c3bda43c7282a43f7c49a600e8">m_gcode_flavor</a></td></tr>
<tr class="separator:a3b6a79c3bda43c7282a43f7c49a600e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9fb5509cca75858c5317ac715c10e61"><td class="memItemLeft" align="right" valign="top">enum Slic3r::WipeTower:: { ... } &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad9fb5509cca75858c5317ac715c10e61">m_bed_shape</a></td></tr>
<tr class="separator:ad9fb5509cca75858c5317ac715c10e61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf04c99aa1d3a68213d5231f6d0f8f33"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#adf04c99aa1d3a68213d5231f6d0f8f33">m_bed_width</a></td></tr>
<tr class="separator:adf04c99aa1d3a68213d5231f6d0f8f33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa76bfac4be0af57630625d7caf3a8947"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aa76bfac4be0af57630625d7caf3a8947">m_bed_bottom_left</a></td></tr>
<tr class="separator:aa76bfac4be0af57630625d7caf3a8947"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad613f43c74bbfa92b68701a0e46a39c9"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a> = 0.4<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a> * <a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a901731d3077a05684e96c9c9e3d0c6f7">Width_To_Nozzle_Ratio</a></td></tr>
<tr class="separator:ad613f43c74bbfa92b68701a0e46a39c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab09c7e389669846e40a14cc8d4b96b6a"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab09c7e389669846e40a14cc8d4b96b6a">m_extrusion_flow</a> = 0.038<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td></tr>
<tr class="separator:ab09c7e389669846e40a14cc8d4b96b6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a807f28c8077874a2605b6ddf15967f6d"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#dd/dc0/struct_slic3r_1_1_wipe_tower_1_1_filament_parameters">FilamentParameters</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a></td></tr>
<tr class="separator:a807f28c8077874a2605b6ddf15967f6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa6944b3301632b5644cd9723b17663a"><td class="memItemLeft" align="right" valign="top">unsigned <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aaa6944b3301632b5644cd9723b17663a">m_num_layer_changes</a> = 0</td></tr>
<tr class="separator:aaa6944b3301632b5644cd9723b17663a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14ddac69b62e255d31eeef83a5aa174e"><td class="memItemLeft" align="right" valign="top">unsigned <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a14ddac69b62e255d31eeef83a5aa174e">m_num_tool_changes</a> = 0</td></tr>
<tr class="separator:a14ddac69b62e255d31eeef83a5aa174e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a914a8642f6854177f5eda6b75b8494ba"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a914a8642f6854177f5eda6b75b8494ba">m_print_brim</a> = true</td></tr>
<tr class="memdesc:a914a8642f6854177f5eda6b75b8494ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">unsigned int m_idx_tool_change_in_layer = 0; // <a class="el" href="../../d1/d68/class_slic3r_1_1_layer.html">Layer</a> change counter in this layer. Counting up to m_max_color_changes.  <br /></td></tr>
<tr class="separator:a914a8642f6854177f5eda6b75b8494ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8972d431887037663641df24ba9eb56"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a657379b3c9f96819c3dc78a8d81e7d4f">wipe_shape</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad8972d431887037663641df24ba9eb56">m_current_shape</a> = <a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a657379b3c9f96819c3dc78a8d81e7d4fa0272eb51694bf77c56b63111f2829b6b">SHAPE_NORMAL</a></td></tr>
<tr class="separator:ad8972d431887037663641df24ba9eb56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0add01cf87c528ee4c55657cb7e7182"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a> = 0</td></tr>
<tr class="separator:ac0add01cf87c528ee4c55657cb7e7182"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49c2f570e34bbc1f5ba22fa8a898d480"><td class="memItemLeft" align="right" valign="top">const float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a49c2f570e34bbc1f5ba22fa8a898d480">m_wipe_volume</a></td></tr>
<tr class="separator:a49c2f570e34bbc1f5ba22fa8a898d480"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b735ffd9baba25983cab35c4553b72a"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a6b735ffd9baba25983cab35c4553b72a">m_depth_traversed</a> = 0.<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td></tr>
<tr class="separator:a6b735ffd9baba25983cab35c4553b72a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb95f1e30ab1122b344b449d5fb14ec3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#acb95f1e30ab1122b344b449d5fb14ec3">m_current_layer_finished</a> = false</td></tr>
<tr class="separator:acb95f1e30ab1122b344b449d5fb14ec3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d3fe70403312c1f5578b3869d29a1cb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a1d3fe70403312c1f5578b3869d29a1cb">m_left_to_right</a> = true</td></tr>
<tr class="separator:a1d3fe70403312c1f5578b3869d29a1cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeef713f85500b46119e0ec1e888e4a6b"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aeef713f85500b46119e0ec1e888e4a6b">m_extra_spacing</a> = 1.<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td></tr>
<tr class="separator:aeef713f85500b46119e0ec1e888e4a6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cbbce1609e77feb24257799db0502d4"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d0/dab/struct_slic3r_1_1_wipe_tower_1_1_wipe_tower_info.html">WipeTowerInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a></td></tr>
<tr class="separator:a5cbbce1609e77feb24257799db0502d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55f99356e5805bce73727dc1a46af94b"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d0/dab/struct_slic3r_1_1_wipe_tower_1_1_wipe_tower_info.html">WipeTowerInfo</a> &gt;::iterator&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a> = m_plan.end()</td></tr>
<tr class="separator:a55f99356e5805bce73727dc1a46af94b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a334caba8c10043edf751cf008780146b"><td class="memItemLeft" align="right" valign="top">std::vector&lt; float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a334caba8c10043edf751cf008780146b">m_used_filament_length</a></td></tr>
<tr class="separator:a334caba8c10043edf751cf008780146b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"></div><hr/><h2 class="groupheader">Class Documentation</h2>
<a name="dd/dc0/struct_slic3r_1_1_wipe_tower_1_1_filament_parameters" id="dd/dc0/struct_slic3r_1_1_wipe_tower_1_1_filament_parameters"></a>
<h2 class="memtitle"><span class="permalink"><a href="#dd/dc0/struct_slic3r_1_1_wipe_tower_1_1_filament_parameters">&#9670;&#160;</a></span>Slic3r::WipeTower::FilamentParameters</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct Slic3r::WipeTower::FilamentParameters</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"></div><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Collaboration diagram for Slic3r::WipeTower::FilamentParameters:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d1/d57/struct_slic3r_1_1_wipe_tower_1_1_filament_parameters__coll__graph.svg" width="283" height="332"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="aef8643fd57697450f7795d34518e1b42" name="aef8643fd57697450f7795d34518e1b42"></a>float</td>
<td class="fieldname">
filament_area</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ac19c037f09acba9dbcf7f8b07e0240be" name="ac19c037f09acba9dbcf7f8b07e0240be"></a>bool</td>
<td class="fieldname">
is_soluble = false</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a67f8b22ac24a30edddcae417c4f21ff6" name="a67f8b22ac24a30edddcae417c4f21ff6"></a>bool</td>
<td class="fieldname">
is_support = false</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="abbdad7d22cc903f1b77518084601194b" name="abbdad7d22cc903f1b77518084601194b"></a>string</td>
<td class="fieldname">
material = &quot;PLA&quot;</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a9bddf83ec18f38213498c839b1033abc" name="a9bddf83ec18f38213498c839b1033abc"></a>float</td>
<td class="fieldname">
max_e_speed = std::numeric_limits&lt;float&gt;<a class="el" href="../../df/db1/math_8h.html#a5083c48fbfb60dd70808789479f4db53">::max</a>()</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="aa191381e1f884ff9a8180c914aeca217" name="aa191381e1f884ff9a8180c914aeca217"></a>float</td>
<td class="fieldname">
nozzle_diameter</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ae1518a360c1142b33090b09770aca2b6" name="ae1518a360c1142b33090b09770aca2b6"></a><a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a></td>
<td class="fieldname">
nozzle_temperature = 0</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a3e1d5cf40d3222cf3d50ac775217b6f2" name="a3e1d5cf40d3222cf3d50ac775217b6f2"></a><a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a></td>
<td class="fieldname">
nozzle_temperature_initial_layer = 0</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a15c9c765a77224b15e62ea4630024808" name="a15c9c765a77224b15e62ea4630024808"></a>float</td>
<td class="fieldname">
ramming_line_width_multiplicator = 1.<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a57167362cf7f28117b58a8eed445d038" name="a57167362cf7f28117b58a8eed445d038"></a>vector&lt; float &gt;</td>
<td class="fieldname">
ramming_speed</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a3c418c051bf962ddbe84c7306c78503c" name="a3c418c051bf962ddbe84c7306c78503c"></a>float</td>
<td class="fieldname">
ramming_step_multiplicator = 1.<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a5c43338c150e3329b3551ee68f189758" name="a5c43338c150e3329b3551ee68f189758"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c43338c150e3329b3551ee68f189758">&#9670;&#160;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a5c43338c150e3329b3551ee68f189758a77c87b4269359042589774cd76a46951" name="a5c43338c150e3329b3551ee68f189758a77c87b4269359042589774cd76a46951"></a>RectangularBed&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5c43338c150e3329b3551ee68f189758adb90520e207ce427877554e0bfad7afb" name="a5c43338c150e3329b3551ee68f189758adb90520e207ce427877554e0bfad7afb"></a>CircularBed&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5c43338c150e3329b3551ee68f189758a2c74aeb6a9d2e1cbb5fa421a3bfb9006" name="a5c43338c150e3329b3551ee68f189758a2c74aeb6a9d2e1cbb5fa421a3bfb9006"></a>CustomBed&#160;</td><td class="fielddoc"></td></tr>
</table>
<div class="fragment"><div class="line"><span class="lineno">  318</span>         {</div>
<div class="line"><span class="lineno">  319</span>        <a class="code hl_enumvalue" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5c43338c150e3329b3551ee68f189758a77c87b4269359042589774cd76a46951">RectangularBed</a>,</div>
<div class="line"><span class="lineno">  320</span>        <a class="code hl_enumvalue" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5c43338c150e3329b3551ee68f189758adb90520e207ce427877554e0bfad7afb">CircularBed</a>,</div>
<div class="line"><span class="lineno">  321</span>        <a class="code hl_enumvalue" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5c43338c150e3329b3551ee68f189758a2c74aeb6a9d2e1cbb5fa421a3bfb9006">CustomBed</a></div>
<div class="line"><span class="lineno">  322</span>    } <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad9fb5509cca75858c5317ac715c10e61">m_bed_shape</a>;</div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_a5c43338c150e3329b3551ee68f189758a2c74aeb6a9d2e1cbb5fa421a3bfb9006"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5c43338c150e3329b3551ee68f189758a2c74aeb6a9d2e1cbb5fa421a3bfb9006">Slic3r::WipeTower::CustomBed</a></div><div class="ttdeci">@ CustomBed</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:321</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_a5c43338c150e3329b3551ee68f189758a77c87b4269359042589774cd76a46951"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5c43338c150e3329b3551ee68f189758a77c87b4269359042589774cd76a46951">Slic3r::WipeTower::RectangularBed</a></div><div class="ttdeci">@ RectangularBed</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:319</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_a5c43338c150e3329b3551ee68f189758adb90520e207ce427877554e0bfad7afb"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5c43338c150e3329b3551ee68f189758adb90520e207ce427877554e0bfad7afb">Slic3r::WipeTower::CircularBed</a></div><div class="ttdeci">@ CircularBed</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:320</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_ad9fb5509cca75858c5317ac715c10e61"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad9fb5509cca75858c5317ac715c10e61">Slic3r::WipeTower::m_bed_shape</a></div><div class="ttdeci">enum Slic3r::WipeTower::@670 m_bed_shape</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a657379b3c9f96819c3dc78a8d81e7d4f" name="a657379b3c9f96819c3dc78a8d81e7d4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a657379b3c9f96819c3dc78a8d81e7d4f">&#9670;&#160;</a></span>wipe_shape</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a657379b3c9f96819c3dc78a8d81e7d4f">Slic3r::WipeTower::wipe_shape</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a657379b3c9f96819c3dc78a8d81e7d4fa0272eb51694bf77c56b63111f2829b6b" name="a657379b3c9f96819c3dc78a8d81e7d4fa0272eb51694bf77c56b63111f2829b6b"></a>SHAPE_NORMAL&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a657379b3c9f96819c3dc78a8d81e7d4fac35ae63524beb5374e03cfcf862748f6" name="a657379b3c9f96819c3dc78a8d81e7d4fac35ae63524beb5374e03cfcf862748f6"></a>SHAPE_REVERSED&#160;</td><td class="fielddoc"></td></tr>
</table>
<div class="fragment"><div class="line"><span class="lineno">  273</span>  {</div>
<div class="line"><span class="lineno">  274</span>    <a class="code hl_enumvalue" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a657379b3c9f96819c3dc78a8d81e7d4fa0272eb51694bf77c56b63111f2829b6b">SHAPE_NORMAL</a> = 1,</div>
<div class="line"><span class="lineno">  275</span>    <a class="code hl_enumvalue" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a657379b3c9f96819c3dc78a8d81e7d4fac35ae63524beb5374e03cfcf862748f6">SHAPE_REVERSED</a> = -1</div>
<div class="line"><span class="lineno">  276</span>  };</div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_a657379b3c9f96819c3dc78a8d81e7d4fa0272eb51694bf77c56b63111f2829b6b"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a657379b3c9f96819c3dc78a8d81e7d4fa0272eb51694bf77c56b63111f2829b6b">Slic3r::WipeTower::SHAPE_NORMAL</a></div><div class="ttdeci">@ SHAPE_NORMAL</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:274</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_a657379b3c9f96819c3dc78a8d81e7d4fac35ae63524beb5374e03cfcf862748f6"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a657379b3c9f96819c3dc78a8d81e7d4fac35ae63524beb5374e03cfcf862748f6">Slic3r::WipeTower::SHAPE_REVERSED</a></div><div class="ttdeci">@ SHAPE_REVERSED</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:275</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="afa85bf8f49ef94bc5bf22f934d4c1067" name="afa85bf8f49ef94bc5bf22f934d4c1067"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa85bf8f49ef94bc5bf22f934d4c1067">&#9670;&#160;</a></span>WipeTower()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Slic3r::WipeTower::WipeTower </td>
          <td>(</td>
          <td class="paramtype">const PrintConfig &amp;&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>plate_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/db8/namespace_slic3r.html#a6b8e15a6e63fb72a48bc5e49b8a6f6b1">Vec3d</a>&#160;</td>
          <td class="paramname"><em>plate_origin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>wipe_volume</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>initial_tool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>wipe_tower_height</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  602</span>                                                                                                                                                               :</div>
<div class="line"><span class="lineno">  603</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a273404b4c31855e8394153a17bf10dea">m_semm</a>(config.single_extruder_multi_material.value),</div>
<div class="line"><span class="lineno">  604</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a172cd00b541bfdaf5c3481af8418698f">m_wipe_tower_pos</a>(config.wipe_tower_x.get_at(plate_idx), config.wipe_tower_y.get_at(plate_idx)),</div>
<div class="line"><span class="lineno">  605</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aff64de9eb31fe773ed3de9c389317692">m_wipe_tower_width</a>(<span class="keywordtype">float</span>(config.prime_tower_width)),</div>
<div class="line"><span class="lineno">  606</span>    <span class="comment">// BBS</span></div>
<div class="line"><span class="lineno">  607</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a59f1a53d9531ce1f53d025adf991e619">m_wipe_tower_height</a>(wipe_tower_height),</div>
<div class="line"><span class="lineno">  608</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a978c6448996ed86aaa98f0984d339160">m_wipe_tower_rotation_angle</a>(<span class="keywordtype">float</span>(config.wipe_tower_rotation_angle)),</div>
<div class="line"><span class="lineno">  609</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a185fe9760806bcc80cd7bfe3d116f30e">m_wipe_tower_brim_width</a>(<span class="keywordtype">float</span>(config.prime_tower_brim_width)),</div>
<div class="line"><span class="lineno">  610</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a194653c9aca05d7054bc9662586eb753">m_y_shift</a>(0.f),</div>
<div class="line"><span class="lineno">  611</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a97a2ddd6167f4a5947dcca8856f87349">m_z_pos</a>(0.f),</div>
<div class="line"><span class="lineno">  612</span>    <span class="comment">//m_bridging(float(config.wipe_tower_bridging)),</span></div>
<div class="line"><span class="lineno">  613</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#af326ce4e8be1946b56305fc61124cffd">m_bridging</a>(10.f),</div>
<div class="line"><span class="lineno">  614</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#acc58b966838e34869997c49c084ff134">m_no_sparse_layers</a>(config.wipe_tower_no_sparse_layers),</div>
<div class="line"><span class="lineno">  615</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a3b6a79c3bda43c7282a43f7c49a600e8">m_gcode_flavor</a>(config.gcode_flavor),</div>
<div class="line"><span class="lineno">  616</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ae12e1a7d382cf4abc9ad9daf5a71abe8">m_travel_speed</a>(config.travel_speed),</div>
<div class="line"><span class="lineno">  617</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a>(initial_tool),</div>
<div class="line"><span class="lineno">  618</span>    <span class="comment">//wipe_volumes(flush_matrix)</span></div>
<div class="line"><span class="lineno">  619</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a49c2f570e34bbc1f5ba22fa8a898d480">m_wipe_volume</a>(prime_volume),</div>
<div class="line"><span class="lineno">  620</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad5837cb60d203755c0d4687fca281fe4">m_enable_timelapse_print</a>(config.timelapse_type.value == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6b9b5e55b66ef4ae8d7fd0ec8f13644ea1bcf79276debe5a929b1722a10f7b88f">TimelapseType::tlSmooth</a>)</div>
<div class="line"><span class="lineno">  621</span>{</div>
<div class="line"><span class="lineno">  622</span>    <span class="comment">// Read absolute value of first layer speed, if given as percentage,</span></div>
<div class="line"><span class="lineno">  623</span>    <span class="comment">// it is taken over following default. Speeds from config are not</span></div>
<div class="line"><span class="lineno">  624</span>    <span class="comment">// easily accessible here.</span></div>
<div class="line"><span class="lineno">  625</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> default_speed = 60.f;</div>
<div class="line"><span class="lineno">  626</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#af5e2debf595620b1f47d00c89b2da9f6">m_first_layer_speed</a> = config.get_abs_value(<span class="stringliteral">&quot;initial_layer_speed&quot;</span>);</div>
<div class="line"><span class="lineno">  627</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#af5e2debf595620b1f47d00c89b2da9f6">m_first_layer_speed</a> == 0.f) <span class="comment">// just to make sure autospeed doesn&#39;t break it.</span></div>
<div class="line"><span class="lineno">  628</span>        <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#af5e2debf595620b1f47d00c89b2da9f6">m_first_layer_speed</a> = default_speed / 2.f;</div>
<div class="line"><span class="lineno">  629</span> </div>
<div class="line"><span class="lineno">  630</span>    <span class="comment">// If this is a single extruder MM printer, we will use all the SE-specific config values.</span></div>
<div class="line"><span class="lineno">  631</span>    <span class="comment">// Otherwise, the defaults will be used to turn off the SE stuff.</span></div>
<div class="line"><span class="lineno">  632</span>    <span class="comment">// BBS: remove useless config</span></div>
<div class="line"><span class="lineno">  633</span><span class="preprocessor">#if 0</span></div>
<div class="line"><span class="lineno">  634</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a273404b4c31855e8394153a17bf10dea">m_semm</a>) {</div>
<div class="line"><span class="lineno">  635</span>        m_cooling_tube_retraction = float(config.cooling_tube_retraction);</div>
<div class="line"><span class="lineno">  636</span>        m_cooling_tube_length     = float(config.cooling_tube_length);</div>
<div class="line"><span class="lineno">  637</span>        m_parking_pos_retraction  = float(config.parking_pos_retraction);</div>
<div class="line"><span class="lineno">  638</span>        m_extra_loading_move      = float(config.extra_loading_move);</div>
<div class="line"><span class="lineno">  639</span>        m_set_extruder_trimpot    = config.high_current_on_filament_swap;</div>
<div class="line"><span class="lineno">  640</span>    }</div>
<div class="line"><span class="lineno">  641</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  642</span>    <span class="comment">// Calculate where the priming lines should be - very naive test not detecting parallelograms etc.</span></div>
<div class="line"><span class="lineno">  643</span>    <span class="keyword">const</span> std::vector&lt;Vec2d&gt;&amp; bed_points = config.printable_area.values;</div>
<div class="line"><span class="lineno">  644</span>    BoundingBoxf bb(bed_points);</div>
<div class="line"><span class="lineno">  645</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#adf04c99aa1d3a68213d5231f6d0f8f33">m_bed_width</a> = float(bb.size().x());</div>
<div class="line"><span class="lineno">  646</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad9fb5509cca75858c5317ac715c10e61">m_bed_shape</a> = (bed_points.size() == 4 ? <a class="code hl_enumvalue" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5c43338c150e3329b3551ee68f189758a77c87b4269359042589774cd76a46951">RectangularBed</a> : <a class="code hl_enumvalue" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5c43338c150e3329b3551ee68f189758adb90520e207ce427877554e0bfad7afb">CircularBed</a>);</div>
<div class="line"><span class="lineno">  647</span> </div>
<div class="line"><span class="lineno">  648</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad9fb5509cca75858c5317ac715c10e61">m_bed_shape</a> == <a class="code hl_enumvalue" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5c43338c150e3329b3551ee68f189758adb90520e207ce427877554e0bfad7afb">CircularBed</a>) {</div>
<div class="line"><span class="lineno">  649</span>        <span class="comment">// this may still be a custom bed, check that the points are roughly on a circle</span></div>
<div class="line"><span class="lineno">  650</span>        <span class="keywordtype">double</span> r2 = std::pow(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#adf04c99aa1d3a68213d5231f6d0f8f33">m_bed_width</a>/2., 2.);</div>
<div class="line"><span class="lineno">  651</span>        <span class="keywordtype">double</span> lim2 = std::pow(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#adf04c99aa1d3a68213d5231f6d0f8f33">m_bed_width</a>/10., 2.);</div>
<div class="line"><span class="lineno">  652</span>        <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a> center = bb.center();</div>
<div class="line"><span class="lineno">  653</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a>&amp; pt : bed_points)</div>
<div class="line"><span class="lineno">  654</span>            if (<a class="code hl_namespace" href="../../d8/dcc/namespacestd.html">std</a>::<a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a03f37f7cb0691e122e6181b6891280e2">abs</a>(<a class="code hl_namespace" href="../../d8/dcc/namespacestd.html">std</a>::<a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(pt.<a class="code hl_function" href="../../df/d4e/namespacelibnest2d_1_1pointlike.html#a1e3045df0bee66333beaa96a9a1b6c9d">x</a>()-center.<a class="code hl_function" href="../../df/d4e/namespacelibnest2d_1_1pointlike.html#a1e3045df0bee66333beaa96a9a1b6c9d">x</a>(), 2.) + <a class="code hl_namespace" href="../../d8/dcc/namespacestd.html">std</a>::<a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(pt.<a class="code hl_variable" href="../../d7/dc9/namespace_eigen_1_1internal.html#a3cc80fc03610837da180f7e6d8e7b3ec">y</a>()-center.<a class="code hl_variable" href="../../d7/dc9/namespace_eigen_1_1internal.html#a3cc80fc03610837da180f7e6d8e7b3ec">y</a>(), 2.) - r2) &gt; lim2) {</div>
<div class="line"><span class="lineno">  655</span>                <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad9fb5509cca75858c5317ac715c10e61">m_bed_shape</a> = <a class="code hl_enumvalue" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5c43338c150e3329b3551ee68f189758a2c74aeb6a9d2e1cbb5fa421a3bfb9006">CustomBed</a>;</div>
<div class="line"><span class="lineno">  656</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  657</span>            }</div>
<div class="line"><span class="lineno">  658</span>    }</div>
<div class="line"><span class="lineno">  659</span> </div>
<div class="line"><span class="lineno">  660</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aa76bfac4be0af57630625d7caf3a8947">m_bed_bottom_left</a> = <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad9fb5509cca75858c5317ac715c10e61">m_bed_shape</a> == <a class="code hl_enumvalue" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5c43338c150e3329b3551ee68f189758a77c87b4269359042589774cd76a46951">RectangularBed</a></div>
<div class="line"><span class="lineno">  661</span>                  ? <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a>(bed_points.front().x(), bed_points.front().y())</div>
<div class="line"><span class="lineno">  662</span>                  : <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a>::Zero();</div>
<div class="line"><span class="lineno">  663</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_a172cd00b541bfdaf5c3481af8418698f"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a172cd00b541bfdaf5c3481af8418698f">Slic3r::WipeTower::m_wipe_tower_pos</a></div><div class="ttdeci">Vec2f m_wipe_tower_pos</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:286</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_a185fe9760806bcc80cd7bfe3d116f30e"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a185fe9760806bcc80cd7bfe3d116f30e">Slic3r::WipeTower::m_wipe_tower_brim_width</a></div><div class="ttdeci">float m_wipe_tower_brim_width</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:291</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_a194653c9aca05d7054bc9662586eb753"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a194653c9aca05d7054bc9662586eb753">Slic3r::WipeTower::m_y_shift</a></div><div class="ttdeci">float m_y_shift</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:295</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_a273404b4c31855e8394153a17bf10dea"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a273404b4c31855e8394153a17bf10dea">Slic3r::WipeTower::m_semm</a></div><div class="ttdeci">bool m_semm</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:285</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_a3b6a79c3bda43c7282a43f7c49a600e8"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a3b6a79c3bda43c7282a43f7c49a600e8">Slic3r::WipeTower::m_gcode_flavor</a></div><div class="ttdeci">GCodeFlavor m_gcode_flavor</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:315</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_a49c2f570e34bbc1f5ba22fa8a898d480"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a49c2f570e34bbc1f5ba22fa8a898d480">Slic3r::WipeTower::m_wipe_volume</a></div><div class="ttdeci">const float m_wipe_volume</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:343</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_a59f1a53d9531ce1f53d025adf991e619"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a59f1a53d9531ce1f53d025adf991e619">Slic3r::WipeTower::m_wipe_tower_height</a></div><div class="ttdeci">float m_wipe_tower_height</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:290</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_a978c6448996ed86aaa98f0984d339160"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a978c6448996ed86aaa98f0984d339160">Slic3r::WipeTower::m_wipe_tower_rotation_angle</a></div><div class="ttdeci">float m_wipe_tower_rotation_angle</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:293</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_a97a2ddd6167f4a5947dcca8856f87349"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a97a2ddd6167f4a5947dcca8856f87349">Slic3r::WipeTower::m_z_pos</a></div><div class="ttdeci">float m_z_pos</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:296</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_aa76bfac4be0af57630625d7caf3a8947"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aa76bfac4be0af57630625d7caf3a8947">Slic3r::WipeTower::m_bed_bottom_left</a></div><div class="ttdeci">Vec2f m_bed_bottom_left</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:324</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_ac0add01cf87c528ee4c55657cb7e7182"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">Slic3r::WipeTower::m_current_tool</a></div><div class="ttdeci">size_t m_current_tool</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:340</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_acc58b966838e34869997c49c084ff134"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#acc58b966838e34869997c49c084ff134">Slic3r::WipeTower::m_no_sparse_layers</a></div><div class="ttdeci">bool m_no_sparse_layers</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:311</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_ad5837cb60d203755c0d4687fca281fe4"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad5837cb60d203755c0d4687fca281fe4">Slic3r::WipeTower::m_enable_timelapse_print</a></div><div class="ttdeci">bool m_enable_timelapse_print</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:284</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_adf04c99aa1d3a68213d5231f6d0f8f33"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#adf04c99aa1d3a68213d5231f6d0f8f33">Slic3r::WipeTower::m_bed_width</a></div><div class="ttdeci">float m_bed_width</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:323</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_ae12e1a7d382cf4abc9ad9daf5a71abe8"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ae12e1a7d382cf4abc9ad9daf5a71abe8">Slic3r::WipeTower::m_travel_speed</a></div><div class="ttdeci">float m_travel_speed</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:300</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_af326ce4e8be1946b56305fc61124cffd"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#af326ce4e8be1946b56305fc61124cffd">Slic3r::WipeTower::m_bridging</a></div><div class="ttdeci">float m_bridging</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:310</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_af5e2debf595620b1f47d00c89b2da9f6"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#af5e2debf595620b1f47d00c89b2da9f6">Slic3r::WipeTower::m_first_layer_speed</a></div><div class="ttdeci">float m_first_layer_speed</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:301</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_aff64de9eb31fe773ed3de9c389317692"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aff64de9eb31fe773ed3de9c389317692">Slic3r::WipeTower::m_wipe_tower_width</a></div><div class="ttdeci">float m_wipe_tower_width</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:287</div></div>
<div class="ttc" id="anamespace_eigen_1_1half__impl_html_a03f37f7cb0691e122e6181b6891280e2"><div class="ttname"><a href="../../d6/d88/namespace_eigen_1_1half__impl.html#a03f37f7cb0691e122e6181b6891280e2">Eigen::half_impl::abs</a></div><div class="ttdeci">EIGEN_STRONG_INLINE EIGEN_DEVICE_FUNC half abs(const half &amp;a)</div><div class="ttdef"><b>Definition</b> Half.h:445</div></div>
<div class="ttc" id="anamespace_eigen_1_1half__impl_html_a829ad00a9c93131d5a8342b4ee29d83d"><div class="ttname"><a href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">Eigen::half_impl::pow</a></div><div class="ttdeci">EIGEN_STRONG_INLINE EIGEN_DEVICE_FUNC half pow(const half &amp;a, const half &amp;b)</div><div class="ttdef"><b>Definition</b> Half.h:477</div></div>
<div class="ttc" id="anamespace_eigen_1_1internal_html_a3cc80fc03610837da180f7e6d8e7b3ec"><div class="ttname"><a href="../../d7/dc9/namespace_eigen_1_1internal.html#a3cc80fc03610837da180f7e6d8e7b3ec">Eigen::internal::y</a></div><div class="ttdeci">const Scalar &amp; y</div><div class="ttdef"><b>Definition</b> MathFunctions.h:552</div></div>
<div class="ttc" id="anamespace_slic3r_html_a40e8e384542f32f8150cabd3db031651"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Slic3r::Vec2d</a></div><div class="ttdeci">Eigen::Matrix&lt; double, 2, 1, Eigen::DontAlign &gt; Vec2d</div><div class="ttdef"><b>Definition</b> Point.hpp:45</div></div>
<div class="ttc" id="anamespace_slic3r_html_a6b9b5e55b66ef4ae8d7fd0ec8f13644ea1bcf79276debe5a929b1722a10f7b88f"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a6b9b5e55b66ef4ae8d7fd0ec8f13644ea1bcf79276debe5a929b1722a10f7b88f">Slic3r::tlSmooth</a></div><div class="ttdeci">@ tlSmooth</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:168</div></div>
<div class="ttc" id="anamespace_slic3r_html_abe1c34afe5a07b8b1a7823ecfe2d1722"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Slic3r::Vec2f</a></div><div class="ttdeci">Eigen::Matrix&lt; float, 2, 1, Eigen::DontAlign &gt; Vec2f</div><div class="ttdef"><b>Definition</b> Point.hpp:43</div></div>
<div class="ttc" id="anamespacelibnest2d_1_1pointlike_html_a1e3045df0bee66333beaa96a9a1b6c9d"><div class="ttname"><a href="../../df/d4e/namespacelibnest2d_1_1pointlike.html#a1e3045df0bee66333beaa96a9a1b6c9d">libnest2d::pointlike::x</a></div><div class="ttdeci">TCoord&lt; P &gt; x(const P &amp;p)</div><div class="ttdef"><b>Definition</b> geometry_traits.hpp:310</div></div>
<div class="ttc" id="anamespacestd_html"><div class="ttname"><a href="../../d8/dcc/namespacestd.html">std</a></div><div class="ttdoc">STL namespace.</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00225">Slic3r::BoundingBoxBase&lt; PointClass &gt;::center()</a>, <a class="el" href="../../#l00320">CircularBed</a>, <a class="el" href="../../#l00321">CustomBed</a>, <a class="el" href="../../#l00324">m_bed_bottom_left</a>, <a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad9fb5509cca75858c5317ac715c10e61">m_bed_shape</a>, <a class="el" href="../../#l00323">m_bed_width</a>, <a class="el" href="../../#l00301">m_first_layer_speed</a>, <a class="el" href="../../#l00285">m_semm</a>, <a class="el" href="../../#l00319">RectangularBed</a>, and <a class="el" href="../../#l00170">Slic3r::BoundingBoxBase&lt; PointClass &gt;::size()</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_afa85bf8f49ef94bc5bf22f934d4c1067_cgraph.svg" width="458" height="118"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="acb157755bc6c3c9916d424206db2ba7e" name="acb157755bc6c3c9916d424206db2ba7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb157755bc6c3c9916d424206db2ba7e">&#9670;&#160;</a></span>align_perimeter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/d58/struct_slic3r_1_1_wipe_tower_1_1box__coordinates.html">WipeTower::box_coordinates</a> Slic3r::WipeTower::align_perimeter </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d5/d58/struct_slic3r_1_1_wipe_tower_1_1box__coordinates.html">box_coordinates</a> &amp;&#160;</td>
          <td class="paramname"><em>perimeter_box</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1155</span>{</div>
<div class="line"><span class="lineno"> 1156</span>    box_coordinates aligned_box = perimeter_box;</div>
<div class="line"><span class="lineno"> 1157</span> </div>
<div class="line"><span class="lineno"> 1158</span>    <span class="keywordtype">float</span> spacing = <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aeef713f85500b46119e0ec1e888e4a6b">m_extra_spacing</a> * <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>;</div>
<div class="line"><span class="lineno"> 1159</span>    <span class="keywordtype">float</span> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a46c48bec0d282018b9d167eef7711b2c">up</a> = perimeter_box.lu(1) - <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>;</div>
<div class="line"><span class="lineno"> 1160</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a46c48bec0d282018b9d167eef7711b2c">up</a> = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a20ce8e7ddd6b5cc5cff169921a34a8da">align_ceil</a>(up, spacing);</div>
<div class="line"><span class="lineno"> 1161</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a46c48bec0d282018b9d167eef7711b2c">up</a> += <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>;</div>
<div class="line"><span class="lineno"> 1162</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a46c48bec0d282018b9d167eef7711b2c">up</a> = std::min(up, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#af7593647d012a658da21075031ec8cbb">m_wipe_tower_depth</a>);</div>
<div class="line"><span class="lineno"> 1163</span> </div>
<div class="line"><span class="lineno"> 1164</span>    <span class="keywordtype">float</span> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a74e8333ad11685ff3bdae589c8f6e34d">down</a> = perimeter_box.ld(1) - <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>;</div>
<div class="line"><span class="lineno"> 1165</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a74e8333ad11685ff3bdae589c8f6e34d">down</a> = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1317b69cbb4803d1556df6aee7f1b34f">align_floor</a>(down, spacing);</div>
<div class="line"><span class="lineno"> 1166</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a74e8333ad11685ff3bdae589c8f6e34d">down</a> += <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>;</div>
<div class="line"><span class="lineno"> 1167</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a74e8333ad11685ff3bdae589c8f6e34d">down</a> = std::max(down, -<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a194653c9aca05d7054bc9662586eb753">m_y_shift</a>);</div>
<div class="line"><span class="lineno"> 1168</span> </div>
<div class="line"><span class="lineno"> 1169</span>    aligned_box.lu(1) = aligned_box.ru(1) = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a46c48bec0d282018b9d167eef7711b2c">up</a>;</div>
<div class="line"><span class="lineno"> 1170</span>    aligned_box.ld(1) = aligned_box.rd(1) = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a74e8333ad11685ff3bdae589c8f6e34d">down</a>;</div>
<div class="line"><span class="lineno"> 1171</span> </div>
<div class="line"><span class="lineno"> 1172</span>    <span class="keywordflow">return</span> aligned_box;</div>
<div class="line"><span class="lineno"> 1173</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_ad613f43c74bbfa92b68701a0e46a39c9"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">Slic3r::WipeTower::m_perimeter_width</a></div><div class="ttdeci">float m_perimeter_width</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:326</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_aeef713f85500b46119e0ec1e888e4a6b"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aeef713f85500b46119e0ec1e888e4a6b">Slic3r::WipeTower::m_extra_spacing</a></div><div class="ttdeci">float m_extra_spacing</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:348</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_af7593647d012a658da21075031ec8cbb"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#af7593647d012a658da21075031ec8cbb">Slic3r::WipeTower::m_wipe_tower_depth</a></div><div class="ttdeci">float m_wipe_tower_depth</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:288</div></div>
<div class="ttc" id="anamespace_slic3r_html_a1317b69cbb4803d1556df6aee7f1b34f"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a1317b69cbb4803d1556df6aee7f1b34f">Slic3r::align_floor</a></div><div class="ttdeci">float align_floor(float value, float base)</div><div class="ttdef"><b>Definition</b> WipeTower.cpp:28</div></div>
<div class="ttc" id="anamespace_slic3r_html_a20ce8e7ddd6b5cc5cff169921a34a8da"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a20ce8e7ddd6b5cc5cff169921a34a8da">Slic3r::align_ceil</a></div><div class="ttdeci">float align_ceil(float value, float base)</div><div class="ttdef"><b>Definition</b> WipeTower.cpp:23</div></div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_ad1b266b182e7c12ec61378819e3785f1a46c48bec0d282018b9d167eef7711b2c"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a46c48bec0d282018b9d167eef7711b2c">marchsq::__impl::Dir::up</a></div><div class="ttdeci">@ up</div></div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_ad1b266b182e7c12ec61378819e3785f1a74e8333ad11685ff3bdae589c8f6e34d"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a74e8333ad11685ff3bdae589c8f6e34d">marchsq::__impl::Dir::down</a></div><div class="ttdeci">@ down</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00023">Slic3r::align_ceil()</a>, <a class="el" href="../../#l00028">Slic3r::align_floor()</a>, <a class="el" href="../../#l00123">Slic3r::WipeTower::box_coordinates::ld</a>, <a class="el" href="../../#l00124">Slic3r::WipeTower::box_coordinates::lu</a>, <a class="el" href="../../#l00348">m_extra_spacing</a>, <a class="el" href="../../#l00326">m_perimeter_width</a>, <a class="el" href="../../#l00288">m_wipe_tower_depth</a>, <a class="el" href="../../#l00295">m_y_shift</a>, <a class="el" href="../../#l00125">Slic3r::WipeTower::box_coordinates::rd</a>, and <a class="el" href="../../#l00126">Slic3r::WipeTower::box_coordinates::ru</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01175">finish_layer()</a>, <a class="el" href="../../#l01664">only_generate_out_wall()</a>, and <a class="el" href="../../#l00735">tool_change()</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_acb157755bc6c3c9916d424206db2ba7e_cgraph.svg" width="316" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_acb157755bc6c3c9916d424206db2ba7e_icgraph.svg" width="100%" height="440"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a75ab0a1719cfcfbee126f8788733575a" name="a75ab0a1719cfcfbee126f8788733575a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75ab0a1719cfcfbee126f8788733575a">&#9670;&#160;</a></span>construct_tcr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/deb/struct_slic3r_1_1_wipe_tower_1_1_tool_change_result.html">WipeTower::ToolChangeResult</a> Slic3r::WipeTower::construct_tcr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/dcf/class_slic3r_1_1_wipe_tower_writer.html">WipeTowerWriter</a> &amp;&#160;</td>
          <td class="paramname"><em>writer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>priming</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>old_tool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_finish</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>purge_volume</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  578</span>{</div>
<div class="line"><span class="lineno">  579</span>    ToolChangeResult result;</div>
<div class="line"><span class="lineno">  580</span>    result.priming      = priming;</div>
<div class="line"><span class="lineno">  581</span>    result.initial_tool = <a class="code hl_variable" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>(old_tool);</div>
<div class="line"><span class="lineno">  582</span>    result.new_tool     = <a class="code hl_variable" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a>);</div>
<div class="line"><span class="lineno">  583</span>    result.print_z      = <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a97a2ddd6167f4a5947dcca8856f87349">m_z_pos</a>;</div>
<div class="line"><span class="lineno">  584</span>    result.layer_height = <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aedd2cb7a88fceecab7234e25738934d9">m_layer_height</a>;</div>
<div class="line"><span class="lineno">  585</span>    result.elapsed_time = writer.elapsed_time();</div>
<div class="line"><span class="lineno">  586</span>    result.start_pos    = writer.start_pos_rotated();</div>
<div class="line"><span class="lineno">  587</span>    result.end_pos      = priming ? writer.pos() : writer.pos_rotated();</div>
<div class="line"><span class="lineno">  588</span>    result.gcode        = std::move(writer.gcode());</div>
<div class="line"><span class="lineno">  589</span>    result.extrusions   = std::move(writer.extrusions());</div>
<div class="line"><span class="lineno">  590</span>    result.wipe_path    = std::move(writer.wipe_path());</div>
<div class="line"><span class="lineno">  591</span>    result.is_finish_first = is_finish;</div>
<div class="line"><span class="lineno">  592</span>    <span class="comment">// BBS</span></div>
<div class="line"><span class="lineno">  593</span>    result.purge_volume = purge_volume;</div>
<div class="line"><span class="lineno">  594</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  595</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_aedd2cb7a88fceecab7234e25738934d9"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aedd2cb7a88fceecab7234e25738934d9">Slic3r::WipeTower::m_layer_height</a></div><div class="ttdeci">float m_layer_height</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:297</div></div>
<div class="ttc" id="alzoconf_8h_html_a61569f2965b7a369eb10b6d75d410d11"><div class="ttname"><a href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a></div><div class="ttdeci">int</div><div class="ttdef"><b>Definition</b> lzoconf.h:340</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00168">Slic3r::WipeTowerWriter::elapsed_time()</a>, <a class="el" href="../../#l00058">Slic3r::WipeTower::ToolChangeResult::elapsed_time</a>, <a class="el" href="../../#l00055">Slic3r::WipeTower::ToolChangeResult::end_pos</a>, <a class="el" href="../../#l00162">Slic3r::WipeTowerWriter::extrusions()</a>, <a class="el" href="../../#l00049">Slic3r::WipeTower::ToolChangeResult::extrusions</a>, <a class="el" href="../../#l00161">Slic3r::WipeTowerWriter::gcode()</a>, <a class="el" href="../../#l00047">Slic3r::WipeTower::ToolChangeResult::gcode</a>, <a class="el" href="../../#l00074">Slic3r::WipeTower::ToolChangeResult::initial_tool</a>, <a class="el" href="../../#l00340">int</a>, <a class="el" href="../../#l00082">Slic3r::WipeTower::ToolChangeResult::is_finish_first</a>, <a class="el" href="../../#l00045">Slic3r::WipeTower::ToolChangeResult::layer_height</a>, <a class="el" href="../../#l00340">m_current_tool</a>, <a class="el" href="../../#l00297">m_layer_height</a>, <a class="el" href="../../#l00296">m_z_pos</a>, <a class="el" href="../../#l00077">Slic3r::WipeTower::ToolChangeResult::new_tool</a>, <a class="el" href="../../#l00165">Slic3r::WipeTowerWriter::pos()</a>, <a class="el" href="../../#l00167">Slic3r::WipeTowerWriter::pos_rotated()</a>, <a class="el" href="../../#l00061">Slic3r::WipeTower::ToolChangeResult::priming</a>, <a class="el" href="../../#l00044">Slic3r::WipeTower::ToolChangeResult::print_z</a>, <a class="el" href="../../#l00071">Slic3r::WipeTower::ToolChangeResult::purge_volume</a>, <a class="el" href="../../#l00052">Slic3r::WipeTower::ToolChangeResult::start_pos</a>, <a class="el" href="../../#l00166">Slic3r::WipeTowerWriter::start_pos_rotated()</a>, <a class="el" href="../../#l00488">Slic3r::WipeTowerWriter::wipe_path()</a>, and <a class="el" href="../../#l00068">Slic3r::WipeTower::ToolChangeResult::wipe_path</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01175">finish_layer()</a>, <a class="el" href="../../#l01664">only_generate_out_wall()</a>, and <a class="el" href="../../#l00735">tool_change()</a>.</p>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_a75ab0a1719cfcfbee126f8788733575a_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_a75ab0a1719cfcfbee126f8788733575a_icgraph.svg" width="100%" height="440"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aee98daa9ed84d4bfa90b92c826e913eb" name="aee98daa9ed84d4bfa90b92c826e913eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee98daa9ed84d4bfa90b92c826e913eb">&#9670;&#160;</a></span>extrusion_flow()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Slic3r::WipeTower::extrusion_flow </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>layer_height</em> = <code>-1.<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  230</span>    {</div>
<div class="line"><span class="lineno">  231</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a3fc0fbbcb45d8a2fef27e26e1289ec21">layer_height</a> &lt; 0) <span class="keywordflow">return</span> <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab09c7e389669846e40a14cc8d4b96b6a">m_extrusion_flow</a>;</div>
<div class="line"><span class="lineno">  232</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a3fc0fbbcb45d8a2fef27e26e1289ec21">layer_height</a> * (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a> - <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a3fc0fbbcb45d8a2fef27e26e1289ec21">layer_height</a> * (1.f - float(<a class="code hl_define" href="../../de/ddd/_extrusion_simulator_8cpp.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>) / 4.f)) / <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#abaf41702dc172b64196f4dd316cd7d37">filament_area</a>();</div>
<div class="line"><span class="lineno">  233</span>    }</div>
<div class="ttc" id="a_extrusion_simulator_8cpp_html_ae71449b1cc6e6250b91f539153a7a0d3"><div class="ttname"><a href="../../de/ddd/_extrusion_simulator_8cpp.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a></div><div class="ttdeci">#define M_PI</div><div class="ttdef"><b>Definition</b> ExtrusionSimulator.cpp:20</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_ab09c7e389669846e40a14cc8d4b96b6a"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab09c7e389669846e40a14cc8d4b96b6a">Slic3r::WipeTower::m_extrusion_flow</a></div><div class="ttdeci">float m_extrusion_flow</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:327</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_abaf41702dc172b64196f4dd316cd7d37"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#abaf41702dc172b64196f4dd316cd7d37">Slic3r::WipeTower::filament_area</a></div><div class="ttdeci">float filament_area() const</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:280</div></div>
<div class="ttc" id="anamespace_slic3r_html_a3fc0fbbcb45d8a2fef27e26e1289ec21"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a3fc0fbbcb45d8a2fef27e26e1289ec21">Slic3r::layer_height</a></div><div class="ttdeci">layer_height((ConfigOptionInt, faded_layers))((ConfigOptionFloat</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00280">filament_area()</a>, <a class="el" href="../../de/db8/namespace_slic3r.html#a3fc0fbbcb45d8a2fef27e26e1289ec21">Slic3r::layer_height()</a>, <a class="el" href="../../#l00327">m_extrusion_flow</a>, <a class="el" href="../../#l00326">m_perimeter_width</a>, and <a class="el" href="../../#l00020">M_PI</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01724">need_thick_bridge_flow()</a>, <a class="el" href="../../#l00276">Slic3r::WipeTowerWriter::rectangle_fill_box()</a>, <a class="el" href="../../#l00170">set_layer()</a>, and <a class="el" href="../../#l01043">toolchange_Wipe()</a>.</p>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_aee98daa9ed84d4bfa90b92c826e913eb_cgraph.svg" width="330" height="102"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_aee98daa9ed84d4bfa90b92c826e913eb_icgraph.svg" width="100%" height="446"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="abaf41702dc172b64196f4dd316cd7d37" name="abaf41702dc172b64196f4dd316cd7d37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abaf41702dc172b64196f4dd316cd7d37">&#9670;&#160;</a></span>filament_area()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Slic3r::WipeTower::filament_area </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  280</span>                                {</div>
<div class="line"><span class="lineno">  281</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[0].filament_area; <span class="comment">// all extruders are assumed to have the same filament diameter at this point</span></div>
<div class="line"><span class="lineno">  282</span>    }</div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_a807f28c8077874a2605b6ddf15967f6d"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">Slic3r::WipeTower::m_filpar</a></div><div class="ttdeci">std::vector&lt; FilamentParameters &gt; m_filpar</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:330</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00330">m_filpar</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00229">extrusion_flow()</a>, <a class="el" href="../../#l00667">set_extruder()</a>, and <a class="el" href="../../#l00837">toolchange_Unload()</a>.</p>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_abaf41702dc172b64196f4dd316cd7d37_icgraph.svg" width="100%" height="555"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a37cad24ea51d05edcb6ccde4204d3fba" name="a37cad24ea51d05edcb6ccde4204d3fba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37cad24ea51d05edcb6ccde4204d3fba">&#9670;&#160;</a></span>finish_layer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/deb/struct_slic3r_1_1_wipe_tower_1_1_tool_change_result.html">WipeTower::ToolChangeResult</a> Slic3r::WipeTower::finish_layer </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>extruder_perimeter</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>extruder_fill</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1176</span>{</div>
<div class="line"><span class="lineno"> 1177</span>  assert(! this-&gt;<a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ace4046cd7409e1356c415e3911a949ab">layer_finished</a>());</div>
<div class="line"><span class="lineno"> 1178</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#acb95f1e30ab1122b344b449d5fb14ec3">m_current_layer_finished</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1179</span> </div>
<div class="line"><span class="lineno"> 1180</span>    <span class="keywordtype">size_t</span> old_tool = <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a>;</div>
<div class="line"><span class="lineno"> 1181</span> </div>
<div class="line"><span class="lineno"> 1182</span>  WipeTowerWriter writer(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aedd2cb7a88fceecab7234e25738934d9">m_layer_height</a>, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a3b6a79c3bda43c7282a43f7c49a600e8">m_gcode_flavor</a>, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>);</div>
<div class="line"><span class="lineno"> 1183</span>  writer.set_extrusion_flow(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab09c7e389669846e40a14cc8d4b96b6a">m_extrusion_flow</a>)</div>
<div class="line"><span class="lineno"> 1184</span>    .set_z(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a97a2ddd6167f4a5947dcca8856f87349">m_z_pos</a>)</div>
<div class="line"><span class="lineno"> 1185</span>    .set_initial_tool(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a>)</div>
<div class="line"><span class="lineno"> 1186</span>        .set_y_shift(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a194653c9aca05d7054bc9662586eb753">m_y_shift</a> - (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad8972d431887037663641df24ba9eb56">m_current_shape</a> == <a class="code hl_enumvalue" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a657379b3c9f96819c3dc78a8d81e7d4fac35ae63524beb5374e03cfcf862748f6">SHAPE_REVERSED</a> ? <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>-&gt;toolchanges_depth() : 0.f));</div>
<div class="line"><span class="lineno"> 1187</span> </div>
<div class="line"><span class="lineno"> 1188</span> </div>
<div class="line"><span class="lineno"> 1189</span>  <span class="comment">// Slow down on the 1st layer.</span></div>
<div class="line"><span class="lineno"> 1190</span>    <span class="keywordtype">bool</span> first_layer = <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab1cde0465af2371ac9376601713fcaf4">is_first_layer</a>();</div>
<div class="line"><span class="lineno"> 1191</span>    <span class="comment">// BBS: speed up perimeter speed to 90mm/s for non-first layer</span></div>
<div class="line"><span class="lineno"> 1192</span>    <span class="keywordtype">float</span>           feedrate   = first_layer ? std::min(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#af5e2debf595620b1f47d00c89b2da9f6">m_first_layer_speed</a> * 60.f, 5400.f) : <a class="code hl_namespace" href="../../d8/dcc/namespacestd.html">std</a>::<a class="code hl_function" href="../../df/db1/math_8h.html#a04a32cd137f4e2dc222aca71df9edb1b">min</a>(60.0f * <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a>].max_e_speed / <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab09c7e389669846e40a14cc8d4b96b6a">m_extrusion_flow</a>, 5400.f);</div>
<div class="line"><span class="lineno"> 1193</span>    <span class="keywordtype">float</span> fill_box_y = <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>-&gt;toolchanges_depth() + <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>;</div>
<div class="line"><span class="lineno"> 1194</span>    box_coordinates fill_box(<a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a>(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>, fill_box_y),</div>
<div class="line"><span class="lineno"> 1195</span>                             <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aff64de9eb31fe773ed3de9c389317692">m_wipe_tower_width</a> - 2 * <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>-&gt;depth - fill_box_y);</div>
<div class="line"><span class="lineno"> 1196</span> </div>
<div class="line"><span class="lineno"> 1197</span>    writer.set_initial_position((<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a1d3fe70403312c1f5578b3869d29a1cb">m_left_to_right</a> ? fill_box.ru : fill_box.lu), <span class="comment">// so there is never a diagonal travel</span></div>
<div class="line"><span class="lineno"> 1198</span>                                 <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aff64de9eb31fe773ed3de9c389317692">m_wipe_tower_width</a>, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#af7593647d012a658da21075031ec8cbb">m_wipe_tower_depth</a>, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a59a6e9ba9a8694b196a42b5370b9b52c">m_internal_rotation</a>);</div>
<div class="line"><span class="lineno"> 1199</span> </div>
<div class="line"><span class="lineno"> 1200</span>    <span class="keywordtype">bool</span> toolchanges_on_layer = <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>-&gt;toolchanges_depth() &gt; <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a2cf052cbfd60f7cf767c8de8604f63a2">WT_EPSILON</a>;</div>
<div class="line"><span class="lineno"> 1201</span> </div>
<div class="line"><span class="lineno"> 1202</span>    <span class="comment">// inner perimeter of the sparse section, if there is space for it:</span></div>
<div class="line"><span class="lineno"> 1203</span>    <span class="keywordflow">if</span> (fill_box.ru.y() - fill_box.rd.y() &gt; <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a> - <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a2cf052cbfd60f7cf767c8de8604f63a2">WT_EPSILON</a>)</div>
<div class="line"><span class="lineno"> 1204</span>        writer.rectangle_fill_box(<span class="keyword">this</span>, fill_box.ld, fill_box.rd.x() - fill_box.ld.x(), fill_box.ru.y() - fill_box.rd.y(), feedrate);</div>
<div class="line"><span class="lineno"> 1205</span> </div>
<div class="line"><span class="lineno"> 1206</span>    <span class="comment">// we are in one of the corners, travel to ld along the perimeter:</span></div>
<div class="line"><span class="lineno"> 1207</span>    <span class="comment">// BBS: Delete some unnecessary travel</span></div>
<div class="line"><span class="lineno"> 1208</span>    <span class="comment">//if (writer.x() &gt; fill_box.ld.x() + EPSILON) writer.travel(fill_box.ld.x(), writer.y());</span></div>
<div class="line"><span class="lineno"> 1209</span>    <span class="comment">//if (writer.y() &gt; fill_box.ld.y() + EPSILON) writer.travel(writer.x(), fill_box.ld.y());</span></div>
<div class="line"><span class="lineno"> 1210</span> </div>
<div class="line"><span class="lineno"> 1211</span>    <span class="comment">// Extrude infill to support the material to be printed above.</span></div>
<div class="line"><span class="lineno"> 1212</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> dy = (fill_box.lu.y() - fill_box.ld.y() - <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>);</div>
<div class="line"><span class="lineno"> 1213</span>    <span class="keywordtype">float</span> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a811882fecd5c7618d7099ebbd39ea254">left</a> = fill_box.lu.x() + 2*<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>;</div>
<div class="line"><span class="lineno"> 1214</span>    <span class="keywordtype">float</span> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a7c4f29407893c334a6cb7a87bf045c0d">right</a> = fill_box.ru.x() - 2 * <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>;</div>
<div class="line"><span class="lineno"> 1215</span>    std::vector&lt;Vec2f&gt; finish_rect_wipe_path;</div>
<div class="line"><span class="lineno"> 1216</span>    <span class="keywordflow">if</span> (extruder_fill &amp;&amp; dy &gt; <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>)</div>
<div class="line"><span class="lineno"> 1217</span>    {</div>
<div class="line"><span class="lineno"> 1218</span>        writer.travel(fill_box.ld + <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a>(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a> * 2, 0.f))</div>
<div class="line"><span class="lineno"> 1219</span>              .<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a5f240a84e573ed2d7785a439f4239e1a">append</a>(<span class="stringliteral">&quot;;--------------------\n&quot;</span></div>
<div class="line"><span class="lineno"> 1220</span>                      <span class="stringliteral">&quot;; CP EMPTY GRID START\n&quot;</span>)</div>
<div class="line"><span class="lineno"> 1221</span>              .comment_with_value(<span class="stringliteral">&quot; layer #&quot;</span>, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aaa6944b3301632b5644cd9723b17663a">m_num_layer_changes</a> + 1);</div>
<div class="line"><span class="lineno"> 1222</span> </div>
<div class="line"><span class="lineno"> 1223</span>        <span class="comment">// Is there a soluble filament wiped/rammed at the next layer?</span></div>
<div class="line"><span class="lineno"> 1224</span>        <span class="comment">// If so, the infill should not be sparse.</span></div>
<div class="line"><span class="lineno"> 1225</span>        <span class="keywordtype">bool</span> solid_infill = <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>+1 == <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>.end()</div>
<div class="line"><span class="lineno"> 1226</span>                          ? false</div>
<div class="line"><span class="lineno"> 1227</span>                          : std::any_of((<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>+1)-&gt;tool_changes.begin(),</div>
<div class="line"><span class="lineno"> 1228</span>                                        (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>+1)-&gt;tool_changes.end(),</div>
<div class="line"><span class="lineno"> 1229</span>                                   [<span class="keyword">this</span>](<span class="keyword">const</span> WipeTowerInfo::ToolChange&amp; tch) {</div>
<div class="line"><span class="lineno"> 1230</span>                                       return m_filpar[tch.new_tool].is_soluble</div>
<div class="line"><span class="lineno"> 1231</span>                                           || m_filpar[tch.old_tool].is_soluble;</div>
<div class="line"><span class="lineno"> 1232</span>                                   });</div>
<div class="line"><span class="lineno"> 1233</span>        solid_infill |= first_layer &amp;&amp; <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab4bc6ffa33c4b7011f45d52417220e52">m_adhesion</a>;</div>
<div class="line"><span class="lineno"> 1234</span> </div>
<div class="line"><span class="lineno"> 1235</span>        <span class="keywordflow">if</span> (solid_infill) {</div>
<div class="line"><span class="lineno"> 1236</span>            <span class="keywordtype">float</span> sparse_factor = 1.5f; <span class="comment">// 1=solid, 2=every other line, etc.</span></div>
<div class="line"><span class="lineno"> 1237</span>            <span class="keywordflow">if</span> (first_layer) { <span class="comment">// the infill should touch perimeters</span></div>
<div class="line"><span class="lineno"> 1238</span>                <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a811882fecd5c7618d7099ebbd39ea254">left</a>  -= <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>;</div>
<div class="line"><span class="lineno"> 1239</span>                <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a7c4f29407893c334a6cb7a87bf045c0d">right</a> += <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>;</div>
<div class="line"><span class="lineno"> 1240</span>                sparse_factor = 1.f;</div>
<div class="line"><span class="lineno"> 1241</span>            }</div>
<div class="line"><span class="lineno"> 1242</span>            <span class="keywordtype">float</span> <a class="code hl_variable" href="../../d7/dc9/namespace_eigen_1_1internal.html#a3cc80fc03610837da180f7e6d8e7b3ec">y</a> = fill_box.ld.y() + <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>;</div>
<div class="line"><span class="lineno"> 1243</span>            <span class="keywordtype">int</span> <a class="code hl_variable" href="../../df/d17/qhalf_8c.html#a3bb856ed0c81ac3a32238bcda8f5a977">n</a> = dy / (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a> * sparse_factor);</div>
<div class="line"><span class="lineno"> 1244</span>            <span class="keywordtype">float</span> spacing = (dy-<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>)/(<a class="code hl_variable" href="../../df/d17/qhalf_8c.html#a3bb856ed0c81ac3a32238bcda8f5a977">n</a>-1);</div>
<div class="line"><span class="lineno"> 1245</span>            <span class="keywordtype">int</span> i=0;</div>
<div class="line"><span class="lineno"> 1246</span>            <span class="keywordflow">for</span> (i=0; i&lt;<a class="code hl_variable" href="../../df/d17/qhalf_8c.html#a3bb856ed0c81ac3a32238bcda8f5a977">n</a>; ++i) {</div>
<div class="line"><span class="lineno"> 1247</span>                writer.extrude(writer.x(), <a class="code hl_variable" href="../../d7/dc9/namespace_eigen_1_1internal.html#a3cc80fc03610837da180f7e6d8e7b3ec">y</a>, feedrate)</div>
<div class="line"><span class="lineno"> 1248</span>                      .extrude(i%2 ? left : <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a7c4f29407893c334a6cb7a87bf045c0d">right</a>, <a class="code hl_variable" href="../../d7/dc9/namespace_eigen_1_1internal.html#a3cc80fc03610837da180f7e6d8e7b3ec">y</a>);</div>
<div class="line"><span class="lineno"> 1249</span>                <a class="code hl_variable" href="../../d7/dc9/namespace_eigen_1_1internal.html#a3cc80fc03610837da180f7e6d8e7b3ec">y</a> = <a class="code hl_variable" href="../../d7/dc9/namespace_eigen_1_1internal.html#a3cc80fc03610837da180f7e6d8e7b3ec">y</a> + spacing;</div>
<div class="line"><span class="lineno"> 1250</span>            }</div>
<div class="line"><span class="lineno"> 1251</span>            writer.extrude(writer.x(), fill_box.lu.y());</div>
<div class="line"><span class="lineno"> 1252</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1253</span>            <span class="comment">// Extrude an inverse U at the left of the region and the sparse infill.</span></div>
<div class="line"><span class="lineno"> 1254</span>            writer.extrude(fill_box.lu + <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a>(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a> * 2, 0.f), feedrate);</div>
<div class="line"><span class="lineno"> 1255</span> </div>
<div class="line"><span class="lineno"> 1256</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../df/d17/qhalf_8c.html#a3bb856ed0c81ac3a32238bcda8f5a977">n</a> = 1+<a class="code hl_variable" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>((right-left)/<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#af326ce4e8be1946b56305fc61124cffd">m_bridging</a>);</div>
<div class="line"><span class="lineno"> 1257</span>            <span class="keyword">const</span> <span class="keywordtype">float</span> dx = (<a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a7c4f29407893c334a6cb7a87bf045c0d">right</a>-<a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a811882fecd5c7618d7099ebbd39ea254">left</a>)/<a class="code hl_variable" href="../../df/d17/qhalf_8c.html#a3bb856ed0c81ac3a32238bcda8f5a977">n</a>;</div>
<div class="line"><span class="lineno"> 1258</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=1;i&lt;=<a class="code hl_variable" href="../../df/d17/qhalf_8c.html#a3bb856ed0c81ac3a32238bcda8f5a977">n</a>;++i) {</div>
<div class="line"><span class="lineno"> 1259</span>                <span class="keywordtype">float</span> <a class="code hl_function" href="../../df/d4e/namespacelibnest2d_1_1pointlike.html#a1e3045df0bee66333beaa96a9a1b6c9d">x</a>=<a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a811882fecd5c7618d7099ebbd39ea254">left</a>+dx*i;</div>
<div class="line"><span class="lineno"> 1260</span>                writer.travel(x,writer.y());</div>
<div class="line"><span class="lineno"> 1261</span>                writer.extrude(x,i%2 ? fill_box.rd.y() : fill_box.ru.y());</div>
<div class="line"><span class="lineno"> 1262</span>            }</div>
<div class="line"><span class="lineno"> 1263</span>            <span class="comment">// BBS: add wipe_path for this case: only with finish rectangle</span></div>
<div class="line"><span class="lineno"> 1264</span>            finish_rect_wipe_path.emplace_back(writer.pos());</div>
<div class="line"><span class="lineno"> 1265</span>            finish_rect_wipe_path.emplace_back(<a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a>(left + dx * <a class="code hl_variable" href="../../df/d17/qhalf_8c.html#a3bb856ed0c81ac3a32238bcda8f5a977">n</a>, <a class="code hl_variable" href="../../df/d17/qhalf_8c.html#a3bb856ed0c81ac3a32238bcda8f5a977">n</a> % 2 ? fill_box.ru.y() : fill_box.rd.<a class="code hl_variable" href="../../d7/dc9/namespace_eigen_1_1internal.html#a3cc80fc03610837da180f7e6d8e7b3ec">y</a>()));</div>
<div class="line"><span class="lineno"> 1266</span>        }</div>
<div class="line"><span class="lineno"> 1267</span> </div>
<div class="line"><span class="lineno"> 1268</span>        writer.append(<span class="stringliteral">&quot;; CP EMPTY GRID END\n&quot;</span></div>
<div class="line"><span class="lineno"> 1269</span>                      <span class="stringliteral">&quot;;------------------\n\n\n\n\n\n\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1270</span>    }</div>
<div class="line"><span class="lineno"> 1271</span> </div>
<div class="line"><span class="lineno"> 1272</span>    <span class="comment">// outer perimeter (always):</span></div>
<div class="line"><span class="lineno"> 1273</span>    <span class="comment">// BBS</span></div>
<div class="line"><span class="lineno"> 1274</span>    box_coordinates wt_box(<a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a>(0.f, (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad8972d431887037663641df24ba9eb56">m_current_shape</a> == <a class="code hl_enumvalue" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a657379b3c9f96819c3dc78a8d81e7d4fac35ae63524beb5374e03cfcf862748f6">SHAPE_REVERSED</a> ? <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>-&gt;toolchanges_depth() : 0.f)),</div>
<div class="line"><span class="lineno"> 1275</span>        <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aff64de9eb31fe773ed3de9c389317692">m_wipe_tower_width</a>, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>-&gt;depth + <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>);</div>
<div class="line"><span class="lineno"> 1276</span>    wt_box = <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#acb157755bc6c3c9916d424206db2ba7e">align_perimeter</a>(wt_box);</div>
<div class="line"><span class="lineno"> 1277</span>    <span class="keywordflow">if</span> (extrude_perimeter) {</div>
<div class="line"><span class="lineno"> 1278</span>        writer.rectangle(wt_box, feedrate);</div>
<div class="line"><span class="lineno"> 1279</span>    }</div>
<div class="line"><span class="lineno"> 1280</span> </div>
<div class="line"><span class="lineno"> 1281</span>    <span class="comment">// brim chamfer</span></div>
<div class="line"><span class="lineno"> 1282</span>    <span class="keywordtype">float</span> spacing = <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a> - <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aedd2cb7a88fceecab7234e25738934d9">m_layer_height</a> * float(1. - M_PI_4);</div>
<div class="line"><span class="lineno"> 1283</span>    <span class="comment">// How many perimeters shall the brim have?</span></div>
<div class="line"><span class="lineno"> 1284</span>    <span class="keywordtype">int</span> loops_num = (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a185fe9760806bcc80cd7bfe3d116f30e">m_wipe_tower_brim_width</a> + spacing / 2.f) / spacing;</div>
<div class="line"><span class="lineno"> 1285</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> max_chamfer_width = 3.f;</div>
<div class="line"><span class="lineno"> 1286</span>    <span class="keywordflow">if</span> (!first_layer) {</div>
<div class="line"><span class="lineno"> 1287</span>        <span class="comment">// stop print chamfer if depth changes</span></div>
<div class="line"><span class="lineno"> 1288</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>-&gt;depth != <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>.front().depth) {</div>
<div class="line"><span class="lineno"> 1289</span>            loops_num = 0;</div>
<div class="line"><span class="lineno"> 1290</span>        }</div>
<div class="line"><span class="lineno"> 1291</span>        <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1292</span>            <span class="comment">// limit max chamfer width to 3 mm</span></div>
<div class="line"><span class="lineno"> 1293</span>            <span class="keywordtype">int</span> chamfer_loops_num = (<a class="code hl_variable" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>)(max_chamfer_width / spacing);</div>
<div class="line"><span class="lineno"> 1294</span>            <span class="keywordtype">int</span> dist_to_1st = <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a> - <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>.begin() - <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a84b159843142ae71fbee5c9ab3d3f057">m_first_layer_idx</a>;</div>
<div class="line"><span class="lineno"> 1295</span>            loops_num = std::min(loops_num, chamfer_loops_num) - dist_to_1st;</div>
<div class="line"><span class="lineno"> 1296</span>        }</div>
<div class="line"><span class="lineno"> 1297</span>    }</div>
<div class="line"><span class="lineno"> 1298</span> </div>
<div class="line"><span class="lineno"> 1299</span>    <span class="keywordflow">if</span> (loops_num &gt; 0) {</div>
<div class="line"><span class="lineno"> 1300</span>        box_coordinates box = wt_box;</div>
<div class="line"><span class="lineno"> 1301</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; loops_num; ++i) {</div>
<div class="line"><span class="lineno"> 1302</span>            box.expand(spacing);</div>
<div class="line"><span class="lineno"> 1303</span>            writer.rectangle(box);</div>
<div class="line"><span class="lineno"> 1304</span>        }</div>
<div class="line"><span class="lineno"> 1305</span> </div>
<div class="line"><span class="lineno"> 1306</span>        <span class="keywordflow">if</span> (first_layer) {</div>
<div class="line"><span class="lineno"> 1307</span>            <span class="comment">// Save actual brim width to be later passed to the Print object, which will use it</span></div>
<div class="line"><span class="lineno"> 1308</span>            <span class="comment">// for skirt calculation and pass it to GLCanvas for precise preview box</span></div>
<div class="line"><span class="lineno"> 1309</span>            <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad61517836af040f67544c690f69fa5b1">m_wipe_tower_brim_width_real</a> = wt_box.ld.x() - box.ld.x() + spacing / 2.f;</div>
<div class="line"><span class="lineno"> 1310</span>        }</div>
<div class="line"><span class="lineno"> 1311</span>        wt_box = box;</div>
<div class="line"><span class="lineno"> 1312</span>    }</div>
<div class="line"><span class="lineno"> 1313</span> </div>
<div class="line"><span class="lineno"> 1314</span>    <span class="comment">// Now prepare future wipe. box contains rectangle that was extruded last (ccw).</span></div>
<div class="line"><span class="lineno"> 1315</span>    <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> target = (writer.pos() == wt_box.ld ? wt_box.rd :</div>
<div class="line"><span class="lineno"> 1316</span>                   (writer.pos() == wt_box.rd ? wt_box.ru :</div>
<div class="line"><span class="lineno"> 1317</span>                   (writer.pos() == wt_box.ru ? wt_box.lu :</div>
<div class="line"><span class="lineno"> 1318</span>                    wt_box.ld)));</div>
<div class="line"><span class="lineno"> 1319</span> </div>
<div class="line"><span class="lineno"> 1320</span>    <span class="comment">// BBS: add wipe_path for this case: only with finish rectangle</span></div>
<div class="line"><span class="lineno"> 1321</span>    <span class="keywordflow">if</span> (finish_rect_wipe_path.size() == 2 &amp;&amp; finish_rect_wipe_path[0] == writer.pos())</div>
<div class="line"><span class="lineno"> 1322</span>        target = finish_rect_wipe_path[1];</div>
<div class="line"><span class="lineno"> 1323</span> </div>
<div class="line"><span class="lineno"> 1324</span>    writer.add_wipe_point(writer.pos())</div>
<div class="line"><span class="lineno"> 1325</span>          .add_wipe_point(target);</div>
<div class="line"><span class="lineno"> 1326</span> </div>
<div class="line"><span class="lineno"> 1327</span> </div>
<div class="line"><span class="lineno"> 1328</span>    <span class="comment">// Ask our writer about how much material was consumed.</span></div>
<div class="line"><span class="lineno"> 1329</span>    <span class="comment">// Skip this in case the layer is sparse and config option to not print sparse layers is enabled.</span></div>
<div class="line"><span class="lineno"> 1330</span>    <span class="keywordflow">if</span> (! <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#acc58b966838e34869997c49c084ff134">m_no_sparse_layers</a> || toolchanges_on_layer)</div>
<div class="line"><span class="lineno"> 1331</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a> &lt; <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a334caba8c10043edf751cf008780146b">m_used_filament_length</a>.size())</div>
<div class="line"><span class="lineno"> 1332</span>            <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a334caba8c10043edf751cf008780146b">m_used_filament_length</a>[<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a>] += writer.get_and_reset_used_filament_length();</div>
<div class="line"><span class="lineno"> 1333</span> </div>
<div class="line"><span class="lineno"> 1334</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a75ab0a1719cfcfbee126f8788733575a">construct_tcr</a>(writer, <span class="keyword">false</span>, old_tool, <span class="keyword">true</span>, 0.f);</div>
<div class="line"><span class="lineno"> 1335</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_a1d3fe70403312c1f5578b3869d29a1cb"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a1d3fe70403312c1f5578b3869d29a1cb">Slic3r::WipeTower::m_left_to_right</a></div><div class="ttdeci">bool m_left_to_right</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:347</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_a2cf052cbfd60f7cf767c8de8604f63a2"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a2cf052cbfd60f7cf767c8de8604f63a2">Slic3r::WipeTower::WT_EPSILON</a></div><div class="ttdeci">const float WT_EPSILON</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:279</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_a334caba8c10043edf751cf008780146b"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a334caba8c10043edf751cf008780146b">Slic3r::WipeTower::m_used_filament_length</a></div><div class="ttdeci">std::vector&lt; float &gt; m_used_filament_length</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:402</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_a55f99356e5805bce73727dc1a46af94b"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">Slic3r::WipeTower::m_layer_info</a></div><div class="ttdeci">std::vector&lt; WipeTowerInfo &gt;::iterator m_layer_info</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:399</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_a59a6e9ba9a8694b196a42b5370b9b52c"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a59a6e9ba9a8694b196a42b5370b9b52c">Slic3r::WipeTower::m_internal_rotation</a></div><div class="ttdeci">float m_internal_rotation</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:294</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_a5cbbce1609e77feb24257799db0502d4"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">Slic3r::WipeTower::m_plan</a></div><div class="ttdeci">std::vector&lt; WipeTowerInfo &gt; m_plan</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:398</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_a75ab0a1719cfcfbee126f8788733575a"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a75ab0a1719cfcfbee126f8788733575a">Slic3r::WipeTower::construct_tcr</a></div><div class="ttdeci">ToolChangeResult construct_tcr(WipeTowerWriter &amp;writer, bool priming, size_t old_tool, bool is_finish, float purge_volume) const</div><div class="ttdef"><b>Definition</b> WipeTower.cpp:573</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_a84b159843142ae71fbee5c9ab3d3f057"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a84b159843142ae71fbee5c9ab3d3f057">Slic3r::WipeTower::m_first_layer_idx</a></div><div class="ttdeci">size_t m_first_layer_idx</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:302</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_aaa6944b3301632b5644cd9723b17663a"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aaa6944b3301632b5644cd9723b17663a">Slic3r::WipeTower::m_num_layer_changes</a></div><div class="ttdeci">unsigned int m_num_layer_changes</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:334</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_ab1cde0465af2371ac9376601713fcaf4"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab1cde0465af2371ac9376601713fcaf4">Slic3r::WipeTower::is_first_layer</a></div><div class="ttdeci">bool is_first_layer() const</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:350</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_ab4bc6ffa33c4b7011f45d52417220e52"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab4bc6ffa33c4b7011f45d52417220e52">Slic3r::WipeTower::m_adhesion</a></div><div class="ttdeci">bool m_adhesion</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:314</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_acb157755bc6c3c9916d424206db2ba7e"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#acb157755bc6c3c9916d424206db2ba7e">Slic3r::WipeTower::align_perimeter</a></div><div class="ttdeci">box_coordinates align_perimeter(const box_coordinates &amp;perimeter_box)</div><div class="ttdef"><b>Definition</b> WipeTower.cpp:1154</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_acb95f1e30ab1122b344b449d5fb14ec3"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#acb95f1e30ab1122b344b449d5fb14ec3">Slic3r::WipeTower::m_current_layer_finished</a></div><div class="ttdeci">bool m_current_layer_finished</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:346</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_ace4046cd7409e1356c415e3911a949ab"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ace4046cd7409e1356c415e3911a949ab">Slic3r::WipeTower::layer_finished</a></div><div class="ttdeci">bool layer_finished() const</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:240</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_ad61517836af040f67544c690f69fa5b1"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad61517836af040f67544c690f69fa5b1">Slic3r::WipeTower::m_wipe_tower_brim_width_real</a></div><div class="ttdeci">float m_wipe_tower_brim_width_real</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:292</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_ad8972d431887037663641df24ba9eb56"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad8972d431887037663641df24ba9eb56">Slic3r::WipeTower::m_current_shape</a></div><div class="ttdeci">wipe_shape m_current_shape</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:339</div></div>
<div class="ttc" id="amath_8h_html_a04a32cd137f4e2dc222aca71df9edb1b"><div class="ttname"><a href="../../df/db1/math_8h.html#a04a32cd137f4e2dc222aca71df9edb1b">min</a></div><div class="ttdeci">const T &amp; min(const T &amp;a, const T &amp;b)</div><div class="ttdef"><b>Definition</b> math.h:386</div></div>
<div class="ttc" id="anamespace_slic3r_html_a5f240a84e573ed2d7785a439f4239e1a"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a5f240a84e573ed2d7785a439f4239e1a">Slic3r::append</a></div><div class="ttdeci">void append(std::vector&lt; T &gt; &amp;dest, const std::vector&lt; T &gt; &amp;src)</div><div class="ttdef"><b>Definition</b> libslic3r.h:132</div></div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_ad1b266b182e7c12ec61378819e3785f1a7c4f29407893c334a6cb7a87bf045c0d"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a7c4f29407893c334a6cb7a87bf045c0d">marchsq::__impl::Dir::right</a></div><div class="ttdeci">@ right</div></div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_ad1b266b182e7c12ec61378819e3785f1a811882fecd5c7618d7099ebbd39ea254"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a811882fecd5c7618d7099ebbd39ea254">marchsq::__impl::Dir::left</a></div><div class="ttdeci">@ left</div></div>
<div class="ttc" id="aqhalf_8c_html_a3bb856ed0c81ac3a32238bcda8f5a977"><div class="ttname"><a href="../../df/d17/qhalf_8c.html#a3bb856ed0c81ac3a32238bcda8f5a977">n</a></div><div class="ttdeci">char output neighborhood of facet n Pp do not report precision problems n n list of all options n one line descriptions of all options n V version n</div><div class="ttdef"><b>Definition</b> qhalf.c:162</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00493">Slic3r::WipeTowerWriter::add_wipe_point()</a>, <a class="el" href="../../#l01154">align_perimeter()</a>, <a class="el" href="../../#l00486">Slic3r::WipeTowerWriter::append()</a>, <a class="el" href="../../#l00132">Slic3r::append()</a>, <a class="el" href="../../#l00573">construct_tcr()</a>, <a class="el" href="../../#l00111">Slic3r::WipeTower::box_coordinates::expand()</a>, <a class="el" href="../../#l00241">Slic3r::WipeTowerWriter::extrude()</a>, <a class="el" href="../../#l00169">Slic3r::WipeTowerWriter::get_and_reset_used_filament_length()</a>, <a class="el" href="../../#l00340">int</a>, <a class="el" href="../../#l00350">is_first_layer()</a>, <a class="el" href="../../#l00240">layer_finished()</a>, <a class="el" href="../../#l00123">Slic3r::WipeTower::box_coordinates::ld</a>, <a class="el" href="../../#l00124">Slic3r::WipeTower::box_coordinates::lu</a>, <a class="el" href="../../#l00314">m_adhesion</a>, <a class="el" href="../../#l00310">m_bridging</a>, <a class="el" href="../../#l00346">m_current_layer_finished</a>, <a class="el" href="../../#l00339">m_current_shape</a>, <a class="el" href="../../#l00340">m_current_tool</a>, <a class="el" href="../../#l00327">m_extrusion_flow</a>, <a class="el" href="../../#l00330">m_filpar</a>, <a class="el" href="../../#l00302">m_first_layer_idx</a>, <a class="el" href="../../#l00301">m_first_layer_speed</a>, <a class="el" href="../../#l00315">m_gcode_flavor</a>, <a class="el" href="../../#l00294">m_internal_rotation</a>, <a class="el" href="../../#l00297">m_layer_height</a>, <a class="el" href="../../#l00399">m_layer_info</a>, <a class="el" href="../../#l00347">m_left_to_right</a>, <a class="el" href="../../#l00311">m_no_sparse_layers</a>, <a class="el" href="../../#l00334">m_num_layer_changes</a>, <a class="el" href="../../#l00326">m_perimeter_width</a>, <a class="el" href="../../#l00398">m_plan</a>, <a class="el" href="../../#l00402">m_used_filament_length</a>, <a class="el" href="../../#l00291">m_wipe_tower_brim_width</a>, <a class="el" href="../../#l00292">m_wipe_tower_brim_width_real</a>, <a class="el" href="../../#l00288">m_wipe_tower_depth</a>, <a class="el" href="../../#l00287">m_wipe_tower_width</a>, <a class="el" href="../../#l00295">m_y_shift</a>, <a class="el" href="../../#l00296">m_z_pos</a>, <a class="el" href="../../#l00162">n</a>, <a class="el" href="../../#l00165">Slic3r::WipeTowerWriter::pos()</a>, <a class="el" href="../../#l00125">Slic3r::WipeTower::box_coordinates::rd</a>, <a class="el" href="../../#l00251">Slic3r::WipeTowerWriter::rectangle()</a>, <a class="el" href="../../#l00276">Slic3r::WipeTowerWriter::rectangle_fill_box()</a>, <a class="el" href="../../#l00126">Slic3r::WipeTower::box_coordinates::ru</a>, <a class="el" href="../../#l00121">Slic3r::WipeTowerWriter::set_extrusion_flow()</a>, <a class="el" href="../../#l00107">Slic3r::WipeTowerWriter::set_initial_position()</a>, <a class="el" href="../../#l00116">Slic3r::WipeTowerWriter::set_initial_tool()</a>, <a class="el" href="../../#l00124">Slic3r::WipeTowerWriter::set_y_shift()</a>, <a class="el" href="../../#l00118">Slic3r::WipeTowerWriter::set_z()</a>, <a class="el" href="../../#l00275">SHAPE_REVERSED</a>, <a class="el" href="../../#l00234">Slic3r::WipeTowerWriter::travel()</a>, <a class="el" href="../../#l00279">WT_EPSILON</a>, <a class="el" href="../../#l00163">Slic3r::WipeTowerWriter::x()</a>, and <a class="el" href="../../#l00164">Slic3r::WipeTowerWriter::y()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01566">generate()</a>, and <a class="el" href="../../#l01499">save_on_last_wipe()</a>.</p>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_a37cad24ea51d05edcb6ccde4204d3fba_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_a37cad24ea51d05edcb6ccde4204d3fba_icgraph.svg" width="514" height="80"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a61a7b627517e25eceb55a29cdaefdacb" name="a61a7b627517e25eceb55a29cdaefdacb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61a7b627517e25eceb55a29cdaefdacb">&#9670;&#160;</a></span>finished()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::WipeTower::finished </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  207</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a4d9dd7dc482ae17751b32e8a74e21f37">m_max_color_changes</a> == 0; }</div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_a4d9dd7dc482ae17751b32e8a74e21f37"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a4d9dd7dc482ae17751b32e8a74e21f37">Slic3r::WipeTower::m_max_color_changes</a></div><div class="ttdeci">size_t m_max_color_changes</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:298</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00298">m_max_color_changes</a>.</p>

</div>
</div>
<a id="a6607bbe5e8724ec9f0c7dbbac78f2c63" name="a6607bbe5e8724ec9f0c7dbbac78f2c63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6607bbe5e8724ec9f0c7dbbac78f2c63">&#9670;&#160;</a></span>first_toolchange_to_nonsoluble_nonsupport()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a> Slic3r::WipeTower::first_toolchange_to_nonsoluble_nonsupport </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="../../dc/d59/struct_slic3r_1_1_wipe_tower_1_1_wipe_tower_info_1_1_tool_change.html">WipeTowerInfo::ToolChange</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>tool_changes</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1535</span>{</div>
<div class="line"><span class="lineno"> 1536</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> idx=0; idx&lt;tool_changes.size(); ++idx)</div>
<div class="line"><span class="lineno"> 1537</span>        <span class="keywordflow">if</span> (! <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[tool_changes[idx].new_tool].is_soluble &amp;&amp; ! <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[tool_changes[idx].new_tool].is_support)</div>
<div class="line"><span class="lineno"> 1538</span>            <span class="keywordflow">return</span> idx;</div>
<div class="line"><span class="lineno"> 1539</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1540</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00330">m_filpar</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01566">generate()</a>, and <a class="el" href="../../#l01499">save_on_last_wipe()</a>.</p>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_a6607bbe5e8724ec9f0c7dbbac78f2c63_icgraph.svg" width="539" height="87"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="aaba2eb3a4147fd11a28c045198266777" name="aaba2eb3a4147fd11a28c045198266777"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaba2eb3a4147fd11a28c045198266777">&#9670;&#160;</a></span>generate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::WipeTower::generate </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::vector&lt; <a class="el" href="../../dc/deb/struct_slic3r_1_1_wipe_tower_1_1_tool_change_result.html">ToolChangeResult</a> &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>result</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1567</span>{</div>
<div class="line"><span class="lineno"> 1568</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>.empty())</div>
<div class="line"><span class="lineno"> 1569</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1570</span> </div>
<div class="line"><span class="lineno"> 1571</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aeef713f85500b46119e0ec1e888e4a6b">m_extra_spacing</a> = 1.f;</div>
<div class="line"><span class="lineno"> 1572</span> </div>
<div class="line"><span class="lineno"> 1573</span>  <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a0b216a2f96dee13c69e7c8f98a46c5ae">plan_tower</a>();</div>
<div class="line"><span class="lineno"> 1574</span>    <span class="comment">// BBS</span></div>
<div class="line"><span class="lineno"> 1575</span><span class="preprocessor">#if 0</span></div>
<div class="line"><span class="lineno"> 1576</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0;i&lt;5;++i) {</div>
<div class="line"><span class="lineno"> 1577</span>        <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a38118f226bd66ac4a077c974f92230e6">save_on_last_wipe</a>();</div>
<div class="line"><span class="lineno"> 1578</span>        <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a0b216a2f96dee13c69e7c8f98a46c5ae">plan_tower</a>();</div>
<div class="line"><span class="lineno"> 1579</span>    }</div>
<div class="line"><span class="lineno"> 1580</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1581</span> </div>
<div class="line"><span class="lineno"> 1582</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a> = <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>.begin();</div>
<div class="line"><span class="lineno"> 1583</span> </div>
<div class="line"><span class="lineno"> 1584</span>    <span class="comment">// we don&#39;t know which extruder to start with - we&#39;ll set it according to the first toolchange</span></div>
<div class="line"><span class="lineno"> 1585</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; layer : <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>) {</div>
<div class="line"><span class="lineno"> 1586</span>        <span class="keywordflow">if</span> (!layer.tool_changes.empty()) {</div>
<div class="line"><span class="lineno"> 1587</span>            <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a> = layer.tool_changes.front().old_tool;</div>
<div class="line"><span class="lineno"> 1588</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1589</span>        }</div>
<div class="line"><span class="lineno"> 1590</span>    }</div>
<div class="line"><span class="lineno"> 1591</span> </div>
<div class="line"><span class="lineno"> 1592</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; used : <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a334caba8c10043edf751cf008780146b">m_used_filament_length</a>) <span class="comment">// reset used filament stats</span></div>
<div class="line"><span class="lineno"> 1593</span>        used = 0.f;</div>
<div class="line"><span class="lineno"> 1594</span> </div>
<div class="line"><span class="lineno"> 1595</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a053760416d4d821e17663a1efd7c6d66">m_old_temperature</a> = -1; <span class="comment">// reset last temperature written in the gcode</span></div>
<div class="line"><span class="lineno"> 1596</span> </div>
<div class="line"><span class="lineno"> 1597</span>    std::vector&lt;WipeTower::ToolChangeResult&gt; layer_result;</div>
<div class="line"><span class="lineno"> 1598</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> layer : <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>)</div>
<div class="line"><span class="lineno"> 1599</span>  {</div>
<div class="line"><span class="lineno"> 1600</span>        <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ae3bb9f1b19987c3c7e728793794592dd">set_layer</a>(layer.z, layer.height, 0, <span class="keyword">false</span><span class="comment">/*layer.z == m_plan.front().z*/</span>, layer.z == <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>.back().z);</div>
<div class="line"><span class="lineno"> 1601</span>        <span class="comment">// BBS</span></div>
<div class="line"><span class="lineno"> 1602</span>        <span class="comment">//m_internal_rotation += 180.f;</span></div>
<div class="line"><span class="lineno"> 1603</span> </div>
<div class="line"><span class="lineno"> 1604</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>-&gt;depth &lt; <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#af7593647d012a658da21075031ec8cbb">m_wipe_tower_depth</a> - <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>) {</div>
<div class="line"><span class="lineno"> 1605</span>            <span class="comment">// align y shift to perimeter width</span></div>
<div class="line"><span class="lineno"> 1606</span>            <span class="keywordtype">float</span> dy = <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aeef713f85500b46119e0ec1e888e4a6b">m_extra_spacing</a> * <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>;</div>
<div class="line"><span class="lineno"> 1607</span>            <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a194653c9aca05d7054bc9662586eb753">m_y_shift</a> = (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#af7593647d012a658da21075031ec8cbb">m_wipe_tower_depth</a> - <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>-&gt;depth) / 2.f;</div>
<div class="line"><span class="lineno"> 1608</span>            <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a194653c9aca05d7054bc9662586eb753">m_y_shift</a> = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a2d316ae57916c226c127195fc60564d2">align_round</a>(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a194653c9aca05d7054bc9662586eb753">m_y_shift</a>, dy);</div>
<div class="line"><span class="lineno"> 1609</span>        }</div>
<div class="line"><span class="lineno"> 1610</span> </div>
<div class="line"><span class="lineno"> 1611</span>        <span class="comment">// BBS: consider both soluable and support properties</span></div>
<div class="line"><span class="lineno"> 1612</span>        <span class="keywordtype">int</span> idx = <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a6607bbe5e8724ec9f0c7dbbac78f2c63">first_toolchange_to_nonsoluble_nonsupport</a> (layer.tool_changes);</div>
<div class="line"><span class="lineno"> 1613</span>        ToolChangeResult finish_layer_tcr;</div>
<div class="line"><span class="lineno"> 1614</span>        ToolChangeResult timelapse_wall;</div>
<div class="line"><span class="lineno"> 1615</span> </div>
<div class="line"><span class="lineno"> 1616</span>        <span class="keywordflow">if</span> (idx == -1) {</div>
<div class="line"><span class="lineno"> 1617</span>            <span class="comment">// if there is no toolchange switching to non-soluble, finish layer</span></div>
<div class="line"><span class="lineno"> 1618</span>            <span class="comment">// will be called at the very beginning. That&#39;s the last possibility</span></div>
<div class="line"><span class="lineno"> 1619</span>            <span class="comment">// where a nonsoluble tool can be.</span></div>
<div class="line"><span class="lineno"> 1620</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad5837cb60d203755c0d4687fca281fe4">m_enable_timelapse_print</a>) { </div>
<div class="line"><span class="lineno"> 1621</span>                timelapse_wall = <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5ec1205f41bd607390bcbd249c5a8de1">only_generate_out_wall</a>();</div>
<div class="line"><span class="lineno"> 1622</span>            }</div>
<div class="line"><span class="lineno"> 1623</span>            finish_layer_tcr = <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a37cad24ea51d05edcb6ccde4204d3fba">finish_layer</a>(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad5837cb60d203755c0d4687fca281fe4">m_enable_timelapse_print</a> ? <span class="keyword">false</span> : true, layer.extruder_fill);</div>
<div class="line"><span class="lineno"> 1624</span>        }</div>
<div class="line"><span class="lineno"> 1625</span> </div>
<div class="line"><span class="lineno"> 1626</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code hl_variable" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>(layer.tool_changes.size()); ++i) {</div>
<div class="line"><span class="lineno"> 1627</span>            <span class="keywordflow">if</span> (i == 0 &amp;&amp; <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad5837cb60d203755c0d4687fca281fe4">m_enable_timelapse_print</a>) { </div>
<div class="line"><span class="lineno"> 1628</span>                timelapse_wall = <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5ec1205f41bd607390bcbd249c5a8de1">only_generate_out_wall</a>();</div>
<div class="line"><span class="lineno"> 1629</span>            }</div>
<div class="line"><span class="lineno"> 1630</span> </div>
<div class="line"><span class="lineno"> 1631</span>            <span class="keywordflow">if</span> (i == idx) {</div>
<div class="line"><span class="lineno"> 1632</span>                layer_result.emplace_back(<a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a02c8c689fb5107ac549a295158d96a5d">tool_change</a>(layer.tool_changes[i].new_tool, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad5837cb60d203755c0d4687fca281fe4">m_enable_timelapse_print</a> ? <span class="keyword">false</span> : true));</div>
<div class="line"><span class="lineno"> 1633</span>                <span class="comment">// finish_layer will be called after this toolchange</span></div>
<div class="line"><span class="lineno"> 1634</span>                finish_layer_tcr = <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a37cad24ea51d05edcb6ccde4204d3fba">finish_layer</a>(<span class="keyword">false</span>, layer.extruder_fill);</div>
<div class="line"><span class="lineno"> 1635</span>            }</div>
<div class="line"><span class="lineno"> 1636</span>            <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1637</span>                <span class="keywordflow">if</span> (idx == -1 &amp;&amp; i == 0) {</div>
<div class="line"><span class="lineno"> 1638</span>                    layer_result.emplace_back(<a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a02c8c689fb5107ac549a295158d96a5d">tool_change</a>(layer.tool_changes[i].new_tool, <span class="keyword">false</span>, <span class="keyword">true</span>));</div>
<div class="line"><span class="lineno"> 1639</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1640</span>                    layer_result.emplace_back(<a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a02c8c689fb5107ac549a295158d96a5d">tool_change</a>(layer.tool_changes[i].new_tool));</div>
<div class="line"><span class="lineno"> 1641</span>                }</div>
<div class="line"><span class="lineno"> 1642</span>            }</div>
<div class="line"><span class="lineno"> 1643</span>        }</div>
<div class="line"><span class="lineno"> 1644</span> </div>
<div class="line"><span class="lineno"> 1645</span>        <span class="keywordflow">if</span> (layer_result.empty()) {</div>
<div class="line"><span class="lineno"> 1646</span>            <span class="comment">// there is nothing to merge finish_layer with</span></div>
<div class="line"><span class="lineno"> 1647</span>            layer_result.emplace_back(std::move(finish_layer_tcr));</div>
<div class="line"><span class="lineno"> 1648</span>        }</div>
<div class="line"><span class="lineno"> 1649</span>        <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1650</span>            <span class="keywordflow">if</span> (idx == -1)</div>
<div class="line"><span class="lineno"> 1651</span>                layer_result[0] = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a8cfcbdb953fd4cb9c084dd615dd79b86">merge_tcr</a>(finish_layer_tcr, layer_result[0]);</div>
<div class="line"><span class="lineno"> 1652</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a4fda0568b3d21666ed4f7470800564c4">is_valid_gcode</a>(finish_layer_tcr.gcode))</div>
<div class="line"><span class="lineno"> 1653</span>                layer_result[idx] = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a8cfcbdb953fd4cb9c084dd615dd79b86">merge_tcr</a>(layer_result[idx], finish_layer_tcr);</div>
<div class="line"><span class="lineno"> 1654</span>        }</div>
<div class="line"><span class="lineno"> 1655</span> </div>
<div class="line"><span class="lineno"> 1656</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad5837cb60d203755c0d4687fca281fe4">m_enable_timelapse_print</a>) {</div>
<div class="line"><span class="lineno"> 1657</span>            layer_result.insert(layer_result.begin(), std::move(timelapse_wall));</div>
<div class="line"><span class="lineno"> 1658</span>        }</div>
<div class="line"><span class="lineno"> 1659</span> </div>
<div class="line"><span class="lineno"> 1660</span>    result.emplace_back(std::move(layer_result));</div>
<div class="line"><span class="lineno"> 1661</span>  }</div>
<div class="line"><span class="lineno"> 1662</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_a02c8c689fb5107ac549a295158d96a5d"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a02c8c689fb5107ac549a295158d96a5d">Slic3r::WipeTower::tool_change</a></div><div class="ttdeci">ToolChangeResult tool_change(size_t new_tool, bool extrude_perimeter=false, bool first_toolchange_to_nonsoluble=false)</div><div class="ttdef"><b>Definition</b> WipeTower.cpp:735</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_a053760416d4d821e17663a1efd7c6d66"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a053760416d4d821e17663a1efd7c6d66">Slic3r::WipeTower::m_old_temperature</a></div><div class="ttdeci">int m_old_temperature</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:299</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_a0b216a2f96dee13c69e7c8f98a46c5ae"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a0b216a2f96dee13c69e7c8f98a46c5ae">Slic3r::WipeTower::plan_tower</a></div><div class="ttdeci">void plan_tower()</div><div class="ttdef"><b>Definition</b> WipeTower.cpp:1388</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_a37cad24ea51d05edcb6ccde4204d3fba"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a37cad24ea51d05edcb6ccde4204d3fba">Slic3r::WipeTower::finish_layer</a></div><div class="ttdeci">ToolChangeResult finish_layer(bool extruder_perimeter=true, bool extruder_fill=true)</div><div class="ttdef"><b>Definition</b> WipeTower.cpp:1175</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_a38118f226bd66ac4a077c974f92230e6"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a38118f226bd66ac4a077c974f92230e6">Slic3r::WipeTower::save_on_last_wipe</a></div><div class="ttdeci">void save_on_last_wipe()</div><div class="ttdef"><b>Definition</b> WipeTower.cpp:1499</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_a5ec1205f41bd607390bcbd249c5a8de1"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5ec1205f41bd607390bcbd249c5a8de1">Slic3r::WipeTower::only_generate_out_wall</a></div><div class="ttdeci">WipeTower::ToolChangeResult only_generate_out_wall()</div><div class="ttdef"><b>Definition</b> WipeTower.cpp:1664</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_a6607bbe5e8724ec9f0c7dbbac78f2c63"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a6607bbe5e8724ec9f0c7dbbac78f2c63">Slic3r::WipeTower::first_toolchange_to_nonsoluble_nonsupport</a></div><div class="ttdeci">int first_toolchange_to_nonsoluble_nonsupport(const std::vector&lt; WipeTowerInfo::ToolChange &gt; &amp;tool_changes) const</div><div class="ttdef"><b>Definition</b> WipeTower.cpp:1533</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_ae3bb9f1b19987c3c7e728793794592dd"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ae3bb9f1b19987c3c7e728793794592dd">Slic3r::WipeTower::set_layer</a></div><div class="ttdeci">void set_layer(float print_z, float layer_height, size_t max_tool_changes, bool is_first_layer, bool is_last_layer)</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:170</div></div>
<div class="ttc" id="anamespace_slic3r_html_a2d316ae57916c226c127195fc60564d2"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a2d316ae57916c226c127195fc60564d2">Slic3r::align_round</a></div><div class="ttdeci">float align_round(float value, float base)</div><div class="ttdef"><b>Definition</b> WipeTower.cpp:18</div></div>
<div class="ttc" id="anamespace_slic3r_html_a4fda0568b3d21666ed4f7470800564c4"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a4fda0568b3d21666ed4f7470800564c4">Slic3r::is_valid_gcode</a></div><div class="ttdeci">static bool is_valid_gcode(const std::string &amp;gcode)</div><div class="ttdef"><b>Definition</b> WipeTower.cpp:33</div></div>
<div class="ttc" id="anamespace_slic3r_html_a8cfcbdb953fd4cb9c084dd615dd79b86"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a8cfcbdb953fd4cb9c084dd615dd79b86">Slic3r::merge_tcr</a></div><div class="ttdeci">static WipeTower::ToolChangeResult merge_tcr(WipeTower::ToolChangeResult &amp;first, WipeTower::ToolChangeResult &amp;second)</div><div class="ttdef"><b>Definition</b> WipeTower.cpp:1542</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00018">Slic3r::align_round()</a>, <a class="el" href="../../#l01175">finish_layer()</a>, <a class="el" href="../../#l01533">first_toolchange_to_nonsoluble_nonsupport()</a>, <a class="el" href="../../#l00047">Slic3r::WipeTower::ToolChangeResult::gcode</a>, <a class="el" href="../../#l00340">int</a>, <a class="el" href="../../#l00033">Slic3r::is_valid_gcode()</a>, <a class="el" href="../../#l00340">m_current_tool</a>, <a class="el" href="../../#l00284">m_enable_timelapse_print</a>, <a class="el" href="../../#l00348">m_extra_spacing</a>, <a class="el" href="../../#l00399">m_layer_info</a>, <a class="el" href="../../#l00299">m_old_temperature</a>, <a class="el" href="../../#l00326">m_perimeter_width</a>, <a class="el" href="../../#l00398">m_plan</a>, <a class="el" href="../../#l00402">m_used_filament_length</a>, <a class="el" href="../../#l00288">m_wipe_tower_depth</a>, <a class="el" href="../../#l00295">m_y_shift</a>, <a class="el" href="../../#l01542">Slic3r::merge_tcr()</a>, <a class="el" href="../../#l01664">only_generate_out_wall()</a>, <a class="el" href="../../#l01388">plan_tower()</a>, <a class="el" href="../../#l01499">save_on_last_wipe()</a>, <a class="el" href="../../#l00170">set_layer()</a>, and <a class="el" href="../../#l00735">tool_change()</a>.</p>
<div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_aaba2eb3a4147fd11a28c045198266777_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a80ce4a094e359bf1746774570f004df3" name="a80ce4a094e359bf1746774570f004df3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80ce4a094e359bf1746774570f004df3">&#9670;&#160;</a></span>get_brim_width()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Slic3r::WipeTower::get_brim_width </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  158</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad61517836af040f67544c690f69fa5b1">m_wipe_tower_brim_width_real</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00292">m_wipe_tower_brim_width_real</a>.</p>

</div>
</div>
<a id="aff58a649a7ec0aaa8799604eabd61b74" name="aff58a649a7ec0aaa8799604eabd61b74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff58a649a7ec0aaa8799604eabd61b74">&#9670;&#160;</a></span>get_depth()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Slic3r::WipeTower::get_depth </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  157</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#af7593647d012a658da21075031ec8cbb">m_wipe_tower_depth</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00288">m_wipe_tower_depth</a>.</p>

</div>
</div>
<a id="acf5394b278afd08ebd9c595f244c93e9" name="acf5394b278afd08ebd9c595f244c93e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf5394b278afd08ebd9c595f244c93e9">&#9670;&#160;</a></span>get_extrusion_flow()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Slic3r::WipeTower::get_extrusion_flow </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  237</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab09c7e389669846e40a14cc8d4b96b6a">m_extrusion_flow</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00327">m_extrusion_flow</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00276">Slic3r::WipeTowerWriter::rectangle_fill_box()</a>.</p>
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_acf5394b278afd08ebd9c595f244c93e9_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a263d3323766a376a865e56da3176a40e" name="a263d3323766a376a865e56da3176a40e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a263d3323766a376a865e56da3176a40e">&#9670;&#160;</a></span>get_floating_area()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::WipeTower::get_floating_area </td>
          <td>(</td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>start_pos_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>end_pos_y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1709</span>                                                                            {</div>
<div class="line"><span class="lineno"> 1710</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a> == <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>.begin() || (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a> - 1) == <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>.begin())</div>
<div class="line"><span class="lineno"> 1711</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1712</span> </div>
<div class="line"><span class="lineno"> 1713</span>    <span class="keywordtype">float</span> last_layer_fill_box_y = (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a> - 1)-&gt;toolchanges_depth() + <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>;</div>
<div class="line"><span class="lineno"> 1714</span>    <span class="keywordtype">float</span> last_layer_wipe_depth = (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a> - 1)-&gt;depth;</div>
<div class="line"><span class="lineno"> 1715</span>    <span class="keywordflow">if</span> (last_layer_wipe_depth - last_layer_fill_box_y &lt;= 2 * <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>)</div>
<div class="line"><span class="lineno"> 1716</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1717</span> </div>
<div class="line"><span class="lineno"> 1718</span>    start_pos_y = last_layer_fill_box_y + <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>;</div>
<div class="line"><span class="lineno"> 1719</span>    end_pos_y   = last_layer_wipe_depth - <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>;</div>
<div class="line"><span class="lineno"> 1720</span> </div>
<div class="line"><span class="lineno"> 1721</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1722</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00399">m_layer_info</a>, <a class="el" href="../../#l00326">m_perimeter_width</a>, and <a class="el" href="../../#l00398">m_plan</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01724">need_thick_bridge_flow()</a>.</p>
<div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_a263d3323766a376a865e56da3176a40e_icgraph.svg" width="100%" height="388"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a04b55b1d62de272b1f5a7a35eaea1412" name="a04b55b1d62de272b1f5a7a35eaea1412"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04b55b1d62de272b1f5a7a35eaea1412">&#9670;&#160;</a></span>get_height()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Slic3r::WipeTower::get_height </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  159</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a59f1a53d9531ce1f53d025adf991e619">m_wipe_tower_height</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00290">m_wipe_tower_height</a>.</p>

</div>
</div>
<a id="a4772973acce55c69cf7ca5b9753ceafa" name="a4772973acce55c69cf7ca5b9753ceafa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4772973acce55c69cf7ca5b9753ceafa">&#9670;&#160;</a></span>get_layer_height()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Slic3r::WipeTower::get_layer_height </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  160</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aedd2cb7a88fceecab7234e25738934d9">m_layer_height</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00297">m_layer_height</a>.</p>

</div>
</div>
<a id="a2fce8d91bf2bbfa04076ee4b829abbba" name="a2fce8d91bf2bbfa04076ee4b829abbba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fce8d91bf2bbfa04076ee4b829abbba">&#9670;&#160;</a></span>get_number_of_toolchanges()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a> Slic3r::WipeTower::get_number_of_toolchanges </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  245</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a14ddac69b62e255d31eeef83a5aa174e">m_num_tool_changes</a>; }</div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_a14ddac69b62e255d31eeef83a5aa174e"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a14ddac69b62e255d31eeef83a5aa174e">Slic3r::WipeTower::m_num_tool_changes</a></div><div class="ttdeci">unsigned int m_num_tool_changes</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:335</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00335">m_num_tool_changes</a>.</p>

</div>
</div>
<a id="a4f143b10f95d9cc5122791589652b9ff" name="a4f143b10f95d9cc5122791589652b9ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f143b10f95d9cc5122791589652b9ff">&#9670;&#160;</a></span>get_used_filament()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; float &gt; Slic3r::WipeTower::get_used_filament </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  244</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a334caba8c10043edf751cf008780146b">m_used_filament_length</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00402">m_used_filament_length</a>.</p>

</div>
</div>
<a id="ab1cde0465af2371ac9376601713fcaf4" name="ab1cde0465af2371ac9376601713fcaf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1cde0465af2371ac9376601713fcaf4">&#9670;&#160;</a></span>is_first_layer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::WipeTower::is_first_layer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  350</span>{ <span class="keywordflow">return</span> size_t(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a> - <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>.begin()) == <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a84b159843142ae71fbee5c9ab3d3f057">m_first_layer_idx</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00302">m_first_layer_idx</a>, <a class="el" href="../../#l00399">m_layer_info</a>, and <a class="el" href="../../#l00398">m_plan</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01175">finish_layer()</a>, <a class="el" href="../../#l01664">only_generate_out_wall()</a>, <a class="el" href="../../#l00170">set_layer()</a>, <a class="el" href="../../#l00735">tool_change()</a>, <a class="el" href="../../#l00837">toolchange_Unload()</a>, and <a class="el" href="../../#l01043">toolchange_Wipe()</a>.</p>
<div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_ab1cde0465af2371ac9376601713fcaf4_icgraph.svg" width="100%" height="541"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ace4046cd7409e1356c415e3911a949ab" name="ace4046cd7409e1356c415e3911a949ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace4046cd7409e1356c415e3911a949ab">&#9670;&#160;</a></span>layer_finished()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::WipeTower::layer_finished </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  240</span>                                    {</div>
<div class="line"><span class="lineno">  241</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#acb95f1e30ab1122b344b449d5fb14ec3">m_current_layer_finished</a>;</div>
<div class="line"><span class="lineno">  242</span>  }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00346">m_current_layer_finished</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01175">finish_layer()</a>.</p>
<div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_ace4046cd7409e1356c415e3911a949ab_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="afddbc30cff161de665a5295aba8f06c1" name="afddbc30cff161de665a5295aba8f06c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afddbc30cff161de665a5295aba8f06c1">&#9670;&#160;</a></span>make_wipe_tower_square()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::WipeTower::make_wipe_tower_square </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aa7d4e0ff2cb31d0523a6c5f2bb51ce15" name="aa7d4e0ff2cb31d0523a6c5f2bb51ce15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7d4e0ff2cb31d0523a6c5f2bb51ce15">&#9670;&#160;</a></span>need_thick_bridge_flow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::WipeTower::need_thick_bridge_flow </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>pos_y</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1724</span>                                                        {</div>
<div class="line"><span class="lineno"> 1725</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab09c7e389669846e40a14cc8d4b96b6a">m_extrusion_flow</a> &gt;= <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aee98daa9ed84d4bfa90b92c826e913eb">extrusion_flow</a>(0.2))</div>
<div class="line"><span class="lineno"> 1726</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1727</span> </div>
<div class="line"><span class="lineno"> 1728</span>    <span class="keywordtype">float</span> y_min = 0., y_max = 0.;</div>
<div class="line"><span class="lineno"> 1729</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a263d3323766a376a865e56da3176a40e">get_floating_area</a>(y_min, y_max)) {</div>
<div class="line"><span class="lineno"> 1730</span>        <span class="keywordflow">return</span> pos_y &gt; y_min &amp;&amp; pos_y &lt; y_max;</div>
<div class="line"><span class="lineno"> 1731</span>    }</div>
<div class="line"><span class="lineno"> 1732</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1733</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_a263d3323766a376a865e56da3176a40e"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a263d3323766a376a865e56da3176a40e">Slic3r::WipeTower::get_floating_area</a></div><div class="ttdeci">bool get_floating_area(float &amp;start_pos_y, float &amp;end_pos_y) const</div><div class="ttdef"><b>Definition</b> WipeTower.cpp:1709</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_aee98daa9ed84d4bfa90b92c826e913eb"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aee98daa9ed84d4bfa90b92c826e913eb">Slic3r::WipeTower::extrusion_flow</a></div><div class="ttdeci">float extrusion_flow(float layer_height=-1.f) const</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:229</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00229">extrusion_flow()</a>, <a class="el" href="../../#l01709">get_floating_area()</a>, and <a class="el" href="../../#l00327">m_extrusion_flow</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00276">Slic3r::WipeTowerWriter::rectangle_fill_box()</a>, and <a class="el" href="../../#l01043">toolchange_Wipe()</a>.</p>
<div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_aa7d4e0ff2cb31d0523a6c5f2bb51ce15_cgraph.svg" width="535" height="146"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_aa7d4e0ff2cb31d0523a6c5f2bb51ce15_icgraph.svg" width="100%" height="388"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a984bd17e162cfaf19285cadffe5d563f" name="a984bd17e162cfaf19285cadffe5d563f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a984bd17e162cfaf19285cadffe5d563f">&#9670;&#160;</a></span>never_skip_tag()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const std::string Slic3r::WipeTower::never_skip_tag </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   24</span>{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;_GCODE_WIPE_TOWER_NEVER_SKIP_TAG&quot;</span>; }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../#l00624">Slic3r::WipeTowerIntegration::post_process_wipe_tower_moves()</a>, and <a class="el" href="../../#l00976">toolchange_Change()</a>.</p>
<div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_a984bd17e162cfaf19285cadffe5d563f_icgraph.svg" width="100%" height="523"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a5ec1205f41bd607390bcbd249c5a8de1" name="a5ec1205f41bd607390bcbd249c5a8de1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ec1205f41bd607390bcbd249c5a8de1">&#9670;&#160;</a></span>only_generate_out_wall()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/deb/struct_slic3r_1_1_wipe_tower_1_1_tool_change_result.html">WipeTower::ToolChangeResult</a> Slic3r::WipeTower::only_generate_out_wall </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1665</span>{</div>
<div class="line"><span class="lineno"> 1666</span>    <span class="keywordtype">size_t</span> old_tool = <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a>;</div>
<div class="line"><span class="lineno"> 1667</span> </div>
<div class="line"><span class="lineno"> 1668</span>    WipeTowerWriter writer(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aedd2cb7a88fceecab7234e25738934d9">m_layer_height</a>, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a3b6a79c3bda43c7282a43f7c49a600e8">m_gcode_flavor</a>, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>);</div>
<div class="line"><span class="lineno"> 1669</span>    writer.set_extrusion_flow(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab09c7e389669846e40a14cc8d4b96b6a">m_extrusion_flow</a>)</div>
<div class="line"><span class="lineno"> 1670</span>        .set_z(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a97a2ddd6167f4a5947dcca8856f87349">m_z_pos</a>)</div>
<div class="line"><span class="lineno"> 1671</span>        .set_initial_tool(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a>)</div>
<div class="line"><span class="lineno"> 1672</span>        .set_y_shift(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a194653c9aca05d7054bc9662586eb753">m_y_shift</a> - (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad8972d431887037663641df24ba9eb56">m_current_shape</a> == <a class="code hl_enumvalue" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a657379b3c9f96819c3dc78a8d81e7d4fac35ae63524beb5374e03cfcf862748f6">SHAPE_REVERSED</a> ? <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>-&gt;toolchanges_depth() : 0.f));</div>
<div class="line"><span class="lineno"> 1673</span> </div>
<div class="line"><span class="lineno"> 1674</span>    <span class="comment">// Slow down on the 1st layer.</span></div>
<div class="line"><span class="lineno"> 1675</span>    <span class="keywordtype">bool</span> first_layer = <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab1cde0465af2371ac9376601713fcaf4">is_first_layer</a>();</div>
<div class="line"><span class="lineno"> 1676</span>    <span class="comment">// BBS: speed up perimeter speed to 90mm/s for non-first layer</span></div>
<div class="line"><span class="lineno"> 1677</span>    <span class="keywordtype">float</span>           feedrate   = first_layer ? std::min(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#af5e2debf595620b1f47d00c89b2da9f6">m_first_layer_speed</a> * 60.f, 5400.f) : <a class="code hl_namespace" href="../../d8/dcc/namespacestd.html">std</a>::<a class="code hl_function" href="../../df/db1/math_8h.html#a04a32cd137f4e2dc222aca71df9edb1b">min</a>(60.0f * <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a>].max_e_speed / <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab09c7e389669846e40a14cc8d4b96b6a">m_extrusion_flow</a>, 5400.f);</div>
<div class="line"><span class="lineno"> 1678</span>    <span class="keywordtype">float</span>           fill_box_y = <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>-&gt;toolchanges_depth() + <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>;</div>
<div class="line"><span class="lineno"> 1679</span>    box_coordinates fill_box(<a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a>(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>, fill_box_y), <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aff64de9eb31fe773ed3de9c389317692">m_wipe_tower_width</a> - 2 * <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>-&gt;depth - fill_box_y);</div>
<div class="line"><span class="lineno"> 1680</span> </div>
<div class="line"><span class="lineno"> 1681</span>    writer.set_initial_position((<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a1d3fe70403312c1f5578b3869d29a1cb">m_left_to_right</a> ? fill_box.ru : fill_box.lu), <span class="comment">// so there is never a diagonal travel</span></div>
<div class="line"><span class="lineno"> 1682</span>                                <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aff64de9eb31fe773ed3de9c389317692">m_wipe_tower_width</a>, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#af7593647d012a658da21075031ec8cbb">m_wipe_tower_depth</a>, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a59a6e9ba9a8694b196a42b5370b9b52c">m_internal_rotation</a>);</div>
<div class="line"><span class="lineno"> 1683</span> </div>
<div class="line"><span class="lineno"> 1684</span>    <span class="keywordtype">bool</span> toolchanges_on_layer = <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>-&gt;toolchanges_depth() &gt; <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a2cf052cbfd60f7cf767c8de8604f63a2">WT_EPSILON</a>;</div>
<div class="line"><span class="lineno"> 1685</span> </div>
<div class="line"><span class="lineno"> 1686</span>    <span class="comment">// we are in one of the corners, travel to ld along the perimeter:</span></div>
<div class="line"><span class="lineno"> 1687</span>    <span class="comment">// BBS: Delete some unnecessary travel</span></div>
<div class="line"><span class="lineno"> 1688</span>    <span class="comment">//if (writer.x() &gt; fill_box.ld.x() + EPSILON) writer.travel(fill_box.ld.x(), writer.y());</span></div>
<div class="line"><span class="lineno"> 1689</span>    <span class="comment">//if (writer.y() &gt; fill_box.ld.y() + EPSILON) writer.travel(writer.x(), fill_box.ld.y());</span></div>
<div class="line"><span class="lineno"> 1690</span> </div>
<div class="line"><span class="lineno"> 1691</span>    <span class="comment">// outer perimeter (always):</span></div>
<div class="line"><span class="lineno"> 1692</span>    <span class="comment">// BBS</span></div>
<div class="line"><span class="lineno"> 1693</span>    box_coordinates wt_box(<a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a>(0.f, (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad8972d431887037663641df24ba9eb56">m_current_shape</a> == <a class="code hl_enumvalue" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a657379b3c9f96819c3dc78a8d81e7d4fac35ae63524beb5374e03cfcf862748f6">SHAPE_REVERSED</a> ? <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>-&gt;toolchanges_depth() : 0.f)), <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aff64de9eb31fe773ed3de9c389317692">m_wipe_tower_width</a>, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>-&gt;depth + <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>);</div>
<div class="line"><span class="lineno"> 1694</span>    wt_box = <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#acb157755bc6c3c9916d424206db2ba7e">align_perimeter</a>(wt_box);</div>
<div class="line"><span class="lineno"> 1695</span>    writer.rectangle(wt_box, feedrate);</div>
<div class="line"><span class="lineno"> 1696</span> </div>
<div class="line"><span class="lineno"> 1697</span>    <span class="comment">// Now prepare future wipe. box contains rectangle that was extruded last (ccw).</span></div>
<div class="line"><span class="lineno"> 1698</span>    <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> target = (writer.pos() == wt_box.ld ? wt_box.rd : (writer.pos() == wt_box.rd ? wt_box.ru : (writer.pos() == wt_box.ru ? wt_box.lu : wt_box.ld)));</div>
<div class="line"><span class="lineno"> 1699</span>    writer.add_wipe_point(writer.pos()).add_wipe_point(target);</div>
<div class="line"><span class="lineno"> 1700</span> </div>
<div class="line"><span class="lineno"> 1701</span>    <span class="comment">// Ask our writer about how much material was consumed.</span></div>
<div class="line"><span class="lineno"> 1702</span>    <span class="comment">// Skip this in case the layer is sparse and config option to not print sparse layers is enabled.</span></div>
<div class="line"><span class="lineno"> 1703</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#acc58b966838e34869997c49c084ff134">m_no_sparse_layers</a> || toolchanges_on_layer)</div>
<div class="line"><span class="lineno"> 1704</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a> &lt; <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a334caba8c10043edf751cf008780146b">m_used_filament_length</a>.size()) <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a334caba8c10043edf751cf008780146b">m_used_filament_length</a>[<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a>] += writer.get_and_reset_used_filament_length();</div>
<div class="line"><span class="lineno"> 1705</span> </div>
<div class="line"><span class="lineno"> 1706</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a75ab0a1719cfcfbee126f8788733575a">construct_tcr</a>(writer, <span class="keyword">false</span>, old_tool, <span class="keyword">true</span>, 0.f);</div>
<div class="line"><span class="lineno"> 1707</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00493">Slic3r::WipeTowerWriter::add_wipe_point()</a>, <a class="el" href="../../#l01154">align_perimeter()</a>, <a class="el" href="../../#l00573">construct_tcr()</a>, <a class="el" href="../../#l00169">Slic3r::WipeTowerWriter::get_and_reset_used_filament_length()</a>, <a class="el" href="../../#l00350">is_first_layer()</a>, <a class="el" href="../../#l00124">Slic3r::WipeTower::box_coordinates::lu</a>, <a class="el" href="../../#l00339">m_current_shape</a>, <a class="el" href="../../#l00340">m_current_tool</a>, <a class="el" href="../../#l00327">m_extrusion_flow</a>, <a class="el" href="../../#l00330">m_filpar</a>, <a class="el" href="../../#l00301">m_first_layer_speed</a>, <a class="el" href="../../#l00315">m_gcode_flavor</a>, <a class="el" href="../../#l00294">m_internal_rotation</a>, <a class="el" href="../../#l00297">m_layer_height</a>, <a class="el" href="../../#l00399">m_layer_info</a>, <a class="el" href="../../#l00347">m_left_to_right</a>, <a class="el" href="../../#l00311">m_no_sparse_layers</a>, <a class="el" href="../../#l00326">m_perimeter_width</a>, <a class="el" href="../../#l00402">m_used_filament_length</a>, <a class="el" href="../../#l00288">m_wipe_tower_depth</a>, <a class="el" href="../../#l00287">m_wipe_tower_width</a>, <a class="el" href="../../#l00295">m_y_shift</a>, <a class="el" href="../../#l00296">m_z_pos</a>, <a class="el" href="../../#l00165">Slic3r::WipeTowerWriter::pos()</a>, <a class="el" href="../../#l00251">Slic3r::WipeTowerWriter::rectangle()</a>, <a class="el" href="../../#l00126">Slic3r::WipeTower::box_coordinates::ru</a>, <a class="el" href="../../#l00121">Slic3r::WipeTowerWriter::set_extrusion_flow()</a>, <a class="el" href="../../#l00107">Slic3r::WipeTowerWriter::set_initial_position()</a>, <a class="el" href="../../#l00116">Slic3r::WipeTowerWriter::set_initial_tool()</a>, <a class="el" href="../../#l00124">Slic3r::WipeTowerWriter::set_y_shift()</a>, <a class="el" href="../../#l00118">Slic3r::WipeTowerWriter::set_z()</a>, <a class="el" href="../../#l00275">SHAPE_REVERSED</a>, and <a class="el" href="../../#l00279">WT_EPSILON</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01566">generate()</a>.</p>
<div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_a5ec1205f41bd607390bcbd249c5a8de1_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_a5ec1205f41bd607390bcbd249c5a8de1_icgraph.svg" width="352" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="acc322bb09af389503d6d02da37db9387" name="acc322bb09af389503d6d02da37db9387"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc322bb09af389503d6d02da37db9387">&#9670;&#160;</a></span>plan_toolchange()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::WipeTower::plan_toolchange </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>z_par</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>layer_height_par</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>old_tool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>new_tool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>wipe_volume</em> = <code>0.<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>prime_volume</em> = <code>0.<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1340</span>{</div>
<div class="line"><span class="lineno"> 1341</span>  assert(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>.empty() || <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>.back().z &lt;= z_par + <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a2cf052cbfd60f7cf767c8de8604f63a2">WT_EPSILON</a>);  <span class="comment">// refuses to add a layer below the last one</span></div>
<div class="line"><span class="lineno"> 1342</span> </div>
<div class="line"><span class="lineno"> 1343</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>.empty() || <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>.back().z + <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a2cf052cbfd60f7cf767c8de8604f63a2">WT_EPSILON</a> &lt; z_par) <span class="comment">// if we moved to a new layer, we&#39;ll add it to m_plan first</span></div>
<div class="line"><span class="lineno"> 1344</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>.push_back(WipeTowerInfo(z_par, layer_height_par));</div>
<div class="line"><span class="lineno"> 1345</span> </div>
<div class="line"><span class="lineno"> 1346</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a84b159843142ae71fbee5c9ab3d3f057">m_first_layer_idx</a> == <span class="keywordtype">size_t</span>(-1) &amp;&amp; (! <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#acc58b966838e34869997c49c084ff134">m_no_sparse_layers</a> || old_tool != new_tool))</div>
<div class="line"><span class="lineno"> 1347</span>        <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a84b159843142ae71fbee5c9ab3d3f057">m_first_layer_idx</a> = <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>.size() - 1;</div>
<div class="line"><span class="lineno"> 1348</span> </div>
<div class="line"><span class="lineno"> 1349</span>    <span class="keywordflow">if</span> (old_tool == new_tool) <span class="comment">// new layer without toolchanges - we are done</span></div>
<div class="line"><span class="lineno"> 1350</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1351</span> </div>
<div class="line"><span class="lineno"> 1352</span>  <span class="comment">// this is an actual toolchange - let&#39;s calculate depth to reserve on the wipe tower</span></div>
<div class="line"><span class="lineno"> 1353</span>    <span class="keywordtype">float</span> depth = 0.f;</div>
<div class="line"><span class="lineno"> 1354</span>    <span class="keywordtype">float</span> <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab86710f19bd0626999645d16dab7b25d">width</a> = <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aff64de9eb31fe773ed3de9c389317692">m_wipe_tower_width</a> - 2 * <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>;</div>
<div class="line"><span class="lineno"> 1355</span> </div>
<div class="line"><span class="lineno"> 1356</span>    <span class="comment">// BBS: if the wipe tower width is too small, the depth will be infinity</span></div>
<div class="line"><span class="lineno"> 1357</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab86710f19bd0626999645d16dab7b25d">width</a> &lt;= <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>)</div>
<div class="line"><span class="lineno"> 1358</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1359</span> </div>
<div class="line"><span class="lineno"> 1360</span>    <span class="comment">// BBS: remove old filament ramming and first line</span></div>
<div class="line"><span class="lineno"> 1361</span><span class="preprocessor">#if 0</span></div>
<div class="line"><span class="lineno"> 1362</span>  <span class="keywordtype">float</span> length_to_extrude = <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#af0abc0a71c9eb429f49cbe89e90eb22c">volume_to_length</a>(0.25f * std::accumulate(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[old_tool].ramming_speed.begin(), <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[old_tool].ramming_speed.end(), 0.f),</div>
<div class="line"><span class="lineno"> 1363</span>                    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a> * <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[old_tool].ramming_line_width_multiplicator,</div>
<div class="line"><span class="lineno"> 1364</span>                    layer_height_par);</div>
<div class="line"><span class="lineno"> 1365</span>  depth = (<a class="code hl_variable" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>(length_to_extrude / <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab86710f19bd0626999645d16dab7b25d">width</a>) + 1) * (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a> * <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[old_tool].ramming_line_width_multiplicator * <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[old_tool].ramming_step_multiplicator);</div>
<div class="line"><span class="lineno"> 1366</span>    <span class="keywordtype">float</span> ramming_depth = depth;</div>
<div class="line"><span class="lineno"> 1367</span>    length_to_extrude = <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab86710f19bd0626999645d16dab7b25d">width</a>*((length_to_extrude / <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab86710f19bd0626999645d16dab7b25d">width</a>)-<span class="keywordtype">int</span>(length_to_extrude / <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab86710f19bd0626999645d16dab7b25d">width</a>)) - <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab86710f19bd0626999645d16dab7b25d">width</a>;</div>
<div class="line"><span class="lineno"> 1368</span>    <span class="keywordtype">float</span> first_wipe_line = -length_to_extrude;</div>
<div class="line"><span class="lineno"> 1369</span>    length_to_extrude += <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#af0abc0a71c9eb429f49cbe89e90eb22c">volume_to_length</a>(wipe_volume, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>, layer_height_par);</div>
<div class="line"><span class="lineno"> 1370</span>    length_to_extrude = std::max(length_to_extrude,0.f);</div>
<div class="line"><span class="lineno"> 1371</span> </div>
<div class="line"><span class="lineno"> 1372</span>    depth += (<a class="code hl_variable" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>(length_to_extrude / <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab86710f19bd0626999645d16dab7b25d">width</a>) + 1) * <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>;</div>
<div class="line"><span class="lineno"> 1373</span>    depth *= <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aeef713f85500b46119e0ec1e888e4a6b">m_extra_spacing</a>;</div>
<div class="line"><span class="lineno"> 1374</span> </div>
<div class="line"><span class="lineno"> 1375</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>.back().tool_changes.push_back(WipeTowerInfo::ToolChange(old_tool, new_tool, depth, ramming_depth, first_wipe_line, wipe_volume));</div>
<div class="line"><span class="lineno"> 1376</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 1377</span>    <span class="keywordtype">float</span> length_to_extrude = <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#af0abc0a71c9eb429f49cbe89e90eb22c">volume_to_length</a>(wipe_volume, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>, layer_height_par);</div>
<div class="line"><span class="lineno"> 1378</span> </div>
<div class="line"><span class="lineno"> 1379</span>    depth += std::ceil(length_to_extrude / <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab86710f19bd0626999645d16dab7b25d">width</a>) * <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>;</div>
<div class="line"><span class="lineno"> 1380</span>    <span class="comment">//depth *= m_extra_spacing;</span></div>
<div class="line"><span class="lineno"> 1381</span> </div>
<div class="line"><span class="lineno"> 1382</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>.back().tool_changes.push_back(WipeTowerInfo::ToolChange(old_tool, new_tool, depth, 0.f, 0.f, wipe_volume, length_to_extrude, purge_volume));</div>
<div class="line"><span class="lineno"> 1383</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1384</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_ab86710f19bd0626999645d16dab7b25d"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab86710f19bd0626999645d16dab7b25d">Slic3r::WipeTower::width</a></div><div class="ttdeci">float width() const</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:205</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_af0abc0a71c9eb429f49cbe89e90eb22c"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#af0abc0a71c9eb429f49cbe89e90eb22c">Slic3r::WipeTower::volume_to_length</a></div><div class="ttdeci">float volume_to_length(float volume, float line_width, float layer_height) const</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:353</div></div>
<div class="ttc" id="alibslic3r_8h_html_a75f355966e0a97665eaf5a4c79baa7af"><div class="ttname"><a href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a></div><div class="ttdeci">static constexpr double EPSILON</div><div class="ttdef"><b>Definition</b> libslic3r.h:52</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00052">EPSILON</a>, <a class="el" href="../../#l00340">int</a>, <a class="el" href="../../#l00348">m_extra_spacing</a>, <a class="el" href="../../#l00330">m_filpar</a>, <a class="el" href="../../#l00302">m_first_layer_idx</a>, <a class="el" href="../../#l00311">m_no_sparse_layers</a>, <a class="el" href="../../#l00326">m_perimeter_width</a>, <a class="el" href="../../#l00398">m_plan</a>, <a class="el" href="../../#l00287">m_wipe_tower_width</a>, <a class="el" href="../../#l00353">volume_to_length()</a>, <a class="el" href="../../#l00205">width()</a>, and <a class="el" href="../../#l00279">WT_EPSILON</a>.</p>
<div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_acc322bb09af389503d6d02da37db9387_cgraph.svg" width="510" height="118"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a0b216a2f96dee13c69e7c8f98a46c5ae" name="a0b216a2f96dee13c69e7c8f98a46c5ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b216a2f96dee13c69e7c8f98a46c5ae">&#9670;&#160;</a></span>plan_tower()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::WipeTower::plan_tower </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1389</span>{</div>
<div class="line"><span class="lineno"> 1390</span>    <span class="comment">// BBS</span></div>
<div class="line"><span class="lineno"> 1391</span>    <span class="comment">// calculate extra spacing</span></div>
<div class="line"><span class="lineno"> 1392</span>    <span class="keywordtype">float</span> max_depth = 0.f;</div>
<div class="line"><span class="lineno"> 1393</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; info : <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>)</div>
<div class="line"><span class="lineno"> 1394</span>        max_depth = <a class="code hl_namespace" href="../../d8/dcc/namespacestd.html">std</a>::<a class="code hl_function" href="../../df/db1/math_8h.html#a5083c48fbfb60dd70808789479f4db53">max</a>(max_depth, info.toolchanges_depth());</div>
<div class="line"><span class="lineno"> 1395</span> </div>
<div class="line"><span class="lineno"> 1396</span>    <span class="keywordtype">float</span> min_wipe_tower_depth = 0.f;</div>
<div class="line"><span class="lineno"> 1397</span>    <span class="keyword">auto</span> iter = <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a345d5bb0b635654a0cd146b822bc5753">WipeTower::min_depth_per_height</a>.begin();</div>
<div class="line"><span class="lineno"> 1398</span>    <span class="keywordflow">while</span> (iter != <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a345d5bb0b635654a0cd146b822bc5753">WipeTower::min_depth_per_height</a>.<a class="code hl_variable" href="../../d2/d86/xmltok__impl_8inc.html#ade76451eec04fdb3da08ae68f8afee41">end</a>()) {</div>
<div class="line"><span class="lineno"> 1399</span>        <span class="keyword">auto</span> curr_height_to_depth = *iter;</div>
<div class="line"><span class="lineno"> 1400</span> </div>
<div class="line"><span class="lineno"> 1401</span>        <span class="comment">// This is the case that wipe tower height is lower than the first min_depth_to_height member.</span></div>
<div class="line"><span class="lineno"> 1402</span>        <span class="keywordflow">if</span> (curr_height_to_depth.first &gt;= <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a59f1a53d9531ce1f53d025adf991e619">m_wipe_tower_height</a>) {</div>
<div class="line"><span class="lineno"> 1403</span>            min_wipe_tower_depth = curr_height_to_depth.second;</div>
<div class="line"><span class="lineno"> 1404</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1405</span>        }</div>
<div class="line"><span class="lineno"> 1406</span> </div>
<div class="line"><span class="lineno"> 1407</span>        iter++;</div>
<div class="line"><span class="lineno"> 1408</span> </div>
<div class="line"><span class="lineno"> 1409</span>        <span class="comment">// If curr_height_to_depth is the last member, use its min_depth.</span></div>
<div class="line"><span class="lineno"> 1410</span>        <span class="keywordflow">if</span> (iter == <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a345d5bb0b635654a0cd146b822bc5753">WipeTower::min_depth_per_height</a>.<a class="code hl_variable" href="../../d2/d86/xmltok__impl_8inc.html#ade76451eec04fdb3da08ae68f8afee41">end</a>()) {</div>
<div class="line"><span class="lineno"> 1411</span>            min_wipe_tower_depth = curr_height_to_depth.second;</div>
<div class="line"><span class="lineno"> 1412</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1413</span>        }</div>
<div class="line"><span class="lineno"> 1414</span> </div>
<div class="line"><span class="lineno"> 1415</span>        <span class="comment">// If wipe tower height is between the current and next member, set the min_depth as linear interpolation between them</span></div>
<div class="line"><span class="lineno"> 1416</span>        <span class="keyword">auto</span> next_height_to_depth = *iter;</div>
<div class="line"><span class="lineno"> 1417</span>        <span class="keywordflow">if</span> (next_height_to_depth.first &gt; <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a59f1a53d9531ce1f53d025adf991e619">m_wipe_tower_height</a>) {</div>
<div class="line"><span class="lineno"> 1418</span>            <span class="keywordtype">float</span> height_base = curr_height_to_depth.first;</div>
<div class="line"><span class="lineno"> 1419</span>            <span class="keywordtype">float</span> height_diff = next_height_to_depth.first - curr_height_to_depth.first;</div>
<div class="line"><span class="lineno"> 1420</span>            <span class="keywordtype">float</span> min_depth_base = curr_height_to_depth.second;</div>
<div class="line"><span class="lineno"> 1421</span>            <span class="keywordtype">float</span> depth_diff = next_height_to_depth.second - curr_height_to_depth.second;</div>
<div class="line"><span class="lineno"> 1422</span> </div>
<div class="line"><span class="lineno"> 1423</span>            min_wipe_tower_depth = min_depth_base + (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a59f1a53d9531ce1f53d025adf991e619">m_wipe_tower_height</a> - curr_height_to_depth.first) / height_diff * depth_diff;</div>
<div class="line"><span class="lineno"> 1424</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1425</span>        }</div>
<div class="line"><span class="lineno"> 1426</span>    }</div>
<div class="line"><span class="lineno"> 1427</span> </div>
<div class="line"><span class="lineno"> 1428</span>    {</div>
<div class="line"><span class="lineno"> 1429</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad5837cb60d203755c0d4687fca281fe4">m_enable_timelapse_print</a> &amp;&amp; max_depth &lt; <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>)</div>
<div class="line"><span class="lineno"> 1430</span>            max_depth = min_wipe_tower_depth;</div>
<div class="line"><span class="lineno"> 1431</span> </div>
<div class="line"><span class="lineno"> 1432</span>        <span class="keywordflow">if</span> (max_depth + <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a> &lt; min_wipe_tower_depth)</div>
<div class="line"><span class="lineno"> 1433</span>            <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aeef713f85500b46119e0ec1e888e4a6b">m_extra_spacing</a> = min_wipe_tower_depth / max_depth;</div>
<div class="line"><span class="lineno"> 1434</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1435</span>            <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aeef713f85500b46119e0ec1e888e4a6b">m_extra_spacing</a> = 1.f;</div>
<div class="line"><span class="lineno"> 1436</span> </div>
<div class="line"><span class="lineno"> 1437</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> idx = 0; idx &lt; <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>.size(); idx++) {</div>
<div class="line"><span class="lineno"> 1438</span>            <span class="keyword">auto</span>&amp; info = <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>[idx];</div>
<div class="line"><span class="lineno"> 1439</span>            <span class="keywordflow">if</span> (idx == 0 &amp;&amp; <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aeef713f85500b46119e0ec1e888e4a6b">m_extra_spacing</a> &gt; 1.f + <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>) {</div>
<div class="line"><span class="lineno"> 1440</span>                <span class="comment">// apply solid fill for the first layer</span></div>
<div class="line"><span class="lineno"> 1441</span>                info.extra_spacing = 1.f;</div>
<div class="line"><span class="lineno"> 1442</span>                <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; toolchange : info.tool_changes) {</div>
<div class="line"><span class="lineno"> 1443</span>                    <span class="keywordtype">float</span> x_to_wipe = <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#af0abc0a71c9eb429f49cbe89e90eb22c">volume_to_length</a>(toolchange.wipe_volume, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>, info.height);</div>
<div class="line"><span class="lineno"> 1444</span>                    <span class="keywordtype">float</span> line_len = <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aff64de9eb31fe773ed3de9c389317692">m_wipe_tower_width</a> - 2 * <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>;</div>
<div class="line"><span class="lineno"> 1445</span>                    <span class="keywordtype">float</span> x_to_wipe_new = x_to_wipe * <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aeef713f85500b46119e0ec1e888e4a6b">m_extra_spacing</a>;</div>
<div class="line"><span class="lineno"> 1446</span>                    x_to_wipe_new = std::floor(x_to_wipe_new / line_len) * line_len;</div>
<div class="line"><span class="lineno"> 1447</span>                    x_to_wipe_new = std::max(x_to_wipe_new, x_to_wipe);</div>
<div class="line"><span class="lineno"> 1448</span> </div>
<div class="line"><span class="lineno"> 1449</span>                    <span class="keywordtype">int</span> line_count = std::ceil((x_to_wipe_new - <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a2cf052cbfd60f7cf767c8de8604f63a2">WT_EPSILON</a>) / line_len);</div>
<div class="line"><span class="lineno"> 1450</span>                    toolchange.required_depth = line_count * <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>;</div>
<div class="line"><span class="lineno"> 1451</span>                    toolchange.wipe_volume = x_to_wipe_new / x_to_wipe * toolchange.wipe_volume;</div>
<div class="line"><span class="lineno"> 1452</span>                    toolchange.wipe_length = x_to_wipe_new;</div>
<div class="line"><span class="lineno"> 1453</span>                }</div>
<div class="line"><span class="lineno"> 1454</span>            }</div>
<div class="line"><span class="lineno"> 1455</span>            <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1456</span>                info.extra_spacing = <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aeef713f85500b46119e0ec1e888e4a6b">m_extra_spacing</a>;</div>
<div class="line"><span class="lineno"> 1457</span>                <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; toolchange : info.tool_changes) {</div>
<div class="line"><span class="lineno"> 1458</span>                    toolchange.required_depth *= <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aeef713f85500b46119e0ec1e888e4a6b">m_extra_spacing</a>;</div>
<div class="line"><span class="lineno"> 1459</span>                    toolchange.wipe_length = <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#af0abc0a71c9eb429f49cbe89e90eb22c">volume_to_length</a>(toolchange.wipe_volume, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>, info.height);</div>
<div class="line"><span class="lineno"> 1460</span>                }</div>
<div class="line"><span class="lineno"> 1461</span>            }</div>
<div class="line"><span class="lineno"> 1462</span>        }</div>
<div class="line"><span class="lineno"> 1463</span>    }</div>
<div class="line"><span class="lineno"> 1464</span> </div>
<div class="line"><span class="lineno"> 1465</span>  <span class="comment">// Calculate m_wipe_tower_depth (maximum depth for all the layers) and propagate depths downwards</span></div>
<div class="line"><span class="lineno"> 1466</span>  <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#af7593647d012a658da21075031ec8cbb">m_wipe_tower_depth</a> = 0.f;</div>
<div class="line"><span class="lineno"> 1467</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; layer : <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>)</div>
<div class="line"><span class="lineno"> 1468</span>    layer.depth = 0.f;</div>
<div class="line"><span class="lineno"> 1469</span>  </div>
<div class="line"><span class="lineno"> 1470</span>    <span class="keywordtype">float</span> max_depth_for_all = 0;</div>
<div class="line"><span class="lineno"> 1471</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> layer_index = <span class="keywordtype">int</span>(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>.size()) - 1; layer_index &gt;= 0; --layer_index)</div>
<div class="line"><span class="lineno"> 1472</span>  {</div>
<div class="line"><span class="lineno"> 1473</span>    <span class="keywordtype">float</span> this_layer_depth = std::max(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>[layer_index].depth, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>[layer_index].toolchanges_depth());</div>
<div class="line"><span class="lineno"> 1474</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad5837cb60d203755c0d4687fca281fe4">m_enable_timelapse_print</a> &amp;&amp; this_layer_depth &lt; <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>)</div>
<div class="line"><span class="lineno"> 1475</span>            this_layer_depth = min_wipe_tower_depth;</div>
<div class="line"><span class="lineno"> 1476</span> </div>
<div class="line"><span class="lineno"> 1477</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>[layer_index].depth = this_layer_depth;</div>
<div class="line"><span class="lineno"> 1478</span>    </div>
<div class="line"><span class="lineno"> 1479</span>    <span class="keywordflow">if</span> (this_layer_depth &gt; <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#af7593647d012a658da21075031ec8cbb">m_wipe_tower_depth</a> - <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>)</div>
<div class="line"><span class="lineno"> 1480</span>      <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#af7593647d012a658da21075031ec8cbb">m_wipe_tower_depth</a> = this_layer_depth + <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>;</div>
<div class="line"><span class="lineno"> 1481</span> </div>
<div class="line"><span class="lineno"> 1482</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = layer_index - 1; i &gt;= 0 ; i--)</div>
<div class="line"><span class="lineno"> 1483</span>    {</div>
<div class="line"><span class="lineno"> 1484</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>[i].depth - this_layer_depth &lt; 2*<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a> )</div>
<div class="line"><span class="lineno"> 1485</span>        <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>[i].depth = this_layer_depth;</div>
<div class="line"><span class="lineno"> 1486</span>    }</div>
<div class="line"><span class="lineno"> 1487</span> </div>
<div class="line"><span class="lineno"> 1488</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad5837cb60d203755c0d4687fca281fe4">m_enable_timelapse_print</a> &amp;&amp; layer_index == 0) </div>
<div class="line"><span class="lineno"> 1489</span>            max_depth_for_all = <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>[0].depth;</div>
<div class="line"><span class="lineno"> 1490</span>    }</div>
<div class="line"><span class="lineno"> 1491</span> </div>
<div class="line"><span class="lineno"> 1492</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad5837cb60d203755c0d4687fca281fe4">m_enable_timelapse_print</a>) {</div>
<div class="line"><span class="lineno"> 1493</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = <span class="keywordtype">int</span>(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>.size()) - 1; i &gt;= 0; i--) {</div>
<div class="line"><span class="lineno"> 1494</span>            <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>[i].depth = max_depth_for_all;</div>
<div class="line"><span class="lineno"> 1495</span>        }</div>
<div class="line"><span class="lineno"> 1496</span>    }</div>
<div class="line"><span class="lineno"> 1497</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_a345d5bb0b635654a0cd146b822bc5753"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a345d5bb0b635654a0cd146b822bc5753">Slic3r::WipeTower::min_depth_per_height</a></div><div class="ttdeci">static const std::map&lt; float, float &gt; min_depth_per_height</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:27</div></div>
<div class="ttc" id="amath_8h_html_a5083c48fbfb60dd70808789479f4db53"><div class="ttname"><a href="../../df/db1/math_8h.html#a5083c48fbfb60dd70808789479f4db53">max</a></div><div class="ttdeci">const T &amp; max(const T &amp;a, const T &amp;b)</div><div class="ttdef"><b>Definition</b> math.h:391</div></div>
<div class="ttc" id="axmltok__impl_8inc_html_ade76451eec04fdb3da08ae68f8afee41"><div class="ttname"><a href="../../d2/d86/xmltok__impl_8inc.html#ade76451eec04fdb3da08ae68f8afee41">end</a></div><div class="ttdeci">static int PTRCALL PREFIX(scanPercent)(const ENCODING *enc const char const char * end</div><div class="ttdef"><b>Definition</b> xmltok_impl.inc:881</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00881">end</a>, <a class="el" href="../../#l00052">EPSILON</a>, <a class="el" href="../../#l00284">m_enable_timelapse_print</a>, <a class="el" href="../../#l00348">m_extra_spacing</a>, <a class="el" href="../../#l00326">m_perimeter_width</a>, <a class="el" href="../../#l00398">m_plan</a>, <a class="el" href="../../#l00288">m_wipe_tower_depth</a>, <a class="el" href="../../#l00290">m_wipe_tower_height</a>, <a class="el" href="../../#l00287">m_wipe_tower_width</a>, <a class="el" href="../../#l00027">min_depth_per_height</a>, <a class="el" href="../../#l00353">volume_to_length()</a>, and <a class="el" href="../../#l00279">WT_EPSILON</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01566">generate()</a>.</p>
<div id="dynsection-24" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-24-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-24-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-24-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_a0b216a2f96dee13c69e7c8f98a46c5ae_cgraph.svg" width="510" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-25" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-25-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-25-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-25-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_a0b216a2f96dee13c69e7c8f98a46c5ae_icgraph.svg" width="330" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a65e948fcc251c173a04e53073e99e211" name="a65e948fcc251c173a04e53073e99e211"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65e948fcc251c173a04e53073e99e211">&#9670;&#160;</a></span>position()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> &amp; Slic3r::WipeTower::position </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  203</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a172cd00b541bfdaf5c3481af8418698f">m_wipe_tower_pos</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00286">m_wipe_tower_pos</a>.</p>

</div>
</div>
<a id="a5ed6171a6f72b5f024f6373c0ea2fae4" name="a5ed6171a6f72b5f024f6373c0ea2fae4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ed6171a6f72b5f024f6373c0ea2fae4">&#9670;&#160;</a></span>prime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="../../dc/deb/struct_slic3r_1_1_wipe_tower_1_1_tool_change_result.html">WipeTower::ToolChangeResult</a> &gt; Slic3r::WipeTower::prime </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>initial_layer_print_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; unsigned <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>tools</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>last_wipe_inside_wipe_tower</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  731</span>{</div>
<div class="line"><span class="lineno">  732</span>    <span class="keywordflow">return</span> std::vector&lt;ToolChangeResult&gt;();</div>
<div class="line"><span class="lineno">  733</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a38118f226bd66ac4a077c974f92230e6" name="a38118f226bd66ac4a077c974f92230e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38118f226bd66ac4a077c974f92230e6">&#9670;&#160;</a></span>save_on_last_wipe()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::WipeTower::save_on_last_wipe </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1500</span>{</div>
<div class="line"><span class="lineno"> 1501</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>=<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>.begin();<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>&lt;<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>.end();++<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>) {</div>
<div class="line"><span class="lineno"> 1502</span>        <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ae3bb9f1b19987c3c7e728793794592dd">set_layer</a>(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>-&gt;z, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>-&gt;height, 0, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>-&gt;z == <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>.front().z, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>-&gt;z == <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>.back().z);</div>
<div class="line"><span class="lineno"> 1503</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>-&gt;tool_changes.size()==0)   <span class="comment">// we have no way to save anything on an empty layer</span></div>
<div class="line"><span class="lineno"> 1504</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1505</span> </div>
<div class="line"><span class="lineno"> 1506</span>        <span class="comment">// Which toolchange will finish_layer extrusions be subtracted from?</span></div>
<div class="line"><span class="lineno"> 1507</span>        <span class="comment">// BBS: consider both soluable and support properties</span></div>
<div class="line"><span class="lineno"> 1508</span>        <span class="keywordtype">int</span> idx = <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a6607bbe5e8724ec9f0c7dbbac78f2c63">first_toolchange_to_nonsoluble_nonsupport</a>(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>-&gt;tool_changes);</div>
<div class="line"><span class="lineno"> 1509</span> </div>
<div class="line"><span class="lineno"> 1510</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code hl_variable" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>-&gt;tool_changes.size()); ++i) {</div>
<div class="line"><span class="lineno"> 1511</span>            <span class="keyword">auto</span>&amp; toolchange = <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>-&gt;tool_changes[i];</div>
<div class="line"><span class="lineno"> 1512</span>            <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a02c8c689fb5107ac549a295158d96a5d">tool_change</a>(toolchange.new_tool);</div>
<div class="line"><span class="lineno"> 1513</span> </div>
<div class="line"><span class="lineno"> 1514</span>            <span class="keywordflow">if</span> (i == idx) {</div>
<div class="line"><span class="lineno"> 1515</span>                <span class="keywordtype">float</span> <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab86710f19bd0626999645d16dab7b25d">width</a> = <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aff64de9eb31fe773ed3de9c389317692">m_wipe_tower_width</a> - 3*<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>; <span class="comment">// width we draw into</span></div>
<div class="line"><span class="lineno"> 1516</span>                <span class="keywordtype">float</span> length_to_save = <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a37cad24ea51d05edcb6ccde4204d3fba">finish_layer</a>().<a class="code hl_function" href="../../dc/deb/struct_slic3r_1_1_wipe_tower_1_1_tool_change_result.html#ad00f3efe71b3d45dddd7e7af3e2cc6ef">total_extrusion_length_in_plane</a>();</div>
<div class="line"><span class="lineno"> 1517</span>                <span class="keywordtype">float</span> length_to_wipe = <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#af0abc0a71c9eb429f49cbe89e90eb22c">volume_to_length</a>(toolchange.wipe_volume,</div>
<div class="line"><span class="lineno"> 1518</span>                                      <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>-&gt;height)  - toolchange.first_wipe_line - length_to_save;</div>
<div class="line"><span class="lineno"> 1519</span> </div>
<div class="line"><span class="lineno"> 1520</span>                length_to_wipe = std::max(length_to_wipe,0.f);</div>
<div class="line"><span class="lineno"> 1521</span>                <span class="keywordtype">float</span> depth_to_wipe = <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a> * (std::floor(length_to_wipe/<a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab86710f19bd0626999645d16dab7b25d">width</a>) + ( length_to_wipe &gt; 0.f ? 1.f : 0.f ) ) * <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aeef713f85500b46119e0ec1e888e4a6b">m_extra_spacing</a>;</div>
<div class="line"><span class="lineno"> 1522</span> </div>
<div class="line"><span class="lineno"> 1523</span>                toolchange.required_depth = toolchange.ramming_depth + depth_to_wipe;</div>
<div class="line"><span class="lineno"> 1524</span>            }</div>
<div class="line"><span class="lineno"> 1525</span>        }</div>
<div class="line"><span class="lineno"> 1526</span>    }</div>
<div class="line"><span class="lineno"> 1527</span>}</div>
<div class="ttc" id="astruct_slic3r_1_1_wipe_tower_1_1_tool_change_result_html_ad00f3efe71b3d45dddd7e7af3e2cc6ef"><div class="ttname"><a href="../../dc/deb/struct_slic3r_1_1_wipe_tower_1_1_tool_change_result.html#ad00f3efe71b3d45dddd7e7af3e2cc6ef">Slic3r::WipeTower::ToolChangeResult::total_extrusion_length_in_plane</a></div><div class="ttdeci">float total_extrusion_length_in_plane()</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:85</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l01175">finish_layer()</a>, <a class="el" href="../../#l01533">first_toolchange_to_nonsoluble_nonsupport()</a>, <a class="el" href="../../#l00340">int</a>, <a class="el" href="../../#l00348">m_extra_spacing</a>, <a class="el" href="../../#l00399">m_layer_info</a>, <a class="el" href="../../#l00326">m_perimeter_width</a>, <a class="el" href="../../#l00398">m_plan</a>, <a class="el" href="../../#l00287">m_wipe_tower_width</a>, <a class="el" href="../../#l00170">set_layer()</a>, <a class="el" href="../../#l00735">tool_change()</a>, <a class="el" href="../../#l00085">Slic3r::WipeTower::ToolChangeResult::total_extrusion_length_in_plane()</a>, <a class="el" href="../../#l00353">volume_to_length()</a>, and <a class="el" href="../../#l00205">width()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01566">generate()</a>.</p>
<div id="dynsection-26" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-26-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-26-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-26-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_a38118f226bd66ac4a077c974f92230e6_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-27" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-27-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-27-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-27-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_a38118f226bd66ac4a077c974f92230e6_icgraph.svg" width="330" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ac346c213c22c66792e67a8e2ac2cbb3e" name="ac346c213c22c66792e67a8e2ac2cbb3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac346c213c22c66792e67a8e2ac2cbb3e">&#9670;&#160;</a></span>set_extruder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::WipeTower::set_extruder </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const PrintConfig &amp;&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  668</span>{</div>
<div class="line"><span class="lineno">  669</span>    <span class="comment">//while (m_filpar.size() &lt; idx+1)   // makes sure the required element is in the vector</span></div>
<div class="line"><span class="lineno">  670</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>.push_back(FilamentParameters());</div>
<div class="line"><span class="lineno">  671</span> </div>
<div class="line"><span class="lineno">  672</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[idx].material = config.filament_type.get_at(idx);</div>
<div class="line"><span class="lineno">  673</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[idx].is_soluble = config.filament_soluble.get_at(idx);</div>
<div class="line"><span class="lineno">  674</span>    <span class="comment">// BBS</span></div>
<div class="line"><span class="lineno">  675</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[idx].is_support = config.filament_is_support.get_at(idx);</div>
<div class="line"><span class="lineno">  676</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[idx].nozzle_temperature = config.nozzle_temperature.get_at(idx);</div>
<div class="line"><span class="lineno">  677</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[idx].nozzle_temperature_initial_layer = config.nozzle_temperature_initial_layer.get_at(idx);</div>
<div class="line"><span class="lineno">  678</span> </div>
<div class="line"><span class="lineno">  679</span>    <span class="comment">// If this is a single extruder MM printer, we will use all the SE-specific config values.</span></div>
<div class="line"><span class="lineno">  680</span>    <span class="comment">// Otherwise, the defaults will be used to turn off the SE stuff.</span></div>
<div class="line"><span class="lineno">  681</span>    <span class="comment">// BBS: remove useless config</span></div>
<div class="line"><span class="lineno">  682</span><span class="preprocessor">#if 0</span></div>
<div class="line"><span class="lineno">  683</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a273404b4c31855e8394153a17bf10dea">m_semm</a>) {</div>
<div class="line"><span class="lineno">  684</span>        <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[idx].loading_speed           = float(config.filament_loading_speed.get_at(idx));</div>
<div class="line"><span class="lineno">  685</span>        <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[idx].loading_speed_start     = float(config.filament_loading_speed_start.get_at(idx));</div>
<div class="line"><span class="lineno">  686</span>        <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[idx].unloading_speed         = float(config.filament_unloading_speed.get_at(idx));</div>
<div class="line"><span class="lineno">  687</span>        <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[idx].unloading_speed_start   = float(config.filament_unloading_speed_start.get_at(idx));</div>
<div class="line"><span class="lineno">  688</span>        <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[idx].delay                   = float(config.filament_toolchange_delay.get_at(idx));</div>
<div class="line"><span class="lineno">  689</span>        <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[idx].cooling_moves           = config.filament_cooling_moves.get_at(idx);</div>
<div class="line"><span class="lineno">  690</span>        <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[idx].cooling_initial_speed   = float(config.filament_cooling_initial_speed.get_at(idx));</div>
<div class="line"><span class="lineno">  691</span>        <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[idx].cooling_final_speed     = float(config.filament_cooling_final_speed.get_at(idx));</div>
<div class="line"><span class="lineno">  692</span>    }</div>
<div class="line"><span class="lineno">  693</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  694</span> </div>
<div class="line"><span class="lineno">  695</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[idx].filament_area = float((<a class="code hl_define" href="../../de/ddd/_extrusion_simulator_8cpp.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>/4.f) * <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(config.filament_diameter.get_at(idx), 2)); <span class="comment">// all extruders are assumed to have the same filament diameter at this point</span></div>
<div class="line"><span class="lineno">  696</span>    <span class="keywordtype">float</span> nozzle_diameter = float(config.nozzle_diameter.get_at(idx));</div>
<div class="line"><span class="lineno">  697</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[idx].nozzle_diameter = nozzle_diameter; <span class="comment">// to be used in future with (non-single) multiextruder MM</span></div>
<div class="line"><span class="lineno">  698</span> </div>
<div class="line"><span class="lineno">  699</span>    <span class="keywordtype">float</span> max_vol_speed = float(config.filament_max_volumetric_speed.get_at(idx));</div>
<div class="line"><span class="lineno">  700</span>    <span class="keywordflow">if</span> (max_vol_speed!= 0.f)</div>
<div class="line"><span class="lineno">  701</span>        <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[idx].max_e_speed = (max_vol_speed / <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#abaf41702dc172b64196f4dd316cd7d37">filament_area</a>());</div>
<div class="line"><span class="lineno">  702</span> </div>
<div class="line"><span class="lineno">  703</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a> = nozzle_diameter * <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a901731d3077a05684e96c9c9e3d0c6f7">Width_To_Nozzle_Ratio</a>; <span class="comment">// all extruders are now assumed to have the same diameter</span></div>
<div class="line"><span class="lineno">  704</span>    <span class="comment">// BBS: remove useless config</span></div>
<div class="line"><span class="lineno">  705</span><span class="preprocessor">#if 0</span></div>
<div class="line"><span class="lineno">  706</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a273404b4c31855e8394153a17bf10dea">m_semm</a>) {</div>
<div class="line"><span class="lineno">  707</span>        std::istringstream stream{config.filament_ramming_parameters.get_at(idx)};</div>
<div class="line"><span class="lineno">  708</span>        <span class="keywordtype">float</span> speed = 0.f;</div>
<div class="line"><span class="lineno">  709</span>        stream &gt;&gt; <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[idx].ramming_line_width_multiplicator &gt;&gt; <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[idx].ramming_step_multiplicator;</div>
<div class="line"><span class="lineno">  710</span>        <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[idx].ramming_line_width_multiplicator /= 100;</div>
<div class="line"><span class="lineno">  711</span>        <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[idx].ramming_step_multiplicator /= 100;</div>
<div class="line"><span class="lineno">  712</span>        <span class="keywordflow">while</span> (stream &gt;&gt; speed)</div>
<div class="line"><span class="lineno">  713</span>            <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[idx].ramming_speed.push_back(speed);</div>
<div class="line"><span class="lineno">  714</span>    }</div>
<div class="line"><span class="lineno">  715</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  716</span> </div>
<div class="line"><span class="lineno">  717</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a334caba8c10043edf751cf008780146b">m_used_filament_length</a>.resize(std::max(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a334caba8c10043edf751cf008780146b">m_used_filament_length</a>.size(), idx + 1)); <span class="comment">// makes sure that the vector is big enough so we don&#39;t have to check later</span></div>
<div class="line"><span class="lineno">  718</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_a901731d3077a05684e96c9c9e3d0c6f7"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a901731d3077a05684e96c9c9e3d0c6f7">Slic3r::WipeTower::Width_To_Nozzle_Ratio</a></div><div class="ttdeci">const float Width_To_Nozzle_Ratio</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:278</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00280">filament_area()</a>, <a class="el" href="../../#l00330">m_filpar</a>, <a class="el" href="../../#l00326">m_perimeter_width</a>, <a class="el" href="../../#l00020">M_PI</a>, <a class="el" href="../../#l00285">m_semm</a>, <a class="el" href="../../#l00402">m_used_filament_length</a>, and <a class="el" href="../../#l00278">Width_To_Nozzle_Ratio</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l02142">Slic3r::Print::_make_wipe_tower()</a>.</p>
<div id="dynsection-28" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-28-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-28-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-28-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_ac346c213c22c66792e67a8e2ac2cbb3e_cgraph.svg" width="330" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-29" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-29-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-29-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-29-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_ac346c213c22c66792e67a8e2ac2cbb3e_icgraph.svg" width="331" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a3dcbb5ac2658e1b4dc9aca55c0335ce0" name="a3dcbb5ac2658e1b4dc9aca55c0335ce0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3dcbb5ac2658e1b4dc9aca55c0335ce0">&#9670;&#160;</a></span>set_last_layer_extruder_fill()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::WipeTower::set_last_layer_extruder_fill </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>extruder_fill</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  162</span>                                                        {</div>
<div class="line"><span class="lineno">  163</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>.empty()) {</div>
<div class="line"><span class="lineno">  164</span>      <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>.back().extruder_fill = extruder_fill;</div>
<div class="line"><span class="lineno">  165</span>    }</div>
<div class="line"><span class="lineno">  166</span>  }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00398">m_plan</a>.</p>

</div>
</div>
<a id="ae3bb9f1b19987c3c7e728793794592dd" name="ae3bb9f1b19987c3c7e728793794592dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3bb9f1b19987c3c7e728793794592dd">&#9670;&#160;</a></span>set_layer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::WipeTower::set_layer </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>print_z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>layer_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_tool_changes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_first_layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_last_layer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  181</span>  {</div>
<div class="line"><span class="lineno">  182</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a97a2ddd6167f4a5947dcca8856f87349">m_z_pos</a>         = print_z;</div>
<div class="line"><span class="lineno">  183</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aedd2cb7a88fceecab7234e25738934d9">m_layer_height</a>      = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a3fc0fbbcb45d8a2fef27e26e1289ec21">layer_height</a>;</div>
<div class="line"><span class="lineno">  184</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a6b735ffd9baba25983cab35c4553b72a">m_depth_traversed</a>  = 0.f;</div>
<div class="line"><span class="lineno">  185</span>        <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#acb95f1e30ab1122b344b449d5fb14ec3">m_current_layer_finished</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  186</span>    <span class="comment">//m_current_shape = (! is_first_layer &amp;&amp; m_current_shape == SHAPE_NORMAL) ? SHAPE_REVERSED : SHAPE_NORMAL;</span></div>
<div class="line"><span class="lineno">  187</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad8972d431887037663641df24ba9eb56">m_current_shape</a> = <a class="code hl_enumvalue" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a657379b3c9f96819c3dc78a8d81e7d4fa0272eb51694bf77c56b63111f2829b6b">SHAPE_NORMAL</a>;</div>
<div class="line"><span class="lineno">  188</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab1cde0465af2371ac9376601713fcaf4">is_first_layer</a>) {</div>
<div class="line"><span class="lineno">  189</span>            <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aaa6944b3301632b5644cd9723b17663a">m_num_layer_changes</a> = 0;</div>
<div class="line"><span class="lineno">  190</span>            <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a14ddac69b62e255d31eeef83a5aa174e">m_num_tool_changes</a>  = 0;</div>
<div class="line"><span class="lineno">  191</span>        } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  192</span>            ++ <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aaa6944b3301632b5644cd9723b17663a">m_num_layer_changes</a>;</div>
<div class="line"><span class="lineno">  193</span>    </div>
<div class="line"><span class="lineno">  194</span>    <span class="comment">// Calculate extrusion flow from desired line width, nozzle diameter, filament diameter and layer_height:</span></div>
<div class="line"><span class="lineno">  195</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab09c7e389669846e40a14cc8d4b96b6a">m_extrusion_flow</a> = <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aee98daa9ed84d4bfa90b92c826e913eb">extrusion_flow</a>(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a3fc0fbbcb45d8a2fef27e26e1289ec21">layer_height</a>);</div>
<div class="line"><span class="lineno">  196</span> </div>
<div class="line"><span class="lineno">  197</span>        <span class="comment">// Advance m_layer_info iterator, making sure we got it right</span></div>
<div class="line"><span class="lineno">  198</span>    <span class="keywordflow">while</span> (!<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>.empty() &amp;&amp; <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>-&gt;z &lt; print_z - <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a2cf052cbfd60f7cf767c8de8604f63a2">WT_EPSILON</a> &amp;&amp; <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>+1 != <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>.end())</div>
<div class="line"><span class="lineno">  199</span>      ++<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>;</div>
<div class="line"><span class="lineno">  200</span>  }</div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_a6b735ffd9baba25983cab35c4553b72a"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a6b735ffd9baba25983cab35c4553b72a">Slic3r::WipeTower::m_depth_traversed</a></div><div class="ttdeci">float m_depth_traversed</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:345</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00229">extrusion_flow()</a>, <a class="el" href="../../#l00350">is_first_layer()</a>, <a class="el" href="../../de/db8/namespace_slic3r.html#a3fc0fbbcb45d8a2fef27e26e1289ec21">Slic3r::layer_height()</a>, <a class="el" href="../../#l00346">m_current_layer_finished</a>, <a class="el" href="../../#l00339">m_current_shape</a>, <a class="el" href="../../#l00345">m_depth_traversed</a>, <a class="el" href="../../#l00327">m_extrusion_flow</a>, <a class="el" href="../../#l00297">m_layer_height</a>, <a class="el" href="../../#l00399">m_layer_info</a>, <a class="el" href="../../#l00334">m_num_layer_changes</a>, <a class="el" href="../../#l00335">m_num_tool_changes</a>, <a class="el" href="../../#l00398">m_plan</a>, <a class="el" href="../../#l00296">m_z_pos</a>, <a class="el" href="../../#l00274">SHAPE_NORMAL</a>, and <a class="el" href="../../#l00279">WT_EPSILON</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01566">generate()</a>, and <a class="el" href="../../#l01499">save_on_last_wipe()</a>.</p>
<div id="dynsection-30" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-30-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-30-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-30-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_ae3bb9f1b19987c3c7e728793794592dd_cgraph.svg" width="514" height="167"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-31" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-31-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-31-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-31-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_ae3bb9f1b19987c3c7e728793794592dd_icgraph.svg" width="514" height="80"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a02c8c689fb5107ac549a295158d96a5d" name="a02c8c689fb5107ac549a295158d96a5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02c8c689fb5107ac549a295158d96a5d">&#9670;&#160;</a></span>tool_change()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/deb/struct_slic3r_1_1_wipe_tower_1_1_tool_change_result.html">WipeTower::ToolChangeResult</a> Slic3r::WipeTower::tool_change </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>new_tool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>extrude_perimeter</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>first_toolchange_to_nonsoluble</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  736</span>{</div>
<div class="line"><span class="lineno">  737</span>    <span class="keywordtype">size_t</span> old_tool = <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a>;</div>
<div class="line"><span class="lineno">  738</span> </div>
<div class="line"><span class="lineno">  739</span>    <span class="keywordtype">float</span> wipe_depth = 0.f;</div>
<div class="line"><span class="lineno">  740</span>  <span class="keywordtype">float</span> wipe_length = 0.f;</div>
<div class="line"><span class="lineno">  741</span>    <span class="keywordtype">float</span> purge_volume = 0.f;</div>
<div class="line"><span class="lineno">  742</span>  </div>
<div class="line"><span class="lineno">  743</span>  <span class="comment">// Finds this toolchange info</span></div>
<div class="line"><span class="lineno">  744</span>  <span class="keywordflow">if</span> (tool != (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)(-1))</div>
<div class="line"><span class="lineno">  745</span>  {</div>
<div class="line"><span class="lineno">  746</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;b : <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>-&gt;tool_changes)</div>
<div class="line"><span class="lineno">  747</span>      if ( <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>.new_tool == tool ) {</div>
<div class="line"><span class="lineno">  748</span>                wipe_length = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>.wipe_length;</div>
<div class="line"><span class="lineno">  749</span>                wipe_depth = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>.required_depth;</div>
<div class="line"><span class="lineno">  750</span>                purge_volume = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>.purge_volume;</div>
<div class="line"><span class="lineno">  751</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  752</span>      }</div>
<div class="line"><span class="lineno">  753</span>  }</div>
<div class="line"><span class="lineno">  754</span>  <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  755</span>    <span class="comment">// Otherwise we are going to Unload only. And m_layer_info would be invalid.</span></div>
<div class="line"><span class="lineno">  756</span>  }</div>
<div class="line"><span class="lineno">  757</span> </div>
<div class="line"><span class="lineno">  758</span>    box_coordinates cleaning_box(</div>
<div class="line"><span class="lineno">  759</span>    <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a>(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>),</div>
<div class="line"><span class="lineno">  760</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aff64de9eb31fe773ed3de9c389317692">m_wipe_tower_width</a> - 2 * <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>,</div>
<div class="line"><span class="lineno">  761</span>        (tool != (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)(-1) ? wipe_depth + <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a6b735ffd9baba25983cab35c4553b72a">m_depth_traversed</a> - <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a></div>
<div class="line"><span class="lineno">  762</span>                                    : <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#af7593647d012a658da21075031ec8cbb">m_wipe_tower_depth</a> - <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>));</div>
<div class="line"><span class="lineno">  763</span> </div>
<div class="line"><span class="lineno">  764</span>  WipeTowerWriter writer(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aedd2cb7a88fceecab7234e25738934d9">m_layer_height</a>, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a3b6a79c3bda43c7282a43f7c49a600e8">m_gcode_flavor</a>, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>);</div>
<div class="line"><span class="lineno">  765</span>  writer.set_extrusion_flow(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab09c7e389669846e40a14cc8d4b96b6a">m_extrusion_flow</a>)</div>
<div class="line"><span class="lineno">  766</span>    .set_z(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a97a2ddd6167f4a5947dcca8856f87349">m_z_pos</a>)</div>
<div class="line"><span class="lineno">  767</span>    .set_initial_tool(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a>)</div>
<div class="line"><span class="lineno">  768</span>        .set_y_shift(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a194653c9aca05d7054bc9662586eb753">m_y_shift</a> + (tool!=(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)(-1) &amp;&amp; (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad8972d431887037663641df24ba9eb56">m_current_shape</a> == <a class="code hl_enumvalue" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a657379b3c9f96819c3dc78a8d81e7d4fac35ae63524beb5374e03cfcf862748f6">SHAPE_REVERSED</a>) ? <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>-&gt;depth - <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>-&gt;toolchanges_depth(): 0.f))</div>
<div class="line"><span class="lineno">  769</span>    .<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a5f240a84e573ed2d7785a439f4239e1a">append</a>(<span class="stringliteral">&quot;;--------------------\n&quot;</span></div>
<div class="line"><span class="lineno">  770</span>        <span class="stringliteral">&quot;; CP TOOLCHANGE START\n&quot;</span>)</div>
<div class="line"><span class="lineno">  771</span>    .comment_with_value(<span class="stringliteral">&quot; toolchange #&quot;</span>, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a14ddac69b62e255d31eeef83a5aa174e">m_num_tool_changes</a> + 1); <span class="comment">// the number is zero-based</span></div>
<div class="line"><span class="lineno">  772</span> </div>
<div class="line"><span class="lineno">  773</span>    <span class="keywordflow">if</span> (tool != (<span class="keywordtype">unsigned</span>)(-1))</div>
<div class="line"><span class="lineno">  774</span>        writer.append(std::string(<span class="stringliteral">&quot;; material : &quot;</span> + (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a> &lt; <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>.size() ? <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a>].material : <span class="stringliteral">&quot;(NONE)&quot;</span>) + <span class="stringliteral">&quot; -&gt; &quot;</span> + <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[tool].material + <span class="stringliteral">&quot;\n&quot;</span>).c_str())</div>
<div class="line"><span class="lineno">  775</span>              .<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a5f240a84e573ed2d7785a439f4239e1a">append</a>(<span class="stringliteral">&quot;;--------------------\n&quot;</span>);</div>
<div class="line"><span class="lineno">  776</span> </div>
<div class="line"><span class="lineno">  777</span>    writer.speed_override_backup();</div>
<div class="line"><span class="lineno">  778</span>  writer.speed_override(100);</div>
<div class="line"><span class="lineno">  779</span> </div>
<div class="line"><span class="lineno">  780</span>  <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> initial_position = cleaning_box.ld + <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a>(0.f, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a6b735ffd9baba25983cab35c4553b72a">m_depth_traversed</a>);</div>
<div class="line"><span class="lineno">  781</span>    writer.set_initial_position(initial_position, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aff64de9eb31fe773ed3de9c389317692">m_wipe_tower_width</a>, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#af7593647d012a658da21075031ec8cbb">m_wipe_tower_depth</a>, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a59a6e9ba9a8694b196a42b5370b9b52c">m_internal_rotation</a>);</div>
<div class="line"><span class="lineno">  782</span> </div>
<div class="line"><span class="lineno">  783</span>    <span class="comment">// Increase the extruder driver current to allow fast ramming.</span></div>
<div class="line"><span class="lineno">  784</span>    <span class="comment">//BBS</span></div>
<div class="line"><span class="lineno">  785</span>  <span class="comment">//if (m_set_extruder_trimpot)</span></div>
<div class="line"><span class="lineno">  786</span>  <span class="comment">//  writer.set_extruder_trimpot(750);</span></div>
<div class="line"><span class="lineno">  787</span> </div>
<div class="line"><span class="lineno">  788</span>    <span class="comment">// Ram the hot material out of the melt zone, retract the filament into the cooling tubes and let it cool.</span></div>
<div class="line"><span class="lineno">  789</span>    <span class="keywordflow">if</span> (tool != (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)-1){      <span class="comment">// This is not the last change.</span></div>
<div class="line"><span class="lineno">  790</span>        <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aa9ab22d265bad225aca67b2d301afae1">toolchange_Unload</a>(writer, cleaning_box, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a>].material,</div>
<div class="line"><span class="lineno">  791</span>                          <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab1cde0465af2371ac9376601713fcaf4">is_first_layer</a>() ? <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[tool].nozzle_temperature_initial_layer : <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[tool].nozzle_temperature);</div>
<div class="line"><span class="lineno">  792</span>        <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a37f6b2c16f87ff7e2e7a6c9fe70590f8">toolchange_Change</a>(writer, tool, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[tool].material); <span class="comment">// Change the tool, set a speed override for soluble and flex materials.</span></div>
<div class="line"><span class="lineno">  793</span>        <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a7ef242b87f4c1e3c29d12662508fbb36">toolchange_Load</a>(writer, cleaning_box);</div>
<div class="line"><span class="lineno">  794</span>        <span class="comment">// BBS</span></div>
<div class="line"><span class="lineno">  795</span>        <span class="comment">//writer.travel(writer.x(), writer.y()-m_perimeter_width); // cooling and loading were done a bit down the road</span></div>
<div class="line"><span class="lineno">  796</span>        <span class="keywordflow">if</span> (extrude_perimeter) {</div>
<div class="line"><span class="lineno">  797</span>            box_coordinates wt_box(<a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a>(0.f, (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad8972d431887037663641df24ba9eb56">m_current_shape</a> == <a class="code hl_enumvalue" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a657379b3c9f96819c3dc78a8d81e7d4fac35ae63524beb5374e03cfcf862748f6">SHAPE_REVERSED</a>) ? <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>-&gt;toolchanges_depth() - <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>-&gt;depth : 0.f),</div>
<div class="line"><span class="lineno">  798</span>                <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aff64de9eb31fe773ed3de9c389317692">m_wipe_tower_width</a>, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>-&gt;depth + <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>);</div>
<div class="line"><span class="lineno">  799</span>            <span class="comment">// align the perimeter</span></div>
<div class="line"><span class="lineno">  800</span>            wt_box = <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#acb157755bc6c3c9916d424206db2ba7e">align_perimeter</a>(wt_box);</div>
<div class="line"><span class="lineno">  801</span>            writer.rectangle(wt_box);</div>
<div class="line"><span class="lineno">  802</span>            writer.travel(initial_position);</div>
<div class="line"><span class="lineno">  803</span>        }</div>
<div class="line"><span class="lineno">  804</span> </div>
<div class="line"><span class="lineno">  805</span>        <span class="keywordflow">if</span> (first_toolchange_to_nonsoluble) {</div>
<div class="line"><span class="lineno">  806</span>            writer.travel(<a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a>(0, 0));</div>
<div class="line"><span class="lineno">  807</span>            writer.travel(initial_position);</div>
<div class="line"><span class="lineno">  808</span>        }</div>
<div class="line"><span class="lineno">  809</span> </div>
<div class="line"><span class="lineno">  810</span>        <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aa4871009e91de16f6bd793fde8d77eeb">toolchange_Wipe</a>(writer, cleaning_box, wipe_length);     <span class="comment">// Wipe the newly loaded filament until the end of the assigned wipe area.</span></div>
<div class="line"><span class="lineno">  811</span>        ++ <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a14ddac69b62e255d31eeef83a5aa174e">m_num_tool_changes</a>;</div>
<div class="line"><span class="lineno">  812</span>    } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  813</span>        <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aa9ab22d265bad225aca67b2d301afae1">toolchange_Unload</a>(writer, cleaning_box, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a>].material, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a>].nozzle_temperature);</div>
<div class="line"><span class="lineno">  814</span> </div>
<div class="line"><span class="lineno">  815</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a6b735ffd9baba25983cab35c4553b72a">m_depth_traversed</a> += wipe_depth;</div>
<div class="line"><span class="lineno">  816</span> </div>
<div class="line"><span class="lineno">  817</span>    <span class="comment">//BBS</span></div>
<div class="line"><span class="lineno">  818</span>  <span class="comment">//if (m_set_extruder_trimpot)</span></div>
<div class="line"><span class="lineno">  819</span>  <span class="comment">//  writer.set_extruder_trimpot(550);    // Reset the extruder current to a normal value.</span></div>
<div class="line"><span class="lineno">  820</span>  writer.speed_override_restore();</div>
<div class="line"><span class="lineno">  821</span>    writer.feedrate(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ae12e1a7d382cf4abc9ad9daf5a71abe8">m_travel_speed</a> * 60.f)</div>
<div class="line"><span class="lineno">  822</span>          .flush_planner_queue()</div>
<div class="line"><span class="lineno">  823</span>          .reset_extruder()</div>
<div class="line"><span class="lineno">  824</span>          .append(<span class="stringliteral">&quot;; CP TOOLCHANGE END\n&quot;</span></div>
<div class="line"><span class="lineno">  825</span>                  <span class="stringliteral">&quot;;------------------\n&quot;</span></div>
<div class="line"><span class="lineno">  826</span>                  <span class="stringliteral">&quot;\n\n&quot;</span>);</div>
<div class="line"><span class="lineno">  827</span> </div>
<div class="line"><span class="lineno">  828</span>    <span class="comment">// Ask our writer about how much material was consumed:</span></div>
<div class="line"><span class="lineno">  829</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a> &lt; <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a334caba8c10043edf751cf008780146b">m_used_filament_length</a>.size())</div>
<div class="line"><span class="lineno">  830</span>        <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a334caba8c10043edf751cf008780146b">m_used_filament_length</a>[<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a>] += writer.get_and_reset_used_filament_length();</div>
<div class="line"><span class="lineno">  831</span> </div>
<div class="line"><span class="lineno">  832</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a75ab0a1719cfcfbee126f8788733575a">construct_tcr</a>(writer, <span class="keyword">false</span>, old_tool, <span class="keyword">false</span>, purge_volume);</div>
<div class="line"><span class="lineno">  833</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_a37f6b2c16f87ff7e2e7a6c9fe70590f8"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a37f6b2c16f87ff7e2e7a6c9fe70590f8">Slic3r::WipeTower::toolchange_Change</a></div><div class="ttdeci">void toolchange_Change(WipeTowerWriter &amp;writer, const size_t new_tool, const std::string &amp;new_material)</div><div class="ttdef"><b>Definition</b> WipeTower.cpp:976</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_a7ef242b87f4c1e3c29d12662508fbb36"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a7ef242b87f4c1e3c29d12662508fbb36">Slic3r::WipeTower::toolchange_Load</a></div><div class="ttdeci">void toolchange_Load(WipeTowerWriter &amp;writer, const box_coordinates &amp;cleaning_box)</div><div class="ttdef"><b>Definition</b> WipeTower.cpp:1011</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_aa4871009e91de16f6bd793fde8d77eeb"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aa4871009e91de16f6bd793fde8d77eeb">Slic3r::WipeTower::toolchange_Wipe</a></div><div class="ttdeci">void toolchange_Wipe(WipeTowerWriter &amp;writer, const box_coordinates &amp;cleaning_box, float wipe_volume)</div><div class="ttdef"><b>Definition</b> WipeTower.cpp:1043</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_aa9ab22d265bad225aca67b2d301afae1"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aa9ab22d265bad225aca67b2d301afae1">Slic3r::WipeTower::toolchange_Unload</a></div><div class="ttdeci">void toolchange_Unload(WipeTowerWriter &amp;writer, const box_coordinates &amp;cleaning_box, const std::string &amp;current_material, const int new_temperature)</div><div class="ttdef"><b>Definition</b> WipeTower.cpp:837</div></div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">marchsq::__impl::SquareTag::b</a></div><div class="ttdeci">@ b</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l01154">align_perimeter()</a>, <a class="el" href="../../#l00486">Slic3r::WipeTowerWriter::append()</a>, <a class="el" href="../../#l00132">Slic3r::append()</a>, <a class="el" href="../../#l00467">Slic3r::WipeTowerWriter::comment_with_value()</a>, <a class="el" href="../../#l00573">construct_tcr()</a>, <a class="el" href="../../#l00152">Slic3r::WipeTowerWriter::feedrate()</a>, <a class="el" href="../../#l00454">Slic3r::WipeTowerWriter::flush_planner_queue()</a>, <a class="el" href="../../#l00169">Slic3r::WipeTowerWriter::get_and_reset_used_filament_length()</a>, <a class="el" href="../../#l00350">is_first_layer()</a>, <a class="el" href="../../#l00123">Slic3r::WipeTower::box_coordinates::ld</a>, <a class="el" href="../../#l00339">m_current_shape</a>, <a class="el" href="../../#l00340">m_current_tool</a>, <a class="el" href="../../#l00345">m_depth_traversed</a>, <a class="el" href="../../#l00327">m_extrusion_flow</a>, <a class="el" href="../../#l00330">m_filpar</a>, <a class="el" href="../../#l00315">m_gcode_flavor</a>, <a class="el" href="../../#l00294">m_internal_rotation</a>, <a class="el" href="../../#l00297">m_layer_height</a>, <a class="el" href="../../#l00399">m_layer_info</a>, <a class="el" href="../../#l00335">m_num_tool_changes</a>, <a class="el" href="../../#l00326">m_perimeter_width</a>, <a class="el" href="../../#l00300">m_travel_speed</a>, <a class="el" href="../../#l00402">m_used_filament_length</a>, <a class="el" href="../../#l00288">m_wipe_tower_depth</a>, <a class="el" href="../../#l00287">m_wipe_tower_width</a>, <a class="el" href="../../#l00295">m_y_shift</a>, <a class="el" href="../../#l00296">m_z_pos</a>, <a class="el" href="../../#l00251">Slic3r::WipeTowerWriter::rectangle()</a>, <a class="el" href="../../#l00461">Slic3r::WipeTowerWriter::reset_extruder()</a>, <a class="el" href="../../#l00121">Slic3r::WipeTowerWriter::set_extrusion_flow()</a>, <a class="el" href="../../#l00107">Slic3r::WipeTowerWriter::set_initial_position()</a>, <a class="el" href="../../#l00116">Slic3r::WipeTowerWriter::set_initial_tool()</a>, <a class="el" href="../../#l00124">Slic3r::WipeTowerWriter::set_y_shift()</a>, <a class="el" href="../../#l00118">Slic3r::WipeTowerWriter::set_z()</a>, <a class="el" href="../../#l00275">SHAPE_REVERSED</a>, <a class="el" href="../../#l00412">Slic3r::WipeTowerWriter::speed_override()</a>, <a class="el" href="../../#l00419">Slic3r::WipeTowerWriter::speed_override_backup()</a>, <a class="el" href="../../#l00430">Slic3r::WipeTowerWriter::speed_override_restore()</a>, <a class="el" href="../../#l00976">toolchange_Change()</a>, <a class="el" href="../../#l01011">toolchange_Load()</a>, <a class="el" href="../../#l00837">toolchange_Unload()</a>, <a class="el" href="../../#l01043">toolchange_Wipe()</a>, and <a class="el" href="../../#l00234">Slic3r::WipeTowerWriter::travel()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01566">generate()</a>, and <a class="el" href="../../#l01499">save_on_last_wipe()</a>.</p>
<div id="dynsection-32" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-32-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-32-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-32-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_a02c8c689fb5107ac549a295158d96a5d_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-33" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-33-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-33-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-33-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_a02c8c689fb5107ac549a295158d96a5d_icgraph.svg" width="514" height="80"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a37f6b2c16f87ff7e2e7a6c9fe70590f8" name="a37f6b2c16f87ff7e2e7a6c9fe70590f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37f6b2c16f87ff7e2e7a6c9fe70590f8">&#9670;&#160;</a></span>toolchange_Change()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::WipeTower::toolchange_Change </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/dcf/class_slic3r_1_1_wipe_tower_writer.html">WipeTowerWriter</a> &amp;&#160;</td>
          <td class="paramname"><em>writer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>new_tool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>new_material</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  980</span>{</div>
<div class="line"><span class="lineno">  981</span>    <span class="comment">// Ask the writer about how much of the old filament we consumed:</span></div>
<div class="line"><span class="lineno">  982</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a> &lt; <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a334caba8c10043edf751cf008780146b">m_used_filament_length</a>.size())</div>
<div class="line"><span class="lineno">  983</span>      <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a334caba8c10043edf751cf008780146b">m_used_filament_length</a>[<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a>] += writer.get_and_reset_used_filament_length();</div>
<div class="line"><span class="lineno">  984</span> </div>
<div class="line"><span class="lineno">  985</span>    <span class="comment">// This is where we want to place the custom gcodes. We will use placeholders for this.</span></div>
<div class="line"><span class="lineno">  986</span>    <span class="comment">// These will be substituted by the actual gcodes when the gcode is generated.</span></div>
<div class="line"><span class="lineno">  987</span>    writer.append(<span class="stringliteral">&quot;[filament_end_gcode]\n&quot;</span>);</div>
<div class="line"><span class="lineno">  988</span>    writer.append(<span class="stringliteral">&quot;[change_filament_gcode]\n&quot;</span>);</div>
<div class="line"><span class="lineno">  989</span> </div>
<div class="line"><span class="lineno">  990</span>    <span class="comment">// BBS: do travel in GCode::append_tcr() for lazy_lift</span></div>
<div class="line"><span class="lineno">  991</span><span class="preprocessor">#if 0</span></div>
<div class="line"><span class="lineno">  992</span>    <span class="comment">// Travel to where we assume we are. Custom toolchange or some special T code handling (parking extruder etc)</span></div>
<div class="line"><span class="lineno">  993</span>    <span class="comment">// gcode could have left the extruder somewhere, we cannot just start extruding. We should also inform the</span></div>
<div class="line"><span class="lineno">  994</span>    <span class="comment">// postprocessor that we absolutely want to have this in the gcode, even if it thought it is the same as before.</span></div>
<div class="line"><span class="lineno">  995</span>    <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> current_pos = writer.pos_rotated();</div>
<div class="line"><span class="lineno">  996</span>    writer.feedrate(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ae12e1a7d382cf4abc9ad9daf5a71abe8">m_travel_speed</a> * 60.f)</div>
<div class="line"><span class="lineno">  997</span>          .append(std::string(<span class="stringliteral">&quot;G1 X&quot;</span>) + <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a95d4899dcbd269aa89e4943ed1eb7ae9">Slic3r::float_to_string_decimal_point</a>(current_pos.x())</div>
<div class="line"><span class="lineno">  998</span>                             +  <span class="stringliteral">&quot; Y&quot;</span>  + <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a95d4899dcbd269aa89e4943ed1eb7ae9">Slic3r::float_to_string_decimal_point</a>(current_pos.y())</div>
<div class="line"><span class="lineno">  999</span>                             + <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a984bd17e162cfaf19285cadffe5d563f">never_skip_tag</a>() + <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1000</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1001</span> </div>
<div class="line"><span class="lineno"> 1002</span>    <span class="comment">// The toolchange Tn command will be inserted later, only in case that the user does</span></div>
<div class="line"><span class="lineno"> 1003</span>    <span class="comment">// not provide a custom toolchange gcode.</span></div>
<div class="line"><span class="lineno"> 1004</span>  writer.set_tool(new_tool); <span class="comment">// This outputs nothing, the writer just needs to know the tool has changed.</span></div>
<div class="line"><span class="lineno"> 1005</span>    writer.append(<span class="stringliteral">&quot;[filament_start_gcode]\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1006</span> </div>
<div class="line"><span class="lineno"> 1007</span>  writer.flush_planner_queue();</div>
<div class="line"><span class="lineno"> 1008</span>  <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a> = new_tool;</div>
<div class="line"><span class="lineno"> 1009</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_a984bd17e162cfaf19285cadffe5d563f"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a984bd17e162cfaf19285cadffe5d563f">Slic3r::WipeTower::never_skip_tag</a></div><div class="ttdeci">static const std::string never_skip_tag()</div><div class="ttdef"><b>Definition</b> WipeTower.hpp:24</div></div>
<div class="ttc" id="anamespace_slic3r_html_a95d4899dcbd269aa89e4943ed1eb7ae9"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a95d4899dcbd269aa89e4943ed1eb7ae9">Slic3r::float_to_string_decimal_point</a></div><div class="ttdeci">std::string float_to_string_decimal_point(double value, int precision)</div><div class="ttdef"><b>Definition</b> LocalesUtils.cpp:63</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00486">Slic3r::WipeTowerWriter::append()</a>, <a class="el" href="../../#l00152">Slic3r::WipeTowerWriter::feedrate()</a>, <a class="el" href="../../#l00063">Slic3r::float_to_string_decimal_point()</a>, <a class="el" href="../../#l00454">Slic3r::WipeTowerWriter::flush_planner_queue()</a>, <a class="el" href="../../#l00169">Slic3r::WipeTowerWriter::get_and_reset_used_filament_length()</a>, <a class="el" href="../../#l00340">m_current_tool</a>, <a class="el" href="../../#l00300">m_travel_speed</a>, <a class="el" href="../../#l00402">m_used_filament_length</a>, <a class="el" href="../../#l00024">never_skip_tag()</a>, <a class="el" href="../../#l00167">Slic3r::WipeTowerWriter::pos_rotated()</a>, and <a class="el" href="../../#l00389">Slic3r::WipeTowerWriter::set_tool()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00735">tool_change()</a>.</p>
<div id="dynsection-34" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-34-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-34-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-34-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_a37f6b2c16f87ff7e2e7a6c9fe70590f8_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-35" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-35-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-35-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-35-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_a37f6b2c16f87ff7e2e7a6c9fe70590f8_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a7ef242b87f4c1e3c29d12662508fbb36" name="a7ef242b87f4c1e3c29d12662508fbb36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ef242b87f4c1e3c29d12662508fbb36">&#9670;&#160;</a></span>toolchange_Load()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::WipeTower::toolchange_Load </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/dcf/class_slic3r_1_1_wipe_tower_writer.html">WipeTowerWriter</a> &amp;&#160;</td>
          <td class="paramname"><em>writer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d5/d58/struct_slic3r_1_1_wipe_tower_1_1box__coordinates.html">box_coordinates</a> &amp;&#160;</td>
          <td class="paramname"><em>cleaning_box</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1014</span>{</div>
<div class="line"><span class="lineno"> 1015</span>    <span class="comment">// BBS: tool load is done in change_filament_gcode</span></div>
<div class="line"><span class="lineno"> 1016</span><span class="preprocessor">#if 0</span></div>
<div class="line"><span class="lineno"> 1017</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a273404b4c31855e8394153a17bf10dea">m_semm</a> &amp;&amp; (m_parking_pos_retraction != 0 || m_extra_loading_move != 0)) {</div>
<div class="line"><span class="lineno"> 1018</span>        <span class="keywordtype">float</span> xl = cleaning_box.ld.x() + <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a> * 0.75f;</div>
<div class="line"><span class="lineno"> 1019</span>        <span class="keywordtype">float</span> xr = cleaning_box.rd.x() - <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a> * 0.75f;</div>
<div class="line"><span class="lineno"> 1020</span>        <span class="keywordtype">float</span> oldx = writer.x();  <span class="comment">// the nozzle is in place to do the first wiping moves, we will remember the position</span></div>
<div class="line"><span class="lineno"> 1021</span> </div>
<div class="line"><span class="lineno"> 1022</span>        <span class="comment">// Load the filament while moving left / right, so the excess material will not create a blob at a single position.</span></div>
<div class="line"><span class="lineno"> 1023</span>        <span class="keywordtype">float</span> turning_point = ( oldx-xl &lt; xr-oldx ? xr : xl );</div>
<div class="line"><span class="lineno"> 1024</span>        <span class="keywordtype">float</span> edist = m_parking_pos_retraction+m_extra_loading_move;</div>
<div class="line"><span class="lineno"> 1025</span> </div>
<div class="line"><span class="lineno"> 1026</span>        writer.append(<span class="stringliteral">&quot;; CP TOOLCHANGE LOAD\n&quot;</span>)</div>
<div class="line"><span class="lineno"> 1027</span>              .suppress_preview()</div>
<div class="line"><span class="lineno"> 1028</span>              .load(0.2f * edist, 60.f * <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a>].loading_speed_start)</div>
<div class="line"><span class="lineno"> 1029</span>              .load_move_x_advanced(turning_point, 0.7f * edist,        <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a>].loading_speed)  <span class="comment">// Fast phase</span></div>
<div class="line"><span class="lineno"> 1030</span>              .load_move_x_advanced(oldx,          0.1f * edist, 0.1f * <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a>].loading_speed)  <span class="comment">// Super slow*/</span></div>
<div class="line"><span class="lineno"> 1031</span> </div>
<div class="line"><span class="lineno"> 1032</span>              .travel(oldx, writer.y()) <span class="comment">// in case last move was shortened to limit x feedrate</span></div>
<div class="line"><span class="lineno"> 1033</span>              .resume_preview();</div>
<div class="line"><span class="lineno"> 1034</span> </div>
<div class="line"><span class="lineno"> 1035</span>        <span class="comment">// Reset the extruder current to the normal value.</span></div>
<div class="line"><span class="lineno"> 1036</span>        <span class="keywordflow">if</span> (m_set_extruder_trimpot)</div>
<div class="line"><span class="lineno"> 1037</span>            writer.set_extruder_trimpot(550);</div>
<div class="line"><span class="lineno"> 1038</span>    }</div>
<div class="line"><span class="lineno"> 1039</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1040</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00486">Slic3r::WipeTowerWriter::append()</a>, <a class="el" href="../../#l00123">Slic3r::WipeTower::box_coordinates::ld</a>, <a class="el" href="../../#l00323">Slic3r::WipeTowerWriter::load()</a>, <a class="el" href="../../#l00340">Slic3r::WipeTowerWriter::load_move_x_advanced()</a>, <a class="el" href="../../#l00340">m_current_tool</a>, <a class="el" href="../../#l00330">m_filpar</a>, <a class="el" href="../../#l00326">m_perimeter_width</a>, <a class="el" href="../../#l00285">m_semm</a>, <a class="el" href="../../#l00125">Slic3r::WipeTower::box_coordinates::rd</a>, <a class="el" href="../../#l00441">Slic3r::WipeTowerWriter::set_extruder_trimpot()</a>, <a class="el" href="../../#l00148">Slic3r::WipeTowerWriter::suppress_preview()</a>, <a class="el" href="../../#l00234">Slic3r::WipeTowerWriter::travel()</a>, <a class="el" href="../../#l00163">Slic3r::WipeTowerWriter::x()</a>, and <a class="el" href="../../#l00164">Slic3r::WipeTowerWriter::y()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00735">tool_change()</a>.</p>
<div id="dynsection-36" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-36-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-36-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-36-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_a7ef242b87f4c1e3c29d12662508fbb36_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-37" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-37-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-37-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-37-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_a7ef242b87f4c1e3c29d12662508fbb36_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aa9ab22d265bad225aca67b2d301afae1" name="aa9ab22d265bad225aca67b2d301afae1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9ab22d265bad225aca67b2d301afae1">&#9670;&#160;</a></span>toolchange_Unload()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::WipeTower::toolchange_Unload </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/dcf/class_slic3r_1_1_wipe_tower_writer.html">WipeTowerWriter</a> &amp;&#160;</td>
          <td class="paramname"><em>writer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d5/d58/struct_slic3r_1_1_wipe_tower_1_1box__coordinates.html">box_coordinates</a> &amp;&#160;</td>
          <td class="paramname"><em>cleaning_box</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>current_material</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>new_temperature</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  842</span>{</div>
<div class="line"><span class="lineno">  843</span>    <span class="comment">// BBS: toolchange unload is done in change_filament_gcode</span></div>
<div class="line"><span class="lineno">  844</span><span class="preprocessor">#if 0</span></div>
<div class="line"><span class="lineno">  845</span>  <span class="keywordtype">float</span> xl = cleaning_box.ld.x() + 1.f * <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>;</div>
<div class="line"><span class="lineno">  846</span>  <span class="keywordtype">float</span> xr = cleaning_box.rd.x() - 1.f * <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>;</div>
<div class="line"><span class="lineno">  847</span>  </div>
<div class="line"><span class="lineno">  848</span>  <span class="keyword">const</span> <span class="keywordtype">float</span> line_width = <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a> * <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a>].ramming_line_width_multiplicator;       <span class="comment">// desired ramming line thickness</span></div>
<div class="line"><span class="lineno">  849</span>  <span class="keyword">const</span> <span class="keywordtype">float</span> y_step = line_width * <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a>].ramming_step_multiplicator * <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aeef713f85500b46119e0ec1e888e4a6b">m_extra_spacing</a>; <span class="comment">// spacing between lines in mm</span></div>
<div class="line"><span class="lineno">  850</span> </div>
<div class="line"><span class="lineno">  851</span>    writer.append(<span class="stringliteral">&quot;; CP TOOLCHANGE UNLOAD\n&quot;</span>)</div>
<div class="line"><span class="lineno">  852</span>        .change_analyzer_line_width(line_width);</div>
<div class="line"><span class="lineno">  853</span> </div>
<div class="line"><span class="lineno">  854</span>  <span class="keywordtype">unsigned</span> i = 0;                   <span class="comment">// iterates through ramming_speed</span></div>
<div class="line"><span class="lineno">  855</span>  <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a1d3fe70403312c1f5578b3869d29a1cb">m_left_to_right</a> = <span class="keyword">true</span>;               <span class="comment">// current direction of ramming</span></div>
<div class="line"><span class="lineno">  856</span>  <span class="keywordtype">float</span> remaining = xr - xl ;             <span class="comment">// keeps track of distance to the next turnaround</span></div>
<div class="line"><span class="lineno">  857</span>  <span class="keywordtype">float</span> e_done = 0;                 <span class="comment">// measures E move done from each segment</span></div>
<div class="line"><span class="lineno">  858</span> </div>
<div class="line"><span class="lineno">  859</span>  writer.travel(xl, cleaning_box.ld.y() + <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a6b735ffd9baba25983cab35c4553b72a">m_depth_traversed</a> + y_step/2.f ); <span class="comment">// move to starting position</span></div>
<div class="line"><span class="lineno">  860</span> </div>
<div class="line"><span class="lineno">  861</span>    <span class="comment">// if the ending point of the ram would end up in mid air, align it with the end of the wipe tower:</span></div>
<div class="line"><span class="lineno">  862</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a> &gt; <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>.begin() &amp;&amp; <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a> &lt; <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>.end() &amp;&amp; (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>-1!=<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>.begin() || !<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab4bc6ffa33c4b7011f45d52417220e52">m_adhesion</a> )) {</div>
<div class="line"><span class="lineno">  863</span> </div>
<div class="line"><span class="lineno">  864</span>        <span class="comment">// this is y of the center of previous sparse infill border</span></div>
<div class="line"><span class="lineno">  865</span>        <span class="keywordtype">float</span> sparse_beginning_y = 0.f;</div>
<div class="line"><span class="lineno">  866</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad8972d431887037663641df24ba9eb56">m_current_shape</a> == <a class="code hl_enumvalue" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a657379b3c9f96819c3dc78a8d81e7d4fac35ae63524beb5374e03cfcf862748f6">SHAPE_REVERSED</a>)</div>
<div class="line"><span class="lineno">  867</span>            sparse_beginning_y += ((<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>-1)-&gt;depth - (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>-1)-&gt;toolchanges_depth())</div>
<div class="line"><span class="lineno">  868</span>                                      - ((<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>)-&gt;depth-(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>)-&gt;toolchanges_depth()) ;</div>
<div class="line"><span class="lineno">  869</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  870</span>            sparse_beginning_y += (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>-1)-&gt;toolchanges_depth() + <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>;</div>
<div class="line"><span class="lineno">  871</span> </div>
<div class="line"><span class="lineno">  872</span>        <span class="keywordtype">float</span> sum_of_depths = 0.f;</div>
<div class="line"><span class="lineno">  873</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; tch : <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>-&gt;tool_changes) {  <span class="comment">// let&#39;s find this toolchange</span></div>
<div class="line"><span class="lineno">  874</span>            <span class="keywordflow">if</span> (tch.old_tool == <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a>) {</div>
<div class="line"><span class="lineno">  875</span>                sum_of_depths += tch.ramming_depth;</div>
<div class="line"><span class="lineno">  876</span>                <span class="keywordtype">float</span> ramming_end_y = sum_of_depths;</div>
<div class="line"><span class="lineno">  877</span>                ramming_end_y -= (y_step/<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aeef713f85500b46119e0ec1e888e4a6b">m_extra_spacing</a>-<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>) / 2.f;   <span class="comment">// center of final ramming line</span></div>
<div class="line"><span class="lineno">  878</span> </div>
<div class="line"><span class="lineno">  879</span>                <span class="keywordflow">if</span> ( (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad8972d431887037663641df24ba9eb56">m_current_shape</a> == <a class="code hl_enumvalue" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a657379b3c9f96819c3dc78a8d81e7d4fac35ae63524beb5374e03cfcf862748f6">SHAPE_REVERSED</a>   &amp;&amp; ramming_end_y &lt; sparse_beginning_y - 0.5f*<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>  ) ||</div>
<div class="line"><span class="lineno">  880</span>                     (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad8972d431887037663641df24ba9eb56">m_current_shape</a> == <a class="code hl_enumvalue" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a657379b3c9f96819c3dc78a8d81e7d4fa0272eb51694bf77c56b63111f2829b6b">SHAPE_NORMAL</a> &amp;&amp; ramming_end_y &gt; sparse_beginning_y + 0.5f*<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>  )  )</div>
<div class="line"><span class="lineno">  881</span>                {</div>
<div class="line"><span class="lineno">  882</span>                    writer.extrude(xl + tch.first_wipe_line-1.f*<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>,writer.y());</div>
<div class="line"><span class="lineno">  883</span>                    remaining -= tch.first_wipe_line-1.f*<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>;</div>
<div class="line"><span class="lineno">  884</span>                }</div>
<div class="line"><span class="lineno">  885</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  886</span>            }</div>
<div class="line"><span class="lineno">  887</span>            sum_of_depths += tch.required_depth;</div>
<div class="line"><span class="lineno">  888</span>        }</div>
<div class="line"><span class="lineno">  889</span>    }</div>
<div class="line"><span class="lineno">  890</span> </div>
<div class="line"><span class="lineno">  891</span>    writer.disable_linear_advance();</div>
<div class="line"><span class="lineno">  892</span> </div>
<div class="line"><span class="lineno">  893</span>    <span class="comment">// now the ramming itself:</span></div>
<div class="line"><span class="lineno">  894</span>    <span class="keywordflow">while</span> (i &lt; <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a>].ramming_speed.size())</div>
<div class="line"><span class="lineno">  895</span>    {</div>
<div class="line"><span class="lineno">  896</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code hl_function" href="../../df/d4e/namespacelibnest2d_1_1pointlike.html#a1e3045df0bee66333beaa96a9a1b6c9d">x</a> = <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#af0abc0a71c9eb429f49cbe89e90eb22c">volume_to_length</a>(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a>].ramming_speed[i] * 0.25f, line_width, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aedd2cb7a88fceecab7234e25738934d9">m_layer_height</a>);</div>
<div class="line"><span class="lineno">  897</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> e = <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a>].ramming_speed[i] * 0.25f / <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#abaf41702dc172b64196f4dd316cd7d37">filament_area</a>(); <span class="comment">// transform volume per sec to E move;</span></div>
<div class="line"><span class="lineno">  898</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code hl_function" href="../../d3/dfb/namespace_slic3r_1_1_geometry.html#a2b2112c1026a31e7c4c00693ca0bc2e2">dist</a> = std::min(x - e_done, remaining);     <span class="comment">// distance to travel for either the next 0.25s, or to the next turnaround</span></div>
<div class="line"><span class="lineno">  899</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> actual_time = <a class="code hl_function" href="../../d3/dfb/namespace_slic3r_1_1_geometry.html#a2b2112c1026a31e7c4c00693ca0bc2e2">dist</a>/<a class="code hl_function" href="../../df/d4e/namespacelibnest2d_1_1pointlike.html#a1e3045df0bee66333beaa96a9a1b6c9d">x</a> * 0.25f;</div>
<div class="line"><span class="lineno">  900</span>        writer.ram(writer.x(), writer.x() + (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a1d3fe70403312c1f5578b3869d29a1cb">m_left_to_right</a> ? 1.f : -1.f) * <a class="code hl_function" href="../../d3/dfb/namespace_slic3r_1_1_geometry.html#a2b2112c1026a31e7c4c00693ca0bc2e2">dist</a>, 0.f, 0.f, e * (<a class="code hl_function" href="../../d3/dfb/namespace_slic3r_1_1_geometry.html#a2b2112c1026a31e7c4c00693ca0bc2e2">dist</a> / <a class="code hl_function" href="../../df/d4e/namespacelibnest2d_1_1pointlike.html#a1e3045df0bee66333beaa96a9a1b6c9d">x</a>), <a class="code hl_function" href="../../d3/dfb/namespace_slic3r_1_1_geometry.html#a2b2112c1026a31e7c4c00693ca0bc2e2">dist</a> / (actual_time / 60.f));</div>
<div class="line"><span class="lineno">  901</span>        remaining -= <a class="code hl_function" href="../../d3/dfb/namespace_slic3r_1_1_geometry.html#a2b2112c1026a31e7c4c00693ca0bc2e2">dist</a>;</div>
<div class="line"><span class="lineno">  902</span> </div>
<div class="line"><span class="lineno">  903</span>    <span class="keywordflow">if</span> (remaining &lt; <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a2cf052cbfd60f7cf767c8de8604f63a2">WT_EPSILON</a>) { <span class="comment">// we reached a turning point</span></div>
<div class="line"><span class="lineno">  904</span>      writer.travel(writer.x(), writer.y() + y_step, 7200);</div>
<div class="line"><span class="lineno">  905</span>      <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a1d3fe70403312c1f5578b3869d29a1cb">m_left_to_right</a> = !<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a1d3fe70403312c1f5578b3869d29a1cb">m_left_to_right</a>;</div>
<div class="line"><span class="lineno">  906</span>      remaining = xr - xl;</div>
<div class="line"><span class="lineno">  907</span>    }</div>
<div class="line"><span class="lineno">  908</span>    e_done += <a class="code hl_function" href="../../d3/dfb/namespace_slic3r_1_1_geometry.html#a2b2112c1026a31e7c4c00693ca0bc2e2">dist</a>; <span class="comment">// subtract what was actually done</span></div>
<div class="line"><span class="lineno">  909</span>    <span class="keywordflow">if</span> (e_done &gt; x - <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a2cf052cbfd60f7cf767c8de8604f63a2">WT_EPSILON</a>) { <span class="comment">// current segment finished</span></div>
<div class="line"><span class="lineno">  910</span>      ++i;</div>
<div class="line"><span class="lineno">  911</span>      e_done = 0;</div>
<div class="line"><span class="lineno">  912</span>    }</div>
<div class="line"><span class="lineno">  913</span>  }</div>
<div class="line"><span class="lineno">  914</span>  <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> end_of_ramming(writer.x(),writer.y());</div>
<div class="line"><span class="lineno">  915</span>    writer.change_analyzer_line_width(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>);   <span class="comment">// so the next lines are not affected by ramming_line_width_multiplier</span></div>
<div class="line"><span class="lineno">  916</span> </div>
<div class="line"><span class="lineno">  917</span>    <span class="comment">// Retraction:</span></div>
<div class="line"><span class="lineno">  918</span>    <span class="keywordtype">float</span> old_x = writer.x();</div>
<div class="line"><span class="lineno">  919</span>    <span class="keywordtype">float</span> turning_point = (!<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a1d3fe70403312c1f5578b3869d29a1cb">m_left_to_right</a> ? xl : xr );</div>
<div class="line"><span class="lineno">  920</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a273404b4c31855e8394153a17bf10dea">m_semm</a> &amp;&amp; (m_cooling_tube_retraction != 0 || m_cooling_tube_length != 0)) {</div>
<div class="line"><span class="lineno">  921</span>        <span class="keywordtype">float</span> total_retraction_distance = m_cooling_tube_retraction + m_cooling_tube_length/2.f - 15.f; <span class="comment">// the 15mm is reserved for the first part after ramming</span></div>
<div class="line"><span class="lineno">  922</span>        writer.suppress_preview()</div>
<div class="line"><span class="lineno">  923</span>              .retract(15.f, <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a>].unloading_speed_start * 60.f) <span class="comment">// feedrate 5000mm/min = 83mm/s</span></div>
<div class="line"><span class="lineno">  924</span>              .retract(0.70f * total_retraction_distance, 1.0f * <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a>].unloading_speed * 60.f)</div>
<div class="line"><span class="lineno">  925</span>              .retract(0.20f * total_retraction_distance, 0.5f * <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a>].unloading_speed * 60.f)</div>
<div class="line"><span class="lineno">  926</span>              .retract(0.10f * total_retraction_distance, 0.3f * <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a>].unloading_speed * 60.f)</div>
<div class="line"><span class="lineno">  927</span>              .resume_preview();</div>
<div class="line"><span class="lineno">  928</span>    }</div>
<div class="line"><span class="lineno">  929</span>    <span class="comment">// Wipe tower should only change temperature with single extruder MM. Otherwise, all temperatures should</span></div>
<div class="line"><span class="lineno">  930</span>    <span class="comment">// be already set and there is no need to change anything. Also, the temperature could be changed</span></div>
<div class="line"><span class="lineno">  931</span>    <span class="comment">// for wrong extruder.</span></div>
<div class="line"><span class="lineno">  932</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a273404b4c31855e8394153a17bf10dea">m_semm</a>) {</div>
<div class="line"><span class="lineno">  933</span>        <span class="keywordflow">if</span> (new_temperature != 0 &amp;&amp; (new_temperature != <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a053760416d4d821e17663a1efd7c6d66">m_old_temperature</a> || <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab1cde0465af2371ac9376601713fcaf4">is_first_layer</a>()) ) {  <span class="comment">// Set the extruder temperature, but don&#39;t wait.</span></div>
<div class="line"><span class="lineno">  934</span>            <span class="comment">// If the required temperature is the same as last time, don&#39;t emit the M104 again (if user adjusted the value, it would be reset)</span></div>
<div class="line"><span class="lineno">  935</span>            <span class="comment">// However, always change temperatures on the first layer (this is to avoid issues with priming lines turned off).</span></div>
<div class="line"><span class="lineno">  936</span>            writer.set_extruder_temp(new_temperature, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  937</span>            <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a053760416d4d821e17663a1efd7c6d66">m_old_temperature</a> = new_temperature;</div>
<div class="line"><span class="lineno">  938</span>        }</div>
<div class="line"><span class="lineno">  939</span>    }</div>
<div class="line"><span class="lineno">  940</span> </div>
<div class="line"><span class="lineno">  941</span>    <span class="comment">// Cooling:</span></div>
<div class="line"><span class="lineno">  942</span>    <span class="keyword">const</span> <span class="keywordtype">int</span>&amp; number_of_moves = <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a>].cooling_moves;</div>
<div class="line"><span class="lineno">  943</span>    <span class="keywordflow">if</span> (number_of_moves &gt; 0) {</div>
<div class="line"><span class="lineno">  944</span>        <span class="keyword">const</span> <span class="keywordtype">float</span>&amp; initial_speed = <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a>].cooling_initial_speed;</div>
<div class="line"><span class="lineno">  945</span>        <span class="keyword">const</span> <span class="keywordtype">float</span>&amp; final_speed   = <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a>].cooling_final_speed;</div>
<div class="line"><span class="lineno">  946</span> </div>
<div class="line"><span class="lineno">  947</span>        <span class="keywordtype">float</span> speed_inc = (final_speed - initial_speed) / (2.f * number_of_moves - 1.f);</div>
<div class="line"><span class="lineno">  948</span> </div>
<div class="line"><span class="lineno">  949</span>        writer.suppress_preview()</div>
<div class="line"><span class="lineno">  950</span>              .travel(writer.x(), writer.y() + y_step);</div>
<div class="line"><span class="lineno">  951</span>        old_x = writer.x();</div>
<div class="line"><span class="lineno">  952</span>        turning_point = xr-old_x &gt; old_x-xl ? xr : xl;</div>
<div class="line"><span class="lineno">  953</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;number_of_moves; ++i) {</div>
<div class="line"><span class="lineno">  954</span>            <span class="keywordtype">float</span> speed = initial_speed + speed_inc * 2*i;</div>
<div class="line"><span class="lineno">  955</span>            writer.load_move_x_advanced(turning_point, m_cooling_tube_length, speed);</div>
<div class="line"><span class="lineno">  956</span>            speed += speed_inc;</div>
<div class="line"><span class="lineno">  957</span>            writer.load_move_x_advanced(old_x, -m_cooling_tube_length, speed);</div>
<div class="line"><span class="lineno">  958</span>        }</div>
<div class="line"><span class="lineno">  959</span>    }</div>
<div class="line"><span class="lineno">  960</span> </div>
<div class="line"><span class="lineno">  961</span>    <span class="comment">// let&#39;s wait is necessary:</span></div>
<div class="line"><span class="lineno">  962</span>    writer.wait(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a807f28c8077874a2605b6ddf15967f6d">m_filpar</a>[<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a>].delay);</div>
<div class="line"><span class="lineno">  963</span>    <span class="comment">// we should be at the beginning of the cooling tube again - let&#39;s move to parking position:</span></div>
<div class="line"><span class="lineno">  964</span>    writer.retract(-m_cooling_tube_length/2.f+m_parking_pos_retraction-m_cooling_tube_retraction, 2000);</div>
<div class="line"><span class="lineno">  965</span> </div>
<div class="line"><span class="lineno">  966</span>  <span class="comment">// this is to align ramming and future wiping extrusions, so the future y-steps can be uniform from the start:</span></div>
<div class="line"><span class="lineno">  967</span>    <span class="comment">// the perimeter_width will later be subtracted, it is there to not load while moving over just extruded material</span></div>
<div class="line"><span class="lineno">  968</span>  writer.travel(end_of_ramming.x(), end_of_ramming.y() + (y_step/<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aeef713f85500b46119e0ec1e888e4a6b">m_extra_spacing</a>-<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>) / 2.f + <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>, 2400.f);</div>
<div class="line"><span class="lineno">  969</span> </div>
<div class="line"><span class="lineno">  970</span>  writer.resume_preview()</div>
<div class="line"><span class="lineno">  971</span>      .flush_planner_queue();</div>
<div class="line"><span class="lineno">  972</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  973</span>}</div>
<div class="ttc" id="anamespace_slic3r_1_1_geometry_html_a2b2112c1026a31e7c4c00693ca0bc2e2"><div class="ttname"><a href="../../d3/dfb/namespace_slic3r_1_1_geometry.html#a2b2112c1026a31e7c4c00693ca0bc2e2">Slic3r::Geometry::dist</a></div><div class="ttdeci">T dist(const boost::polygon::point_data&lt; T &gt; &amp;p1, const boost::polygon::point_data&lt; T &gt; &amp;p2)</div><div class="ttdef"><b>Definition</b> Geometry.cpp:287</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00486">Slic3r::WipeTowerWriter::append()</a>, <a class="el" href="../../#l00087">Slic3r::WipeTowerWriter::change_analyzer_line_width()</a>, <a class="el" href="../../#l00130">Slic3r::WipeTowerWriter::disable_linear_advance()</a>, <a class="el" href="../../#l00241">Slic3r::WipeTowerWriter::extrude()</a>, <a class="el" href="../../#l00280">filament_area()</a>, <a class="el" href="../../#l00454">Slic3r::WipeTowerWriter::flush_planner_queue()</a>, <a class="el" href="../../#l00350">is_first_layer()</a>, <a class="el" href="../../#l00123">Slic3r::WipeTower::box_coordinates::ld</a>, <a class="el" href="../../#l00340">Slic3r::WipeTowerWriter::load_move_x_advanced()</a>, <a class="el" href="../../#l00314">m_adhesion</a>, <a class="el" href="../../#l00339">m_current_shape</a>, <a class="el" href="../../#l00340">m_current_tool</a>, <a class="el" href="../../#l00345">m_depth_traversed</a>, <a class="el" href="../../#l00348">m_extra_spacing</a>, <a class="el" href="../../#l00330">m_filpar</a>, <a class="el" href="../../#l00297">m_layer_height</a>, <a class="el" href="../../#l00399">m_layer_info</a>, <a class="el" href="../../#l00347">m_left_to_right</a>, <a class="el" href="../../#l00299">m_old_temperature</a>, <a class="el" href="../../#l00326">m_perimeter_width</a>, <a class="el" href="../../#l00398">m_plan</a>, <a class="el" href="../../#l00285">m_semm</a>, <a class="el" href="../../#l00372">Slic3r::WipeTowerWriter::ram()</a>, <a class="el" href="../../#l00125">Slic3r::WipeTower::box_coordinates::rd</a>, <a class="el" href="../../#l00149">Slic3r::WipeTowerWriter::resume_preview()</a>, <a class="el" href="../../#l00336">Slic3r::WipeTowerWriter::retract()</a>, <a class="el" href="../../#l00396">Slic3r::WipeTowerWriter::set_extruder_temp()</a>, <a class="el" href="../../#l00274">SHAPE_NORMAL</a>, <a class="el" href="../../#l00275">SHAPE_REVERSED</a>, <a class="el" href="../../#l00148">Slic3r::WipeTowerWriter::suppress_preview()</a>, <a class="el" href="../../#l00234">Slic3r::WipeTowerWriter::travel()</a>, <a class="el" href="../../#l00353">volume_to_length()</a>, <a class="el" href="../../#l00403">Slic3r::WipeTowerWriter::wait()</a>, <a class="el" href="../../#l00279">WT_EPSILON</a>, <a class="el" href="../../#l00163">Slic3r::WipeTowerWriter::x()</a>, and <a class="el" href="../../#l00164">Slic3r::WipeTowerWriter::y()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00735">tool_change()</a>.</p>
<div id="dynsection-38" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-38-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-38-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-38-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_aa9ab22d265bad225aca67b2d301afae1_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-39" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-39-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-39-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-39-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_aa9ab22d265bad225aca67b2d301afae1_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aa4871009e91de16f6bd793fde8d77eeb" name="aa4871009e91de16f6bd793fde8d77eeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4871009e91de16f6bd793fde8d77eeb">&#9670;&#160;</a></span>toolchange_Wipe()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::WipeTower::toolchange_Wipe </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/dcf/class_slic3r_1_1_wipe_tower_writer.html">WipeTowerWriter</a> &amp;&#160;</td>
          <td class="paramname"><em>writer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d5/d58/struct_slic3r_1_1_wipe_tower_1_1box__coordinates.html">box_coordinates</a> &amp;&#160;</td>
          <td class="paramname"><em>cleaning_box</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>wipe_volume</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1047</span>{</div>
<div class="line"><span class="lineno"> 1048</span>  <span class="comment">// Increase flow on first layer, slow down print.</span></div>
<div class="line"><span class="lineno"> 1049</span>    writer.set_extrusion_flow(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab09c7e389669846e40a14cc8d4b96b6a">m_extrusion_flow</a> * (<a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab1cde0465af2371ac9376601713fcaf4">is_first_layer</a>() ? 1.15f : 1.f))</div>
<div class="line"><span class="lineno"> 1050</span>      .<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a5f240a84e573ed2d7785a439f4239e1a">append</a>(<span class="stringliteral">&quot;; CP TOOLCHANGE WIPE\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1051</span> </div>
<div class="line"><span class="lineno"> 1052</span>    <span class="comment">// BBS: add the note for gcode-check, when the flow changed, the width should follow the change</span></div>
<div class="line"><span class="lineno"> 1053</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab1cde0465af2371ac9376601713fcaf4">is_first_layer</a>()) {</div>
<div class="line"><span class="lineno"> 1054</span>        writer.append(<span class="stringliteral">&quot;;&quot;</span> + <a class="code hl_function" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a44451e44902b601a9885339440174bb2">GCodeProcessor::reserved_tag</a>(<a class="code hl_enumvalue" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a9d0a157d06bdfad05bc6822a9a1c8071a32954654ac8fe66a1d09be19001de2d4">GCodeProcessor::ETags::Width</a>) + std::to_string(1.15 * <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>) + <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1055</span>    }</div>
<div class="line"><span class="lineno"> 1056</span> </div>
<div class="line"><span class="lineno"> 1057</span>  <span class="keyword">const</span> <span class="keywordtype">float</span>&amp; xl = cleaning_box.ld.x();</div>
<div class="line"><span class="lineno"> 1058</span>  <span class="keyword">const</span> <span class="keywordtype">float</span>&amp; xr = cleaning_box.rd.x();</div>
<div class="line"><span class="lineno"> 1059</span> </div>
<div class="line"><span class="lineno"> 1060</span>  <span class="comment">// Variables x_to_wipe and traversed_x are here to be able to make sure it always wipes at least</span></div>
<div class="line"><span class="lineno"> 1061</span>    <span class="comment">//   the ordered volume, even if it means violating the box. This can later be removed and simply</span></div>
<div class="line"><span class="lineno"> 1062</span>    <span class="comment">// wipe until the end of the assigned area.</span></div>
<div class="line"><span class="lineno"> 1063</span> </div>
<div class="line"><span class="lineno"> 1064</span>    <span class="keywordtype">float</span> x_to_wipe = wipe_length;</div>
<div class="line"><span class="lineno"> 1065</span>    <span class="keywordtype">float</span> dy = <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>-&gt;extra_spacing * <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>;</div>
<div class="line"><span class="lineno"> 1066</span> </div>
<div class="line"><span class="lineno"> 1067</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> target_speed = <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab1cde0465af2371ac9376601713fcaf4">is_first_layer</a>() ? std::min(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#af5e2debf595620b1f47d00c89b2da9f6">m_first_layer_speed</a> * 60.f, 4800.f) : 4800.f;</div>
<div class="line"><span class="lineno"> 1068</span>    <span class="keywordtype">float</span> <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a3c092303bd9780dd544fb97822104088">wipe_speed</a> = 0.33f * target_speed;</div>
<div class="line"><span class="lineno"> 1069</span> </div>
<div class="line"><span class="lineno"> 1070</span>    <span class="keywordtype">float</span> start_y = writer.y();</div>
<div class="line"><span class="lineno"> 1071</span> </div>
<div class="line"><span class="lineno"> 1072</span><span class="preprocessor">#if 0</span></div>
<div class="line"><span class="lineno"> 1073</span>    <span class="comment">// if there is less than 2.5*m_perimeter_width to the edge, advance straightaway (there is likely a blob anyway)</span></div>
<div class="line"><span class="lineno"> 1074</span>    <span class="keywordflow">if</span> ((<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a1d3fe70403312c1f5578b3869d29a1cb">m_left_to_right</a> ? xr-writer.x() : writer.<a class="code hl_function" href="../../df/d4e/namespacelibnest2d_1_1pointlike.html#a1e3045df0bee66333beaa96a9a1b6c9d">x</a>()-xl) &lt; 2.5f*<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>) {</div>
<div class="line"><span class="lineno"> 1075</span>        writer.travel((<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a1d3fe70403312c1f5578b3869d29a1cb">m_left_to_right</a> ? xr-<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a> : xl+<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>),writer.<a class="code hl_variable" href="../../d7/dc9/namespace_eigen_1_1internal.html#a3cc80fc03610837da180f7e6d8e7b3ec">y</a>()+dy);</div>
<div class="line"><span class="lineno"> 1076</span>        <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a1d3fe70403312c1f5578b3869d29a1cb">m_left_to_right</a> = !<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a1d3fe70403312c1f5578b3869d29a1cb">m_left_to_right</a>;</div>
<div class="line"><span class="lineno"> 1077</span>    }</div>
<div class="line"><span class="lineno"> 1078</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1079</span> </div>
<div class="line"><span class="lineno"> 1080</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a1d3fe70403312c1f5578b3869d29a1cb">m_left_to_right</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1081</span> </div>
<div class="line"><span class="lineno"> 1082</span>    <span class="comment">// BBS: do not need to move dy</span></div>
<div class="line"><span class="lineno"> 1083</span><span class="preprocessor">#if 0</span></div>
<div class="line"><span class="lineno"> 1084</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a6b735ffd9baba25983cab35c4553b72a">m_depth_traversed</a> != 0)</div>
<div class="line"><span class="lineno"> 1085</span>        writer.travel(xl, writer.y() + dy);</div>
<div class="line"><span class="lineno"> 1086</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1087</span>    </div>
<div class="line"><span class="lineno"> 1088</span>    <span class="keywordtype">bool</span> need_change_flow = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1089</span>    <span class="comment">// now the wiping itself:</span></div>
<div class="line"><span class="lineno"> 1090</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; <span class="keyword">true</span>; ++i)  {</div>
<div class="line"><span class="lineno"> 1091</span>    <span class="keywordflow">if</span> (i!=0) {</div>
<div class="line"><span class="lineno"> 1092</span>            <span class="keywordflow">if</span>      (<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a3c092303bd9780dd544fb97822104088">wipe_speed</a> &lt; 0.34f * target_speed) <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a3c092303bd9780dd544fb97822104088">wipe_speed</a> = 0.375f * target_speed;</div>
<div class="line"><span class="lineno"> 1093</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a3c092303bd9780dd544fb97822104088">wipe_speed</a> &lt; 0.377 * target_speed) <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a3c092303bd9780dd544fb97822104088">wipe_speed</a> = 0.458f * target_speed;</div>
<div class="line"><span class="lineno"> 1094</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a3c092303bd9780dd544fb97822104088">wipe_speed</a> &lt; 0.46f * target_speed) <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a3c092303bd9780dd544fb97822104088">wipe_speed</a> = 0.875f * target_speed;</div>
<div class="line"><span class="lineno"> 1095</span>            <span class="keywordflow">else</span> <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a3c092303bd9780dd544fb97822104088">wipe_speed</a> = std::min(target_speed, <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a3c092303bd9780dd544fb97822104088">wipe_speed</a> + 50.f);</div>
<div class="line"><span class="lineno"> 1096</span>    }</div>
<div class="line"><span class="lineno"> 1097</span> </div>
<div class="line"><span class="lineno"> 1098</span>        <span class="comment">// BBS: check the bridging area and use the bridge flow</span></div>
<div class="line"><span class="lineno"> 1099</span>        <span class="keywordflow">if</span> (need_change_flow || <a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aa7d4e0ff2cb31d0523a6c5f2bb51ce15">need_thick_bridge_flow</a>(writer.y())) {</div>
<div class="line"><span class="lineno"> 1100</span>            writer.set_extrusion_flow(<a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aee98daa9ed84d4bfa90b92c826e913eb">extrusion_flow</a>(0.2));</div>
<div class="line"><span class="lineno"> 1101</span>            writer.append(<span class="stringliteral">&quot;;&quot;</span> + <a class="code hl_function" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a44451e44902b601a9885339440174bb2">GCodeProcessor::reserved_tag</a>(<a class="code hl_enumvalue" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a9d0a157d06bdfad05bc6822a9a1c8071aeec6c4bdbd339edf8cbea68becb85244">GCodeProcessor::ETags::Height</a>) + std::to_string(0.2) + <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1102</span>            need_change_flow = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1103</span>        }</div>
<div class="line"><span class="lineno"> 1104</span> </div>
<div class="line"><span class="lineno"> 1105</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a1d3fe70403312c1f5578b3869d29a1cb">m_left_to_right</a>)</div>
<div class="line"><span class="lineno"> 1106</span>            writer.extrude(xr + 0.25f * <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>, writer.y(), <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a3c092303bd9780dd544fb97822104088">wipe_speed</a>);</div>
<div class="line"><span class="lineno"> 1107</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1108</span>            writer.extrude(xl - 0.25f * <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>, writer.y(), <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a3c092303bd9780dd544fb97822104088">wipe_speed</a>);</div>
<div class="line"><span class="lineno"> 1109</span> </div>
<div class="line"><span class="lineno"> 1110</span>        <span class="comment">// BBS: recover the flow in non-bridging area</span></div>
<div class="line"><span class="lineno"> 1111</span>        <span class="keywordflow">if</span> (need_change_flow) {</div>
<div class="line"><span class="lineno"> 1112</span>            writer.set_extrusion_flow(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab09c7e389669846e40a14cc8d4b96b6a">m_extrusion_flow</a>);</div>
<div class="line"><span class="lineno"> 1113</span>            writer.append(<span class="stringliteral">&quot;;&quot;</span> + <a class="code hl_function" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a44451e44902b601a9885339440174bb2">GCodeProcessor::reserved_tag</a>(<a class="code hl_enumvalue" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a9d0a157d06bdfad05bc6822a9a1c8071aeec6c4bdbd339edf8cbea68becb85244">GCodeProcessor::ETags::Height</a>) + std::to_string(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aedd2cb7a88fceecab7234e25738934d9">m_layer_height</a>) + <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1114</span>        }</div>
<div class="line"><span class="lineno"> 1115</span> </div>
<div class="line"><span class="lineno"> 1116</span>        <span class="keywordflow">if</span> (writer.y() - <span class="keywordtype">float</span>(<a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>) &gt; cleaning_box.lu.y())</div>
<div class="line"><span class="lineno"> 1117</span>            <span class="keywordflow">break</span>;    <span class="comment">// in case next line would not fit</span></div>
<div class="line"><span class="lineno"> 1118</span> </div>
<div class="line"><span class="lineno"> 1119</span>        x_to_wipe -= (xr - xl);</div>
<div class="line"><span class="lineno"> 1120</span>    <span class="keywordflow">if</span> (x_to_wipe &lt; <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a2cf052cbfd60f7cf767c8de8604f63a2">WT_EPSILON</a>) {</div>
<div class="line"><span class="lineno"> 1121</span>            <span class="comment">// BBS: Delete some unnecessary travel</span></div>
<div class="line"><span class="lineno"> 1122</span>            <span class="comment">//writer.travel(m_left_to_right ? xl + 1.5f*m_perimeter_width : xr - 1.5f*m_perimeter_width, writer.y(), 7200);</span></div>
<div class="line"><span class="lineno"> 1123</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1124</span>    }</div>
<div class="line"><span class="lineno"> 1125</span>    <span class="comment">// stepping to the next line:</span></div>
<div class="line"><span class="lineno"> 1126</span>        writer.extrude(writer.x(), writer.y() + dy);</div>
<div class="line"><span class="lineno"> 1127</span>    <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a1d3fe70403312c1f5578b3869d29a1cb">m_left_to_right</a> = !<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a1d3fe70403312c1f5578b3869d29a1cb">m_left_to_right</a>;</div>
<div class="line"><span class="lineno"> 1128</span>  }</div>
<div class="line"><span class="lineno"> 1129</span> </div>
<div class="line"><span class="lineno"> 1130</span>    <span class="keywordtype">float</span> end_y = writer.y();</div>
<div class="line"><span class="lineno"> 1131</span> </div>
<div class="line"><span class="lineno"> 1132</span>    <span class="comment">// We may be going back to the model - wipe the nozzle. If this is followed</span></div>
<div class="line"><span class="lineno"> 1133</span>    <span class="comment">// by finish_layer, this wipe path will be overwritten.</span></div>
<div class="line"><span class="lineno"> 1134</span>    <span class="comment">//writer.add_wipe_point(writer.x(), writer.y())</span></div>
<div class="line"><span class="lineno"> 1135</span>    <span class="comment">//      .add_wipe_point(writer.x(), writer.y() - dy)</span></div>
<div class="line"><span class="lineno"> 1136</span>    <span class="comment">//      .add_wipe_point(! m_left_to_right ? m_wipe_tower_width : 0.f, writer.y() - dy);</span></div>
<div class="line"><span class="lineno"> 1137</span>    <span class="comment">// BBS: modify the wipe_path after toolchange </span></div>
<div class="line"><span class="lineno"> 1138</span>    writer.add_wipe_point(writer.x(), writer.y())</div>
<div class="line"><span class="lineno"> 1139</span>          .add_wipe_point(! <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a1d3fe70403312c1f5578b3869d29a1cb">m_left_to_right</a> ? <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aff64de9eb31fe773ed3de9c389317692">m_wipe_tower_width</a> : 0.f, writer.<a class="code hl_variable" href="../../d7/dc9/namespace_eigen_1_1internal.html#a3cc80fc03610837da180f7e6d8e7b3ec">y</a>());</div>
<div class="line"><span class="lineno"> 1140</span> </div>
<div class="line"><span class="lineno"> 1141</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a> != <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a5cbbce1609e77feb24257799db0502d4">m_plan</a>.end() &amp;&amp; <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ac0add01cf87c528ee4c55657cb7e7182">m_current_tool</a> != <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a55f99356e5805bce73727dc1a46af94b">m_layer_info</a>-&gt;tool_changes.back().new_tool)</div>
<div class="line"><span class="lineno"> 1142</span>        <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a1d3fe70403312c1f5578b3869d29a1cb">m_left_to_right</a> = !<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a1d3fe70403312c1f5578b3869d29a1cb">m_left_to_right</a>;</div>
<div class="line"><span class="lineno"> 1143</span> </div>
<div class="line"><span class="lineno"> 1144</span>    writer.set_extrusion_flow(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab09c7e389669846e40a14cc8d4b96b6a">m_extrusion_flow</a>); <span class="comment">// Reset the extrusion flow.</span></div>
<div class="line"><span class="lineno"> 1145</span>    <span class="comment">// BBS: add the note for gcode-check when the flow changed</span></div>
<div class="line"><span class="lineno"> 1146</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ab1cde0465af2371ac9376601713fcaf4">is_first_layer</a>()) {</div>
<div class="line"><span class="lineno"> 1147</span>        writer.append(<span class="stringliteral">&quot;;&quot;</span> + <a class="code hl_function" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a44451e44902b601a9885339440174bb2">GCodeProcessor::reserved_tag</a>(<a class="code hl_enumvalue" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a9d0a157d06bdfad05bc6822a9a1c8071a32954654ac8fe66a1d09be19001de2d4">GCodeProcessor::ETags::Width</a>) + std::to_string(<a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#ad613f43c74bbfa92b68701a0e46a39c9">m_perimeter_width</a>) + <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1148</span>    }</div>
<div class="line"><span class="lineno"> 1149</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_processor_html_a44451e44902b601a9885339440174bb2"><div class="ttname"><a href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a44451e44902b601a9885339440174bb2">Slic3r::GCodeProcessor::reserved_tag</a></div><div class="ttdeci">static const std::string &amp; reserved_tag(ETags tag)</div><div class="ttdef"><b>Definition</b> GCodeProcessor.hpp:261</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_processor_html_a9d0a157d06bdfad05bc6822a9a1c8071a32954654ac8fe66a1d09be19001de2d4"><div class="ttname"><a href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a9d0a157d06bdfad05bc6822a9a1c8071a32954654ac8fe66a1d09be19001de2d4">Slic3r::GCodeProcessor::ETags::Width</a></div><div class="ttdeci">@ Width</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_processor_html_a9d0a157d06bdfad05bc6822a9a1c8071aeec6c4bdbd339edf8cbea68becb85244"><div class="ttname"><a href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a9d0a157d06bdfad05bc6822a9a1c8071aeec6c4bdbd339edf8cbea68becb85244">Slic3r::GCodeProcessor::ETags::Height</a></div><div class="ttdeci">@ Height</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_tower_html_aa7d4e0ff2cb31d0523a6c5f2bb51ce15"><div class="ttname"><a href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aa7d4e0ff2cb31d0523a6c5f2bb51ce15">Slic3r::WipeTower::need_thick_bridge_flow</a></div><div class="ttdeci">bool need_thick_bridge_flow(float pos_y) const</div><div class="ttdef"><b>Definition</b> WipeTower.cpp:1724</div></div>
<div class="ttc" id="anamespace_slic3r_html_a3c092303bd9780dd544fb97822104088"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a3c092303bd9780dd544fb97822104088">Slic3r::wipe_speed</a></div><div class="ttdeci">wipe_speed((ConfigOptionBool, wipe_on_loops))((ConfigOptionEnum&lt; WallInfillOrder &gt;</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00493">Slic3r::WipeTowerWriter::add_wipe_point()</a>, <a class="el" href="../../#l00486">Slic3r::WipeTowerWriter::append()</a>, <a class="el" href="../../#l00052">EPSILON</a>, <a class="el" href="../../#l00241">Slic3r::WipeTowerWriter::extrude()</a>, <a class="el" href="../../#l00229">extrusion_flow()</a>, <a class="el" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a9d0a157d06bdfad05bc6822a9a1c8071aeec6c4bdbd339edf8cbea68becb85244">Slic3r::GCodeProcessor::Height</a>, <a class="el" href="../../#l00350">is_first_layer()</a>, <a class="el" href="../../#l00123">Slic3r::WipeTower::box_coordinates::ld</a>, <a class="el" href="../../#l00124">Slic3r::WipeTower::box_coordinates::lu</a>, <a class="el" href="../../#l00340">m_current_tool</a>, <a class="el" href="../../#l00345">m_depth_traversed</a>, <a class="el" href="../../#l00327">m_extrusion_flow</a>, <a class="el" href="../../#l00301">m_first_layer_speed</a>, <a class="el" href="../../#l00297">m_layer_height</a>, <a class="el" href="../../#l00399">m_layer_info</a>, <a class="el" href="../../#l00347">m_left_to_right</a>, <a class="el" href="../../#l00326">m_perimeter_width</a>, <a class="el" href="../../#l00398">m_plan</a>, <a class="el" href="../../#l00287">m_wipe_tower_width</a>, <a class="el" href="../../#l01724">need_thick_bridge_flow()</a>, <a class="el" href="../../#l00125">Slic3r::WipeTower::box_coordinates::rd</a>, <a class="el" href="../../#l00261">Slic3r::GCodeProcessor::reserved_tag()</a>, <a class="el" href="../../#l00121">Slic3r::WipeTowerWriter::set_extrusion_flow()</a>, <a class="el" href="../../#l00234">Slic3r::WipeTowerWriter::travel()</a>, <a class="el" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a9d0a157d06bdfad05bc6822a9a1c8071a32954654ac8fe66a1d09be19001de2d4">Slic3r::GCodeProcessor::Width</a>, <a class="el" href="../../de/db8/namespace_slic3r.html#a3c092303bd9780dd544fb97822104088">Slic3r::wipe_speed()</a>, <a class="el" href="../../#l00279">WT_EPSILON</a>, <a class="el" href="../../#l00163">Slic3r::WipeTowerWriter::x()</a>, and <a class="el" href="../../#l00164">Slic3r::WipeTowerWriter::y()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00735">tool_change()</a>.</p>
<div id="dynsection-40" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-40-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-40-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-40-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_aa4871009e91de16f6bd793fde8d77eeb_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-41" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-41-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-41-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-41-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_aa4871009e91de16f6bd793fde8d77eeb_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="af0abc0a71c9eb429f49cbe89e90eb22c" name="af0abc0a71c9eb429f49cbe89e90eb22c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0abc0a71c9eb429f49cbe89e90eb22c">&#9670;&#160;</a></span>volume_to_length()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Slic3r::WipeTower::volume_to_length </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>volume</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>line_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>layer_height</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  353</span>                                                                                   {</div>
<div class="line"><span class="lineno">  354</span>    <span class="keywordflow">return</span> std::max(0.f, volume / (<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a3fc0fbbcb45d8a2fef27e26e1289ec21">layer_height</a> * (line_width - <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a3fc0fbbcb45d8a2fef27e26e1289ec21">layer_height</a> * (1.f - <span class="keywordtype">float</span>(<a class="code hl_define" href="../../de/ddd/_extrusion_simulator_8cpp.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>) / 4.f))));</div>
<div class="line"><span class="lineno">  355</span>  }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/db8/namespace_slic3r.html#a3fc0fbbcb45d8a2fef27e26e1289ec21">Slic3r::layer_height()</a>, and <a class="el" href="../../#l00020">M_PI</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01338">plan_toolchange()</a>, <a class="el" href="../../#l01388">plan_tower()</a>, <a class="el" href="../../#l01499">save_on_last_wipe()</a>, and <a class="el" href="../../#l00837">toolchange_Unload()</a>.</p>
<div id="dynsection-42" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-42-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-42-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-42-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_af0abc0a71c9eb429f49cbe89e90eb22c_cgraph.svg" width="327" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-43" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-43-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-43-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-43-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_af0abc0a71c9eb429f49cbe89e90eb22c_icgraph.svg" width="100%" height="463"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ab86710f19bd0626999645d16dab7b25d" name="ab86710f19bd0626999645d16dab7b25d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab86710f19bd0626999645d16dab7b25d">&#9670;&#160;</a></span>width()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Slic3r::WipeTower::width </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  205</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#aff64de9eb31fe773ed3de9c389317692">m_wipe_tower_width</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00287">m_wipe_tower_width</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01338">plan_toolchange()</a>, and <a class="el" href="../../#l01499">save_on_last_wipe()</a>.</p>
<div id="dynsection-44" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-44-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-44-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-44-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../db/d2e/class_slic3r_1_1_wipe_tower_ab86710f19bd0626999645d16dab7b25d_icgraph.svg" width="514" height="118"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ab4bc6ffa33c4b7011f45d52417220e52" name="ab4bc6ffa33c4b7011f45d52417220e52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4bc6ffa33c4b7011f45d52417220e52">&#9670;&#160;</a></span>m_adhesion</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::WipeTower::m_adhesion = true</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01175">finish_layer()</a>, and <a class="el" href="../../#l00837">toolchange_Unload()</a>.</p>

</div>
</div>
<a id="aa76bfac4be0af57630625d7caf3a8947" name="aa76bfac4be0af57630625d7caf3a8947"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa76bfac4be0af57630625d7caf3a8947">&#9670;&#160;</a></span>m_bed_bottom_left</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> Slic3r::WipeTower::m_bed_bottom_left</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00602">WipeTower()</a>.</p>

</div>
</div>
<a id="ad9fb5509cca75858c5317ac715c10e61" name="ad9fb5509cca75858c5317ac715c10e61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9fb5509cca75858c5317ac715c10e61">&#9670;&#160;</a></span>[]</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum  { ... }  Slic3r::WipeTower::m_bed_shape</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00602">WipeTower()</a>.</p>

</div>
</div>
<a id="adf04c99aa1d3a68213d5231f6d0f8f33" name="adf04c99aa1d3a68213d5231f6d0f8f33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf04c99aa1d3a68213d5231f6d0f8f33">&#9670;&#160;</a></span>m_bed_width</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Slic3r::WipeTower::m_bed_width</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00602">WipeTower()</a>.</p>

</div>
</div>
<a id="af326ce4e8be1946b56305fc61124cffd" name="af326ce4e8be1946b56305fc61124cffd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af326ce4e8be1946b56305fc61124cffd">&#9670;&#160;</a></span>m_bridging</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Slic3r::WipeTower::m_bridging = 0.<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01175">finish_layer()</a>.</p>

</div>
</div>
<a id="acb95f1e30ab1122b344b449d5fb14ec3" name="acb95f1e30ab1122b344b449d5fb14ec3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb95f1e30ab1122b344b449d5fb14ec3">&#9670;&#160;</a></span>m_current_layer_finished</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::WipeTower::m_current_layer_finished = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01175">finish_layer()</a>, <a class="el" href="../../#l00240">layer_finished()</a>, and <a class="el" href="../../#l00170">set_layer()</a>.</p>

</div>
</div>
<a id="ad8972d431887037663641df24ba9eb56" name="ad8972d431887037663641df24ba9eb56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8972d431887037663641df24ba9eb56">&#9670;&#160;</a></span>m_current_shape</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a657379b3c9f96819c3dc78a8d81e7d4f">wipe_shape</a> Slic3r::WipeTower::m_current_shape = <a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a657379b3c9f96819c3dc78a8d81e7d4fa0272eb51694bf77c56b63111f2829b6b">SHAPE_NORMAL</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01175">finish_layer()</a>, <a class="el" href="../../#l01664">only_generate_out_wall()</a>, <a class="el" href="../../#l00170">set_layer()</a>, <a class="el" href="../../#l00735">tool_change()</a>, and <a class="el" href="../../#l00837">toolchange_Unload()</a>.</p>

</div>
</div>
<a id="ac0add01cf87c528ee4c55657cb7e7182" name="ac0add01cf87c528ee4c55657cb7e7182"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0add01cf87c528ee4c55657cb7e7182">&#9670;&#160;</a></span>m_current_tool</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t Slic3r::WipeTower::m_current_tool = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00573">construct_tcr()</a>, <a class="el" href="../../#l01175">finish_layer()</a>, <a class="el" href="../../#l01566">generate()</a>, <a class="el" href="../../#l01664">only_generate_out_wall()</a>, <a class="el" href="../../#l00735">tool_change()</a>, <a class="el" href="../../#l00976">toolchange_Change()</a>, <a class="el" href="../../#l01011">toolchange_Load()</a>, <a class="el" href="../../#l00837">toolchange_Unload()</a>, and <a class="el" href="../../#l01043">toolchange_Wipe()</a>.</p>

</div>
</div>
<a id="a6b735ffd9baba25983cab35c4553b72a" name="a6b735ffd9baba25983cab35c4553b72a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b735ffd9baba25983cab35c4553b72a">&#9670;&#160;</a></span>m_depth_traversed</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Slic3r::WipeTower::m_depth_traversed = 0.<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00170">set_layer()</a>, <a class="el" href="../../#l00735">tool_change()</a>, <a class="el" href="../../#l00837">toolchange_Unload()</a>, and <a class="el" href="../../#l01043">toolchange_Wipe()</a>.</p>

</div>
</div>
<a id="ad5837cb60d203755c0d4687fca281fe4" name="ad5837cb60d203755c0d4687fca281fe4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5837cb60d203755c0d4687fca281fe4">&#9670;&#160;</a></span>m_enable_timelapse_print</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::WipeTower::m_enable_timelapse_print = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01566">generate()</a>, and <a class="el" href="../../#l01388">plan_tower()</a>.</p>

</div>
</div>
<a id="aeef713f85500b46119e0ec1e888e4a6b" name="aeef713f85500b46119e0ec1e888e4a6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeef713f85500b46119e0ec1e888e4a6b">&#9670;&#160;</a></span>m_extra_spacing</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Slic3r::WipeTower::m_extra_spacing = 1.<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01154">align_perimeter()</a>, <a class="el" href="../../#l01566">generate()</a>, <a class="el" href="../../#l01338">plan_toolchange()</a>, <a class="el" href="../../#l01388">plan_tower()</a>, <a class="el" href="../../#l01499">save_on_last_wipe()</a>, and <a class="el" href="../../#l00837">toolchange_Unload()</a>.</p>

</div>
</div>
<a id="ab09c7e389669846e40a14cc8d4b96b6a" name="ab09c7e389669846e40a14cc8d4b96b6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab09c7e389669846e40a14cc8d4b96b6a">&#9670;&#160;</a></span>m_extrusion_flow</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Slic3r::WipeTower::m_extrusion_flow = 0.038<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00229">extrusion_flow()</a>, <a class="el" href="../../#l01175">finish_layer()</a>, <a class="el" href="../../#l00237">get_extrusion_flow()</a>, <a class="el" href="../../#l01724">need_thick_bridge_flow()</a>, <a class="el" href="../../#l01664">only_generate_out_wall()</a>, <a class="el" href="../../#l00170">set_layer()</a>, <a class="el" href="../../#l00735">tool_change()</a>, and <a class="el" href="../../#l01043">toolchange_Wipe()</a>.</p>

</div>
</div>
<a id="a807f28c8077874a2605b6ddf15967f6d" name="a807f28c8077874a2605b6ddf15967f6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a807f28c8077874a2605b6ddf15967f6d">&#9670;&#160;</a></span>m_filpar</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#dd/dc0/struct_slic3r_1_1_wipe_tower_1_1_filament_parameters">FilamentParameters</a>&gt; Slic3r::WipeTower::m_filpar</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00280">filament_area()</a>, <a class="el" href="../../#l01175">finish_layer()</a>, <a class="el" href="../../#l01533">first_toolchange_to_nonsoluble_nonsupport()</a>, <a class="el" href="../../#l01664">only_generate_out_wall()</a>, <a class="el" href="../../#l01338">plan_toolchange()</a>, <a class="el" href="../../#l00667">set_extruder()</a>, <a class="el" href="../../#l00735">tool_change()</a>, <a class="el" href="../../#l01011">toolchange_Load()</a>, and <a class="el" href="../../#l00837">toolchange_Unload()</a>.</p>

</div>
</div>
<a id="a84b159843142ae71fbee5c9ab3d3f057" name="a84b159843142ae71fbee5c9ab3d3f057"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84b159843142ae71fbee5c9ab3d3f057">&#9670;&#160;</a></span>m_first_layer_idx</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t Slic3r::WipeTower::m_first_layer_idx = size_t(-1)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01175">finish_layer()</a>, <a class="el" href="../../#l00350">is_first_layer()</a>, and <a class="el" href="../../#l01338">plan_toolchange()</a>.</p>

</div>
</div>
<a id="af5e2debf595620b1f47d00c89b2da9f6" name="af5e2debf595620b1f47d00c89b2da9f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5e2debf595620b1f47d00c89b2da9f6">&#9670;&#160;</a></span>m_first_layer_speed</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Slic3r::WipeTower::m_first_layer_speed = 0.<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00602">WipeTower()</a>, <a class="el" href="../../#l01175">finish_layer()</a>, <a class="el" href="../../#l01664">only_generate_out_wall()</a>, and <a class="el" href="../../#l01043">toolchange_Wipe()</a>.</p>

</div>
</div>
<a id="a3b6a79c3bda43c7282a43f7c49a600e8" name="a3b6a79c3bda43c7282a43f7c49a600e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b6a79c3bda43c7282a43f7c49a600e8">&#9670;&#160;</a></span>m_gcode_flavor</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/db8/namespace_slic3r.html#a02d66b5053fbce6319e225982b3c5a90">GCodeFlavor</a> Slic3r::WipeTower::m_gcode_flavor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01175">finish_layer()</a>, <a class="el" href="../../#l01664">only_generate_out_wall()</a>, and <a class="el" href="../../#l00735">tool_change()</a>.</p>

</div>
</div>
<a id="a59a6e9ba9a8694b196a42b5370b9b52c" name="a59a6e9ba9a8694b196a42b5370b9b52c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59a6e9ba9a8694b196a42b5370b9b52c">&#9670;&#160;</a></span>m_internal_rotation</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Slic3r::WipeTower::m_internal_rotation = 0.<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01175">finish_layer()</a>, <a class="el" href="../../#l01664">only_generate_out_wall()</a>, and <a class="el" href="../../#l00735">tool_change()</a>.</p>

</div>
</div>
<a id="aedd2cb7a88fceecab7234e25738934d9" name="aedd2cb7a88fceecab7234e25738934d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedd2cb7a88fceecab7234e25738934d9">&#9670;&#160;</a></span>m_layer_height</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Slic3r::WipeTower::m_layer_height = 0.<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00573">construct_tcr()</a>, <a class="el" href="../../#l01175">finish_layer()</a>, <a class="el" href="../../#l00160">get_layer_height()</a>, <a class="el" href="../../#l01664">only_generate_out_wall()</a>, <a class="el" href="../../#l00170">set_layer()</a>, <a class="el" href="../../#l00735">tool_change()</a>, <a class="el" href="../../#l00837">toolchange_Unload()</a>, and <a class="el" href="../../#l01043">toolchange_Wipe()</a>.</p>

</div>
</div>
<a id="a55f99356e5805bce73727dc1a46af94b" name="a55f99356e5805bce73727dc1a46af94b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55f99356e5805bce73727dc1a46af94b">&#9670;&#160;</a></span>m_layer_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../d0/dab/struct_slic3r_1_1_wipe_tower_1_1_wipe_tower_info.html">WipeTowerInfo</a>&gt;::iterator Slic3r::WipeTower::m_layer_info = m_plan.end()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01175">finish_layer()</a>, <a class="el" href="../../#l01566">generate()</a>, <a class="el" href="../../#l01709">get_floating_area()</a>, <a class="el" href="../../#l00350">is_first_layer()</a>, <a class="el" href="../../#l01664">only_generate_out_wall()</a>, <a class="el" href="../../#l01499">save_on_last_wipe()</a>, <a class="el" href="../../#l00170">set_layer()</a>, <a class="el" href="../../#l00735">tool_change()</a>, <a class="el" href="../../#l00837">toolchange_Unload()</a>, and <a class="el" href="../../#l01043">toolchange_Wipe()</a>.</p>

</div>
</div>
<a id="a1d3fe70403312c1f5578b3869d29a1cb" name="a1d3fe70403312c1f5578b3869d29a1cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d3fe70403312c1f5578b3869d29a1cb">&#9670;&#160;</a></span>m_left_to_right</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::WipeTower::m_left_to_right = true</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01175">finish_layer()</a>, <a class="el" href="../../#l01664">only_generate_out_wall()</a>, <a class="el" href="../../#l00837">toolchange_Unload()</a>, and <a class="el" href="../../#l01043">toolchange_Wipe()</a>.</p>

</div>
</div>
<a id="a4d9dd7dc482ae17751b32e8a74e21f37" name="a4d9dd7dc482ae17751b32e8a74e21f37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d9dd7dc482ae17751b32e8a74e21f37">&#9670;&#160;</a></span>m_max_color_changes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t Slic3r::WipeTower::m_max_color_changes = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00207">finished()</a>.</p>

</div>
</div>
<a id="acc58b966838e34869997c49c084ff134" name="acc58b966838e34869997c49c084ff134"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc58b966838e34869997c49c084ff134">&#9670;&#160;</a></span>m_no_sparse_layers</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::WipeTower::m_no_sparse_layers = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01175">finish_layer()</a>, <a class="el" href="../../#l01664">only_generate_out_wall()</a>, and <a class="el" href="../../#l01338">plan_toolchange()</a>.</p>

</div>
</div>
<a id="aaa6944b3301632b5644cd9723b17663a" name="aaa6944b3301632b5644cd9723b17663a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa6944b3301632b5644cd9723b17663a">&#9670;&#160;</a></span>m_num_layer_changes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a> Slic3r::WipeTower::m_num_layer_changes = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01175">finish_layer()</a>, and <a class="el" href="../../#l00170">set_layer()</a>.</p>

</div>
</div>
<a id="a14ddac69b62e255d31eeef83a5aa174e" name="a14ddac69b62e255d31eeef83a5aa174e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14ddac69b62e255d31eeef83a5aa174e">&#9670;&#160;</a></span>m_num_tool_changes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a> Slic3r::WipeTower::m_num_tool_changes = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00245">get_number_of_toolchanges()</a>, <a class="el" href="../../#l00170">set_layer()</a>, and <a class="el" href="../../#l00735">tool_change()</a>.</p>

</div>
</div>
<a id="a053760416d4d821e17663a1efd7c6d66" name="a053760416d4d821e17663a1efd7c6d66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a053760416d4d821e17663a1efd7c6d66">&#9670;&#160;</a></span>m_old_temperature</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a> Slic3r::WipeTower::m_old_temperature = -1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01566">generate()</a>, and <a class="el" href="../../#l00837">toolchange_Unload()</a>.</p>

</div>
</div>
<a id="ad613f43c74bbfa92b68701a0e46a39c9" name="ad613f43c74bbfa92b68701a0e46a39c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad613f43c74bbfa92b68701a0e46a39c9">&#9670;&#160;</a></span>m_perimeter_width</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Slic3r::WipeTower::m_perimeter_width = 0.4<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a> * <a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html#a901731d3077a05684e96c9c9e3d0c6f7">Width_To_Nozzle_Ratio</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01154">align_perimeter()</a>, <a class="el" href="../../#l00229">extrusion_flow()</a>, <a class="el" href="../../#l01175">finish_layer()</a>, <a class="el" href="../../#l01566">generate()</a>, <a class="el" href="../../#l01709">get_floating_area()</a>, <a class="el" href="../../#l01664">only_generate_out_wall()</a>, <a class="el" href="../../#l01338">plan_toolchange()</a>, <a class="el" href="../../#l01388">plan_tower()</a>, <a class="el" href="../../#l01499">save_on_last_wipe()</a>, <a class="el" href="../../#l00667">set_extruder()</a>, <a class="el" href="../../#l00735">tool_change()</a>, <a class="el" href="../../#l01011">toolchange_Load()</a>, <a class="el" href="../../#l00837">toolchange_Unload()</a>, and <a class="el" href="../../#l01043">toolchange_Wipe()</a>.</p>

</div>
</div>
<a id="a5cbbce1609e77feb24257799db0502d4" name="a5cbbce1609e77feb24257799db0502d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cbbce1609e77feb24257799db0502d4">&#9670;&#160;</a></span>m_plan</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../d0/dab/struct_slic3r_1_1_wipe_tower_1_1_wipe_tower_info.html">WipeTowerInfo</a>&gt; Slic3r::WipeTower::m_plan</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01175">finish_layer()</a>, <a class="el" href="../../#l01566">generate()</a>, <a class="el" href="../../#l01709">get_floating_area()</a>, <a class="el" href="../../#l00350">is_first_layer()</a>, <a class="el" href="../../#l01338">plan_toolchange()</a>, <a class="el" href="../../#l01388">plan_tower()</a>, <a class="el" href="../../#l01499">save_on_last_wipe()</a>, <a class="el" href="../../#l00162">set_last_layer_extruder_fill()</a>, <a class="el" href="../../#l00170">set_layer()</a>, <a class="el" href="../../#l00837">toolchange_Unload()</a>, and <a class="el" href="../../#l01043">toolchange_Wipe()</a>.</p>

</div>
</div>
<a id="a914a8642f6854177f5eda6b75b8494ba" name="a914a8642f6854177f5eda6b75b8494ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a914a8642f6854177f5eda6b75b8494ba">&#9670;&#160;</a></span>m_print_brim</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::WipeTower::m_print_brim = true</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>unsigned int m_idx_tool_change_in_layer = 0; // <a class="el" href="../../d1/d68/class_slic3r_1_1_layer.html">Layer</a> change counter in this layer. Counting up to m_max_color_changes. </p>

</div>
</div>
<a id="a273404b4c31855e8394153a17bf10dea" name="a273404b4c31855e8394153a17bf10dea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a273404b4c31855e8394153a17bf10dea">&#9670;&#160;</a></span>m_semm</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::WipeTower::m_semm = true</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00602">WipeTower()</a>, <a class="el" href="../../#l00667">set_extruder()</a>, <a class="el" href="../../#l01011">toolchange_Load()</a>, and <a class="el" href="../../#l00837">toolchange_Unload()</a>.</p>

</div>
</div>
<a id="ae12e1a7d382cf4abc9ad9daf5a71abe8" name="ae12e1a7d382cf4abc9ad9daf5a71abe8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae12e1a7d382cf4abc9ad9daf5a71abe8">&#9670;&#160;</a></span>m_travel_speed</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Slic3r::WipeTower::m_travel_speed = 0.<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00735">tool_change()</a>, and <a class="el" href="../../#l00976">toolchange_Change()</a>.</p>

</div>
</div>
<a id="a334caba8c10043edf751cf008780146b" name="a334caba8c10043edf751cf008780146b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a334caba8c10043edf751cf008780146b">&#9670;&#160;</a></span>m_used_filament_length</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;float&gt; Slic3r::WipeTower::m_used_filament_length</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01175">finish_layer()</a>, <a class="el" href="../../#l01566">generate()</a>, <a class="el" href="../../#l00244">get_used_filament()</a>, <a class="el" href="../../#l01664">only_generate_out_wall()</a>, <a class="el" href="../../#l00667">set_extruder()</a>, <a class="el" href="../../#l00735">tool_change()</a>, and <a class="el" href="../../#l00976">toolchange_Change()</a>.</p>

</div>
</div>
<a id="a185fe9760806bcc80cd7bfe3d116f30e" name="a185fe9760806bcc80cd7bfe3d116f30e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a185fe9760806bcc80cd7bfe3d116f30e">&#9670;&#160;</a></span>m_wipe_tower_brim_width</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Slic3r::WipeTower::m_wipe_tower_brim_width = 0.<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01175">finish_layer()</a>.</p>

</div>
</div>
<a id="ad61517836af040f67544c690f69fa5b1" name="ad61517836af040f67544c690f69fa5b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad61517836af040f67544c690f69fa5b1">&#9670;&#160;</a></span>m_wipe_tower_brim_width_real</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Slic3r::WipeTower::m_wipe_tower_brim_width_real = 0.<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01175">finish_layer()</a>, and <a class="el" href="../../#l00158">get_brim_width()</a>.</p>

</div>
</div>
<a id="af7593647d012a658da21075031ec8cbb" name="af7593647d012a658da21075031ec8cbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7593647d012a658da21075031ec8cbb">&#9670;&#160;</a></span>m_wipe_tower_depth</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Slic3r::WipeTower::m_wipe_tower_depth = 0.<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01154">align_perimeter()</a>, <a class="el" href="../../#l01175">finish_layer()</a>, <a class="el" href="../../#l01566">generate()</a>, <a class="el" href="../../#l00157">get_depth()</a>, <a class="el" href="../../#l01664">only_generate_out_wall()</a>, <a class="el" href="../../#l01388">plan_tower()</a>, and <a class="el" href="../../#l00735">tool_change()</a>.</p>

</div>
</div>
<a id="a59f1a53d9531ce1f53d025adf991e619" name="a59f1a53d9531ce1f53d025adf991e619"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59f1a53d9531ce1f53d025adf991e619">&#9670;&#160;</a></span>m_wipe_tower_height</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Slic3r::WipeTower::m_wipe_tower_height = 0.<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00159">get_height()</a>, and <a class="el" href="../../#l01388">plan_tower()</a>.</p>

</div>
</div>
<a id="a172cd00b541bfdaf5c3481af8418698f" name="a172cd00b541bfdaf5c3481af8418698f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a172cd00b541bfdaf5c3481af8418698f">&#9670;&#160;</a></span>m_wipe_tower_pos</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> Slic3r::WipeTower::m_wipe_tower_pos</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00203">position()</a>.</p>

</div>
</div>
<a id="a978c6448996ed86aaa98f0984d339160" name="a978c6448996ed86aaa98f0984d339160"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a978c6448996ed86aaa98f0984d339160">&#9670;&#160;</a></span>m_wipe_tower_rotation_angle</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Slic3r::WipeTower::m_wipe_tower_rotation_angle = 0.<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aff64de9eb31fe773ed3de9c389317692" name="aff64de9eb31fe773ed3de9c389317692"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff64de9eb31fe773ed3de9c389317692">&#9670;&#160;</a></span>m_wipe_tower_width</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Slic3r::WipeTower::m_wipe_tower_width</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01175">finish_layer()</a>, <a class="el" href="../../#l01664">only_generate_out_wall()</a>, <a class="el" href="../../#l01338">plan_toolchange()</a>, <a class="el" href="../../#l01388">plan_tower()</a>, <a class="el" href="../../#l01499">save_on_last_wipe()</a>, <a class="el" href="../../#l00735">tool_change()</a>, <a class="el" href="../../#l01043">toolchange_Wipe()</a>, and <a class="el" href="../../#l00205">width()</a>.</p>

</div>
</div>
<a id="a49c2f570e34bbc1f5ba22fa8a898d480" name="a49c2f570e34bbc1f5ba22fa8a898d480"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49c2f570e34bbc1f5ba22fa8a898d480">&#9670;&#160;</a></span>m_wipe_volume</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const float Slic3r::WipeTower::m_wipe_volume</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a194653c9aca05d7054bc9662586eb753" name="a194653c9aca05d7054bc9662586eb753"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a194653c9aca05d7054bc9662586eb753">&#9670;&#160;</a></span>m_y_shift</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Slic3r::WipeTower::m_y_shift = 0.<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01154">align_perimeter()</a>, <a class="el" href="../../#l01175">finish_layer()</a>, <a class="el" href="../../#l01566">generate()</a>, <a class="el" href="../../#l01664">only_generate_out_wall()</a>, and <a class="el" href="../../#l00735">tool_change()</a>.</p>

</div>
</div>
<a id="a97a2ddd6167f4a5947dcca8856f87349" name="a97a2ddd6167f4a5947dcca8856f87349"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97a2ddd6167f4a5947dcca8856f87349">&#9670;&#160;</a></span>m_z_pos</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Slic3r::WipeTower::m_z_pos = 0.<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00573">construct_tcr()</a>, <a class="el" href="../../#l01175">finish_layer()</a>, <a class="el" href="../../#l01664">only_generate_out_wall()</a>, <a class="el" href="../../#l00170">set_layer()</a>, and <a class="el" href="../../#l00735">tool_change()</a>.</p>

</div>
</div>
<a id="a345d5bb0b635654a0cd146b822bc5753" name="a345d5bb0b635654a0cd146b822bc5753"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a345d5bb0b635654a0cd146b822bc5753">&#9670;&#160;</a></span>min_depth_per_height</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::map&lt; float, float &gt; Slic3r::WipeTower::min_depth_per_height</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    {100.f, 20.f}, {250.f, 40.f}</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../#l01554">Slic3r::GUI::PartPlate::estimate_wipe_tower_size()</a>, and <a class="el" href="../../#l01388">plan_tower()</a>.</p>

</div>
</div>
<a id="a901731d3077a05684e96c9c9e3d0c6f7" name="a901731d3077a05684e96c9c9e3d0c6f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a901731d3077a05684e96c9c9e3d0c6f7">&#9670;&#160;</a></span>Width_To_Nozzle_Ratio</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const float Slic3r::WipeTower::Width_To_Nozzle_Ratio = 1.25<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00667">set_extruder()</a>.</p>

</div>
</div>
<a id="a2cf052cbfd60f7cf767c8de8604f63a2" name="a2cf052cbfd60f7cf767c8de8604f63a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cf052cbfd60f7cf767c8de8604f63a2">&#9670;&#160;</a></span>WT_EPSILON</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const float Slic3r::WipeTower::WT_EPSILON = 1e-3<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01175">finish_layer()</a>, <a class="el" href="../../#l01664">only_generate_out_wall()</a>, <a class="el" href="../../#l01338">plan_toolchange()</a>, <a class="el" href="../../#l01388">plan_tower()</a>, <a class="el" href="../../#l00170">set_layer()</a>, <a class="el" href="../../#l00837">toolchange_Unload()</a>, and <a class="el" href="../../#l01043">toolchange_Wipe()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/libslic3r/GCode/<a class="el" href="../../">WipeTower.hpp</a></li>
<li>src/libslic3r/GCode/<a class="el" href="../../">WipeTower.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../de/db8/namespace_slic3r.html">Slic3r</a></li><li class="navelem"><a class="el" href="../../db/d2e/class_slic3r_1_1_wipe_tower.html">WipeTower</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>
</body>
</html>
