<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OrcaSlicer: Slic3r::PresetUpdater::priv Struct Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../OrcaSlicer_32px.png"/></td>
  <td id="projectalign">
   <div id="projectname">OrcaSlicer<span id="projectnumber">&#160;1.6.3</span>
   </div>
   <div id="projectbrief">OrcaSlicer</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="../../dc/dd6/struct_slic3r_1_1_preset_updater_1_1priv-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Slic3r::PresetUpdater::priv Struct Reference</div></div>
</div><!--header-->
<div class="contents">
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Collaboration diagram for Slic3r::PresetUpdater::priv:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d0/d47/struct_slic3r_1_1_preset_updater_1_1priv__coll__graph.svg" width="100%" height="541"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:df/d80/struct_slic3r_1_1_preset_updater_1_1priv_1_1_resource"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#df/d80/struct_slic3r_1_1_preset_updater_1_1priv_1_1_resource">Resource</a></td></tr>
<tr class="separator:df/d80/struct_slic3r_1_1_preset_updater_1_1priv_1_1_resource"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1857cb07beae11319533c7e780a6495e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a1857cb07beae11319533c7e780a6495e">priv</a> ()</td></tr>
<tr class="separator:a1857cb07beae11319533c7e780a6495e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac539c995a8256aa1ecf94d6b73575886"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#ac539c995a8256aa1ecf94d6b73575886">set_download_prefs</a> (<a class="el" href="../../da/d00/class_slic3r_1_1_app_config.html">AppConfig</a> *app_config)</td></tr>
<tr class="separator:ac539c995a8256aa1ecf94d6b73575886"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a941e7a6e74d0bcf93b9c2bb05dbd09c0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a941e7a6e74d0bcf93b9c2bb05dbd09c0">get_file</a> (const std::string &amp;url, const fs::path &amp;target_path) const</td></tr>
<tr class="separator:a941e7a6e74d0bcf93b9c2bb05dbd09c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57bc54ccf39de12248c02c2c6ad79a5c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a57bc54ccf39de12248c02c2c6ad79a5c">extract_file</a> (const fs::path &amp;source_path, const fs::path &amp;dest_path={})</td></tr>
<tr class="separator:a57bc54ccf39de12248c02c2c6ad79a5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4940e42de9639ab2aa228b35ebb63c81"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a4940e42de9639ab2aa228b35ebb63c81">prune_tmps</a> () const</td></tr>
<tr class="separator:a4940e42de9639ab2aa228b35ebb63c81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad12927fd83706a1bc12c835eaaa0dd53"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#ad12927fd83706a1bc12c835eaaa0dd53">sync_version</a> () const</td></tr>
<tr class="separator:ad12927fd83706a1bc12c835eaaa0dd53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35f4f9fe65a55c7e3b333d801c196156"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a35f4f9fe65a55c7e3b333d801c196156">parse_version_string</a> (const std::string &amp;body) const</td></tr>
<tr class="separator:a35f4f9fe65a55c7e3b333d801c196156"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afddd68cc6236d71da97058112dd7ebde"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#afddd68cc6236d71da97058112dd7ebde">sync_resources</a> (std::string http_url, std::map&lt; std::string, <a class="el" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#df/d80/struct_slic3r_1_1_preset_updater_1_1priv_1_1_resource">Resource</a> &gt; &amp;resources, bool check_patch=false, std::string current_version=&quot;&quot;, std::string changelog_file=&quot;&quot;)</td></tr>
<tr class="separator:afddd68cc6236d71da97058112dd7ebde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e83b9816781df55496e0d2360d10183"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a3e83b9816781df55496e0d2360d10183">sync_config</a> (std::string http_url, const <a class="el" href="../../de/db8/namespace_slic3r.html#aa24f0a299fb2753157d671ad042d0910">VendorMap</a> vendors)</td></tr>
<tr class="separator:a3e83b9816781df55496e0d2360d10183"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c34fe470b02d1291749c6a0413e0f3b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a3c34fe470b02d1291749c6a0413e0f3b">sync_tooltip</a> (std::string http_url, std::string language)</td></tr>
<tr class="separator:a3c34fe470b02d1291749c6a0413e0f3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a138350dcc5b208c20986fbafa3e3cdbc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a138350dcc5b208c20986fbafa3e3cdbc">sync_plugins</a> (std::string http_url, std::string plugin_version)</td></tr>
<tr class="separator:a138350dcc5b208c20986fbafa3e3cdbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99f0cf7b0cb88b606cf043fe650c9fe8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a99f0cf7b0cb88b606cf043fe650c9fe8">get_cached_plugins_version</a> (std::string &amp;cached_version)</td></tr>
<tr class="separator:a99f0cf7b0cb88b606cf043fe650c9fe8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3b61c187a737830d9c8ce76c2bc6923"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#aa3b61c187a737830d9c8ce76c2bc6923">install_bundles_rsrc</a> (std::vector&lt; std::string &gt; bundles, bool snapshot) const</td></tr>
<tr class="separator:aa3b61c187a737830d9c8ce76c2bc6923"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6eebdca270c1b474e3f0a7a14f71f652"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a6eebdca270c1b474e3f0a7a14f71f652">check_installed_vendor_profiles</a> () const</td></tr>
<tr class="separator:a6eebdca270c1b474e3f0a7a14f71f652"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff1209280aef6cb26f85a010a51f39f7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/db8/namespace_slic3r.html#d9/df6/struct_slic3r_1_1_updates">Updates</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#aff1209280aef6cb26f85a010a51f39f7">get_config_updates</a> (const <a class="el" href="../../d0/d1c/class_slic3r_1_1_semver.html">Semver</a> &amp;old_slic3r_version) const</td></tr>
<tr class="separator:aff1209280aef6cb26f85a010a51f39f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae18f7e65fd6a305f1afcec993c6e2c90"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#ae18f7e65fd6a305f1afcec993c6e2c90">perform_updates</a> (<a class="el" href="../../de/db8/namespace_slic3r.html#d9/df6/struct_slic3r_1_1_updates">Updates</a> &amp;&amp;updates, bool snapshot=true) const</td></tr>
<tr class="separator:ae18f7e65fd6a305f1afcec993c6e2c90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aece548bbddd5962dc71aa5057a0a32ad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#aece548bbddd5962dc71aa5057a0a32ad">set_waiting_updates</a> (<a class="el" href="../../de/db8/namespace_slic3r.html#d9/df6/struct_slic3r_1_1_updates">Updates</a> u)</td></tr>
<tr class="separator:aece548bbddd5962dc71aa5057a0a32ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a9aa4adf03d64f554268f5d7a361ffc36"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d8/df0/class_slic3r_1_1_g_u_i_1_1_config_1_1_index.html">Index</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a9aa4adf03d64f554268f5d7a361ffc36">index_db</a></td></tr>
<tr class="separator:a9aa4adf03d64f554268f5d7a361ffc36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad095998a4965d49ef60cd34950cc8015"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#ad095998a4965d49ef60cd34950cc8015">enabled_version_check</a></td></tr>
<tr class="separator:ad095998a4965d49ef60cd34950cc8015"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a255e3e6a853e64eec598429806f9f2c6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a255e3e6a853e64eec598429806f9f2c6">enabled_config_update</a></td></tr>
<tr class="separator:a255e3e6a853e64eec598429806f9f2c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ba85d0a6fd5e6b60876f7d594838e56"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a3ba85d0a6fd5e6b60876f7d594838e56">version_check_url</a></td></tr>
<tr class="separator:a3ba85d0a6fd5e6b60876f7d594838e56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88634a7648d871f97108572cd4f47cb2"><td class="memItemLeft" align="right" valign="top">fs::path&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a88634a7648d871f97108572cd4f47cb2">cache_path</a></td></tr>
<tr class="separator:a88634a7648d871f97108572cd4f47cb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12b772e680a5ca2fd88eae6c7ae4e4c6"><td class="memItemLeft" align="right" valign="top">fs::path&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a12b772e680a5ca2fd88eae6c7ae4e4c6">rsrc_path</a></td></tr>
<tr class="separator:a12b772e680a5ca2fd88eae6c7ae4e4c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adde3af38e04d0285249d847b004c23f4"><td class="memItemLeft" align="right" valign="top">fs::path&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#adde3af38e04d0285249d847b004c23f4">vendor_path</a></td></tr>
<tr class="separator:adde3af38e04d0285249d847b004c23f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af00decc3399244b5aca6e99ef79ae3a0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#af00decc3399244b5aca6e99ef79ae3a0">cancel</a></td></tr>
<tr class="separator:af00decc3399244b5aca6e99ef79ae3a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d3693efa8b964fa904018baa8ef29b9"><td class="memItemLeft" align="right" valign="top">std::thread&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a3d3693efa8b964fa904018baa8ef29b9">thread</a></td></tr>
<tr class="separator:a3d3693efa8b964fa904018baa8ef29b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58ce233e25e1e0e9d0dc4b0b4ebf8946"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a58ce233e25e1e0e9d0dc4b0b4ebf8946">has_waiting_updates</a> { false }</td></tr>
<tr class="separator:a58ce233e25e1e0e9d0dc4b0b4ebf8946"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f49f4486a39f2fab2910b14f717a99d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/db8/namespace_slic3r.html#d9/df6/struct_slic3r_1_1_updates">Updates</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a5f49f4486a39f2fab2910b14f717a99d">waiting_updates</a></td></tr>
<tr class="separator:a5f49f4486a39f2fab2910b14f717a99d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"></div><hr/><h2 class="groupheader">Class Documentation</h2>
<a name="df/d80/struct_slic3r_1_1_preset_updater_1_1priv_1_1_resource" id="df/d80/struct_slic3r_1_1_preset_updater_1_1priv_1_1_resource"></a>
<h2 class="memtitle"><span class="permalink"><a href="#df/d80/struct_slic3r_1_1_preset_updater_1_1priv_1_1_resource">&#9670;&#160;</a></span>Slic3r::PresetUpdater::priv::Resource</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct Slic3r::PresetUpdater::priv::Resource</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"></div><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Collaboration diagram for Slic3r::PresetUpdater::priv::Resource:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d02/struct_slic3r_1_1_preset_updater_1_1priv_1_1_resource__coll__graph.svg" width="327" height="367"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="a7e3e3330041c48441ef871ff92eba475" name="a7e3e3330041c48441ef871ff92eba475"></a>string</td>
<td class="fieldname">
cache_root</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="aa64017d047370b9a3a0ab370fc7fa2a2" name="aa64017d047370b9a3a0ab370fc7fa2a2"></a>string</td>
<td class="fieldname">
description</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="aa197dfd479da859048b98f610f56e63d" name="aa197dfd479da859048b98f610f56e63d"></a>vector&lt; string &gt;</td>
<td class="fieldname">
sub_caches</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a32c77a91f7cd858866da95bb13ec716d" name="a32c77a91f7cd858866da95bb13ec716d"></a>string</td>
<td class="fieldname">
url</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="aef643803283ca93dd1b26d9d57db5df1" name="aef643803283ca93dd1b26d9d57db5df1"></a>string</td>
<td class="fieldname">
version</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a1857cb07beae11319533c7e780a6495e" name="a1857cb07beae11319533c7e780a6495e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1857cb07beae11319533c7e780a6495e">&#9670;&#160;</a></span>priv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Slic3r::PresetUpdater::priv::priv </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  217</span>  : <a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a88634a7648d871f97108572cd4f47cb2">cache_path</a>(fs::path(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a52157a1dec9ce067a7e19b02ef13e1f3">Slic3r::data_dir</a>()) / <span class="stringliteral">&quot;ota&quot;</span>)</div>
<div class="line"><span class="lineno">  218</span>  , <a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a12b772e680a5ca2fd88eae6c7ae4e4c6">rsrc_path</a>(fs::path(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a98b4dcd95032a990c6541512e9719696">resources_dir</a>()) / <span class="stringliteral">&quot;profiles&quot;</span>)</div>
<div class="line"><span class="lineno">  219</span>  , <a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#adde3af38e04d0285249d847b004c23f4">vendor_path</a>(fs::path(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a52157a1dec9ce067a7e19b02ef13e1f3">Slic3r::data_dir</a>()) / <a class="code hl_define" href="../../d6/d6a/_preset_8hpp.html#a597e03b132059d3efe38b1e978740cce">PRESET_SYSTEM_DIR</a>)</div>
<div class="line"><span class="lineno">  220</span>  , <a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#af00decc3399244b5aca6e99ef79ae3a0">cancel</a>(<span class="keyword">false</span>)</div>
<div class="line"><span class="lineno">  221</span>{</div>
<div class="line"><span class="lineno">  222</span>  <span class="comment">//BBS: refine preset updater logic</span></div>
<div class="line"><span class="lineno">  223</span>  <a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#ad095998a4965d49ef60cd34950cc8015">enabled_version_check</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  224</span>  <a class="code hl_function" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#ac539c995a8256aa1ecf94d6b73575886">set_download_prefs</a>(GUI::wxGetApp().app_config);</div>
<div class="line"><span class="lineno">  225</span>  <span class="comment">// Install indicies from resources. Only installs those that are either missing or older than in resources.</span></div>
<div class="line"><span class="lineno">  226</span>  <a class="code hl_function" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a6eebdca270c1b474e3f0a7a14f71f652">check_installed_vendor_profiles</a>();</div>
<div class="line"><span class="lineno">  227</span>  <span class="comment">// Load indices from the cache directory.</span></div>
<div class="line"><span class="lineno">  228</span>  <span class="comment">//index_db = Index::load_db();</span></div>
<div class="line"><span class="lineno">  229</span>}</div>
<div class="ttc" id="a_preset_8hpp_html_a597e03b132059d3efe38b1e978740cce"><div class="ttname"><a href="../../d6/d6a/_preset_8hpp.html#a597e03b132059d3efe38b1e978740cce">PRESET_SYSTEM_DIR</a></div><div class="ttdeci">#define PRESET_SYSTEM_DIR</div><div class="ttdef"><b>Definition</b> Preset.hpp:16</div></div>
<div class="ttc" id="anamespace_slic3r_html_a52157a1dec9ce067a7e19b02ef13e1f3"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a52157a1dec9ce067a7e19b02ef13e1f3">Slic3r::data_dir</a></div><div class="ttdeci">const std::string &amp; data_dir()</div><div class="ttdef"><b>Definition</b> utils.cpp:266</div></div>
<div class="ttc" id="anamespace_slic3r_html_a98b4dcd95032a990c6541512e9719696"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a98b4dcd95032a990c6541512e9719696">Slic3r::resources_dir</a></div><div class="ttdeci">const std::string &amp; resources_dir()</div><div class="ttdef"><b>Definition</b> utils.cpp:216</div></div>
<div class="ttc" id="astruct_slic3r_1_1_preset_updater_1_1priv_html_a12b772e680a5ca2fd88eae6c7ae4e4c6"><div class="ttname"><a href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a12b772e680a5ca2fd88eae6c7ae4e4c6">Slic3r::PresetUpdater::priv::rsrc_path</a></div><div class="ttdeci">fs::path rsrc_path</div><div class="ttdef"><b>Definition</b> PresetUpdater.cpp:174</div></div>
<div class="ttc" id="astruct_slic3r_1_1_preset_updater_1_1priv_html_a6eebdca270c1b474e3f0a7a14f71f652"><div class="ttname"><a href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a6eebdca270c1b474e3f0a7a14f71f652">Slic3r::PresetUpdater::priv::check_installed_vendor_profiles</a></div><div class="ttdeci">void check_installed_vendor_profiles() const</div><div class="ttdef"><b>Definition</b> PresetUpdater.cpp:1020</div></div>
<div class="ttc" id="astruct_slic3r_1_1_preset_updater_1_1priv_html_a88634a7648d871f97108572cd4f47cb2"><div class="ttname"><a href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a88634a7648d871f97108572cd4f47cb2">Slic3r::PresetUpdater::priv::cache_path</a></div><div class="ttdeci">fs::path cache_path</div><div class="ttdef"><b>Definition</b> PresetUpdater.cpp:173</div></div>
<div class="ttc" id="astruct_slic3r_1_1_preset_updater_1_1priv_html_ac539c995a8256aa1ecf94d6b73575886"><div class="ttname"><a href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#ac539c995a8256aa1ecf94d6b73575886">Slic3r::PresetUpdater::priv::set_download_prefs</a></div><div class="ttdeci">void set_download_prefs(AppConfig *app_config)</div><div class="ttdef"><b>Definition</b> PresetUpdater.cpp:232</div></div>
<div class="ttc" id="astruct_slic3r_1_1_preset_updater_1_1priv_html_ad095998a4965d49ef60cd34950cc8015"><div class="ttname"><a href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#ad095998a4965d49ef60cd34950cc8015">Slic3r::PresetUpdater::priv::enabled_version_check</a></div><div class="ttdeci">bool enabled_version_check</div><div class="ttdef"><b>Definition</b> PresetUpdater.cpp:169</div></div>
<div class="ttc" id="astruct_slic3r_1_1_preset_updater_1_1priv_html_adde3af38e04d0285249d847b004c23f4"><div class="ttname"><a href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#adde3af38e04d0285249d847b004c23f4">Slic3r::PresetUpdater::priv::vendor_path</a></div><div class="ttdeci">fs::path vendor_path</div><div class="ttdef"><b>Definition</b> PresetUpdater.cpp:175</div></div>
<div class="ttc" id="astruct_slic3r_1_1_preset_updater_1_1priv_html_af00decc3399244b5aca6e99ef79ae3a0"><div class="ttname"><a href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#af00decc3399244b5aca6e99ef79ae3a0">Slic3r::PresetUpdater::priv::cancel</a></div><div class="ttdeci">bool cancel</div><div class="ttdef"><b>Definition</b> PresetUpdater.cpp:177</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l01020">check_installed_vendor_profiles()</a>, <a class="el" href="../../#l00169">enabled_version_check</a>, and <a class="el" href="../../#l00232">set_download_prefs()</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv_a1857cb07beae11319533c7e780a6495e_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a6eebdca270c1b474e3f0a7a14f71f652" name="a6eebdca270c1b474e3f0a7a14f71f652"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6eebdca270c1b474e3f0a7a14f71f652">&#9670;&#160;</a></span>check_installed_vendor_profiles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::PresetUpdater::priv::check_installed_vendor_profiles </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1021</span>{</div>
<div class="line"><span class="lineno"> 1022</span>    BOOST_LOG_TRIVIAL(info) &lt;&lt; <span class="stringliteral">&quot;[BBL Updater]:Checking whether the profile from resource is newer&quot;</span>;</div>
<div class="line"><span class="lineno"> 1023</span> </div>
<div class="line"><span class="lineno"> 1024</span>    AppConfig *app_config = GUI::wxGetApp().app_config;</div>
<div class="line"><span class="lineno"> 1025</span>    <span class="keyword">const</span> <span class="keyword">auto</span> enabled_vendors = app_config-&gt;vendors();</div>
<div class="line"><span class="lineno"> 1026</span> </div>
<div class="line"><span class="lineno"> 1027</span>    <span class="comment">//BBS: refine the init check logic</span></div>
<div class="line"><span class="lineno"> 1028</span>    std::vector&lt;std::string&gt; bundles;</div>
<div class="line"><span class="lineno"> 1029</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;dir_entry : <a class="code hl_namespace" href="../../d4/da9/namespaceboost.html">boost</a>::filesystem::directory_iterator(<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a12b772e680a5ca2fd88eae6c7ae4e4c6">rsrc_path</a>)) {</div>
<div class="line"><span class="lineno"> 1030</span>        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;path = dir_entry.path();</div>
<div class="line"><span class="lineno"> 1031</span>        std::string file_path = path.string();</div>
<div class="line"><span class="lineno"> 1032</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a3779437ee2cdf470de95eb8235c33346">is_json_file</a>(file_path)) {</div>
<div class="line"><span class="lineno"> 1033</span>            <span class="keyword">const</span> <span class="keyword">auto</span> path_in_vendor = <a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#adde3af38e04d0285249d847b004c23f4">vendor_path</a> / path.filename();</div>
<div class="line"><span class="lineno"> 1034</span>            std::string vendor_name = path.filename().string();</div>
<div class="line"><span class="lineno"> 1035</span>            <span class="comment">// Remove the .json suffix.</span></div>
<div class="line"><span class="lineno"> 1036</span>            vendor_name.erase(vendor_name.size() - 5);</div>
<div class="line"><span class="lineno"> 1037</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a255e3e6a853e64eec598429806f9f2c6">enabled_config_update</a>) {</div>
<div class="line"><span class="lineno"> 1038</span>                <span class="keywordflow">if</span> ( fs::exists(path_in_vendor)) {</div>
<div class="line"><span class="lineno"> 1039</span>                    <span class="keywordflow">if</span> (enabled_vendors.find(vendor_name) != enabled_vendors.end()) {</div>
<div class="line"><span class="lineno"> 1040</span>                        Semver resource_ver = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a278c238a8640bcdef609547c5a66df29">get_version_from_json</a>(file_path);</div>
<div class="line"><span class="lineno"> 1041</span>                        Semver vendor_ver = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a278c238a8640bcdef609547c5a66df29">get_version_from_json</a>(path_in_vendor.string());</div>
<div class="line"><span class="lineno"> 1042</span> </div>
<div class="line"><span class="lineno"> 1043</span>                        <span class="keywordtype">bool</span> version_match = ((resource_ver.maj() == vendor_ver.maj()) &amp;&amp; (resource_ver.min() == vendor_ver.min()));</div>
<div class="line"><span class="lineno"> 1044</span> </div>
<div class="line"><span class="lineno"> 1045</span>                        <span class="keywordflow">if</span> (!version_match || (vendor_ver &lt; resource_ver)) {</div>
<div class="line"><span class="lineno"> 1046</span>                            BOOST_LOG_TRIVIAL(info) &lt;&lt; <span class="stringliteral">&quot;[BBL Updater]:found vendor &quot;</span>&lt;&lt;vendor_name&lt;&lt;<span class="stringliteral">&quot; newer version &quot;</span>&lt;&lt;resource_ver.to_string() &lt;&lt;<span class="stringliteral">&quot; from resource, old version &quot;</span>&lt;&lt;vendor_ver.to_string();</div>
<div class="line"><span class="lineno"> 1047</span>                            bundles.push_back(vendor_name);</div>
<div class="line"><span class="lineno"> 1048</span>                        }</div>
<div class="line"><span class="lineno"> 1049</span>                    }</div>
<div class="line"><span class="lineno"> 1050</span>                    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1051</span>                        <span class="comment">//need to be removed because not installed</span></div>
<div class="line"><span class="lineno"> 1052</span>                        fs::remove(path_in_vendor);</div>
<div class="line"><span class="lineno"> 1053</span>                        <span class="keyword">const</span> <span class="keyword">auto</span> path_of_vendor = <a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#adde3af38e04d0285249d847b004c23f4">vendor_path</a> / vendor_name;</div>
<div class="line"><span class="lineno"> 1054</span>                        <span class="keywordflow">if</span> (fs::exists(path_of_vendor))</div>
<div class="line"><span class="lineno"> 1055</span>                            fs::remove_all(path_of_vendor);</div>
<div class="line"><span class="lineno"> 1056</span>                    }</div>
<div class="line"><span class="lineno"> 1057</span>                }</div>
<div class="line"><span class="lineno"> 1058</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((vendor_name == <a class="code hl_variable" href="../../d9/d4b/class_slic3r_1_1_preset_bundle.html#ac652d3d50d22998d513f1a5d5a65dc8c">PresetBundle::BBL_BUNDLE</a>) || (enabled_vendors.find(vendor_name) != enabled_vendors.end())) {<span class="comment">//if vendor has no file, copy it from resource for BBL</span></div>
<div class="line"><span class="lineno"> 1059</span>                    bundles.push_back(vendor_name);</div>
<div class="line"><span class="lineno"> 1060</span>                }</div>
<div class="line"><span class="lineno"> 1061</span>            }</div>
<div class="line"><span class="lineno"> 1062</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((vendor_name == <a class="code hl_variable" href="../../d9/d4b/class_slic3r_1_1_preset_bundle.html#ac652d3d50d22998d513f1a5d5a65dc8c">PresetBundle::BBL_BUNDLE</a>) || (enabled_vendors.find(vendor_name) != enabled_vendors.end())) { <span class="comment">//always update configs from resource to vendor for BBL</span></div>
<div class="line"><span class="lineno"> 1063</span>                bundles.push_back(vendor_name);</div>
<div class="line"><span class="lineno"> 1064</span>            }</div>
<div class="line"><span class="lineno"> 1065</span>        }</div>
<div class="line"><span class="lineno"> 1066</span>    }</div>
<div class="line"><span class="lineno"> 1067</span> </div>
<div class="line"><span class="lineno"> 1068</span>    <span class="keywordflow">if</span> (bundles.size() &gt; 0)</div>
<div class="line"><span class="lineno"> 1069</span>        <a class="code hl_function" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#aa3b61c187a737830d9c8ce76c2bc6923">install_bundles_rsrc</a>(bundles, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1070</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_preset_bundle_html_ac652d3d50d22998d513f1a5d5a65dc8c"><div class="ttname"><a href="../../d9/d4b/class_slic3r_1_1_preset_bundle.html#ac652d3d50d22998d513f1a5d5a65dc8c">Slic3r::PresetBundle::BBL_BUNDLE</a></div><div class="ttdeci">static const char * BBL_BUNDLE</div><div class="ttdef"><b>Definition</b> PresetBundle.hpp:215</div></div>
<div class="ttc" id="anamespace_slic3r_html_a278c238a8640bcdef609547c5a66df29"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a278c238a8640bcdef609547c5a66df29">Slic3r::get_version_from_json</a></div><div class="ttdeci">Semver get_version_from_json(std::string file_path)</div><div class="ttdef"><b>Definition</b> Preset.cpp:56</div></div>
<div class="ttc" id="anamespace_slic3r_html_a3779437ee2cdf470de95eb8235c33346"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a3779437ee2cdf470de95eb8235c33346">Slic3r::is_json_file</a></div><div class="ttdeci">bool is_json_file(const std::string &amp;path)</div><div class="ttdef"><b>Definition</b> utils.cpp:997</div></div>
<div class="ttc" id="anamespaceboost_html"><div class="ttname"><a href="../../d4/da9/namespaceboost.html">boost</a></div><div class="ttdef"><b>Definition</b> args.hpp:18</div></div>
<div class="ttc" id="astruct_slic3r_1_1_preset_updater_1_1priv_html_a255e3e6a853e64eec598429806f9f2c6"><div class="ttname"><a href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a255e3e6a853e64eec598429806f9f2c6">Slic3r::PresetUpdater::priv::enabled_config_update</a></div><div class="ttdeci">bool enabled_config_update</div><div class="ttdef"><b>Definition</b> PresetUpdater.cpp:170</div></div>
<div class="ttc" id="astruct_slic3r_1_1_preset_updater_1_1priv_html_aa3b61c187a737830d9c8ce76c2bc6923"><div class="ttname"><a href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#aa3b61c187a737830d9c8ce76c2bc6923">Slic3r::PresetUpdater::priv::install_bundles_rsrc</a></div><div class="ttdeci">bool install_bundles_rsrc(std::vector&lt; std::string &gt; bundles, bool snapshot) const</div><div class="ttdef"><b>Definition</b> PresetUpdater.cpp:977</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00215">Slic3r::PresetBundle::BBL_BUNDLE</a>, <a class="el" href="../../#l00056">Slic3r::get_version_from_json()</a>, <a class="el" href="../../#l01414">Slic3r::PresetUpdater::install_bundles_rsrc()</a>, <a class="el" href="../../#l00997">Slic3r::is_json_file()</a>, <a class="el" href="../../#l00103">Slic3r::Semver::maj()</a>, <a class="el" href="../../#l00104">Slic3r::Semver::min()</a>, <a class="el" href="../../#l00133">Slic3r::Semver::to_string()</a>, and <a class="el" href="../../#l00168">Slic3r::AppConfig::vendors()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00216">priv()</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv_a6eebdca270c1b474e3f0a7a14f71f652_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv_a6eebdca270c1b474e3f0a7a14f71f652_icgraph.svg" width="354" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a57bc54ccf39de12248c02c2c6ad79a5c" name="a57bc54ccf39de12248c02c2c6ad79a5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57bc54ccf39de12248c02c2c6ad79a5c">&#9670;&#160;</a></span>extract_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::PresetUpdater::priv::extract_file </td>
          <td>(</td>
          <td class="paramtype">const fs::path &amp;&#160;</td>
          <td class="paramname"><em>source_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const fs::path &amp;&#160;</td>
          <td class="paramname"><em>dest_path</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  282</span>{</div>
<div class="line"><span class="lineno">  283</span>    <span class="keywordtype">bool</span> res = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  284</span>    std::string file_path = source_path.string();</div>
<div class="line"><span class="lineno">  285</span>    std::string parent_path = (!dest_path.empty() ? dest_path : source_path.parent_path()).<span class="keywordtype">string</span>();</div>
<div class="line"><span class="lineno">  286</span>    <a class="code hl_struct" href="../../d0/d1b/miniz_8h.html#da/df0/structmz__zip__archive">mz_zip_archive</a> archive;</div>
<div class="line"><span class="lineno">  287</span>    <a class="code hl_function" href="../../d6/df6/miniz_8c.html#a8c64687454aca17948eb58730dc6f41b">mz_zip_zero_struct</a>(&amp;archive);</div>
<div class="line"><span class="lineno">  288</span> </div>
<div class="line"><span class="lineno">  289</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7893425af71793ea712b91d32a8f73f9">open_zip_reader</a>(&amp;archive, file_path))</div>
<div class="line"><span class="lineno">  290</span>    {</div>
<div class="line"><span class="lineno">  291</span>        BOOST_LOG_TRIVIAL(<a class="code hl_variable" href="../../d5/d8c/xmlrole_8c.html#a2739afc9d7ed13e98e5e0c5b2e1f0428">error</a>) &lt;&lt; <span class="stringliteral">&quot;Unable to open zip reader for &quot;</span>&lt;&lt;file_path;</div>
<div class="line"><span class="lineno">  292</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  293</span>    }</div>
<div class="line"><span class="lineno">  294</span> </div>
<div class="line"><span class="lineno">  295</span>    <a class="code hl_typedef" href="../../d0/d1b/miniz_8h.html#a4195703cf0ade709ddce7f8777fc0cc2">mz_uint</a> num_entries = <a class="code hl_function" href="../../d6/df6/miniz_8c.html#a1cb6b5d48f24b9aef3cb0a3f63793166">mz_zip_reader_get_num_files</a>(&amp;archive);</div>
<div class="line"><span class="lineno">  296</span> </div>
<div class="line"><span class="lineno">  297</span>    <a class="code hl_struct" href="../../d0/d1b/miniz_8h.html#dd/ddc/structmz__zip__archive__file__stat">mz_zip_archive_file_stat</a> stat;</div>
<div class="line"><span class="lineno">  298</span>    <span class="comment">// we first loop the entries to read from the archive the .amf file only, in order to extract the version from it</span></div>
<div class="line"><span class="lineno">  299</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d0/d1b/miniz_8h.html#a4195703cf0ade709ddce7f8777fc0cc2">mz_uint</a> i = 0; i &lt; num_entries; ++i)</div>
<div class="line"><span class="lineno">  300</span>    {</div>
<div class="line"><span class="lineno">  301</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d6/df6/miniz_8c.html#aa9d3abc65b4b9b91efc437ec151e9c99">mz_zip_reader_file_stat</a>(&amp;archive, i, &amp;stat))</div>
<div class="line"><span class="lineno">  302</span>        {</div>
<div class="line"><span class="lineno">  303</span>            std::string dest_file = parent_path+<span class="stringliteral">&quot;/&quot;</span>+stat.<a class="code hl_variable" href="../../d0/d1b/miniz_8h.html#ae500a60c1ca2d56199fa06f54036abea">m_filename</a>;</div>
<div class="line"><span class="lineno">  304</span>            <span class="keywordflow">if</span> (stat.<a class="code hl_variable" href="../../d0/d1b/miniz_8h.html#a02509653cc5553e63a1053802f808cbc">m_is_directory</a>) {</div>
<div class="line"><span class="lineno">  305</span>                fs::path dest_path(dest_file);</div>
<div class="line"><span class="lineno">  306</span>                <span class="keywordflow">if</span> (!fs::exists(dest_path))</div>
<div class="line"><span class="lineno">  307</span>                    fs::create_directories(dest_path);</div>
<div class="line"><span class="lineno">  308</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  309</span>            }</div>
<div class="line"><span class="lineno">  310</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (stat.<a class="code hl_variable" href="../../d0/d1b/miniz_8h.html#aa55ee3580a844400d4bd43be27ae3808">m_uncomp_size</a> == 0) {</div>
<div class="line"><span class="lineno">  311</span>                BOOST_LOG_TRIVIAL(warning) &lt;&lt; <span class="stringliteral">&quot;[BBL Updater]Unzip: invalid size for file &quot;</span>&lt;&lt;stat.<a class="code hl_variable" href="../../d0/d1b/miniz_8h.html#ae500a60c1ca2d56199fa06f54036abea">m_filename</a>;</div>
<div class="line"><span class="lineno">  312</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  313</span>            }</div>
<div class="line"><span class="lineno">  314</span>            <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  315</span>            {</div>
<div class="line"><span class="lineno">  316</span>                res = <a class="code hl_function" href="../../d6/df6/miniz_8c.html#af328f94aff4a5d44825959eb58bdf3c9">mz_zip_reader_extract_to_file</a>(&amp;archive, stat.<a class="code hl_variable" href="../../d0/d1b/miniz_8h.html#a9a7f0737f031b23a29c58fc7ff2bd131">m_file_index</a>, dest_file.c_str(), 0);</div>
<div class="line"><span class="lineno">  317</span>                <span class="keywordflow">if</span> (!res) {</div>
<div class="line"><span class="lineno">  318</span>                    BOOST_LOG_TRIVIAL(<a class="code hl_variable" href="../../d5/d8c/xmlrole_8c.html#a2739afc9d7ed13e98e5e0c5b2e1f0428">error</a>) &lt;&lt; <span class="stringliteral">&quot;[BBL Updater]extract file &quot;</span>&lt;&lt;stat.<a class="code hl_variable" href="../../d0/d1b/miniz_8h.html#ae500a60c1ca2d56199fa06f54036abea">m_filename</a>&lt;&lt;<span class="stringliteral">&quot; to dest &quot;</span>&lt;&lt;dest_file&lt;&lt;<span class="stringliteral">&quot; failed&quot;</span>;</div>
<div class="line"><span class="lineno">  319</span>                    <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab09c84872260214dc87647b98f735d0c">close_zip_reader</a>(&amp;archive);</div>
<div class="line"><span class="lineno">  320</span>                    <span class="keywordflow">return</span> res;</div>
<div class="line"><span class="lineno">  321</span>                }</div>
<div class="line"><span class="lineno">  322</span>                BOOST_LOG_TRIVIAL(info) &lt;&lt; <span class="stringliteral">&quot;[BBL Updater]successfully extract file &quot;</span> &lt;&lt; stat.<a class="code hl_variable" href="../../d0/d1b/miniz_8h.html#a9a7f0737f031b23a29c58fc7ff2bd131">m_file_index</a> &lt;&lt; <span class="stringliteral">&quot; to &quot;</span>&lt;&lt;dest_file;</div>
<div class="line"><span class="lineno">  323</span>            }</div>
<div class="line"><span class="lineno">  324</span>            <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception&amp; e)</div>
<div class="line"><span class="lineno">  325</span>            {</div>
<div class="line"><span class="lineno">  326</span>                <span class="comment">// ensure the zip archive is closed and rethrow the exception</span></div>
<div class="line"><span class="lineno">  327</span>                <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab09c84872260214dc87647b98f735d0c">close_zip_reader</a>(&amp;archive);</div>
<div class="line"><span class="lineno">  328</span>                BOOST_LOG_TRIVIAL(<a class="code hl_variable" href="../../d5/d8c/xmlrole_8c.html#a2739afc9d7ed13e98e5e0c5b2e1f0428">error</a>) &lt;&lt; <span class="stringliteral">&quot;[BBL Updater]Archive read exception:&quot;</span>&lt;&lt;e.what();</div>
<div class="line"><span class="lineno">  329</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  330</span>            }</div>
<div class="line"><span class="lineno">  331</span>        }</div>
<div class="line"><span class="lineno">  332</span>        <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  333</span>            BOOST_LOG_TRIVIAL(warning) &lt;&lt; <span class="stringliteral">&quot;[BBL Updater]Unzip: read file stat failed&quot;</span>;</div>
<div class="line"><span class="lineno">  334</span>        }</div>
<div class="line"><span class="lineno">  335</span>    }</div>
<div class="line"><span class="lineno">  336</span>    <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab09c84872260214dc87647b98f735d0c">close_zip_reader</a>(&amp;archive);</div>
<div class="line"><span class="lineno">  337</span> </div>
<div class="line"><span class="lineno">  338</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  339</span>}</div>
<div class="ttc" id="aminiz_8c_html_a1cb6b5d48f24b9aef3cb0a3f63793166"><div class="ttname"><a href="../../d6/df6/miniz_8c.html#a1cb6b5d48f24b9aef3cb0a3f63793166">mz_zip_reader_get_num_files</a></div><div class="ttdeci">mz_uint mz_zip_reader_get_num_files(mz_zip_archive *pZip)</div><div class="ttdef"><b>Definition</b> miniz.c:7880</div></div>
<div class="ttc" id="aminiz_8c_html_a8c64687454aca17948eb58730dc6f41b"><div class="ttname"><a href="../../d6/df6/miniz_8c.html#a8c64687454aca17948eb58730dc6f41b">mz_zip_zero_struct</a></div><div class="ttdeci">void mz_zip_zero_struct(mz_zip_archive *pZip)</div><div class="ttdef"><b>Definition</b> miniz.c:3792</div></div>
<div class="ttc" id="aminiz_8c_html_aa9d3abc65b4b9b91efc437ec151e9c99"><div class="ttname"><a href="../../d6/df6/miniz_8c.html#aa9d3abc65b4b9b91efc437ec151e9c99">mz_zip_reader_file_stat</a></div><div class="ttdeci">mz_bool mz_zip_reader_file_stat(mz_zip_archive *pZip, mz_uint file_index, mz_zip_archive_file_stat *pStat)</div><div class="ttdef"><b>Definition</b> miniz.c:7959</div></div>
<div class="ttc" id="aminiz_8c_html_af328f94aff4a5d44825959eb58bdf3c9"><div class="ttname"><a href="../../d6/df6/miniz_8c.html#af328f94aff4a5d44825959eb58bdf3c9">mz_zip_reader_extract_to_file</a></div><div class="ttdeci">mz_bool mz_zip_reader_extract_to_file(mz_zip_archive *pZip, mz_uint file_index, const char *pDst_filename, mz_uint flags)</div><div class="ttdef"><b>Definition</b> miniz.c:5107</div></div>
<div class="ttc" id="aminiz_8h_html_a02509653cc5553e63a1053802f808cbc"><div class="ttname"><a href="../../d0/d1b/miniz_8h.html#a02509653cc5553e63a1053802f808cbc">mz_zip_archive_file_stat::m_is_directory</a></div><div class="ttdeci">mz_bool m_is_directory</div><div class="ttdef"><b>Definition</b> miniz.h:961</div></div>
<div class="ttc" id="aminiz_8h_html_a4195703cf0ade709ddce7f8777fc0cc2"><div class="ttname"><a href="../../d0/d1b/miniz_8h.html#a4195703cf0ade709ddce7f8777fc0cc2">mz_uint</a></div><div class="ttdeci">unsigned int mz_uint</div><div class="ttdef"><b>Definition</b> miniz.h:489</div></div>
<div class="ttc" id="aminiz_8h_html_a9a7f0737f031b23a29c58fc7ff2bd131"><div class="ttname"><a href="../../d0/d1b/miniz_8h.html#a9a7f0737f031b23a29c58fc7ff2bd131">mz_zip_archive_file_stat::m_file_index</a></div><div class="ttdeci">mz_uint32 m_file_index</div><div class="ttdef"><b>Definition</b> miniz.h:926</div></div>
<div class="ttc" id="aminiz_8h_html_aa55ee3580a844400d4bd43be27ae3808"><div class="ttname"><a href="../../d0/d1b/miniz_8h.html#aa55ee3580a844400d4bd43be27ae3808">mz_zip_archive_file_stat::m_uncomp_size</a></div><div class="ttdeci">mz_uint64 m_uncomp_size</div><div class="ttdef"><b>Definition</b> miniz.h:948</div></div>
<div class="ttc" id="aminiz_8h_html_ae500a60c1ca2d56199fa06f54036abea"><div class="ttname"><a href="../../d0/d1b/miniz_8h.html#ae500a60c1ca2d56199fa06f54036abea">mz_zip_archive_file_stat::m_filename</a></div><div class="ttdeci">char m_filename[MZ_ZIP_MAX_ARCHIVE_FILENAME_SIZE]</div><div class="ttdef"><b>Definition</b> miniz.h:974</div></div>
<div class="ttc" id="aminiz_8h_html_da/df0/structmz__zip__archive"><div class="ttname"><a href="../../d0/d1b/miniz_8h.html#da/df0/structmz__zip__archive">mz_zip_archive</a></div><div class="ttdef"><b>Definition</b> miniz.h:1056</div></div>
<div class="ttc" id="aminiz_8h_html_dd/ddc/structmz__zip__archive__file__stat"><div class="ttname"><a href="../../d0/d1b/miniz_8h.html#dd/ddc/structmz__zip__archive__file__stat">mz_zip_archive_file_stat</a></div><div class="ttdef"><b>Definition</b> miniz.h:924</div></div>
<div class="ttc" id="anamespace_slic3r_html_a7893425af71793ea712b91d32a8f73f9"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a7893425af71793ea712b91d32a8f73f9">Slic3r::open_zip_reader</a></div><div class="ttdeci">bool open_zip_reader(mz_zip_archive *zip, const std::string &amp;fname)</div><div class="ttdef"><b>Definition</b> miniz_extension.cpp:66</div></div>
<div class="ttc" id="anamespace_slic3r_html_ab09c84872260214dc87647b98f735d0c"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#ab09c84872260214dc87647b98f735d0c">Slic3r::close_zip_reader</a></div><div class="ttdeci">bool close_zip_reader(mz_zip_archive *zip)</div><div class="ttdef"><b>Definition</b> miniz_extension.cpp:76</div></div>
<div class="ttc" id="axmlrole_8c_html_a2739afc9d7ed13e98e5e0c5b2e1f0428"><div class="ttname"><a href="../../d5/d8c/xmlrole_8c.html#a2739afc9d7ed13e98e5e0c5b2e1f0428">error</a></div><div class="ttdeci">static PROLOG_HANDLER error</div><div class="ttdef"><b>Definition</b> xmlrole.c:109</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00076">Slic3r::close_zip_reader()</a>, <a class="el" href="../../#l00109">error</a>, <a class="el" href="../../#l00926">mz_zip_archive_file_stat::m_file_index</a>, <a class="el" href="../../#l00974">mz_zip_archive_file_stat::m_filename</a>, <a class="el" href="../../#l00961">mz_zip_archive_file_stat::m_is_directory</a>, <a class="el" href="../../#l00948">mz_zip_archive_file_stat::m_uncomp_size</a>, <a class="el" href="../../#l05107">mz_zip_reader_extract_to_file()</a>, <a class="el" href="../../#l07959">mz_zip_reader_file_stat()</a>, <a class="el" href="../../#l07880">mz_zip_reader_get_num_files()</a>, <a class="el" href="../../#l03792">mz_zip_zero_struct()</a>, and <a class="el" href="../../#l00066">Slic3r::open_zip_reader()</a>.</p>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv_a57bc54ccf39de12248c02c2c6ad79a5c_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a99f0cf7b0cb88b606cf043fe650c9fe8" name="a99f0cf7b0cb88b606cf043fe650c9fe8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99f0cf7b0cb88b606cf043fe650c9fe8">&#9670;&#160;</a></span>get_cached_plugins_version()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::PresetUpdater::priv::get_cached_plugins_version </td>
          <td>(</td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>cached_version</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  834</span>{</div>
<div class="line"><span class="lineno">  835</span>    std::string data_dir_str = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a52157a1dec9ce067a7e19b02ef13e1f3">data_dir</a>();</div>
<div class="line"><span class="lineno">  836</span>    boost::filesystem::path data_dir_path(data_dir_str);</div>
<div class="line"><span class="lineno">  837</span>    <span class="keyword">auto</span> cache_folder = data_dir_path / <span class="stringliteral">&quot;ota&quot;</span>;</div>
<div class="line"><span class="lineno">  838</span>    std::string network_library, player_library;</div>
<div class="line"><span class="lineno">  839</span>    <span class="keywordtype">bool</span> has_plugins = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  840</span> </div>
<div class="line"><span class="lineno">  841</span><span class="preprocessor">#if defined(_MSC_VER) || defined(_WIN32)</span></div>
<div class="line"><span class="lineno">  842</span>    network_library = cache_folder.string() + <span class="stringliteral">&quot;/bambu_networking.dll&quot;</span>;</div>
<div class="line"><span class="lineno">  843</span>    player_library = cache_folder.string() + <span class="stringliteral">&quot;/BambuSource.dll&quot;</span>;</div>
<div class="line"><span class="lineno">  844</span><span class="preprocessor">#elif defined(__WXMAC__)</span></div>
<div class="line"><span class="lineno">  845</span>    network_library = cache_folder.string() + <span class="stringliteral">&quot;/libbambu_networking.dylib&quot;</span>;</div>
<div class="line"><span class="lineno">  846</span>    player_library = cache_folder.string() + <span class="stringliteral">&quot;/libBambuSource.dylib&quot;</span>;</div>
<div class="line"><span class="lineno">  847</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  848</span>    network_library = cache_folder.string() + <span class="stringliteral">&quot;/libbambu_networking.so&quot;</span>;</div>
<div class="line"><span class="lineno">  849</span>    player_library = cache_folder.string() + <span class="stringliteral">&quot;/libBambuSource.so&quot;</span>;</div>
<div class="line"><span class="lineno">  850</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  851</span> </div>
<div class="line"><span class="lineno">  852</span>    <span class="keywordflow">if</span> (boost::filesystem::exists(network_library)</div>
<div class="line"><span class="lineno">  853</span>        &amp;&amp; boost::filesystem::exists(player_library))</div>
<div class="line"><span class="lineno">  854</span>    {</div>
<div class="line"><span class="lineno">  855</span>        std::string changelog_file = cache_folder.string() + <span class="stringliteral">&quot;/network_plugins.json&quot;</span>;</div>
<div class="line"><span class="lineno">  856</span>        has_plugins = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  857</span>        <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  858</span>            boost::nowide::ifstream ifs(changelog_file);</div>
<div class="line"><span class="lineno">  859</span>            <a class="code hl_class" href="../../d9/dcc/classnlohmann_1_1basic__json.html">json</a> j;</div>
<div class="line"><span class="lineno">  860</span>            ifs &gt;&gt; j;</div>
<div class="line"><span class="lineno">  861</span> </div>
<div class="line"><span class="lineno">  862</span>            cached_version = j[<span class="stringliteral">&quot;version&quot;</span>];</div>
<div class="line"><span class="lineno">  863</span>        }</div>
<div class="line"><span class="lineno">  864</span>        <span class="keywordflow">catch</span>(<a class="code hl_class" href="../../d5/d1a/classnlohmann_1_1detail_1_1parse__error.html">nlohmann::detail::parse_error</a> &amp;err) {</div>
<div class="line"><span class="lineno">  865</span>            BOOST_LOG_TRIVIAL(<a class="code hl_variable" href="../../d5/d8c/xmlrole_8c.html#a2739afc9d7ed13e98e5e0c5b2e1f0428">error</a>) &lt;&lt; __FUNCTION__&lt;&lt; <span class="stringliteral">&quot;: parse &quot;</span>&lt;&lt;changelog_file&lt;&lt;<span class="stringliteral">&quot; got a nlohmann::detail::parse_error, reason = &quot;</span> &lt;&lt; err.<a class="code hl_function" href="../../de/df2/classnlohmann_1_1detail_1_1exception.html#ad863f4455f8bb2ea006a78e6fcf0b090">what</a>();</div>
<div class="line"><span class="lineno">  866</span>            <span class="comment">//throw ConfigurationError(format(&quot;Failed loading json file \&quot;%1%\&quot;: %2%&quot;, file_path, err.what()));</span></div>
<div class="line"><span class="lineno">  867</span>        }</div>
<div class="line"><span class="lineno">  868</span>    }</div>
<div class="line"><span class="lineno">  869</span> </div>
<div class="line"><span class="lineno">  870</span>    <span class="keywordflow">return</span> has_plugins;</div>
<div class="line"><span class="lineno">  871</span>}</div>
<div class="ttc" id="aclassnlohmann_1_1basic__json_html"><div class="ttname"><a href="../../d9/dcc/classnlohmann_1_1basic__json.html">nlohmann::basic_json</a></div><div class="ttdoc">a class to store JSON values</div><div class="ttdef"><b>Definition</b> json.hpp:177</div></div>
<div class="ttc" id="aclassnlohmann_1_1detail_1_1exception_html_ad863f4455f8bb2ea006a78e6fcf0b090"><div class="ttname"><a href="../../de/df2/classnlohmann_1_1detail_1_1exception.html#ad863f4455f8bb2ea006a78e6fcf0b090">nlohmann::detail::exception::what</a></div><div class="ttdeci">const char * what() const noexcept override</div><div class="ttdoc">returns the explanatory string</div><div class="ttdef"><b>Definition</b> exceptions.hpp:53</div></div>
<div class="ttc" id="aclassnlohmann_1_1detail_1_1parse__error_html"><div class="ttname"><a href="../../d5/d1a/classnlohmann_1_1detail_1_1parse__error.html">nlohmann::detail::parse_error</a></div><div class="ttdoc">exception indicating a parse error</div><div class="ttdef"><b>Definition</b> exceptions.hpp:185</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00266">Slic3r::data_dir()</a>, <a class="el" href="../../#l00109">error</a>, and <a class="el" href="../../#l00053">nlohmann::detail::exception::what()</a>.</p>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv_a99f0cf7b0cb88b606cf043fe650c9fe8_cgraph.svg" width="412" height="102"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="aff1209280aef6cb26f85a010a51f39f7" name="aff1209280aef6cb26f85a010a51f39f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff1209280aef6cb26f85a010a51f39f7">&#9670;&#160;</a></span>get_config_updates()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/db8/namespace_slic3r.html#d9/df6/struct_slic3r_1_1_updates">Updates</a> Slic3r::PresetUpdater::priv::get_config_updates </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d0/d1c/class_slic3r_1_1_semver.html">Semver</a> &amp;&#160;</td>
          <td class="paramname"><em>old_slic3r_version</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1077</span>{</div>
<div class="line"><span class="lineno"> 1078</span>  Updates updates;</div>
<div class="line"><span class="lineno"> 1079</span> </div>
<div class="line"><span class="lineno"> 1080</span>  BOOST_LOG_TRIVIAL(info) &lt;&lt; <span class="stringliteral">&quot;[BBL Updater]:Checking for cached configuration updates...&quot;</span>;</div>
<div class="line"><span class="lineno"> 1081</span> </div>
<div class="line"><span class="lineno"> 1082</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;dir_entry : <a class="code hl_namespace" href="../../d4/da9/namespaceboost.html">boost</a>::filesystem::directory_iterator(<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a88634a7648d871f97108572cd4f47cb2">cache_path</a>)) {</div>
<div class="line"><span class="lineno"> 1083</span>        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;path = dir_entry.path();</div>
<div class="line"><span class="lineno"> 1084</span>        std::string file_path = path.string();</div>
<div class="line"><span class="lineno"> 1085</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a3779437ee2cdf470de95eb8235c33346">is_json_file</a>(file_path)) {</div>
<div class="line"><span class="lineno"> 1086</span>            <span class="keyword">const</span> <span class="keyword">auto</span> path_in_vendor = <a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#adde3af38e04d0285249d847b004c23f4">vendor_path</a> / path.filename();</div>
<div class="line"><span class="lineno"> 1087</span>            std::string vendor_name = path.filename().string();</div>
<div class="line"><span class="lineno"> 1088</span>            <span class="comment">// Remove the .json suffix.</span></div>
<div class="line"><span class="lineno"> 1089</span>            vendor_name.erase(vendor_name.size() - 5);</div>
<div class="line"><span class="lineno"> 1090</span>            <span class="keyword">auto</span> print_in_cache = (<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a88634a7648d871f97108572cd4f47cb2">cache_path</a> / vendor_name / <a class="code hl_define" href="../../d6/d6a/_preset_8hpp.html#adf71a26ad52ea7ae81d56c0345ab9a00">PRESET_PRINT_NAME</a>);</div>
<div class="line"><span class="lineno"> 1091</span>            <span class="keyword">auto</span> filament_in_cache = (<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a88634a7648d871f97108572cd4f47cb2">cache_path</a> / vendor_name / <a class="code hl_define" href="../../d6/d6a/_preset_8hpp.html#afded1a3aa6aa5ec4262d3e8a409603b7">PRESET_FILAMENT_NAME</a>);</div>
<div class="line"><span class="lineno"> 1092</span>            <span class="keyword">auto</span> machine_in_cache = (<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a88634a7648d871f97108572cd4f47cb2">cache_path</a> / vendor_name / <a class="code hl_define" href="../../d6/d6a/_preset_8hpp.html#adcd675d3716022d4cb17038fb4d5a176">PRESET_PRINTER_NAME</a>);</div>
<div class="line"><span class="lineno"> 1093</span> </div>
<div class="line"><span class="lineno"> 1094</span>            <span class="keywordflow">if</span> (( fs::exists(path_in_vendor))</div>
<div class="line"><span class="lineno"> 1095</span>                &amp;&amp;( fs::exists(print_in_cache))</div>
<div class="line"><span class="lineno"> 1096</span>                &amp;&amp;( fs::exists(filament_in_cache))</div>
<div class="line"><span class="lineno"> 1097</span>                &amp;&amp;( fs::exists(machine_in_cache))) {</div>
<div class="line"><span class="lineno"> 1098</span>                Semver vendor_ver = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a278c238a8640bcdef609547c5a66df29">get_version_from_json</a>(path_in_vendor.string());</div>
<div class="line"><span class="lineno"> 1099</span> </div>
<div class="line"><span class="lineno"> 1100</span>                std::map&lt;std::string, std::string&gt; key_values;</div>
<div class="line"><span class="lineno"> 1101</span>                std::vector&lt;std::string&gt; keys(3);</div>
<div class="line"><span class="lineno"> 1102</span>        Semver cache_ver;</div>
<div class="line"><span class="lineno"> 1103</span>                keys[0] = <a class="code hl_define" href="../../d6/d6a/_preset_8hpp.html#a5165c587165263166ef818baa171fa50">BBL_JSON_KEY_VERSION</a>;</div>
<div class="line"><span class="lineno"> 1104</span>                keys[1] = <a class="code hl_define" href="../../d6/d6a/_preset_8hpp.html#a1c14c86fef2eceec16c903e25ff60d89">BBL_JSON_KEY_DESCRIPTION</a>;</div>
<div class="line"><span class="lineno"> 1105</span>                keys[2] = <a class="code hl_define" href="../../d6/d6a/_preset_8hpp.html#aace711f64fa5a39f8706dc0a51c1834f">BBL_JSON_KEY_FORCE_UPDATE</a>;</div>
<div class="line"><span class="lineno"> 1106</span>                <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a585c7d0a8e923e0ab3813f59dd113315">get_values_from_json</a>(file_path, keys, key_values);</div>
<div class="line"><span class="lineno"> 1107</span>                std::string description = key_values[<a class="code hl_define" href="../../d6/d6a/_preset_8hpp.html#a1c14c86fef2eceec16c903e25ff60d89">BBL_JSON_KEY_DESCRIPTION</a>];</div>
<div class="line"><span class="lineno"> 1108</span>                <span class="keywordtype">bool</span> force_update = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1109</span>                <span class="keywordflow">if</span> (key_values.find(<a class="code hl_define" href="../../d6/d6a/_preset_8hpp.html#aace711f64fa5a39f8706dc0a51c1834f">BBL_JSON_KEY_FORCE_UPDATE</a>) != key_values.end())</div>
<div class="line"><span class="lineno"> 1110</span>                    force_update = (key_values[<a class="code hl_define" href="../../d6/d6a/_preset_8hpp.html#aace711f64fa5a39f8706dc0a51c1834f">BBL_JSON_KEY_FORCE_UPDATE</a>] == <span class="stringliteral">&quot;1&quot;</span>)?<span class="keyword">true</span>:false;</div>
<div class="line"><span class="lineno"> 1111</span>                <span class="keyword">auto</span> config_version = <a class="code hl_function" href="../../d0/d1c/class_slic3r_1_1_semver.html#a8e956cc1ba6f4c7f4ef93a4da9d32670">Semver::parse</a>(key_values[<a class="code hl_define" href="../../d6/d6a/_preset_8hpp.html#a5165c587165263166ef818baa171fa50">BBL_JSON_KEY_VERSION</a>]);</div>
<div class="line"><span class="lineno"> 1112</span>                <span class="keywordflow">if</span> (config_version)</div>
<div class="line"><span class="lineno"> 1113</span>                    cache_ver = *config_version;</div>
<div class="line"><span class="lineno"> 1114</span> </div>
<div class="line"><span class="lineno"> 1115</span>                std::string changelog;</div>
<div class="line"><span class="lineno"> 1116</span>                std::string changelog_file = (<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a88634a7648d871f97108572cd4f47cb2">cache_path</a> / (vendor_name + <span class="stringliteral">&quot;.changelog&quot;</span>)).string();</div>
<div class="line"><span class="lineno"> 1117</span>                boost::nowide::ifstream ifs(changelog_file);</div>
<div class="line"><span class="lineno"> 1118</span>                <span class="keywordflow">if</span> (ifs) {</div>
<div class="line"><span class="lineno"> 1119</span>                    std::ostringstream oss;</div>
<div class="line"><span class="lineno"> 1120</span>                    oss&lt;&lt; ifs.rdbuf();</div>
<div class="line"><span class="lineno"> 1121</span>                    changelog = oss.str();</div>
<div class="line"><span class="lineno"> 1122</span>                    <span class="comment">//ifs&gt;&gt;changelog;</span></div>
<div class="line"><span class="lineno"> 1123</span>                    ifs.close();</div>
<div class="line"><span class="lineno"> 1124</span>                }</div>
<div class="line"><span class="lineno"> 1125</span> </div>
<div class="line"><span class="lineno"> 1126</span>                <span class="keywordtype">bool</span> version_match = ((vendor_ver.maj() == cache_ver.maj()) &amp;&amp; (vendor_ver.min() == cache_ver.min()));</div>
<div class="line"><span class="lineno"> 1127</span>                <span class="keywordflow">if</span> (version_match &amp;&amp; (vendor_ver &lt; cache_ver)) {</div>
<div class="line"><span class="lineno"> 1128</span>                    Semver app_ver = *<a class="code hl_function" href="../../d0/d1c/class_slic3r_1_1_semver.html#a8e956cc1ba6f4c7f4ef93a4da9d32670">Semver::parse</a>(SLIC3R_VERSION);</div>
<div class="line"><span class="lineno"> 1129</span>                    <span class="keywordflow">if</span> (cache_ver.maj() == app_ver.maj()){</div>
<div class="line"><span class="lineno"> 1130</span>                        BOOST_LOG_TRIVIAL(info) &lt;&lt; <span class="stringliteral">&quot;[BBL Updater]:need to update settings from &quot;</span>&lt;&lt;vendor_ver.to_string()&lt;&lt;<span class="stringliteral">&quot; to newer version &quot;</span>&lt;&lt;cache_ver.to_string() &lt;&lt;<span class="stringliteral">&quot;, app version &quot;</span>&lt;&lt;SLIC3R_VERSION;</div>
<div class="line"><span class="lineno"> 1131</span>                        <a class="code hl_struct" href="../../d6/d32/struct_slic3r_1_1_g_u_i_1_1_config_1_1_version.html">Version</a> version;</div>
<div class="line"><span class="lineno"> 1132</span>                        version.<a class="code hl_variable" href="../../d6/d32/struct_slic3r_1_1_g_u_i_1_1_config_1_1_version.html#a6d8b6b695f2ca9b86ca730e897144ab1">config_version</a> = cache_ver;</div>
<div class="line"><span class="lineno"> 1133</span>                        version.<a class="code hl_variable" href="../../d6/d32/struct_slic3r_1_1_g_u_i_1_1_config_1_1_version.html#ae3e4ecfd4c69473e2524bf5b9c3ba23c">comment</a> = description;</div>
<div class="line"><span class="lineno"> 1134</span> </div>
<div class="line"><span class="lineno"> 1135</span>                        updates.updates.emplace_back(std::move(file_path), std::move(path_in_vendor.string()), std::move(version), vendor_name, changelog, description, force_update, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1136</span> </div>
<div class="line"><span class="lineno"> 1137</span>                        <span class="comment">//BBS: add directory support</span></div>
<div class="line"><span class="lineno"> 1138</span>                        <span class="keyword">auto</span> print_in_vendors = (<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#adde3af38e04d0285249d847b004c23f4">vendor_path</a> / vendor_name / <a class="code hl_define" href="../../d6/d6a/_preset_8hpp.html#adf71a26ad52ea7ae81d56c0345ab9a00">PRESET_PRINT_NAME</a>);</div>
<div class="line"><span class="lineno"> 1139</span>                        updates.updates.emplace_back(std::move(print_in_cache), std::move(print_in_vendors.string()), <a class="code hl_struct" href="../../d6/d32/struct_slic3r_1_1_g_u_i_1_1_config_1_1_version.html">Version</a>(), vendor_name, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, force_update, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1140</span> </div>
<div class="line"><span class="lineno"> 1141</span>                        <span class="keyword">auto</span> filament_in_vendors = (<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#adde3af38e04d0285249d847b004c23f4">vendor_path</a> / vendor_name / <a class="code hl_define" href="../../d6/d6a/_preset_8hpp.html#afded1a3aa6aa5ec4262d3e8a409603b7">PRESET_FILAMENT_NAME</a>);</div>
<div class="line"><span class="lineno"> 1142</span>                        updates.updates.emplace_back(std::move(filament_in_cache), std::move(filament_in_vendors.string()), <a class="code hl_struct" href="../../d6/d32/struct_slic3r_1_1_g_u_i_1_1_config_1_1_version.html">Version</a>(), vendor_name, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, force_update, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1143</span> </div>
<div class="line"><span class="lineno"> 1144</span>                        <span class="keyword">auto</span> machine_in_vendors = (<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#adde3af38e04d0285249d847b004c23f4">vendor_path</a> / vendor_name / <a class="code hl_define" href="../../d6/d6a/_preset_8hpp.html#adcd675d3716022d4cb17038fb4d5a176">PRESET_PRINTER_NAME</a>);</div>
<div class="line"><span class="lineno"> 1145</span>                        updates.updates.emplace_back(std::move(machine_in_cache), std::move(machine_in_vendors.string()), <a class="code hl_struct" href="../../d6/d32/struct_slic3r_1_1_g_u_i_1_1_config_1_1_version.html">Version</a>(), vendor_name, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, force_update, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1146</span>                    }</div>
<div class="line"><span class="lineno"> 1147</span>                }</div>
<div class="line"><span class="lineno"> 1148</span>            }</div>
<div class="line"><span class="lineno"> 1149</span>        }</div>
<div class="line"><span class="lineno"> 1150</span>    }</div>
<div class="line"><span class="lineno"> 1151</span> </div>
<div class="line"><span class="lineno"> 1152</span>  <span class="keywordflow">return</span> updates;</div>
<div class="line"><span class="lineno"> 1153</span>}</div>
<div class="ttc" id="a_preset_8hpp_html_a1c14c86fef2eceec16c903e25ff60d89"><div class="ttname"><a href="../../d6/d6a/_preset_8hpp.html#a1c14c86fef2eceec16c903e25ff60d89">BBL_JSON_KEY_DESCRIPTION</a></div><div class="ttdeci">#define BBL_JSON_KEY_DESCRIPTION</div><div class="ttdef"><b>Definition</b> Preset.hpp:35</div></div>
<div class="ttc" id="a_preset_8hpp_html_a5165c587165263166ef818baa171fa50"><div class="ttname"><a href="../../d6/d6a/_preset_8hpp.html#a5165c587165263166ef818baa171fa50">BBL_JSON_KEY_VERSION</a></div><div class="ttdeci">#define BBL_JSON_KEY_VERSION</div><div class="ttdef"><b>Definition</b> Preset.hpp:31</div></div>
<div class="ttc" id="a_preset_8hpp_html_aace711f64fa5a39f8706dc0a51c1834f"><div class="ttname"><a href="../../d6/d6a/_preset_8hpp.html#aace711f64fa5a39f8706dc0a51c1834f">BBL_JSON_KEY_FORCE_UPDATE</a></div><div class="ttdeci">#define BBL_JSON_KEY_FORCE_UPDATE</div><div class="ttdef"><b>Definition</b> Preset.hpp:36</div></div>
<div class="ttc" id="a_preset_8hpp_html_adcd675d3716022d4cb17038fb4d5a176"><div class="ttname"><a href="../../d6/d6a/_preset_8hpp.html#adcd675d3716022d4cb17038fb4d5a176">PRESET_PRINTER_NAME</a></div><div class="ttdeci">#define PRESET_PRINTER_NAME</div><div class="ttdef"><b>Definition</b> Preset.hpp:20</div></div>
<div class="ttc" id="a_preset_8hpp_html_adf71a26ad52ea7ae81d56c0345ab9a00"><div class="ttname"><a href="../../d6/d6a/_preset_8hpp.html#adf71a26ad52ea7ae81d56c0345ab9a00">PRESET_PRINT_NAME</a></div><div class="ttdeci">#define PRESET_PRINT_NAME</div><div class="ttdef"><b>Definition</b> Preset.hpp:19</div></div>
<div class="ttc" id="a_preset_8hpp_html_afded1a3aa6aa5ec4262d3e8a409603b7"><div class="ttname"><a href="../../d6/d6a/_preset_8hpp.html#afded1a3aa6aa5ec4262d3e8a409603b7">PRESET_FILAMENT_NAME</a></div><div class="ttdeci">#define PRESET_FILAMENT_NAME</div><div class="ttdef"><b>Definition</b> Preset.hpp:18</div></div>
<div class="ttc" id="aclass_slic3r_1_1_semver_html_a8e956cc1ba6f4c7f4ef93a4da9d32670"><div class="ttname"><a href="../../d0/d1c/class_slic3r_1_1_semver.html#a8e956cc1ba6f4c7f4ef93a4da9d32670">Slic3r::Semver::parse</a></div><div class="ttdeci">static boost::optional&lt; Semver &gt; parse(const std::string &amp;str)</div><div class="ttdef"><b>Definition</b> Semver.hpp:58</div></div>
<div class="ttc" id="anamespace_slic3r_html_a585c7d0a8e923e0ab3813f59dd113315"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a585c7d0a8e923e0ab3813f59dd113315">Slic3r::get_values_from_json</a></div><div class="ttdeci">int get_values_from_json(std::string file_path, std::vector&lt; std::string &gt; &amp;keys, std::map&lt; std::string, std::string &gt; &amp;key_values)</div><div class="ttdef"><b>Definition</b> Preset.cpp:79</div></div>
<div class="ttc" id="astruct_slic3r_1_1_g_u_i_1_1_config_1_1_version_html"><div class="ttname"><a href="../../d6/d32/struct_slic3r_1_1_g_u_i_1_1_config_1_1_version.html">Slic3r::GUI::Config::Version</a></div><div class="ttdef"><b>Definition</b> Version.hpp:18</div></div>
<div class="ttc" id="astruct_slic3r_1_1_g_u_i_1_1_config_1_1_version_html_a6d8b6b695f2ca9b86ca730e897144ab1"><div class="ttname"><a href="../../d6/d32/struct_slic3r_1_1_g_u_i_1_1_config_1_1_version.html#a6d8b6b695f2ca9b86ca730e897144ab1">Slic3r::GUI::Config::Version::config_version</a></div><div class="ttdeci">Semver config_version</div><div class="ttdef"><b>Definition</b> Version.hpp:20</div></div>
<div class="ttc" id="astruct_slic3r_1_1_g_u_i_1_1_config_1_1_version_html_ae3e4ecfd4c69473e2524bf5b9c3ba23c"><div class="ttname"><a href="../../d6/d32/struct_slic3r_1_1_g_u_i_1_1_config_1_1_version.html#ae3e4ecfd4c69473e2524bf5b9c3ba23c">Slic3r::GUI::Config::Version::comment</a></div><div class="ttdeci">std::string comment</div><div class="ttdef"><b>Definition</b> Version.hpp:28</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00035">BBL_JSON_KEY_DESCRIPTION</a>, <a class="el" href="../../#l00036">BBL_JSON_KEY_FORCE_UPDATE</a>, <a class="el" href="../../#l00031">BBL_JSON_KEY_VERSION</a>, <a class="el" href="../../#l00028">Slic3r::GUI::Config::Version::comment</a>, <a class="el" href="../../#l00020">Slic3r::GUI::Config::Version::config_version</a>, <a class="el" href="../../#l00079">Slic3r::get_values_from_json()</a>, <a class="el" href="../../#l00056">Slic3r::get_version_from_json()</a>, <a class="el" href="../../#l00997">Slic3r::is_json_file()</a>, <a class="el" href="../../#l00103">Slic3r::Semver::maj()</a>, <a class="el" href="../../#l00104">Slic3r::Semver::min()</a>, <a class="el" href="../../#l00058">Slic3r::Semver::parse()</a>, <a class="el" href="../../#l00018">PRESET_FILAMENT_NAME</a>, <a class="el" href="../../#l00019">PRESET_PRINT_NAME</a>, <a class="el" href="../../#l00020">PRESET_PRINTER_NAME</a>, <a class="el" href="../../#l00133">Slic3r::Semver::to_string()</a>, and <a class="el" href="../../#l00157">Slic3r::Updates::updates</a>.</p>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv_aff1209280aef6cb26f85a010a51f39f7_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a941e7a6e74d0bcf93b9c2bb05dbd09c0" name="a941e7a6e74d0bcf93b9c2bb05dbd09c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a941e7a6e74d0bcf93b9c2bb05dbd09c0">&#9670;&#160;</a></span>get_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::PresetUpdater::priv::get_file </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const fs::path &amp;&#160;</td>
          <td class="paramname"><em>target_path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  245</span>{</div>
<div class="line"><span class="lineno">  246</span>    <span class="keywordtype">bool</span> res = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  247</span>    fs::path tmp_path = target_path;</div>
<div class="line"><span class="lineno">  248</span>    tmp_path += <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab28c13d286b2d1767d7c63b020ebd042">format</a>(<span class="stringliteral">&quot;.%1%%2%&quot;</span>, <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a75172b21afb075cfcb6ebd3612077071">get_current_pid</a>(), <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#aa599e9246c446ebd84578cd5c19c63e5">TMP_EXTENSION</a>);</div>
<div class="line"><span class="lineno">  249</span> </div>
<div class="line"><span class="lineno">  250</span>    BOOST_LOG_TRIVIAL(info) &lt;&lt; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab28c13d286b2d1767d7c63b020ebd042">format</a>(<span class="stringliteral">&quot;[BBS Updater]download file `%1%`, stored to `%2%`, tmp path `%3%`&quot;</span>,</div>
<div class="line"><span class="lineno">  251</span>        url,</div>
<div class="line"><span class="lineno">  252</span>        target_path.string(),</div>
<div class="line"><span class="lineno">  253</span>        tmp_path.string());</div>
<div class="line"><span class="lineno">  254</span> </div>
<div class="line"><span class="lineno">  255</span>    <a class="code hl_function" href="../../d4/dbf/class_slic3r_1_1_http.html#aece8b9cd77673a474fe97331604914aa">Slic3r::Http::get</a>(url)</div>
<div class="line"><span class="lineno">  256</span>        .<a class="code hl_function" href="../../d4/dbf/class_slic3r_1_1_http.html#afda74f7b9247f37db6075db0d5d7de67">on_progress</a>([<span class="keyword">this</span>](<a class="code hl_struct" href="../../d5/d37/struct_slic3r_1_1_http_1_1_progress.html">Slic3r::Http::Progress</a>, <span class="keywordtype">bool</span> &amp;cancel_http) {</div>
<div class="line"><span class="lineno">  257</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#af00decc3399244b5aca6e99ef79ae3a0">cancel</a>) {</div>
<div class="line"><span class="lineno">  258</span>                cancel_http = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  259</span>            }</div>
<div class="line"><span class="lineno">  260</span>        })</div>
<div class="line"><span class="lineno">  261</span>        .on_error([&amp;](std::string body, std::string <a class="code hl_variable" href="../../d5/d8c/xmlrole_8c.html#a2739afc9d7ed13e98e5e0c5b2e1f0428">error</a>, <span class="keywordtype">unsigned</span> http_status) {</div>
<div class="line"><span class="lineno">  262</span>            (<a class="code hl_function" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>)body;</div>
<div class="line"><span class="lineno">  263</span>            BOOST_LOG_TRIVIAL(<a class="code hl_variable" href="../../d5/d8c/xmlrole_8c.html#a2739afc9d7ed13e98e5e0c5b2e1f0428">error</a>) &lt;&lt; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab28c13d286b2d1767d7c63b020ebd042">format</a>(<span class="stringliteral">&quot;[BBS Updater]getting: `%1%`: http status %2%, %3%&quot;</span>,</div>
<div class="line"><span class="lineno">  264</span>                url,</div>
<div class="line"><span class="lineno">  265</span>                http_status,</div>
<div class="line"><span class="lineno">  266</span>                <a class="code hl_variable" href="../../d5/d8c/xmlrole_8c.html#a2739afc9d7ed13e98e5e0c5b2e1f0428">error</a>);</div>
<div class="line"><span class="lineno">  267</span>        })</div>
<div class="line"><span class="lineno">  268</span>        .on_complete([&amp;](std::string body, <span class="keywordtype">unsigned</span> <span class="comment">/* http_status */</span>) {</div>
<div class="line"><span class="lineno">  269</span>            fs::fstream file(tmp_path, std::ios::out | std::ios::binary | std::ios::trunc);</div>
<div class="line"><span class="lineno">  270</span>            file.write(body.c_str(), body.size());</div>
<div class="line"><span class="lineno">  271</span>            file.close();</div>
<div class="line"><span class="lineno">  272</span>            fs::rename(tmp_path, target_path);</div>
<div class="line"><span class="lineno">  273</span>            res = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  274</span>        })</div>
<div class="line"><span class="lineno">  275</span>        .perform_sync();</div>
<div class="line"><span class="lineno">  276</span> </div>
<div class="line"><span class="lineno">  277</span>    <span class="keywordflow">return</span> res;</div>
<div class="line"><span class="lineno">  278</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_http_html_aece8b9cd77673a474fe97331604914aa"><div class="ttname"><a href="../../d4/dbf/class_slic3r_1_1_http.html#aece8b9cd77673a474fe97331604914aa">Slic3r::Http::get</a></div><div class="ttdeci">static Http get(std::string url)</div><div class="ttdef"><b>Definition</b> Http.cpp:691</div></div>
<div class="ttc" id="aclass_slic3r_1_1_http_html_afda74f7b9247f37db6075db0d5d7de67"><div class="ttname"><a href="../../d4/dbf/class_slic3r_1_1_http.html#afda74f7b9247f37db6075db0d5d7de67">Slic3r::Http::on_progress</a></div><div class="ttdeci">Http &amp; on_progress(ProgressFn fn)</div><div class="ttdef"><b>Definition</b> Http.cpp:649</div></div>
<div class="ttc" id="aglu-libtess_8h_html_a4292190e3f1f6b373a760c7d9316ad3c"><div class="ttname"><a href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a></div><div class="ttdeci">typedef void(GLAPIENTRYP _GLUfuncptr)(void)</div></div>
<div class="ttc" id="anamespace_slic3r_html_a75172b21afb075cfcb6ebd3612077071"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a75172b21afb075cfcb6ebd3612077071">Slic3r::get_current_pid</a></div><div class="ttdeci">unsigned get_current_pid()</div><div class="ttdef"><b>Definition</b> utils.cpp:1120</div></div>
<div class="ttc" id="anamespace_slic3r_html_aa599e9246c446ebd84578cd5c19c63e5"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#aa599e9246c446ebd84578cd5c19c63e5">Slic3r::TMP_EXTENSION</a></div><div class="ttdeci">static const char * TMP_EXTENSION</div><div class="ttdef"><b>Definition</b> PresetUpdater.cpp:53</div></div>
<div class="ttc" id="anamespace_slic3r_html_ab28c13d286b2d1767d7c63b020ebd042"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#ab28c13d286b2d1767d7c63b020ebd042">Slic3r::format</a></div><div class="ttdeci">std::string format(const char *fmt, TArgs &amp;&amp;... args)</div><div class="ttdef"><b>Definition</b> format.hpp:44</div></div>
<div class="ttc" id="astruct_slic3r_1_1_http_1_1_progress_html"><div class="ttname"><a href="../../d5/d37/struct_slic3r_1_1_http_1_1_progress.html">Slic3r::Http::Progress</a></div><div class="ttdef"><b>Definition</b> Http.hpp:36</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00109">error</a>, <a class="el" href="../../#l00044">Slic3r::format()</a>, <a class="el" href="../../#l00691">Slic3r::Http::get()</a>, <a class="el" href="../../#l01120">Slic3r::get_current_pid()</a>, <a class="el" href="../../#l00649">Slic3r::Http::on_progress()</a>, <a class="el" href="../../#l00053">Slic3r::TMP_EXTENSION</a>, and <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void()</a>.</p>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv_a941e7a6e74d0bcf93b9c2bb05dbd09c0_cgraph.svg" width="570" height="242"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="aa3b61c187a737830d9c8ce76c2bc6923" name="aa3b61c187a737830d9c8ce76c2bc6923"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3b61c187a737830d9c8ce76c2bc6923">&#9670;&#160;</a></span>install_bundles_rsrc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::PresetUpdater::priv::install_bundles_rsrc </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::string &gt;&#160;</td>
          <td class="paramname"><em>bundles</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>snapshot</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  978</span>{</div>
<div class="line"><span class="lineno">  979</span>  Updates updates;</div>
<div class="line"><span class="lineno">  980</span> </div>
<div class="line"><span class="lineno">  981</span>  BOOST_LOG_TRIVIAL(info) &lt;&lt; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab28c13d286b2d1767d7c63b020ebd042">format</a>(<span class="stringliteral">&quot;Installing %1% bundles from resources ...&quot;</span>, bundles.size());</div>
<div class="line"><span class="lineno">  982</span> </div>
<div class="line"><span class="lineno">  983</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;bundle : bundles) {</div>
<div class="line"><span class="lineno">  984</span>    <span class="keyword">auto</span> path_in_rsrc = (this-&gt;<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a12b772e680a5ca2fd88eae6c7ae4e4c6">rsrc_path</a> / bundle).replace_extension(<span class="stringliteral">&quot;.json&quot;</span>);</div>
<div class="line"><span class="lineno">  985</span>    <span class="keyword">auto</span> path_in_vendors = (this-&gt;<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#adde3af38e04d0285249d847b004c23f4">vendor_path</a> / bundle).replace_extension(<span class="stringliteral">&quot;.json&quot;</span>);</div>
<div class="line"><span class="lineno">  986</span>    updates.updates.emplace_back(std::move(path_in_rsrc), std::move(path_in_vendors), <a class="code hl_struct" href="../../d6/d32/struct_slic3r_1_1_g_u_i_1_1_config_1_1_version.html">Version</a>(), bundle, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  987</span> </div>
<div class="line"><span class="lineno">  988</span>        <span class="comment">//BBS: add directory support</span></div>
<div class="line"><span class="lineno">  989</span>        <span class="keyword">auto</span> print_in_rsrc = (this-&gt;<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a12b772e680a5ca2fd88eae6c7ae4e4c6">rsrc_path</a> / bundle / <a class="code hl_define" href="../../d6/d6a/_preset_8hpp.html#adf71a26ad52ea7ae81d56c0345ab9a00">PRESET_PRINT_NAME</a>);</div>
<div class="line"><span class="lineno">  990</span>    <span class="keyword">auto</span> print_in_vendors = (this-&gt;<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#adde3af38e04d0285249d847b004c23f4">vendor_path</a> / bundle / <a class="code hl_define" href="../../d6/d6a/_preset_8hpp.html#adf71a26ad52ea7ae81d56c0345ab9a00">PRESET_PRINT_NAME</a>);</div>
<div class="line"><span class="lineno">  991</span>        fs::path print_folder(print_in_vendors);</div>
<div class="line"><span class="lineno">  992</span>        <span class="keywordflow">if</span> (fs::exists(print_folder))</div>
<div class="line"><span class="lineno">  993</span>            fs::remove_all(print_folder);</div>
<div class="line"><span class="lineno">  994</span>        fs::create_directories(print_folder);</div>
<div class="line"><span class="lineno">  995</span>    updates.updates.emplace_back(std::move(print_in_rsrc), std::move(print_in_vendors), <a class="code hl_struct" href="../../d6/d32/struct_slic3r_1_1_g_u_i_1_1_config_1_1_version.html">Version</a>(), bundle, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  996</span> </div>
<div class="line"><span class="lineno">  997</span>        <span class="keyword">auto</span> filament_in_rsrc = (this-&gt;<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a12b772e680a5ca2fd88eae6c7ae4e4c6">rsrc_path</a> / bundle / <a class="code hl_define" href="../../d6/d6a/_preset_8hpp.html#afded1a3aa6aa5ec4262d3e8a409603b7">PRESET_FILAMENT_NAME</a>);</div>
<div class="line"><span class="lineno">  998</span>    <span class="keyword">auto</span> filament_in_vendors = (this-&gt;<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#adde3af38e04d0285249d847b004c23f4">vendor_path</a> / bundle / <a class="code hl_define" href="../../d6/d6a/_preset_8hpp.html#afded1a3aa6aa5ec4262d3e8a409603b7">PRESET_FILAMENT_NAME</a>);</div>
<div class="line"><span class="lineno">  999</span>        fs::path filament_folder(filament_in_vendors);</div>
<div class="line"><span class="lineno"> 1000</span>        <span class="keywordflow">if</span> (fs::exists(filament_folder))</div>
<div class="line"><span class="lineno"> 1001</span>            fs::remove_all(filament_folder);</div>
<div class="line"><span class="lineno"> 1002</span>        fs::create_directories(filament_folder);</div>
<div class="line"><span class="lineno"> 1003</span>    updates.updates.emplace_back(std::move(filament_in_rsrc), std::move(filament_in_vendors), <a class="code hl_struct" href="../../d6/d32/struct_slic3r_1_1_g_u_i_1_1_config_1_1_version.html">Version</a>(), bundle, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1004</span> </div>
<div class="line"><span class="lineno"> 1005</span>        <span class="keyword">auto</span> machine_in_rsrc = (this-&gt;<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a12b772e680a5ca2fd88eae6c7ae4e4c6">rsrc_path</a> / bundle / <a class="code hl_define" href="../../d6/d6a/_preset_8hpp.html#adcd675d3716022d4cb17038fb4d5a176">PRESET_PRINTER_NAME</a>);</div>
<div class="line"><span class="lineno"> 1006</span>    <span class="keyword">auto</span> machine_in_vendors = (this-&gt;<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#adde3af38e04d0285249d847b004c23f4">vendor_path</a> / bundle / <a class="code hl_define" href="../../d6/d6a/_preset_8hpp.html#adcd675d3716022d4cb17038fb4d5a176">PRESET_PRINTER_NAME</a>);</div>
<div class="line"><span class="lineno"> 1007</span>        fs::path machine_folder(machine_in_vendors);</div>
<div class="line"><span class="lineno"> 1008</span>        <span class="keywordflow">if</span> (fs::exists(machine_folder))</div>
<div class="line"><span class="lineno"> 1009</span>            fs::remove_all(machine_folder);</div>
<div class="line"><span class="lineno"> 1010</span>        fs::create_directories(machine_folder);</div>
<div class="line"><span class="lineno"> 1011</span>    updates.updates.emplace_back(std::move(machine_in_rsrc), std::move(machine_in_vendors), <a class="code hl_struct" href="../../d6/d32/struct_slic3r_1_1_g_u_i_1_1_config_1_1_version.html">Version</a>(), bundle, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1012</span>  }</div>
<div class="line"><span class="lineno"> 1013</span> </div>
<div class="line"><span class="lineno"> 1014</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#ae18f7e65fd6a305f1afcec993c6e2c90">perform_updates</a>(std::move(updates), snapshot);</div>
<div class="line"><span class="lineno"> 1015</span>}</div>
<div class="ttc" id="astruct_slic3r_1_1_preset_updater_1_1priv_html_ae18f7e65fd6a305f1afcec993c6e2c90"><div class="ttname"><a href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#ae18f7e65fd6a305f1afcec993c6e2c90">Slic3r::PresetUpdater::priv::perform_updates</a></div><div class="ttdeci">bool perform_updates(Updates &amp;&amp;updates, bool snapshot=true) const</div><div class="ttdef"><b>Definition</b> PresetUpdater.cpp:1156</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00044">Slic3r::format()</a>, <a class="el" href="../../#l00018">PRESET_FILAMENT_NAME</a>, <a class="el" href="../../#l00019">PRESET_PRINT_NAME</a>, <a class="el" href="../../#l00020">PRESET_PRINTER_NAME</a>, and <a class="el" href="../../#l00157">Slic3r::Updates::updates</a>.</p>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv_aa3b61c187a737830d9c8ce76c2bc6923_cgraph.svg" width="530" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a35f4f9fe65a55c7e3b333d801c196156" name="a35f4f9fe65a55c7e3b333d801c196156"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35f4f9fe65a55c7e3b333d801c196156">&#9670;&#160;</a></span>parse_version_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::PresetUpdater::priv::parse_version_string </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>body</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  381</span>{</div>
<div class="line"><span class="lineno">  382</span><span class="preprocessor">#if 0</span></div>
<div class="line"><span class="lineno">  383</span>  <span class="comment">// release version</span></div>
<div class="line"><span class="lineno">  384</span>  std::string version;</div>
<div class="line"><span class="lineno">  385</span>  <span class="keyword">const</span> <span class="keyword">auto</span> first_nl_pos = body.find_first_of(<span class="stringliteral">&quot;\n\r&quot;</span>);</div>
<div class="line"><span class="lineno">  386</span>  <span class="keywordflow">if</span> (first_nl_pos != std::string::npos)</div>
<div class="line"><span class="lineno">  387</span>    version = body.substr(0, first_nl_pos);</div>
<div class="line"><span class="lineno">  388</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  389</span>    version = body;</div>
<div class="line"><span class="lineno">  390</span>  boost::optional&lt;Semver&gt; release_version = <a class="code hl_function" href="../../d0/d1c/class_slic3r_1_1_semver.html#a8e956cc1ba6f4c7f4ef93a4da9d32670">Semver::parse</a>(version);</div>
<div class="line"><span class="lineno">  391</span>  <span class="keywordflow">if</span> (!release_version) {</div>
<div class="line"><span class="lineno">  392</span>    BOOST_LOG_TRIVIAL(<a class="code hl_variable" href="../../d5/d8c/xmlrole_8c.html#a2739afc9d7ed13e98e5e0c5b2e1f0428">error</a>) &lt;&lt; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab28c13d286b2d1767d7c63b020ebd042">format</a>(<span class="stringliteral">&quot;Received invalid contents from `%1%`: Not a correct semver: `%2%`&quot;</span>, SLIC3R_APP_NAME, version);</div>
<div class="line"><span class="lineno">  393</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  394</span>  }</div>
<div class="line"><span class="lineno">  395</span>  BOOST_LOG_TRIVIAL(info) &lt;&lt; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab28c13d286b2d1767d7c63b020ebd042">format</a>(<span class="stringliteral">&quot;Got %1% online version: `%2%`. Sending to GUI thread...&quot;</span>, SLIC3R_APP_NAME, version);</div>
<div class="line"><span class="lineno">  396</span>  wxCommandEvent* evt = <span class="keyword">new</span> wxCommandEvent(EVT_SLIC3R_VERSION_ONLINE);</div>
<div class="line"><span class="lineno">  397</span>  evt-&gt;SetString(<a class="code hl_function" href="../../d9/d45/namespace_slic3r_1_1_g_u_i.html#ac911e01665ff9c00414a1d5d0352de74">GUI::from_u8</a>(version));</div>
<div class="line"><span class="lineno">  398</span>  GUI::wxGetApp().QueueEvent(evt);</div>
<div class="line"><span class="lineno">  399</span> </div>
<div class="line"><span class="lineno">  400</span>  <span class="comment">// alpha / beta version</span></div>
<div class="line"><span class="lineno">  401</span>  std::vector&lt;std::string&gt; prerelease_versions;</div>
<div class="line"><span class="lineno">  402</span>  <span class="keywordtype">size_t</span> nexn_nl_pos = first_nl_pos;</div>
<div class="line"><span class="lineno">  403</span>  <span class="keywordflow">while</span> (nexn_nl_pos != std::string::npos &amp;&amp; body.size() &gt; nexn_nl_pos + 1) {</div>
<div class="line"><span class="lineno">  404</span>    <span class="keyword">const</span> <span class="keyword">auto</span> last_nl_pos = nexn_nl_pos;</div>
<div class="line"><span class="lineno">  405</span>    nexn_nl_pos = body.find_first_of(<span class="stringliteral">&quot;\n\r&quot;</span>, last_nl_pos + 1);</div>
<div class="line"><span class="lineno">  406</span>    std::string line;</div>
<div class="line"><span class="lineno">  407</span>    <span class="keywordflow">if</span> (nexn_nl_pos == std::string::npos)</div>
<div class="line"><span class="lineno">  408</span>      line = body.substr(last_nl_pos + 1);</div>
<div class="line"><span class="lineno">  409</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  410</span>      line = body.substr(last_nl_pos + 1, nexn_nl_pos - last_nl_pos - 1);</div>
<div class="line"><span class="lineno">  411</span> </div>
<div class="line"><span class="lineno">  412</span>    <span class="comment">// alpha</span></div>
<div class="line"><span class="lineno">  413</span>    <span class="keywordflow">if</span> (line.substr(0, 6) == <span class="stringliteral">&quot;alpha=&quot;</span>) {</div>
<div class="line"><span class="lineno">  414</span>      version = line.substr(6);</div>
<div class="line"><span class="lineno">  415</span>      <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d0/d1c/class_slic3r_1_1_semver.html#a8e956cc1ba6f4c7f4ef93a4da9d32670">Semver::parse</a>(version)) {</div>
<div class="line"><span class="lineno">  416</span>        BOOST_LOG_TRIVIAL(<a class="code hl_variable" href="../../d5/d8c/xmlrole_8c.html#a2739afc9d7ed13e98e5e0c5b2e1f0428">error</a>) &lt;&lt; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab28c13d286b2d1767d7c63b020ebd042">format</a>(<span class="stringliteral">&quot;Received invalid contents for alpha release from `%1%`: Not a correct semver: `%2%`&quot;</span>, SLIC3R_APP_NAME, version);</div>
<div class="line"><span class="lineno">  417</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  418</span>      }</div>
<div class="line"><span class="lineno">  419</span>      prerelease_versions.emplace_back(version);</div>
<div class="line"><span class="lineno">  420</span>    <span class="comment">// beta</span></div>
<div class="line"><span class="lineno">  421</span>    }</div>
<div class="line"><span class="lineno">  422</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (line.substr(0, 5) == <span class="stringliteral">&quot;beta=&quot;</span>) {</div>
<div class="line"><span class="lineno">  423</span>      version = line.substr(5);</div>
<div class="line"><span class="lineno">  424</span>      <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d0/d1c/class_slic3r_1_1_semver.html#a8e956cc1ba6f4c7f4ef93a4da9d32670">Semver::parse</a>(version)) {</div>
<div class="line"><span class="lineno">  425</span>        BOOST_LOG_TRIVIAL(<a class="code hl_variable" href="../../d5/d8c/xmlrole_8c.html#a2739afc9d7ed13e98e5e0c5b2e1f0428">error</a>) &lt;&lt; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab28c13d286b2d1767d7c63b020ebd042">format</a>(<span class="stringliteral">&quot;Received invalid contents for beta release from `%1%`: Not a correct semver: `%2%`&quot;</span>, SLIC3R_APP_NAME, version);</div>
<div class="line"><span class="lineno">  426</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  427</span>      }</div>
<div class="line"><span class="lineno">  428</span>      prerelease_versions.emplace_back(version);</div>
<div class="line"><span class="lineno">  429</span>    }</div>
<div class="line"><span class="lineno">  430</span>  }</div>
<div class="line"><span class="lineno">  431</span>  <span class="comment">// find recent version that is newer than last full release.</span></div>
<div class="line"><span class="lineno">  432</span>  boost::optional&lt;Semver&gt; recent_version;</div>
<div class="line"><span class="lineno">  433</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> std::string&amp; ver_string : prerelease_versions) {</div>
<div class="line"><span class="lineno">  434</span>    boost::optional&lt;Semver&gt; ver = <a class="code hl_function" href="../../d0/d1c/class_slic3r_1_1_semver.html#a8e956cc1ba6f4c7f4ef93a4da9d32670">Semver::parse</a>(ver_string);</div>
<div class="line"><span class="lineno">  435</span>    <span class="keywordflow">if</span> (ver &amp;&amp; *release_version &lt; *ver &amp;&amp; ((recent_version &amp;&amp; *recent_version &lt; *ver) || !recent_version)) {</div>
<div class="line"><span class="lineno">  436</span>      recent_version = ver;</div>
<div class="line"><span class="lineno">  437</span>      version = ver_string;</div>
<div class="line"><span class="lineno">  438</span>    }</div>
<div class="line"><span class="lineno">  439</span>  }</div>
<div class="line"><span class="lineno">  440</span>  <span class="keywordflow">if</span> (recent_version) {</div>
<div class="line"><span class="lineno">  441</span>    BOOST_LOG_TRIVIAL(info) &lt;&lt; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab28c13d286b2d1767d7c63b020ebd042">format</a>(<span class="stringliteral">&quot;Got %1% online version: `%2%`. Sending to GUI thread...&quot;</span>, SLIC3R_APP_NAME, version);</div>
<div class="line"><span class="lineno">  442</span>    wxCommandEvent* evt = <span class="keyword">new</span> wxCommandEvent(EVT_SLIC3R_EXPERIMENTAL_VERSION_ONLINE);</div>
<div class="line"><span class="lineno">  443</span>    evt-&gt;SetString(<a class="code hl_function" href="../../d9/d45/namespace_slic3r_1_1_g_u_i.html#ac911e01665ff9c00414a1d5d0352de74">GUI::from_u8</a>(version));</div>
<div class="line"><span class="lineno">  444</span>    GUI::wxGetApp().QueueEvent(evt);</div>
<div class="line"><span class="lineno">  445</span>  }</div>
<div class="line"><span class="lineno">  446</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  447</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  448</span>}</div>
<div class="ttc" id="anamespace_slic3r_1_1_g_u_i_html_ac911e01665ff9c00414a1d5d0352de74"><div class="ttname"><a href="../../d9/d45/namespace_slic3r_1_1_g_u_i.html#ac911e01665ff9c00414a1d5d0352de74">Slic3r::GUI::from_u8</a></div><div class="ttdeci">wxString from_u8(const std::string &amp;str)</div><div class="ttdef"><b>Definition</b> GUI.cpp:458</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00109">error</a>, <a class="el" href="../../#l00044">Slic3r::format()</a>, <a class="el" href="../../#l00458">Slic3r::GUI::from_u8()</a>, and <a class="el" href="../../#l00058">Slic3r::Semver::parse()</a>.</p>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv_a35f4f9fe65a55c7e3b333d801c196156_cgraph.svg" width="100%" height="462"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ae18f7e65fd6a305f1afcec993c6e2c90" name="ae18f7e65fd6a305f1afcec993c6e2c90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae18f7e65fd6a305f1afcec993c6e2c90">&#9670;&#160;</a></span>perform_updates()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::PresetUpdater::priv::perform_updates </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/db8/namespace_slic3r.html#d9/df6/struct_slic3r_1_1_updates">Updates</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>updates</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>snapshot</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1157</span>{</div>
<div class="line"><span class="lineno"> 1158</span>    <span class="comment">//std::string vendor_path;</span></div>
<div class="line"><span class="lineno"> 1159</span>    <span class="comment">//std::string vendor_name;</span></div>
<div class="line"><span class="lineno"> 1160</span>    <span class="keywordflow">if</span> (updates.incompats.size() &gt; 0) {</div>
<div class="line"><span class="lineno"> 1161</span>        <span class="comment">//if (snapshot) {</span></div>
<div class="line"><span class="lineno"> 1162</span>        <span class="comment">//  BOOST_LOG_TRIVIAL(info) &lt;&lt; &quot;Taking a snapshot...&quot;;</span></div>
<div class="line"><span class="lineno"> 1163</span>        <span class="comment">//  if (! GUI::Config::take_config_snapshot_cancel_on_error(*GUI::wxGetApp().app_config, Snapshot::SNAPSHOT_DOWNGRADE, &quot;&quot;,</span></div>
<div class="line"><span class="lineno"> 1164</span>        <span class="comment">//    _u8L(&quot;Continue and install configuration updates?&quot;)))</span></div>
<div class="line"><span class="lineno"> 1165</span>        <span class="comment">//    return false;</span></div>
<div class="line"><span class="lineno"> 1166</span>        <span class="comment">//}</span></div>
<div class="line"><span class="lineno"> 1167</span>        BOOST_LOG_TRIVIAL(info) &lt;&lt; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab28c13d286b2d1767d7c63b020ebd042">format</a>(<span class="stringliteral">&quot;[BBL Updater]:Deleting %1% incompatible bundles&quot;</span>, updates.incompats.size());</div>
<div class="line"><span class="lineno"> 1168</span> </div>
<div class="line"><span class="lineno"> 1169</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;incompat : updates.incompats) {</div>
<div class="line"><span class="lineno"> 1170</span>            BOOST_LOG_TRIVIAL(info) &lt;&lt; <span class="charliteral">&#39;\t&#39;</span> &lt;&lt; incompat;</div>
<div class="line"><span class="lineno"> 1171</span>            incompat.remove();</div>
<div class="line"><span class="lineno"> 1172</span>        }</div>
<div class="line"><span class="lineno"> 1173</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (updates.updates.size() &gt; 0) {</div>
<div class="line"><span class="lineno"> 1174</span>        <span class="comment">//if (snapshot) {</span></div>
<div class="line"><span class="lineno"> 1175</span>        <span class="comment">//  BOOST_LOG_TRIVIAL(info) &lt;&lt; &quot;Taking a snapshot...&quot;;</span></div>
<div class="line"><span class="lineno"> 1176</span>        <span class="comment">//  if (! GUI::Config::take_config_snapshot_cancel_on_error(*GUI::wxGetApp().app_config, Snapshot::SNAPSHOT_UPGRADE, &quot;&quot;,</span></div>
<div class="line"><span class="lineno"> 1177</span>        <span class="comment">//    _u8L(&quot;Continue and install configuration updates?&quot;)))</span></div>
<div class="line"><span class="lineno"> 1178</span>        <span class="comment">//    return false;</span></div>
<div class="line"><span class="lineno"> 1179</span>        <span class="comment">//}</span></div>
<div class="line"><span class="lineno"> 1180</span> </div>
<div class="line"><span class="lineno"> 1181</span>        BOOST_LOG_TRIVIAL(info) &lt;&lt; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab28c13d286b2d1767d7c63b020ebd042">format</a>(<span class="stringliteral">&quot;[BBL Updater]:Performing %1% updates&quot;</span>, updates.updates.size());</div>
<div class="line"><span class="lineno"> 1182</span> </div>
<div class="line"><span class="lineno"> 1183</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;update : updates.updates) {</div>
<div class="line"><span class="lineno"> 1184</span>            BOOST_LOG_TRIVIAL(info) &lt;&lt; <span class="charliteral">&#39;\t&#39;</span> &lt;&lt; update;</div>
<div class="line"><span class="lineno"> 1185</span> </div>
<div class="line"><span class="lineno"> 1186</span>            update.install();</div>
<div class="line"><span class="lineno"> 1187</span>            <span class="comment">//if (!update.is_directory) {</span></div>
<div class="line"><span class="lineno"> 1188</span>            <span class="comment">//    vendor_path = update.source.parent_path().string();</span></div>
<div class="line"><span class="lineno"> 1189</span>            <span class="comment">//    vendor_name = update.vendor;</span></div>
<div class="line"><span class="lineno"> 1190</span>            <span class="comment">//}</span></div>
<div class="line"><span class="lineno"> 1191</span>        }</div>
<div class="line"><span class="lineno"> 1192</span> </div>
<div class="line"><span class="lineno"> 1193</span>        <span class="comment">//if (!vendor_path.empty()) {</span></div>
<div class="line"><span class="lineno"> 1194</span>        <span class="comment">//    PresetBundle bundle;</span></div>
<div class="line"><span class="lineno"> 1195</span>        <span class="comment">//    // Throw when parsing invalid configuration. Only valid configuration is supposed to be provided over the air.</span></div>
<div class="line"><span class="lineno"> 1196</span>        <span class="comment">//    bundle.load_vendor_configs_from_json(vendor_path, vendor_name, PresetBundle::LoadConfigBundleAttribute::LoadSystem, ForwardCompatibilitySubstitutionRule::Disable);</span></div>
<div class="line"><span class="lineno"> 1197</span> </div>
<div class="line"><span class="lineno"> 1198</span>        <span class="comment">//    BOOST_LOG_TRIVIAL(info) &lt;&lt; format(&quot;Deleting %1% conflicting presets&quot;, bundle.prints.size() + bundle.filaments.size() + bundle.printers.size());</span></div>
<div class="line"><span class="lineno"> 1199</span> </div>
<div class="line"><span class="lineno"> 1200</span>        <span class="comment">//    auto preset_remover = [](const Preset&amp; preset) {</span></div>
<div class="line"><span class="lineno"> 1201</span>        <span class="comment">//        BOOST_LOG_TRIVIAL(info) &lt;&lt; &#39;\t&#39; &lt;&lt; preset.file;</span></div>
<div class="line"><span class="lineno"> 1202</span>        <span class="comment">//        fs::remove(preset.file);</span></div>
<div class="line"><span class="lineno"> 1203</span>        <span class="comment">//    };</span></div>
<div class="line"><span class="lineno"> 1204</span> </div>
<div class="line"><span class="lineno"> 1205</span>        <span class="comment">//    for (const auto &amp;preset : bundle.prints)    { preset_remover(preset); }</span></div>
<div class="line"><span class="lineno"> 1206</span>        <span class="comment">//    for (const auto &amp;preset : bundle.filaments) { preset_remover(preset); }</span></div>
<div class="line"><span class="lineno"> 1207</span>        <span class="comment">//    for (const auto &amp;preset : bundle.printers)  { preset_remover(preset); }</span></div>
<div class="line"><span class="lineno"> 1208</span>        <span class="comment">//}</span></div>
<div class="line"><span class="lineno"> 1209</span>    }</div>
<div class="line"><span class="lineno"> 1210</span> </div>
<div class="line"><span class="lineno"> 1211</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1212</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00044">Slic3r::format()</a>.</p>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv_ae18f7e65fd6a305f1afcec993c6e2c90_cgraph.svg" width="511" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a4940e42de9639ab2aa228b35ebb63c81" name="a4940e42de9639ab2aa228b35ebb63c81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4940e42de9639ab2aa228b35ebb63c81">&#9670;&#160;</a></span>prune_tmps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::PresetUpdater::priv::prune_tmps </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  343</span>{</div>
<div class="line"><span class="lineno">  344</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;dir_entry : <a class="code hl_namespace" href="../../d4/da9/namespaceboost.html">boost</a>::filesystem::directory_iterator(<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a88634a7648d871f97108572cd4f47cb2">cache_path</a>))</div>
<div class="line"><span class="lineno">  345</span>    if (<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a33fa953d3072d7f8de66af83a9a6ccb4">is_plain_file</a>(dir_entry) &amp;&amp; dir_entry.path().extension() == <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#aa599e9246c446ebd84578cd5c19c63e5">TMP_EXTENSION</a>) {</div>
<div class="line"><span class="lineno">  346</span>      BOOST_LOG_TRIVIAL(debug) &lt;&lt; <span class="stringliteral">&quot;[BBL Updater]remove old cached files: &quot;</span> &lt;&lt; dir_entry.path().string();</div>
<div class="line"><span class="lineno">  347</span>      fs::remove(dir_entry.path());</div>
<div class="line"><span class="lineno">  348</span>    }</div>
<div class="line"><span class="lineno">  349</span>}</div>
<div class="ttc" id="anamespace_slic3r_html_a33fa953d3072d7f8de66af83a9a6ccb4"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a33fa953d3072d7f8de66af83a9a6ccb4">Slic3r::is_plain_file</a></div><div class="ttdeci">bool is_plain_file(const boost::filesystem::directory_entry &amp;dir_entry)</div><div class="ttdef"><b>Definition</b> utils.cpp:968</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00968">Slic3r::is_plain_file()</a>, and <a class="el" href="../../#l00053">Slic3r::TMP_EXTENSION</a>.</p>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv_a4940e42de9639ab2aa228b35ebb63c81_cgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ac539c995a8256aa1ecf94d6b73575886" name="ac539c995a8256aa1ecf94d6b73575886"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac539c995a8256aa1ecf94d6b73575886">&#9670;&#160;</a></span>set_download_prefs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::PresetUpdater::priv::set_download_prefs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d00/class_slic3r_1_1_app_config.html">AppConfig</a> *&#160;</td>
          <td class="paramname"><em>app_config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  233</span>{</div>
<div class="line"><span class="lineno">  234</span>  <a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a3ba85d0a6fd5e6b60876f7d594838e56">version_check_url</a> = app_config-&gt;version_check_url();</div>
<div class="line"><span class="lineno">  235</span>  <span class="comment">//TODO: for debug currently</span></div>
<div class="line"><span class="lineno">  236</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a3ba85d0a6fd5e6b60876f7d594838e56">version_check_url</a>.empty())</div>
<div class="line"><span class="lineno">  237</span>    <a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a255e3e6a853e64eec598429806f9f2c6">enabled_config_update</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  238</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  239</span>    <a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a255e3e6a853e64eec598429806f9f2c6">enabled_config_update</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  240</span>}</div>
<div class="ttc" id="astruct_slic3r_1_1_preset_updater_1_1priv_html_a3ba85d0a6fd5e6b60876f7d594838e56"><div class="ttname"><a href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a3ba85d0a6fd5e6b60876f7d594838e56">Slic3r::PresetUpdater::priv::version_check_url</a></div><div class="ttdeci">std::string version_check_url</div><div class="ttdef"><b>Definition</b> PresetUpdater.cpp:171</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l01166">Slic3r::AppConfig::version_check_url()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00216">priv()</a>.</p>
<div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv_ac539c995a8256aa1ecf94d6b73575886_cgraph.svg" width="562" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv_ac539c995a8256aa1ecf94d6b73575886_icgraph.svg" width="380" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="aece548bbddd5962dc71aa5057a0a32ad" name="aece548bbddd5962dc71aa5057a0a32ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aece548bbddd5962dc71aa5057a0a32ad">&#9670;&#160;</a></span>set_waiting_updates()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::PresetUpdater::priv::set_waiting_updates </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/db8/namespace_slic3r.html#d9/df6/struct_slic3r_1_1_updates">Updates</a>&#160;</td>
          <td class="paramname"><em>u</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1215</span>{</div>
<div class="line"><span class="lineno"> 1216</span>  <a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a5f49f4486a39f2fab2910b14f717a99d">waiting_updates</a> = u;</div>
<div class="line"><span class="lineno"> 1217</span>  <a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a58ce233e25e1e0e9d0dc4b0b4ebf8946">has_waiting_updates</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1218</span>}</div>
<div class="ttc" id="astruct_slic3r_1_1_preset_updater_1_1priv_html_a58ce233e25e1e0e9d0dc4b0b4ebf8946"><div class="ttname"><a href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a58ce233e25e1e0e9d0dc4b0b4ebf8946">Slic3r::PresetUpdater::priv::has_waiting_updates</a></div><div class="ttdeci">bool has_waiting_updates</div><div class="ttdef"><b>Definition</b> PresetUpdater.cpp:180</div></div>
<div class="ttc" id="astruct_slic3r_1_1_preset_updater_1_1priv_html_a5f49f4486a39f2fab2910b14f717a99d"><div class="ttname"><a href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a5f49f4486a39f2fab2910b14f717a99d">Slic3r::PresetUpdater::priv::waiting_updates</a></div><div class="ttdeci">Updates waiting_updates</div><div class="ttdef"><b>Definition</b> PresetUpdater.cpp:181</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3e83b9816781df55496e0d2360d10183" name="a3e83b9816781df55496e0d2360d10183"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e83b9816781df55496e0d2360d10183">&#9670;&#160;</a></span>sync_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::PresetUpdater::priv::sync_config </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>http_url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../de/db8/namespace_slic3r.html#aa24f0a299fb2753157d671ad042d0910">VendorMap</a>&#160;</td>
          <td class="paramname"><em>vendors</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  620</span>{</div>
<div class="line"><span class="lineno">  621</span>    std::map&lt;std::string, std::pair&lt;Semver, std::string&gt;&gt; vendor_list;</div>
<div class="line"><span class="lineno">  622</span>    std::map&lt;std::string, std::string&gt; vendor_descriptions;</div>
<div class="line"><span class="lineno">  623</span>  BOOST_LOG_TRIVIAL(info) &lt;&lt; <span class="stringliteral">&quot;[BBL Updater]: sync_config Syncing configuration cache&quot;</span>;</div>
<div class="line"><span class="lineno">  624</span> </div>
<div class="line"><span class="lineno">  625</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a255e3e6a853e64eec598429806f9f2c6">enabled_config_update</a>) { <span class="keywordflow">return</span>; }</div>
<div class="line"><span class="lineno">  626</span> </div>
<div class="line"><span class="lineno">  627</span>    BOOST_LOG_TRIVIAL(info) &lt;&lt; boost::format(<span class="stringliteral">&quot;[BBL Updater]: sync_config get preferred setting version for app version %1%, http_url: %2%&quot;</span>)%SLIC3R_APP_NAME%http_url;</div>
<div class="line"><span class="lineno">  628</span> </div>
<div class="line"><span class="lineno">  629</span>    std::string query_params = <span class="stringliteral">&quot;?&quot;</span>;</div>
<div class="line"><span class="lineno">  630</span>    <span class="keywordtype">bool</span> first = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  631</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> vendor_it :vendors) {</div>
<div class="line"><span class="lineno">  632</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#af00decc3399244b5aca6e99ef79ae3a0">cancel</a>) { <span class="keywordflow">return</span>; }</div>
<div class="line"><span class="lineno">  633</span> </div>
<div class="line"><span class="lineno">  634</span>        <span class="keyword">const</span> VendorProfile&amp; vendor_profile = vendor_it.second;</div>
<div class="line"><span class="lineno">  635</span>        std::string vendor_name = vendor_profile.id;</div>
<div class="line"><span class="lineno">  636</span>        boost::to_lower(vendor_name);</div>
<div class="line"><span class="lineno">  637</span> </div>
<div class="line"><span class="lineno">  638</span>        std::string query_vendor = (boost::format(<span class="stringliteral">&quot;slicer/settings/%1%=%2%&quot;</span>)</div>
<div class="line"><span class="lineno">  639</span>            % vendor_name</div>
<div class="line"><span class="lineno">  640</span>            % <a class="code hl_function" href="../../d1/dd4/class_slic3r_1_1_g_u_i_1_1_version_info.html#af3a8aa4c03997925e0cbee2e301a8bd5">GUI::VersionInfo::convert_full_version</a>(SLIC3R_VERSION)</div>
<div class="line"><span class="lineno">  641</span>            ).str();</div>
<div class="line"><span class="lineno">  642</span>        <span class="keywordflow">if</span> (!first)</div>
<div class="line"><span class="lineno">  643</span>            query_params += <span class="stringliteral">&quot;&amp;&quot;</span>;</div>
<div class="line"><span class="lineno">  644</span>        query_params += query_vendor;</div>
<div class="line"><span class="lineno">  645</span>    }</div>
<div class="line"><span class="lineno">  646</span> </div>
<div class="line"><span class="lineno">  647</span>    std::string url = http_url;</div>
<div class="line"><span class="lineno">  648</span>    url += query_params;</div>
<div class="line"><span class="lineno">  649</span>    <a class="code hl_class" href="../../d4/dbf/class_slic3r_1_1_http.html">Slic3r::Http</a> http = <a class="code hl_function" href="../../d4/dbf/class_slic3r_1_1_http.html#aece8b9cd77673a474fe97331604914aa">Slic3r::Http::get</a>(url);</div>
<div class="line"><span class="lineno">  650</span>    BOOST_LOG_TRIVIAL(info) &lt;&lt; boost::format(<span class="stringliteral">&quot;[BBL Updater]: sync_config request_url: %1%&quot;</span>)%url;</div>
<div class="line"><span class="lineno">  651</span>    http.<a class="code hl_function" href="../../d4/dbf/class_slic3r_1_1_http.html#afda74f7b9247f37db6075db0d5d7de67">on_progress</a>([<span class="keyword">this</span>](<a class="code hl_struct" href="../../d5/d37/struct_slic3r_1_1_http_1_1_progress.html">Slic3r::Http::Progress</a>, <span class="keywordtype">bool</span> &amp;cancel_http) {</div>
<div class="line"><span class="lineno">  652</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#af00decc3399244b5aca6e99ef79ae3a0">cancel</a>) {</div>
<div class="line"><span class="lineno">  653</span>                cancel_http = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  654</span>            }</div>
<div class="line"><span class="lineno">  655</span>        })</div>
<div class="line"><span class="lineno">  656</span>        .on_complete(</div>
<div class="line"><span class="lineno">  657</span>        [<span class="keyword">this</span>, &amp;vendor_list, &amp;vendor_descriptions, vendors](std::string body, <span class="keywordtype">unsigned</span>) {</div>
<div class="line"><span class="lineno">  658</span>            <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  659</span>                BOOST_LOG_TRIVIAL(info) &lt;&lt; <span class="stringliteral">&quot;[BBL Updater]::body=&quot;</span> &lt;&lt; body;</div>
<div class="line"><span class="lineno">  660</span> </div>
<div class="line"><span class="lineno">  661</span>                <a class="code hl_class" href="../../d9/dcc/classnlohmann_1_1basic__json.html">json</a> j = <a class="code hl_function" href="../../d9/dcc/classnlohmann_1_1basic__json.html#a15018ade392a844ea32d5188d1a0b9c6">json::parse</a>(body);</div>
<div class="line"><span class="lineno">  662</span>                std::string message = j[<span class="stringliteral">&quot;message&quot;</span>].<a class="code hl_function" href="../../d9/dcc/classnlohmann_1_1basic__json.html#af1650e004db368459b3c0db041b32adc">get</a>&lt;std::string&gt;();</div>
<div class="line"><span class="lineno">  663</span> </div>
<div class="line"><span class="lineno">  664</span>                <span class="keywordflow">if</span> (message == <span class="stringliteral">&quot;success&quot;</span>) {</div>
<div class="line"><span class="lineno">  665</span>                    <a class="code hl_class" href="../../d9/dcc/classnlohmann_1_1basic__json.html">json</a> resource =j.<a class="code hl_function" href="../../d9/dcc/classnlohmann_1_1basic__json.html#a52b18a5b7e68652c65b070900c438c6e">at</a>(<span class="stringliteral">&quot;resources&quot;</span>);</div>
<div class="line"><span class="lineno">  666</span>                    <span class="keywordflow">if</span> (resource.<a class="code hl_function" href="../../d9/dcc/classnlohmann_1_1basic__json.html#ab5b70d60a636b9c5e10f6c8caac60b9e">is_array</a>()) {</div>
<div class="line"><span class="lineno">  667</span>                        <span class="keywordflow">for</span> (<span class="keyword">auto</span> iter = resource.<a class="code hl_function" href="../../d9/dcc/classnlohmann_1_1basic__json.html#a23b495b4c282e4afacf382f5b49af7c7">begin</a>(); iter != resource.<a class="code hl_function" href="../../d9/dcc/classnlohmann_1_1basic__json.html#a931267ec3f09eb67e4382f321b2c52bc">end</a>(); iter++) {</div>
<div class="line"><span class="lineno">  668</span>                            Semver version;</div>
<div class="line"><span class="lineno">  669</span>                            std::string url;</div>
<div class="line"><span class="lineno">  670</span>                            std::string type;</div>
<div class="line"><span class="lineno">  671</span>                            std::string vendor;</div>
<div class="line"><span class="lineno">  672</span>                            std::string description;</div>
<div class="line"><span class="lineno">  673</span>                            <span class="keywordflow">for</span> (<span class="keyword">auto</span> sub_iter = iter.value().begin(); sub_iter != iter.value().end(); sub_iter++) {</div>
<div class="line"><span class="lineno">  674</span>                                <span class="keywordflow">if</span> (boost::iequals(sub_iter.key(),<span class="stringliteral">&quot;type&quot;</span>)) {</div>
<div class="line"><span class="lineno">  675</span>                                    type = sub_iter.<a class="code hl_function" href="../../d9/dcc/classnlohmann_1_1basic__json.html#a11641b35219676b225d9bd15c7677659">value</a>();</div>
<div class="line"><span class="lineno">  676</span>                                    BOOST_LOG_TRIVIAL(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a06b86e5331aac1c640f8f7f40d798175">trace</a>) &lt;&lt; <span class="stringliteral">&quot;[BBL Updater]: get version of settings&#39;s type, &quot;</span> &lt;&lt; sub_iter.value();</div>
<div class="line"><span class="lineno">  677</span>                                }</div>
<div class="line"><span class="lineno">  678</span>                                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (boost::iequals(sub_iter.key(),<span class="stringliteral">&quot;version&quot;</span>)) {</div>
<div class="line"><span class="lineno">  679</span>                                    version = *(<a class="code hl_function" href="../../d0/d1c/class_slic3r_1_1_semver.html#a8e956cc1ba6f4c7f4ef93a4da9d32670">Semver::parse</a>(sub_iter.value()));</div>
<div class="line"><span class="lineno">  680</span>                                }</div>
<div class="line"><span class="lineno">  681</span>                                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (boost::iequals(sub_iter.key(),<span class="stringliteral">&quot;description&quot;</span>)) {</div>
<div class="line"><span class="lineno">  682</span>                                    description = sub_iter.value();</div>
<div class="line"><span class="lineno">  683</span>                                }</div>
<div class="line"><span class="lineno">  684</span>                                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (boost::iequals(sub_iter.key(),<span class="stringliteral">&quot;url&quot;</span>)) {</div>
<div class="line"><span class="lineno">  685</span>                                    url = sub_iter.value();</div>
<div class="line"><span class="lineno">  686</span>                                }</div>
<div class="line"><span class="lineno">  687</span>                            }</div>
<div class="line"><span class="lineno">  688</span>                            BOOST_LOG_TRIVIAL(info) &lt;&lt; <span class="stringliteral">&quot;[BBL Updater]: get type &quot;</span>&lt;&lt; type &lt;&lt;<span class="stringliteral">&quot;, version &quot;</span>&lt;&lt;version.to_string()&lt;&lt;<span class="stringliteral">&quot;, url &quot;</span> &lt;&lt; url;</div>
<div class="line"><span class="lineno">  689</span> </div>
<div class="line"><span class="lineno">  690</span>                            <span class="keywordflow">for</span> (<span class="keyword">auto</span> vendor_it :vendors) {</div>
<div class="line"><span class="lineno">  691</span>                                <span class="keyword">const</span> VendorProfile&amp; vendor_profile = vendor_it.second;</div>
<div class="line"><span class="lineno">  692</span>                                std::string vendor_name = vendor_profile.id;</div>
<div class="line"><span class="lineno">  693</span>                                boost::to_lower(vendor_name);</div>
<div class="line"><span class="lineno">  694</span>                                <span class="keywordflow">if</span> (type.find(vendor_name) != std::string::npos) {</div>
<div class="line"><span class="lineno">  695</span>                                    vendor = vendor_profile.id;</div>
<div class="line"><span class="lineno">  696</span>                                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  697</span>                                }</div>
<div class="line"><span class="lineno">  698</span>                            }</div>
<div class="line"><span class="lineno">  699</span>                            <span class="keywordflow">if</span> (!vendor.empty()) {</div>
<div class="line"><span class="lineno">  700</span>                                vendor_list.emplace(vendor, std::pair&lt;Semver, std::string&gt;(version, url));</div>
<div class="line"><span class="lineno">  701</span>                                vendor_descriptions.emplace(vendor, description);</div>
<div class="line"><span class="lineno">  702</span>                            }</div>
<div class="line"><span class="lineno">  703</span>                        }</div>
<div class="line"><span class="lineno">  704</span>                    }</div>
<div class="line"><span class="lineno">  705</span>                }</div>
<div class="line"><span class="lineno">  706</span>                <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  707</span>                    BOOST_LOG_TRIVIAL(<a class="code hl_variable" href="../../d5/d8c/xmlrole_8c.html#a2739afc9d7ed13e98e5e0c5b2e1f0428">error</a>) &lt;&lt; <span class="stringliteral">&quot;[BBL Updater]: get version of settings failed, body=&quot;</span> &lt;&lt; body;</div>
<div class="line"><span class="lineno">  708</span>                }</div>
<div class="line"><span class="lineno">  709</span>            }</div>
<div class="line"><span class="lineno">  710</span>            <span class="keywordflow">catch</span> (std::exception&amp; e) {</div>
<div class="line"><span class="lineno">  711</span>                BOOST_LOG_TRIVIAL(<a class="code hl_variable" href="../../d5/d8c/xmlrole_8c.html#a2739afc9d7ed13e98e5e0c5b2e1f0428">error</a>) &lt;&lt; (boost::format(<span class="stringliteral">&quot;[BBL Updater]: get version of settings failed, exception=%1% body=%2%&quot;</span>)</div>
<div class="line"><span class="lineno">  712</span>                    % e.what()</div>
<div class="line"><span class="lineno">  713</span>                    % body).str();</div>
<div class="line"><span class="lineno">  714</span>            }</div>
<div class="line"><span class="lineno">  715</span>            <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno">  716</span>                BOOST_LOG_TRIVIAL(<a class="code hl_variable" href="../../d5/d8c/xmlrole_8c.html#a2739afc9d7ed13e98e5e0c5b2e1f0428">error</a>) &lt;&lt; <span class="stringliteral">&quot;[BBL Updater]: get version of settings failed,, body=&quot;</span> &lt;&lt; body;</div>
<div class="line"><span class="lineno">  717</span>            }</div>
<div class="line"><span class="lineno">  718</span>        }</div>
<div class="line"><span class="lineno">  719</span>    )</div>
<div class="line"><span class="lineno">  720</span>    .on_error([&amp;](std::string body, std::string <a class="code hl_variable" href="../../d5/d8c/xmlrole_8c.html#a2739afc9d7ed13e98e5e0c5b2e1f0428">error</a>, <span class="keywordtype">unsigned</span> status) {</div>
<div class="line"><span class="lineno">  721</span>            BOOST_LOG_TRIVIAL(<a class="code hl_variable" href="../../d5/d8c/xmlrole_8c.html#a2739afc9d7ed13e98e5e0c5b2e1f0428">error</a>) &lt;&lt; boost::format(<span class="stringliteral">&quot;[BBL Updater]: status=%1%, error=%2%, body=%3%&quot;</span>)</div>
<div class="line"><span class="lineno">  722</span>                % status</div>
<div class="line"><span class="lineno">  723</span>                % <a class="code hl_variable" href="../../d5/d8c/xmlrole_8c.html#a2739afc9d7ed13e98e5e0c5b2e1f0428">error</a></div>
<div class="line"><span class="lineno">  724</span>                % body;</div>
<div class="line"><span class="lineno">  725</span>        }</div>
<div class="line"><span class="lineno">  726</span>    )</div>
<div class="line"><span class="lineno">  727</span>    .perform_sync();</div>
<div class="line"><span class="lineno">  728</span> </div>
<div class="line"><span class="lineno">  729</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> vendor_it :vendors) {</div>
<div class="line"><span class="lineno">  730</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#af00decc3399244b5aca6e99ef79ae3a0">cancel</a>) { <span class="keywordflow">return</span>; }</div>
<div class="line"><span class="lineno">  731</span> </div>
<div class="line"><span class="lineno">  732</span>        <span class="keyword">const</span> VendorProfile&amp; vendor_profile = vendor_it.second;</div>
<div class="line"><span class="lineno">  733</span>        std::string vendor_name = vendor_profile.id;</div>
<div class="line"><span class="lineno">  734</span>        <span class="keyword">auto</span> vendor_update = vendor_list.find(vendor_name);</div>
<div class="line"><span class="lineno">  735</span>        <span class="keywordflow">if</span> (vendor_update == vendor_list.end()) {</div>
<div class="line"><span class="lineno">  736</span>      BOOST_LOG_TRIVIAL(info) &lt;&lt; <span class="stringliteral">&quot;[BBL Updater]Vendor &quot;</span> &lt;&lt; vendor_name &lt;&lt; <span class="stringliteral">&quot; can not get setting versions online&quot;</span>;</div>
<div class="line"><span class="lineno">  737</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  738</span>    }</div>
<div class="line"><span class="lineno">  739</span>        Semver online_version = vendor_update-&gt;second.first;</div>
<div class="line"><span class="lineno">  740</span>        <span class="comment">//Semver current_version = get_version_from_json(vendor_root_config.string());</span></div>
<div class="line"><span class="lineno">  741</span>        Semver current_version = vendor_profile.config_version;</div>
<div class="line"><span class="lineno">  742</span>        <span class="keywordtype">bool</span> version_match = ((online_version.maj() == current_version.maj()) &amp;&amp; (online_version.min() == current_version.min()));</div>
<div class="line"><span class="lineno">  743</span>        <span class="keywordflow">if</span> (version_match &amp;&amp; (current_version &lt; online_version)) {</div>
<div class="line"><span class="lineno">  744</span>            <span class="keyword">auto</span> cache_file = <a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a88634a7648d871f97108572cd4f47cb2">cache_path</a> / (vendor_name+<span class="stringliteral">&quot;.json&quot;</span>);</div>
<div class="line"><span class="lineno">  745</span>            <span class="keyword">auto</span> cache_print_dir = (<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a88634a7648d871f97108572cd4f47cb2">cache_path</a> / vendor_name / <a class="code hl_define" href="../../d6/d6a/_preset_8hpp.html#adf71a26ad52ea7ae81d56c0345ab9a00">PRESET_PRINT_NAME</a>);</div>
<div class="line"><span class="lineno">  746</span>            <span class="keyword">auto</span> cache_filament_dir = (<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a88634a7648d871f97108572cd4f47cb2">cache_path</a> / vendor_name / <a class="code hl_define" href="../../d6/d6a/_preset_8hpp.html#afded1a3aa6aa5ec4262d3e8a409603b7">PRESET_FILAMENT_NAME</a>);</div>
<div class="line"><span class="lineno">  747</span>            <span class="keyword">auto</span> cache_machine_dir = (<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a88634a7648d871f97108572cd4f47cb2">cache_path</a> / vendor_name / <a class="code hl_define" href="../../d6/d6a/_preset_8hpp.html#adcd675d3716022d4cb17038fb4d5a176">PRESET_PRINTER_NAME</a>);</div>
<div class="line"><span class="lineno">  748</span> </div>
<div class="line"><span class="lineno">  749</span>            <span class="keywordflow">if</span> (( fs::exists(cache_file))</div>
<div class="line"><span class="lineno">  750</span>                &amp;&amp;( fs::exists(cache_print_dir))</div>
<div class="line"><span class="lineno">  751</span>                &amp;&amp;( fs::exists(cache_filament_dir))</div>
<div class="line"><span class="lineno">  752</span>                &amp;&amp;( fs::exists(cache_machine_dir))) {</div>
<div class="line"><span class="lineno">  753</span>                Semver version = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a278c238a8640bcdef609547c5a66df29">get_version_from_json</a>(cache_file.string());</div>
<div class="line"><span class="lineno">  754</span>                <span class="keywordtype">bool</span> cached_version_match = ((online_version.maj() == version.maj()) &amp;&amp; (online_version.min() == version.min()));</div>
<div class="line"><span class="lineno">  755</span>                <span class="keywordflow">if</span> (cached_version_match &amp;&amp; (version &gt;= online_version)) {</div>
<div class="line"><span class="lineno">  756</span>                    <span class="comment">//already downloaded before</span></div>
<div class="line"><span class="lineno">  757</span>                    BOOST_LOG_TRIVIAL(info) &lt;&lt; <span class="stringliteral">&quot;[BBL Updater]Vendor &quot;</span> &lt;&lt; vendor_name &lt;&lt; <span class="stringliteral">&quot;, already cached a version &quot;</span>&lt;&lt;version.to_string();</div>
<div class="line"><span class="lineno">  758</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  759</span>                }</div>
<div class="line"><span class="lineno">  760</span>            }</div>
<div class="line"><span class="lineno">  761</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#af00decc3399244b5aca6e99ef79ae3a0">cancel</a>) { <span class="keywordflow">return</span>; }</div>
<div class="line"><span class="lineno">  762</span> </div>
<div class="line"><span class="lineno">  763</span>            <span class="comment">//need to download the online files</span></div>
<div class="line"><span class="lineno">  764</span>            std::string online_url = vendor_update-&gt;second.second;</div>
<div class="line"><span class="lineno">  765</span>            std::string cache_file_path = (<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a88634a7648d871f97108572cd4f47cb2">cache_path</a> / (vendor_name + <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#aa599e9246c446ebd84578cd5c19c63e5">TMP_EXTENSION</a>)).string();</div>
<div class="line"><span class="lineno">  766</span>            BOOST_LOG_TRIVIAL(info) &lt;&lt; <span class="stringliteral">&quot;[BBL Updater]Downloading online settings for vendor: &quot;</span> &lt;&lt; vendor_name&lt;&lt;<span class="stringliteral">&quot;, version &quot;</span>&lt;&lt;online_version.to_string();</div>
<div class="line"><span class="lineno">  767</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a941e7a6e74d0bcf93b9c2bb05dbd09c0">get_file</a>(online_url, cache_file_path)) {</div>
<div class="line"><span class="lineno">  768</span>                BOOST_LOG_TRIVIAL(warning) &lt;&lt; <span class="stringliteral">&quot;[BBL Updater]download settings for vendor &quot;</span>&lt;&lt;vendor_name&lt;&lt;<span class="stringliteral">&quot; failed, url: &quot;</span> &lt;&lt; online_url;</div>
<div class="line"><span class="lineno">  769</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  770</span>            }</div>
<div class="line"><span class="lineno">  771</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#af00decc3399244b5aca6e99ef79ae3a0">cancel</a>) { <span class="keywordflow">return</span>; }</div>
<div class="line"><span class="lineno">  772</span> </div>
<div class="line"><span class="lineno">  773</span>            <span class="comment">//remove previous files before</span></div>
<div class="line"><span class="lineno">  774</span>            <span class="keywordflow">if</span> (fs::exists(cache_print_dir))</div>
<div class="line"><span class="lineno">  775</span>                fs::remove_all(cache_print_dir);</div>
<div class="line"><span class="lineno">  776</span>            <span class="keywordflow">if</span> (fs::exists(cache_filament_dir))</div>
<div class="line"><span class="lineno">  777</span>                fs::remove_all(cache_filament_dir);</div>
<div class="line"><span class="lineno">  778</span>            <span class="keywordflow">if</span> (fs::exists(cache_machine_dir))</div>
<div class="line"><span class="lineno">  779</span>                fs::remove_all(cache_machine_dir);</div>
<div class="line"><span class="lineno">  780</span>            <span class="comment">//extract the file downloaded</span></div>
<div class="line"><span class="lineno">  781</span>            BOOST_LOG_TRIVIAL(info) &lt;&lt; <span class="stringliteral">&quot;[BBL Updater]start to unzip the downloaded file &quot;</span>&lt;&lt; cache_file_path;</div>
<div class="line"><span class="lineno">  782</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a57bc54ccf39de12248c02c2c6ad79a5c">extract_file</a>(cache_file_path)) {</div>
<div class="line"><span class="lineno">  783</span>                BOOST_LOG_TRIVIAL(warning) &lt;&lt; <span class="stringliteral">&quot;[BBL Updater]extract settings for vendor &quot;</span>&lt;&lt;vendor_name&lt;&lt;<span class="stringliteral">&quot; failed, path: &quot;</span> &lt;&lt; cache_file_path;</div>
<div class="line"><span class="lineno">  784</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  785</span>            }</div>
<div class="line"><span class="lineno">  786</span>            BOOST_LOG_TRIVIAL(info) &lt;&lt; <span class="stringliteral">&quot;[BBL Updater]finished unzip the downloaded file &quot;</span>&lt;&lt; cache_file_path;</div>
<div class="line"><span class="lineno">  787</span> </div>
<div class="line"><span class="lineno">  788</span>            <span class="keyword">auto</span> vendor_description = vendor_descriptions.find(vendor_name);</div>
<div class="line"><span class="lineno">  789</span>            <span class="keywordflow">if</span> (vendor_description != vendor_descriptions.end()) {</div>
<div class="line"><span class="lineno">  790</span>                <span class="comment">//save the description to disk</span></div>
<div class="line"><span class="lineno">  791</span>                std::string changelog_file = (<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a88634a7648d871f97108572cd4f47cb2">cache_path</a> / (vendor_name + <span class="stringliteral">&quot;.changelog&quot;</span>)).string();</div>
<div class="line"><span class="lineno">  792</span> </div>
<div class="line"><span class="lineno">  793</span>                boost::nowide::ofstream <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>;</div>
<div class="line"><span class="lineno">  794</span>                <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>.open(changelog_file, std::ios::out | std::ios::trunc);</div>
<div class="line"><span class="lineno">  795</span>                <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a> &lt;&lt; vendor_description-&gt;second &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  796</span>                <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>.close();</div>
<div class="line"><span class="lineno">  797</span>            }</div>
<div class="line"><span class="lineno">  798</span>        }</div>
<div class="line"><span class="lineno">  799</span>    }</div>
<div class="line"><span class="lineno">  800</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_g_u_i_1_1_version_info_html_af3a8aa4c03997925e0cbee2e301a8bd5"><div class="ttname"><a href="../../d1/dd4/class_slic3r_1_1_g_u_i_1_1_version_info.html#af3a8aa4c03997925e0cbee2e301a8bd5">Slic3r::GUI::VersionInfo::convert_full_version</a></div><div class="ttdeci">static std::string convert_full_version(std::string short_version)</div><div class="ttdef"><b>Definition</b> GUI_App.cpp:140</div></div>
<div class="ttc" id="aclass_slic3r_1_1_http_html"><div class="ttname"><a href="../../d4/dbf/class_slic3r_1_1_http.html">Slic3r::Http</a></div><div class="ttdoc">Represetns a Http request.</div><div class="ttdef"><b>Definition</b> Http.hpp:31</div></div>
<div class="ttc" id="aclassnlohmann_1_1basic__json_html_a11641b35219676b225d9bd15c7677659"><div class="ttname"><a href="../../d9/dcc/classnlohmann_1_1basic__json.html#a11641b35219676b225d9bd15c7677659">nlohmann::basic_json::value</a></div><div class="ttdeci">ValueType value(const typename object_t::key_type &amp;key, const ValueType &amp;default_value) const</div><div class="ttdoc">access specified object element with default value</div><div class="ttdef"><b>Definition</b> json.hpp:3989</div></div>
<div class="ttc" id="aclassnlohmann_1_1basic__json_html_a15018ade392a844ea32d5188d1a0b9c6"><div class="ttname"><a href="../../d9/dcc/classnlohmann_1_1basic__json.html#a15018ade392a844ea32d5188d1a0b9c6">nlohmann::basic_json::parse</a></div><div class="ttdeci">static JSON_HEDLEY_WARN_UNUSED_RESULT basic_json parse(InputType &amp;&amp;i, const parser_callback_t cb=nullptr, const bool allow_exceptions=true, const bool ignore_comments=false)</div><div class="ttdoc">deserialize from a compatible input</div><div class="ttdef"><b>Definition</b> json.hpp:6897</div></div>
<div class="ttc" id="aclassnlohmann_1_1basic__json_html_a23b495b4c282e4afacf382f5b49af7c7"><div class="ttname"><a href="../../d9/dcc/classnlohmann_1_1basic__json.html#a23b495b4c282e4afacf382f5b49af7c7">nlohmann::basic_json::begin</a></div><div class="ttdeci">iterator begin() noexcept</div><div class="ttdoc">returns an iterator to the first element</div><div class="ttdef"><b>Definition</b> json.hpp:4680</div></div>
<div class="ttc" id="aclassnlohmann_1_1basic__json_html_a52b18a5b7e68652c65b070900c438c6e"><div class="ttname"><a href="../../d9/dcc/classnlohmann_1_1basic__json.html#a52b18a5b7e68652c65b070900c438c6e">nlohmann::basic_json::at</a></div><div class="ttdeci">reference at(size_type idx)</div><div class="ttdoc">access specified array element with bounds checking</div><div class="ttdef"><b>Definition</b> json.hpp:3486</div></div>
<div class="ttc" id="aclassnlohmann_1_1basic__json_html_a931267ec3f09eb67e4382f321b2c52bc"><div class="ttname"><a href="../../d9/dcc/classnlohmann_1_1basic__json.html#a931267ec3f09eb67e4382f321b2c52bc">nlohmann::basic_json::end</a></div><div class="ttdeci">iterator end() noexcept</div><div class="ttdoc">returns an iterator to one past the last element</div><div class="ttdef"><b>Definition</b> json.hpp:4751</div></div>
<div class="ttc" id="aclassnlohmann_1_1basic__json_html_ab5b70d60a636b9c5e10f6c8caac60b9e"><div class="ttname"><a href="../../d9/dcc/classnlohmann_1_1basic__json.html#ab5b70d60a636b9c5e10f6c8caac60b9e">nlohmann::basic_json::is_array</a></div><div class="ttdeci">constexpr bool is_array() const noexcept</div><div class="ttdoc">return whether value is an array</div><div class="ttdef"><b>Definition</b> json.hpp:2732</div></div>
<div class="ttc" id="aclassnlohmann_1_1basic__json_html_af1650e004db368459b3c0db041b32adc"><div class="ttname"><a href="../../d9/dcc/classnlohmann_1_1basic__json.html#af1650e004db368459b3c0db041b32adc">nlohmann::basic_json::get</a></div><div class="ttdeci">auto get() const noexcept(noexcept(std::declval&lt; const basic_json_t &amp; &gt;().template get_impl&lt; ValueType &gt;(detail::priority_tag&lt; 4 &gt; {}))) -&gt; decltype(std::declval&lt; const basic_json_t &amp; &gt;().template get_impl&lt; ValueType &gt;(detail::priority_tag&lt; 4 &gt; {}))</div><div class="ttdoc">get a (pointer) value (explicit)</div><div class="ttdef"><b>Definition</b> json.hpp:3207</div></div>
<div class="ttc" id="anamespace_slic3r_html_a06b86e5331aac1c640f8f7f40d798175"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a06b86e5331aac1c640f8f7f40d798175">Slic3r::trace</a></div><div class="ttdeci">void trace(unsigned int level, const char *message)</div><div class="ttdef"><b>Definition</b> utils.cpp:172</div></div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">marchsq::__impl::SquareTag::c</a></div><div class="ttdeci">@ c</div></div>
<div class="ttc" id="astruct_slic3r_1_1_preset_updater_1_1priv_html_a57bc54ccf39de12248c02c2c6ad79a5c"><div class="ttname"><a href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a57bc54ccf39de12248c02c2c6ad79a5c">Slic3r::PresetUpdater::priv::extract_file</a></div><div class="ttdeci">bool extract_file(const fs::path &amp;source_path, const fs::path &amp;dest_path={})</div><div class="ttdef"><b>Definition</b> PresetUpdater.cpp:281</div></div>
<div class="ttc" id="astruct_slic3r_1_1_preset_updater_1_1priv_html_a941e7a6e74d0bcf93b9c2bb05dbd09c0"><div class="ttname"><a href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a941e7a6e74d0bcf93b9c2bb05dbd09c0">Slic3r::PresetUpdater::priv::get_file</a></div><div class="ttdeci">bool get_file(const std::string &amp;url, const fs::path &amp;target_path) const</div><div class="ttdef"><b>Definition</b> PresetUpdater.cpp:244</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l03486">nlohmann::basic_json&lt; ObjectType, ArrayType, StringType, BooleanType, NumberIntegerType, NumberUnsignedType, NumberFloatType, AllocatorType, JSONSerializer, BinaryType &gt;::at()</a>, <a class="el" href="../../#l04680">nlohmann::basic_json&lt; ObjectType, ArrayType, StringType, BooleanType, NumberIntegerType, NumberUnsignedType, NumberFloatType, AllocatorType, JSONSerializer, BinaryType &gt;::begin()</a>, <a class="el" href="../../#l00086">Slic3r::VendorProfile::config_version</a>, <a class="el" href="../../#l00140">Slic3r::GUI::VersionInfo::convert_full_version()</a>, <a class="el" href="../../#l04751">nlohmann::basic_json&lt; ObjectType, ArrayType, StringType, BooleanType, NumberIntegerType, NumberUnsignedType, NumberFloatType, AllocatorType, JSONSerializer, BinaryType &gt;::end()</a>, <a class="el" href="../../#l00109">error</a>, <a class="el" href="../../#l03207">nlohmann::basic_json&lt; ObjectType, ArrayType, StringType, BooleanType, NumberIntegerType, NumberUnsignedType, NumberFloatType, AllocatorType, JSONSerializer, BinaryType &gt;::get()</a>, <a class="el" href="../../#l00691">Slic3r::Http::get()</a>, <a class="el" href="../../#l00056">Slic3r::get_version_from_json()</a>, <a class="el" href="../../#l00085">Slic3r::VendorProfile::id</a>, <a class="el" href="../../#l02732">nlohmann::basic_json&lt; ObjectType, ArrayType, StringType, BooleanType, NumberIntegerType, NumberUnsignedType, NumberFloatType, AllocatorType, JSONSerializer, BinaryType &gt;::is_array()</a>, <a class="el" href="../../#l00103">Slic3r::Semver::maj()</a>, <a class="el" href="../../#l00104">Slic3r::Semver::min()</a>, <a class="el" href="../../#l00649">Slic3r::Http::on_progress()</a>, <a class="el" href="../../#l00058">Slic3r::Semver::parse()</a>, <a class="el" href="../../#l06897">nlohmann::basic_json&lt; ObjectType, ArrayType, StringType, BooleanType, NumberIntegerType, NumberUnsignedType, NumberFloatType, AllocatorType, JSONSerializer, BinaryType &gt;::parse()</a>, <a class="el" href="../../#l00018">PRESET_FILAMENT_NAME</a>, <a class="el" href="../../#l00019">PRESET_PRINT_NAME</a>, <a class="el" href="../../#l00020">PRESET_PRINTER_NAME</a>, <a class="el" href="../../#l00053">Slic3r::TMP_EXTENSION</a>, <a class="el" href="../../#l00133">Slic3r::Semver::to_string()</a>, and <a class="el" href="../../#l00172">Slic3r::trace()</a>.</p>
<div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv_a3e83b9816781df55496e0d2360d10183_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a138350dcc5b208c20986fbafa3e3cdbc" name="a138350dcc5b208c20986fbafa3e3cdbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a138350dcc5b208c20986fbafa3e3cdbc">&#9670;&#160;</a></span>sync_plugins()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::PresetUpdater::priv::sync_plugins </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>http_url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>plugin_version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  874</span>{</div>
<div class="line"><span class="lineno">  875</span>    <span class="keywordflow">if</span> (plugin_version == <span class="stringliteral">&quot;00.00.00.00&quot;</span>) {</div>
<div class="line"><span class="lineno">  876</span>        BOOST_LOG_TRIVIAL(info) &lt;&lt; <span class="stringliteral">&quot;non need to sync plugins for there is no plugins currently.&quot;</span>;</div>
<div class="line"><span class="lineno">  877</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  878</span>    }</div>
<div class="line"><span class="lineno">  879</span>    std::string curr_version = SLIC3R_VERSION;</div>
<div class="line"><span class="lineno">  880</span>    std::string using_version = curr_version.substr(0, 9) + <span class="stringliteral">&quot;00&quot;</span>;</div>
<div class="line"><span class="lineno">  881</span> </div>
<div class="line"><span class="lineno">  882</span>    std::string cached_version;</div>
<div class="line"><span class="lineno">  883</span>    <a class="code hl_function" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a99f0cf7b0cb88b606cf043fe650c9fe8">get_cached_plugins_version</a>(cached_version);</div>
<div class="line"><span class="lineno">  884</span>    <span class="keywordflow">if</span> (!cached_version.empty()) {</div>
<div class="line"><span class="lineno">  885</span>        <span class="keywordtype">bool</span> need_delete_cache = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  886</span>        Semver current_semver = curr_version;</div>
<div class="line"><span class="lineno">  887</span>        Semver cached_semver = cached_version;</div>
<div class="line"><span class="lineno">  888</span> </div>
<div class="line"><span class="lineno">  889</span>        <span class="keywordtype">int</span> curent_patch_cc = current_semver.patch()/100;</div>
<div class="line"><span class="lineno">  890</span>        <span class="keywordtype">int</span> cached_patch_cc = cached_semver.patch()/100;</div>
<div class="line"><span class="lineno">  891</span>        <span class="keywordtype">int</span> curent_patch_dd = current_semver.patch()%100;</div>
<div class="line"><span class="lineno">  892</span>        <span class="keywordtype">int</span> cached_patch_dd = cached_semver.patch()%100;</div>
<div class="line"><span class="lineno">  893</span>        <span class="keywordflow">if</span> ((cached_semver.maj() != current_semver.maj())</div>
<div class="line"><span class="lineno">  894</span>            || (cached_semver.min() != current_semver.min())</div>
<div class="line"><span class="lineno">  895</span>            || (curent_patch_cc != cached_patch_cc))</div>
<div class="line"><span class="lineno">  896</span>        {</div>
<div class="line"><span class="lineno">  897</span>            need_delete_cache = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  898</span>            BOOST_LOG_TRIVIAL(info) &lt;&lt; boost::format(<span class="stringliteral">&quot;cached plugins version %1% not match with current %2%&quot;</span>)%cached_version%curr_version;</div>
<div class="line"><span class="lineno">  899</span>        }</div>
<div class="line"><span class="lineno">  900</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cached_patch_dd &lt;= curent_patch_dd) {</div>
<div class="line"><span class="lineno">  901</span>            need_delete_cache = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  902</span>            BOOST_LOG_TRIVIAL(info) &lt;&lt; boost::format(<span class="stringliteral">&quot;cached plugins version %1% not newer than current %2%&quot;</span>)%cached_version%curr_version;</div>
<div class="line"><span class="lineno">  903</span>        }</div>
<div class="line"><span class="lineno">  904</span>        <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  905</span>            plugin_version = cached_version;</div>
<div class="line"><span class="lineno">  906</span>        }</div>
<div class="line"><span class="lineno">  907</span> </div>
<div class="line"><span class="lineno">  908</span>        <span class="keywordflow">if</span> (need_delete_cache) {</div>
<div class="line"><span class="lineno">  909</span>            std::string data_dir_str = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a52157a1dec9ce067a7e19b02ef13e1f3">data_dir</a>();</div>
<div class="line"><span class="lineno">  910</span>            boost::filesystem::path data_dir_path(data_dir_str);</div>
<div class="line"><span class="lineno">  911</span>            <span class="keyword">auto</span> cache_folder = data_dir_path / <span class="stringliteral">&quot;ota&quot;</span>;</div>
<div class="line"><span class="lineno">  912</span> </div>
<div class="line"><span class="lineno">  913</span><span class="preprocessor">#if defined(_MSC_VER) || defined(_WIN32)</span></div>
<div class="line"><span class="lineno">  914</span>            <span class="keyword">auto</span> network_library = cache_folder / <span class="stringliteral">&quot;bambu_networking.dll&quot;</span>;</div>
<div class="line"><span class="lineno">  915</span>            <span class="keyword">auto</span> player_library = cache_folder / <span class="stringliteral">&quot;BambuSource.dll&quot;</span>;</div>
<div class="line"><span class="lineno">  916</span><span class="preprocessor">#elif defined(__WXMAC__)</span></div>
<div class="line"><span class="lineno">  917</span>            <span class="keyword">auto</span> network_library = cache_folder / <span class="stringliteral">&quot;libbambu_networking.dylib&quot;</span>;</div>
<div class="line"><span class="lineno">  918</span>            <span class="keyword">auto</span> player_library = cache_folder / <span class="stringliteral">&quot;libBambuSource.dylib&quot;</span>;</div>
<div class="line"><span class="lineno">  919</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  920</span>            <span class="keyword">auto</span> network_library = cache_folder / <span class="stringliteral">&quot;libbambu_networking.so&quot;</span>;</div>
<div class="line"><span class="lineno">  921</span>            <span class="keyword">auto</span> player_library = cache_folder / <span class="stringliteral">&quot;libBambuSource.so&quot;</span>;</div>
<div class="line"><span class="lineno">  922</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  923</span>            <span class="keyword">auto</span> changelog_file = cache_folder / <span class="stringliteral">&quot;network_plugins.json&quot;</span>;</div>
<div class="line"><span class="lineno">  924</span> </div>
<div class="line"><span class="lineno">  925</span>            <span class="keywordflow">if</span> (boost::filesystem::exists(network_library))</div>
<div class="line"><span class="lineno">  926</span>            {</div>
<div class="line"><span class="lineno">  927</span> </div>
<div class="line"><span class="lineno">  928</span>                BOOST_LOG_TRIVIAL(info) &lt;&lt; <span class="stringliteral">&quot;[remove_old_networking_plugins] remove the file &quot;</span>&lt;&lt;network_library.string();</div>
<div class="line"><span class="lineno">  929</span>                <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  930</span>                    fs::remove(network_library);</div>
<div class="line"><span class="lineno">  931</span>                } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno">  932</span>                    BOOST_LOG_TRIVIAL(<a class="code hl_variable" href="../../d5/d8c/xmlrole_8c.html#a2739afc9d7ed13e98e5e0c5b2e1f0428">error</a>) &lt;&lt; <span class="stringliteral">&quot;Failed  removing the plugins file &quot;</span> &lt;&lt; network_library.string();</div>
<div class="line"><span class="lineno">  933</span>                }</div>
<div class="line"><span class="lineno">  934</span>            }</div>
<div class="line"><span class="lineno">  935</span>            <span class="keywordflow">if</span> (boost::filesystem::exists(player_library))</div>
<div class="line"><span class="lineno">  936</span>            {</div>
<div class="line"><span class="lineno">  937</span> </div>
<div class="line"><span class="lineno">  938</span>                BOOST_LOG_TRIVIAL(info) &lt;&lt; <span class="stringliteral">&quot;[remove_old_networking_plugins] remove the file &quot;</span>&lt;&lt;player_library.string();</div>
<div class="line"><span class="lineno">  939</span>                <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  940</span>                    fs::remove(player_library);</div>
<div class="line"><span class="lineno">  941</span>                } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno">  942</span>                    BOOST_LOG_TRIVIAL(<a class="code hl_variable" href="../../d5/d8c/xmlrole_8c.html#a2739afc9d7ed13e98e5e0c5b2e1f0428">error</a>) &lt;&lt; <span class="stringliteral">&quot;Failed  removing the plugins file &quot;</span> &lt;&lt; player_library.string();</div>
<div class="line"><span class="lineno">  943</span>                }</div>
<div class="line"><span class="lineno">  944</span>            }</div>
<div class="line"><span class="lineno">  945</span>            <span class="keywordflow">if</span> (boost::filesystem::exists(changelog_file))</div>
<div class="line"><span class="lineno">  946</span>            {</div>
<div class="line"><span class="lineno">  947</span> </div>
<div class="line"><span class="lineno">  948</span>                BOOST_LOG_TRIVIAL(info) &lt;&lt; <span class="stringliteral">&quot;[remove_old_networking_plugins] remove the file &quot;</span>&lt;&lt;changelog_file.string();</div>
<div class="line"><span class="lineno">  949</span>                <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  950</span>                    fs::remove(changelog_file);</div>
<div class="line"><span class="lineno">  951</span>                } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno">  952</span>                    BOOST_LOG_TRIVIAL(<a class="code hl_variable" href="../../d5/d8c/xmlrole_8c.html#a2739afc9d7ed13e98e5e0c5b2e1f0428">error</a>) &lt;&lt; <span class="stringliteral">&quot;Failed  removing the plugins file &quot;</span> &lt;&lt; changelog_file.string();</div>
<div class="line"><span class="lineno">  953</span>                }</div>
<div class="line"><span class="lineno">  954</span>            }</div>
<div class="line"><span class="lineno">  955</span>        }</div>
<div class="line"><span class="lineno">  956</span>    }</div>
<div class="line"><span class="lineno">  957</span> </div>
<div class="line"><span class="lineno">  958</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  959</span>        std::map&lt;std::string, Resource&gt; resources</div>
<div class="line"><span class="lineno">  960</span>        {</div>
<div class="line"><span class="lineno">  961</span>            {<span class="stringliteral">&quot;slicer/plugins/cloud&quot;</span>, { using_version, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a88634a7648d871f97108572cd4f47cb2">cache_path</a>.string(), {<span class="stringliteral">&quot;plugins&quot;</span>}}}</div>
<div class="line"><span class="lineno">  962</span>        };</div>
<div class="line"><span class="lineno">  963</span>        <a class="code hl_function" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#afddd68cc6236d71da97058112dd7ebde">sync_resources</a>(http_url, resources, <span class="keyword">true</span>, plugin_version, <span class="stringliteral">&quot;network_plugins.json&quot;</span>);</div>
<div class="line"><span class="lineno">  964</span>    }</div>
<div class="line"><span class="lineno">  965</span>    <span class="keywordflow">catch</span> (std::exception&amp; e) {</div>
<div class="line"><span class="lineno">  966</span>        BOOST_LOG_TRIVIAL(warning) &lt;&lt; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab28c13d286b2d1767d7c63b020ebd042">format</a>(<span class="stringliteral">&quot;[BBL Updater] sync_plugins: %1%&quot;</span>, e.what());</div>
<div class="line"><span class="lineno">  967</span>    }</div>
<div class="line"><span class="lineno">  968</span> </div>
<div class="line"><span class="lineno">  969</span>    <span class="keywordtype">bool</span> result = <a class="code hl_function" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a99f0cf7b0cb88b606cf043fe650c9fe8">get_cached_plugins_version</a>(cached_version);</div>
<div class="line"><span class="lineno">  970</span>    <span class="keywordflow">if</span> (result) {</div>
<div class="line"><span class="lineno">  971</span>        BOOST_LOG_TRIVIAL(info) &lt;&lt; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab28c13d286b2d1767d7c63b020ebd042">format</a>(<span class="stringliteral">&quot;[BBL Updater] found new plugins: %1%, prompt to update&quot;</span>, cached_version);</div>
<div class="line"><span class="lineno">  972</span>        GUI::wxGetApp().plater()-&gt;get_notification_manager()-&gt;push_notification(<a class="code hl_enumvalue" href="../../d9/d45/namespace_slic3r_1_1_g_u_i.html#a7db226ed33f98243430c0fe8917dc85ba7a05a04c6fdc1f4edaac144483ad3160">GUI::NotificationType::BBLPluginUpdateAvailable</a>);</div>
<div class="line"><span class="lineno">  973</span>    }</div>
<div class="line"><span class="lineno">  974</span>}</div>
<div class="ttc" id="anamespace_slic3r_1_1_g_u_i_html_a7db226ed33f98243430c0fe8917dc85ba7a05a04c6fdc1f4edaac144483ad3160"><div class="ttname"><a href="../../d9/d45/namespace_slic3r_1_1_g_u_i.html#a7db226ed33f98243430c0fe8917dc85ba7a05a04c6fdc1f4edaac144483ad3160">Slic3r::GUI::NotificationType::BBLPluginUpdateAvailable</a></div><div class="ttdeci">@ BBLPluginUpdateAvailable</div></div>
<div class="ttc" id="astruct_slic3r_1_1_preset_updater_1_1priv_html_a99f0cf7b0cb88b606cf043fe650c9fe8"><div class="ttname"><a href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a99f0cf7b0cb88b606cf043fe650c9fe8">Slic3r::PresetUpdater::priv::get_cached_plugins_version</a></div><div class="ttdeci">bool get_cached_plugins_version(std::string &amp;cached_version)</div><div class="ttdef"><b>Definition</b> PresetUpdater.cpp:833</div></div>
<div class="ttc" id="astruct_slic3r_1_1_preset_updater_1_1priv_html_afddd68cc6236d71da97058112dd7ebde"><div class="ttname"><a href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#afddd68cc6236d71da97058112dd7ebde">Slic3r::PresetUpdater::priv::sync_resources</a></div><div class="ttdeci">void sync_resources(std::string http_url, std::map&lt; std::string, Resource &gt; &amp;resources, bool check_patch=false, std::string current_version=&quot;&quot;, std::string changelog_file=&quot;&quot;)</div><div class="ttdef"><b>Definition</b> PresetUpdater.cpp:453</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d45/namespace_slic3r_1_1_g_u_i.html#a7db226ed33f98243430c0fe8917dc85ba7a05a04c6fdc1f4edaac144483ad3160">Slic3r::GUI::BBLPluginUpdateAvailable</a>, <a class="el" href="../../#l00266">Slic3r::data_dir()</a>, <a class="el" href="../../#l00109">error</a>, <a class="el" href="../../#l00044">Slic3r::format()</a>, <a class="el" href="../../#l00103">Slic3r::Semver::maj()</a>, <a class="el" href="../../#l00104">Slic3r::Semver::min()</a>, and <a class="el" href="../../#l00105">Slic3r::Semver::patch()</a>.</p>
<div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv_a138350dcc5b208c20986fbafa3e3cdbc_cgraph.svg" width="550" height="234"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="afddd68cc6236d71da97058112dd7ebde" name="afddd68cc6236d71da97058112dd7ebde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afddd68cc6236d71da97058112dd7ebde">&#9670;&#160;</a></span>sync_resources()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::PresetUpdater::priv::sync_resources </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>http_url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; std::string, <a class="el" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#df/d80/struct_slic3r_1_1_preset_updater_1_1priv_1_1_resource">Resource</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>resources</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>check_patch</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>current_version</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>changelog_file</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  454</span>{</div>
<div class="line"><span class="lineno">  455</span>    std::map&lt;std::string, Resource&gt;    resource_list;</div>
<div class="line"><span class="lineno">  456</span> </div>
<div class="line"><span class="lineno">  457</span>    BOOST_LOG_TRIVIAL(info) &lt;&lt; boost::format(<span class="stringliteral">&quot;[BBL Updater]: sync_resources get preferred setting version for app version %1%, url: %2%, current_version_str %3%, check_patch %4%&quot;</span>)%SLIC3R_APP_NAME%http_url%current_version_str%check_patch;</div>
<div class="line"><span class="lineno">  458</span> </div>
<div class="line"><span class="lineno">  459</span>    std::string query_params = <span class="stringliteral">&quot;?&quot;</span>;</div>
<div class="line"><span class="lineno">  460</span>    <span class="keywordtype">bool</span>        first        = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  461</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> resource_it : resources) {</div>
<div class="line"><span class="lineno">  462</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#af00decc3399244b5aca6e99ef79ae3a0">cancel</a>) { <span class="keywordflow">return</span>; }</div>
<div class="line"><span class="lineno">  463</span>        <span class="keyword">auto</span> resource_name = resource_it.first;</div>
<div class="line"><span class="lineno">  464</span>        boost::to_lower(resource_name);</div>
<div class="line"><span class="lineno">  465</span>        std::string query_resource = (boost::format(<span class="stringliteral">&quot;%1%=%2%&quot;</span>)</div>
<div class="line"><span class="lineno">  466</span>            % resource_name % resource_it.second.version).str();</div>
<div class="line"><span class="lineno">  467</span>        <span class="keywordflow">if</span> (!first) query_params += <span class="stringliteral">&quot;&amp;&quot;</span>;</div>
<div class="line"><span class="lineno">  468</span>        query_params += query_resource;</div>
<div class="line"><span class="lineno">  469</span>        first = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  470</span>    }</div>
<div class="line"><span class="lineno">  471</span> </div>
<div class="line"><span class="lineno">  472</span>    std::string url = http_url;</div>
<div class="line"><span class="lineno">  473</span>    url += query_params;</div>
<div class="line"><span class="lineno">  474</span>    <a class="code hl_class" href="../../d4/dbf/class_slic3r_1_1_http.html">Slic3r::Http</a> http = <a class="code hl_function" href="../../d4/dbf/class_slic3r_1_1_http.html#aece8b9cd77673a474fe97331604914aa">Slic3r::Http::get</a>(url);</div>
<div class="line"><span class="lineno">  475</span>    BOOST_LOG_TRIVIAL(info) &lt;&lt; boost::format(<span class="stringliteral">&quot;[BBL Updater]: sync_resources request_url: %1%&quot;</span>)%url;</div>
<div class="line"><span class="lineno">  476</span>    http.<a class="code hl_function" href="../../d4/dbf/class_slic3r_1_1_http.html#afda74f7b9247f37db6075db0d5d7de67">on_progress</a>([<span class="keyword">this</span>](<a class="code hl_struct" href="../../d5/d37/struct_slic3r_1_1_http_1_1_progress.html">Slic3r::Http::Progress</a>, <span class="keywordtype">bool</span> &amp;cancel_http) {</div>
<div class="line"><span class="lineno">  477</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#af00decc3399244b5aca6e99ef79ae3a0">cancel</a>) {</div>
<div class="line"><span class="lineno">  478</span>                cancel_http = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  479</span>            }</div>
<div class="line"><span class="lineno">  480</span>        })</div>
<div class="line"><span class="lineno">  481</span>        .on_complete([<span class="keyword">this</span>, &amp;resource_list, resources](std::string body, <span class="keywordtype">unsigned</span>) {</div>
<div class="line"><span class="lineno">  482</span>            <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  483</span>                BOOST_LOG_TRIVIAL(info) &lt;&lt; <span class="stringliteral">&quot;[BBL Updater]: request_resources, body=&quot;</span> &lt;&lt; body;</div>
<div class="line"><span class="lineno">  484</span> </div>
<div class="line"><span class="lineno">  485</span>                <a class="code hl_class" href="../../d9/dcc/classnlohmann_1_1basic__json.html">json</a>        j       = <a class="code hl_function" href="../../d9/dcc/classnlohmann_1_1basic__json.html#a15018ade392a844ea32d5188d1a0b9c6">json::parse</a>(body);</div>
<div class="line"><span class="lineno">  486</span>                std::string message = j[<span class="stringliteral">&quot;message&quot;</span>].<a class="code hl_function" href="../../d9/dcc/classnlohmann_1_1basic__json.html#af1650e004db368459b3c0db041b32adc">get</a>&lt;std::string&gt;();</div>
<div class="line"><span class="lineno">  487</span> </div>
<div class="line"><span class="lineno">  488</span>                <span class="keywordflow">if</span> (message == <span class="stringliteral">&quot;success&quot;</span>) {</div>
<div class="line"><span class="lineno">  489</span>                    <a class="code hl_class" href="../../d9/dcc/classnlohmann_1_1basic__json.html">json</a> resource = j.<a class="code hl_function" href="../../d9/dcc/classnlohmann_1_1basic__json.html#a52b18a5b7e68652c65b070900c438c6e">at</a>(<span class="stringliteral">&quot;resources&quot;</span>);</div>
<div class="line"><span class="lineno">  490</span>                    <span class="keywordflow">if</span> (resource.<a class="code hl_function" href="../../d9/dcc/classnlohmann_1_1basic__json.html#ab5b70d60a636b9c5e10f6c8caac60b9e">is_array</a>()) {</div>
<div class="line"><span class="lineno">  491</span>                        <span class="keywordflow">for</span> (<span class="keyword">auto</span> iter = resource.<a class="code hl_function" href="../../d9/dcc/classnlohmann_1_1basic__json.html#a23b495b4c282e4afacf382f5b49af7c7">begin</a>(); iter != resource.<a class="code hl_function" href="../../d9/dcc/classnlohmann_1_1basic__json.html#a931267ec3f09eb67e4382f321b2c52bc">end</a>(); iter++) {</div>
<div class="line"><span class="lineno">  492</span>                            std::string version;</div>
<div class="line"><span class="lineno">  493</span>                            std::string url;</div>
<div class="line"><span class="lineno">  494</span>                            std::string resource;</div>
<div class="line"><span class="lineno">  495</span>                            std::string description;</div>
<div class="line"><span class="lineno">  496</span>                            <span class="keywordflow">for</span> (<span class="keyword">auto</span> sub_iter = iter.value().begin(); sub_iter != iter.value().end(); sub_iter++) {</div>
<div class="line"><span class="lineno">  497</span>                                <span class="keywordflow">if</span> (boost::iequals(sub_iter.key(), <span class="stringliteral">&quot;type&quot;</span>)) {</div>
<div class="line"><span class="lineno">  498</span>                                    resource = sub_iter.<a class="code hl_function" href="../../d9/dcc/classnlohmann_1_1basic__json.html#a11641b35219676b225d9bd15c7677659">value</a>();</div>
<div class="line"><span class="lineno">  499</span>                                    BOOST_LOG_TRIVIAL(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a06b86e5331aac1c640f8f7f40d798175">trace</a>) &lt;&lt; <span class="stringliteral">&quot;[BBL Updater]: get version of settings&#39;s type, &quot;</span> &lt;&lt; sub_iter.value();</div>
<div class="line"><span class="lineno">  500</span>                                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (boost::iequals(sub_iter.key(), <span class="stringliteral">&quot;version&quot;</span>)) {</div>
<div class="line"><span class="lineno">  501</span>                                    version = sub_iter.value();</div>
<div class="line"><span class="lineno">  502</span>                                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (boost::iequals(sub_iter.key(), <span class="stringliteral">&quot;description&quot;</span>)) {</div>
<div class="line"><span class="lineno">  503</span>                                    description = sub_iter.value();</div>
<div class="line"><span class="lineno">  504</span>                                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (boost::iequals(sub_iter.key(), <span class="stringliteral">&quot;url&quot;</span>)) {</div>
<div class="line"><span class="lineno">  505</span>                                    url = sub_iter.value();</div>
<div class="line"><span class="lineno">  506</span>                                }</div>
<div class="line"><span class="lineno">  507</span>                            }</div>
<div class="line"><span class="lineno">  508</span>                            BOOST_LOG_TRIVIAL(info) &lt;&lt; <span class="stringliteral">&quot;[BBL Updater]: get type &quot;</span> &lt;&lt; resource &lt;&lt; <span class="stringliteral">&quot;, version &quot;</span> &lt;&lt; version &lt;&lt; <span class="stringliteral">&quot;, url &quot;</span> &lt;&lt; url;</div>
<div class="line"><span class="lineno">  509</span> </div>
<div class="line"><span class="lineno">  510</span>                            resource_list.emplace(resource, Resource{version, description, url});</div>
<div class="line"><span class="lineno">  511</span>                        }</div>
<div class="line"><span class="lineno">  512</span>                    }</div>
<div class="line"><span class="lineno">  513</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  514</span>                    BOOST_LOG_TRIVIAL(<a class="code hl_variable" href="../../d5/d8c/xmlrole_8c.html#a2739afc9d7ed13e98e5e0c5b2e1f0428">error</a>) &lt;&lt; <span class="stringliteral">&quot;[BBL Updater]: get version of settings failed, body=&quot;</span> &lt;&lt; body;</div>
<div class="line"><span class="lineno">  515</span>                }</div>
<div class="line"><span class="lineno">  516</span>            } <span class="keywordflow">catch</span> (std::exception &amp;e) {</div>
<div class="line"><span class="lineno">  517</span>                BOOST_LOG_TRIVIAL(<a class="code hl_variable" href="../../d5/d8c/xmlrole_8c.html#a2739afc9d7ed13e98e5e0c5b2e1f0428">error</a>) &lt;&lt; (boost::format(<span class="stringliteral">&quot;[BBL Updater]: get version of settings failed, exception=%1% body=%2%&quot;</span>) % e.what() % body).str();</div>
<div class="line"><span class="lineno">  518</span>            } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno">  519</span>                BOOST_LOG_TRIVIAL(<a class="code hl_variable" href="../../d5/d8c/xmlrole_8c.html#a2739afc9d7ed13e98e5e0c5b2e1f0428">error</a>) &lt;&lt; <span class="stringliteral">&quot;[BBL Updater]: get version of settings failed, body=&quot;</span> &lt;&lt; body;</div>
<div class="line"><span class="lineno">  520</span>            }</div>
<div class="line"><span class="lineno">  521</span>        })</div>
<div class="line"><span class="lineno">  522</span>        .on_error([&amp;](std::string body, std::string <a class="code hl_variable" href="../../d5/d8c/xmlrole_8c.html#a2739afc9d7ed13e98e5e0c5b2e1f0428">error</a>, <span class="keywordtype">unsigned</span> status) {</div>
<div class="line"><span class="lineno">  523</span>            BOOST_LOG_TRIVIAL(<a class="code hl_variable" href="../../d5/d8c/xmlrole_8c.html#a2739afc9d7ed13e98e5e0c5b2e1f0428">error</a>) &lt;&lt; boost::format(<span class="stringliteral">&quot;[BBL Updater]: status=%1%, error=%2%, body=%3%&quot;</span>) % status % <a class="code hl_variable" href="../../d5/d8c/xmlrole_8c.html#a2739afc9d7ed13e98e5e0c5b2e1f0428">error</a> % body;</div>
<div class="line"><span class="lineno">  524</span>        })</div>
<div class="line"><span class="lineno">  525</span>        .perform_sync();</div>
<div class="line"><span class="lineno">  526</span> </div>
<div class="line"><span class="lineno">  527</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; resource_it : resources) {</div>
<div class="line"><span class="lineno">  528</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#af00decc3399244b5aca6e99ef79ae3a0">cancel</a>) { <span class="keywordflow">return</span>; }</div>
<div class="line"><span class="lineno">  529</span> </div>
<div class="line"><span class="lineno">  530</span>        <span class="keyword">auto</span> resource = resource_it.second;</div>
<div class="line"><span class="lineno">  531</span>        std::string resource_name = resource_it.first;</div>
<div class="line"><span class="lineno">  532</span>        boost::to_lower(resource_name);</div>
<div class="line"><span class="lineno">  533</span>        <span class="keyword">auto</span>        resource_update = resource_list.find(resource_name);</div>
<div class="line"><span class="lineno">  534</span>        <span class="keywordflow">if</span> (resource_update == resource_list.end()) {</div>
<div class="line"><span class="lineno">  535</span>            BOOST_LOG_TRIVIAL(info) &lt;&lt; <span class="stringliteral">&quot;[BBL Updater]Vendor &quot;</span> &lt;&lt; resource_name &lt;&lt; <span class="stringliteral">&quot; can not get setting versions online&quot;</span>;</div>
<div class="line"><span class="lineno">  536</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  537</span>        }</div>
<div class="line"><span class="lineno">  538</span>        Semver online_version = resource_update-&gt;second.version;</div>
<div class="line"><span class="lineno">  539</span>        <span class="comment">// Semver current_version = get_version_from_json(vendor_root_config.string());</span></div>
<div class="line"><span class="lineno">  540</span>        Semver current_version = current_version_str.empty()?resource.version:current_version_str;</div>
<div class="line"><span class="lineno">  541</span>        <span class="keywordtype">bool</span> version_match = ((online_version.maj() == current_version.maj()) &amp;&amp; (online_version.min() == current_version.min()));</div>
<div class="line"><span class="lineno">  542</span>        <span class="keywordflow">if</span> (version_match &amp;&amp; check_patch) {</div>
<div class="line"><span class="lineno">  543</span>            <span class="keywordtype">int</span> online_cc_patch = online_version.patch()/100;</div>
<div class="line"><span class="lineno">  544</span>            <span class="keywordtype">int</span> current_cc_patch = current_version.patch()/100;</div>
<div class="line"><span class="lineno">  545</span>            <span class="keywordflow">if</span> (online_cc_patch != current_cc_patch) {</div>
<div class="line"><span class="lineno">  546</span>                version_match = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  547</span>                BOOST_LOG_TRIVIAL(warning) &lt;&lt; boost::format(<span class="stringliteral">&quot;[BBL Updater]: online patch CC not match: online_cc_patch=%1%, current_cc_patch=%2%&quot;</span>) % online_cc_patch % current_cc_patch;</div>
<div class="line"><span class="lineno">  548</span>            }</div>
<div class="line"><span class="lineno">  549</span>        }</div>
<div class="line"><span class="lineno">  550</span>        <span class="keywordflow">if</span> (version_match &amp;&amp; (current_version &lt; online_version)) {</div>
<div class="line"><span class="lineno">  551</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#af00decc3399244b5aca6e99ef79ae3a0">cancel</a>) { <span class="keywordflow">return</span>; }</div>
<div class="line"><span class="lineno">  552</span> </div>
<div class="line"><span class="lineno">  553</span>            <span class="comment">// need to download the online files</span></div>
<div class="line"><span class="lineno">  554</span>            fs::path <a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a88634a7648d871f97108572cd4f47cb2">cache_path</a>(resource.cache_root);</div>
<div class="line"><span class="lineno">  555</span>            std::string online_url      = resource_update-&gt;second.url;</div>
<div class="line"><span class="lineno">  556</span>            std::string cache_file_path = (fs::temp_directory_path() / (fs::unique_path().string() + <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#aa599e9246c446ebd84578cd5c19c63e5">TMP_EXTENSION</a>)).string();</div>
<div class="line"><span class="lineno">  557</span>            BOOST_LOG_TRIVIAL(info) &lt;&lt; <span class="stringliteral">&quot;[BBL Updater]Downloading resource: &quot;</span> &lt;&lt; resource_name &lt;&lt; <span class="stringliteral">&quot;, version &quot;</span> &lt;&lt; online_version.to_string();</div>
<div class="line"><span class="lineno">  558</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a941e7a6e74d0bcf93b9c2bb05dbd09c0">get_file</a>(online_url, cache_file_path)) {</div>
<div class="line"><span class="lineno">  559</span>                BOOST_LOG_TRIVIAL(warning) &lt;&lt; <span class="stringliteral">&quot;[BBL Updater]download resource &quot;</span> &lt;&lt; resource_name &lt;&lt; <span class="stringliteral">&quot; failed, url: &quot;</span> &lt;&lt; online_url;</div>
<div class="line"><span class="lineno">  560</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  561</span>            }</div>
<div class="line"><span class="lineno">  562</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#af00decc3399244b5aca6e99ef79ae3a0">cancel</a>) { <span class="keywordflow">return</span>; }</div>
<div class="line"><span class="lineno">  563</span> </div>
<div class="line"><span class="lineno">  564</span>            <span class="comment">// remove previous files before</span></div>
<div class="line"><span class="lineno">  565</span>            <span class="keywordflow">if</span> (resource.sub_caches.empty()) {</div>
<div class="line"><span class="lineno">  566</span>                <span class="keywordflow">if</span> (fs::exists(<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a88634a7648d871f97108572cd4f47cb2">cache_path</a>)) {</div>
<div class="line"><span class="lineno">  567</span>                    fs::remove_all(<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a88634a7648d871f97108572cd4f47cb2">cache_path</a>);</div>
<div class="line"><span class="lineno">  568</span>                    BOOST_LOG_TRIVIAL(info) &lt;&lt; <span class="stringliteral">&quot;[BBL Updater]remove cache path &quot;</span> &lt;&lt; <a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a88634a7648d871f97108572cd4f47cb2">cache_path</a>.string();</div>
<div class="line"><span class="lineno">  569</span>                }</div>
<div class="line"><span class="lineno">  570</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  571</span>                <span class="keywordflow">for</span> (<span class="keyword">auto</span> sub : resource.sub_caches) {</div>
<div class="line"><span class="lineno">  572</span>                    <span class="keywordflow">if</span> (fs::exists(<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a88634a7648d871f97108572cd4f47cb2">cache_path</a> / sub)) {</div>
<div class="line"><span class="lineno">  573</span>                        fs::remove_all(<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a88634a7648d871f97108572cd4f47cb2">cache_path</a> / sub);</div>
<div class="line"><span class="lineno">  574</span>                        BOOST_LOG_TRIVIAL(info) &lt;&lt; <span class="stringliteral">&quot;[BBL Updater]remove cache path &quot;</span> &lt;&lt; (<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a88634a7648d871f97108572cd4f47cb2">cache_path</a> / sub).<span class="keywordtype">string</span>();</div>
<div class="line"><span class="lineno">  575</span>                    }</div>
<div class="line"><span class="lineno">  576</span>                }</div>
<div class="line"><span class="lineno">  577</span>            }</div>
<div class="line"><span class="lineno">  578</span>            <span class="comment">// extract the file downloaded</span></div>
<div class="line"><span class="lineno">  579</span>            BOOST_LOG_TRIVIAL(info) &lt;&lt; <span class="stringliteral">&quot;[BBL Updater]start to unzip the downloaded file &quot;</span> &lt;&lt; cache_file_path &lt;&lt; <span class="stringliteral">&quot; to &quot;</span>&lt;&lt;<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a88634a7648d871f97108572cd4f47cb2">cache_path</a>;</div>
<div class="line"><span class="lineno">  580</span>            fs::create_directories(<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a88634a7648d871f97108572cd4f47cb2">cache_path</a>);</div>
<div class="line"><span class="lineno">  581</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a57bc54ccf39de12248c02c2c6ad79a5c">extract_file</a>(cache_file_path, <a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a88634a7648d871f97108572cd4f47cb2">cache_path</a>)) {</div>
<div class="line"><span class="lineno">  582</span>                BOOST_LOG_TRIVIAL(warning) &lt;&lt; <span class="stringliteral">&quot;[BBL Updater]extract resource &quot;</span> &lt;&lt; resource_it.first &lt;&lt; <span class="stringliteral">&quot; failed, path: &quot;</span> &lt;&lt; cache_file_path;</div>
<div class="line"><span class="lineno">  583</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  584</span>            }</div>
<div class="line"><span class="lineno">  585</span>            BOOST_LOG_TRIVIAL(info) &lt;&lt; <span class="stringliteral">&quot;[BBL Updater]finished unzip the downloaded file &quot;</span> &lt;&lt; cache_file_path;</div>
<div class="line"><span class="lineno">  586</span> </div>
<div class="line"><span class="lineno">  587</span>            <span class="comment">// save the description to disk</span></div>
<div class="line"><span class="lineno">  588</span>            <span class="keywordflow">if</span> (changelog_file.empty())</div>
<div class="line"><span class="lineno">  589</span>                changelog_file = (<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a88634a7648d871f97108572cd4f47cb2">cache_path</a> / <span class="stringliteral">&quot;changelog.json&quot;</span>).<span class="keywordtype">string</span>();</div>
<div class="line"><span class="lineno">  590</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  591</span>                changelog_file = (<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a88634a7648d871f97108572cd4f47cb2">cache_path</a> / changelog_file).<span class="keywordtype">string</span>();</div>
<div class="line"><span class="lineno">  592</span> </div>
<div class="line"><span class="lineno">  593</span>            <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  594</span>                <a class="code hl_class" href="../../d9/dcc/classnlohmann_1_1basic__json.html">json</a> j;</div>
<div class="line"><span class="lineno">  595</span>                <span class="comment">//record the headers</span></div>
<div class="line"><span class="lineno">  596</span>                j[<span class="stringliteral">&quot;version&quot;</span>] = resource_update-&gt;second.version;</div>
<div class="line"><span class="lineno">  597</span>                j[<span class="stringliteral">&quot;description&quot;</span>] = resource_update-&gt;second.description;</div>
<div class="line"><span class="lineno">  598</span> </div>
<div class="line"><span class="lineno">  599</span>                boost::nowide::ofstream <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>;</div>
<div class="line"><span class="lineno">  600</span>                <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>.open(changelog_file, std::ios::out | std::ios::trunc);</div>
<div class="line"><span class="lineno">  601</span>                <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a> &lt;&lt; std::setw(4) &lt;&lt; j &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  602</span>                <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>.close();</div>
<div class="line"><span class="lineno">  603</span>            }</div>
<div class="line"><span class="lineno">  604</span>            <span class="keywordflow">catch</span>(std::exception &amp;err) {</div>
<div class="line"><span class="lineno">  605</span>                BOOST_LOG_TRIVIAL(<a class="code hl_variable" href="../../d5/d8c/xmlrole_8c.html#a2739afc9d7ed13e98e5e0c5b2e1f0428">error</a>) &lt;&lt; __FUNCTION__&lt;&lt; <span class="stringliteral">&quot;: save to &quot;</span>&lt;&lt;changelog_file&lt;&lt;<span class="stringliteral">&quot; got a generic exception, reason = &quot;</span> &lt;&lt; err.what();</div>
<div class="line"><span class="lineno">  606</span>            }</div>
<div class="line"><span class="lineno">  607</span> </div>
<div class="line"><span class="lineno">  608</span>            resource_it.second = resource_update-&gt;second;</div>
<div class="line"><span class="lineno">  609</span>        }</div>
<div class="line"><span class="lineno">  610</span>        <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  611</span>            BOOST_LOG_TRIVIAL(warning) &lt;&lt; boost::format(<span class="stringliteral">&quot;[BBL Updater]: online version=%1%, current_version=%2%, no need to download&quot;</span>) % online_version.to_string() % current_version.to_string();</div>
<div class="line"><span class="lineno">  612</span>        }</div>
<div class="line"><span class="lineno">  613</span>    }</div>
<div class="line"><span class="lineno">  614</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l03486">nlohmann::basic_json&lt; ObjectType, ArrayType, StringType, BooleanType, NumberIntegerType, NumberUnsignedType, NumberFloatType, AllocatorType, JSONSerializer, BinaryType &gt;::at()</a>, <a class="el" href="../../#l04680">nlohmann::basic_json&lt; ObjectType, ArrayType, StringType, BooleanType, NumberIntegerType, NumberUnsignedType, NumberFloatType, AllocatorType, JSONSerializer, BinaryType &gt;::begin()</a>, <a class="el" href="../../#l04751">nlohmann::basic_json&lt; ObjectType, ArrayType, StringType, BooleanType, NumberIntegerType, NumberUnsignedType, NumberFloatType, AllocatorType, JSONSerializer, BinaryType &gt;::end()</a>, <a class="el" href="../../#l00109">error</a>, <a class="el" href="../../#l03207">nlohmann::basic_json&lt; ObjectType, ArrayType, StringType, BooleanType, NumberIntegerType, NumberUnsignedType, NumberFloatType, AllocatorType, JSONSerializer, BinaryType &gt;::get()</a>, <a class="el" href="../../#l00691">Slic3r::Http::get()</a>, <a class="el" href="../../#l02732">nlohmann::basic_json&lt; ObjectType, ArrayType, StringType, BooleanType, NumberIntegerType, NumberUnsignedType, NumberFloatType, AllocatorType, JSONSerializer, BinaryType &gt;::is_array()</a>, <a class="el" href="../../#l00103">Slic3r::Semver::maj()</a>, <a class="el" href="../../#l00104">Slic3r::Semver::min()</a>, <a class="el" href="../../#l00649">Slic3r::Http::on_progress()</a>, <a class="el" href="../../#l06897">nlohmann::basic_json&lt; ObjectType, ArrayType, StringType, BooleanType, NumberIntegerType, NumberUnsignedType, NumberFloatType, AllocatorType, JSONSerializer, BinaryType &gt;::parse()</a>, <a class="el" href="../../#l00105">Slic3r::Semver::patch()</a>, <a class="el" href="../../#l00053">Slic3r::TMP_EXTENSION</a>, <a class="el" href="../../#l00133">Slic3r::Semver::to_string()</a>, <a class="el" href="../../#l00172">Slic3r::trace()</a>, and <a class="el" href="../../#l03989">nlohmann::basic_json&lt; ObjectType, ArrayType, StringType, BooleanType, NumberIntegerType, NumberUnsignedType, NumberFloatType, AllocatorType, JSONSerializer, BinaryType &gt;::value()</a>.</p>
<div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv_afddd68cc6236d71da97058112dd7ebde_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a3c34fe470b02d1291749c6a0413e0f3b" name="a3c34fe470b02d1291749c6a0413e0f3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c34fe470b02d1291749c6a0413e0f3b">&#9670;&#160;</a></span>sync_tooltip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::PresetUpdater::priv::sync_tooltip </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>http_url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>language</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  803</span>{</div>
<div class="line"><span class="lineno">  804</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  805</span>        std::string common_version = <span class="stringliteral">&quot;00.00.00.00&quot;</span>;</div>
<div class="line"><span class="lineno">  806</span>        std::string language_version = <span class="stringliteral">&quot;00.00.00.00&quot;</span>;</div>
<div class="line"><span class="lineno">  807</span>        fs::path cache_root = fs::path(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a52157a1dec9ce067a7e19b02ef13e1f3">data_dir</a>()) / <span class="stringliteral">&quot;resources/tooltip&quot;</span>;</div>
<div class="line"><span class="lineno">  808</span>        <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  809</span>            <span class="keyword">auto</span> vf = cache_root / <span class="stringliteral">&quot;common&quot;</span> / <span class="stringliteral">&quot;version&quot;</span>;</div>
<div class="line"><span class="lineno">  810</span>            <span class="keywordflow">if</span> (fs::exists(vf)) fs::load_string_file(vf, common_version);</div>
<div class="line"><span class="lineno">  811</span>            vf = cache_root / language / <span class="stringliteral">&quot;version&quot;</span>;</div>
<div class="line"><span class="lineno">  812</span>            <span class="keywordflow">if</span> (fs::exists(vf)) fs::load_string_file(vf, language_version);</div>
<div class="line"><span class="lineno">  813</span>        } <span class="keywordflow">catch</span> (...) {}</div>
<div class="line"><span class="lineno">  814</span>        std::map&lt;std::string, Resource&gt; resources</div>
<div class="line"><span class="lineno">  815</span>        {</div>
<div class="line"><span class="lineno">  816</span>            {<span class="stringliteral">&quot;slicer/tooltip/common&quot;</span>, { common_version, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, (cache_root / <span class="stringliteral">&quot;common&quot;</span>).<span class="keywordtype">string</span>() }},</div>
<div class="line"><span class="lineno">  817</span>            {<span class="stringliteral">&quot;slicer/tooltip/&quot;</span> + language, { language_version, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, (cache_root / language).<span class="keywordtype">string</span>() }}</div>
<div class="line"><span class="lineno">  818</span>        };</div>
<div class="line"><span class="lineno">  819</span>        <a class="code hl_function" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#afddd68cc6236d71da97058112dd7ebde">sync_resources</a>(http_url, resources);</div>
<div class="line"><span class="lineno">  820</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;r : resources) {</div>
<div class="line"><span class="lineno">  821</span>            <span class="keywordflow">if</span> (!r.second.url.empty()) {</div>
<div class="line"><span class="lineno">  822</span>                <a class="code hl_function" href="../../d9/da3/class_slic3r_1_1_g_u_i_1_1_markdown_tip.html#acf586146e9ba5a589d7cac0dd2632a64">GUI::MarkdownTip::Reload</a>();</div>
<div class="line"><span class="lineno">  823</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  824</span>            }</div>
<div class="line"><span class="lineno">  825</span>        }</div>
<div class="line"><span class="lineno">  826</span>    }</div>
<div class="line"><span class="lineno">  827</span>    <span class="keywordflow">catch</span> (std::exception&amp; e) {</div>
<div class="line"><span class="lineno">  828</span>        BOOST_LOG_TRIVIAL(warning) &lt;&lt; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab28c13d286b2d1767d7c63b020ebd042">format</a>(<span class="stringliteral">&quot;[BBL Updater] sync_tooltip: %1%&quot;</span>, e.what());</div>
<div class="line"><span class="lineno">  829</span>    }</div>
<div class="line"><span class="lineno">  830</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_g_u_i_1_1_markdown_tip_html_acf586146e9ba5a589d7cac0dd2632a64"><div class="ttname"><a href="../../d9/da3/class_slic3r_1_1_g_u_i_1_1_markdown_tip.html#acf586146e9ba5a589d7cac0dd2632a64">Slic3r::GUI::MarkdownTip::Reload</a></div><div class="ttdeci">static void Reload()</div><div class="ttdef"><b>Definition</b> MarkdownTip.cpp:310</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00266">Slic3r::data_dir()</a>, <a class="el" href="../../#l00044">Slic3r::format()</a>, and <a class="el" href="../../#l00310">Slic3r::GUI::MarkdownTip::Reload()</a>.</p>
<div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv_a3c34fe470b02d1291749c6a0413e0f3b_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ad12927fd83706a1bc12c835eaaa0dd53" name="ad12927fd83706a1bc12c835eaaa0dd53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad12927fd83706a1bc12c835eaaa0dd53">&#9670;&#160;</a></span>sync_version()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::PresetUpdater::priv::sync_version </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  354</span>{</div>
<div class="line"><span class="lineno">  355</span>  <span class="keywordflow">if</span> (! <a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#ad095998a4965d49ef60cd34950cc8015">enabled_version_check</a>) { <span class="keywordflow">return</span>; }</div>
<div class="line"><span class="lineno">  356</span> </div>
<div class="line"><span class="lineno">  357</span><span class="preprocessor">#if 0</span></div>
<div class="line"><span class="lineno">  358</span>  <a class="code hl_function" href="../../d4/dbf/class_slic3r_1_1_http.html#aece8b9cd77673a474fe97331604914aa">Http::get</a>(<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a3ba85d0a6fd5e6b60876f7d594838e56">version_check_url</a>)</div>
<div class="line"><span class="lineno">  359</span>    .<a class="code hl_function" href="../../d4/dbf/class_slic3r_1_1_http.html#a1eb3635f51522030d47e3453225c40f7">size_limit</a>(<a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a4f44b2d27129f44b1e8c5a4ed65792ac">SLIC3R_VERSION_BODY_MAX</a>)</div>
<div class="line"><span class="lineno">  360</span>    .<a class="code hl_function" href="../../d4/dbf/class_slic3r_1_1_http.html#afda74f7b9247f37db6075db0d5d7de67">on_progress</a>([<span class="keyword">this</span>](Http::Progress, <span class="keywordtype">bool</span> &amp;<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#af00decc3399244b5aca6e99ef79ae3a0">cancel</a>) {</div>
<div class="line"><span class="lineno">  361</span>      <a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#af00decc3399244b5aca6e99ef79ae3a0">cancel</a> = this-&gt;<a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#af00decc3399244b5aca6e99ef79ae3a0">cancel</a>;</div>
<div class="line"><span class="lineno">  362</span>    })</div>
<div class="line"><span class="lineno">  363</span>    .on_error([&amp;](std::string body, std::string <a class="code hl_variable" href="../../d5/d8c/xmlrole_8c.html#a2739afc9d7ed13e98e5e0c5b2e1f0428">error</a>, <span class="keywordtype">unsigned</span> http_status) {</div>
<div class="line"><span class="lineno">  364</span>      (<a class="code hl_function" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>)body;</div>
<div class="line"><span class="lineno">  365</span>      BOOST_LOG_TRIVIAL(<a class="code hl_variable" href="../../d5/d8c/xmlrole_8c.html#a2739afc9d7ed13e98e5e0c5b2e1f0428">error</a>) &lt;&lt; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab28c13d286b2d1767d7c63b020ebd042">format</a>(<span class="stringliteral">&quot;Error getting: `%1%`: HTTP %2%, %3%&quot;</span>,</div>
<div class="line"><span class="lineno">  366</span>        <a class="code hl_variable" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a3ba85d0a6fd5e6b60876f7d594838e56">version_check_url</a>,</div>
<div class="line"><span class="lineno">  367</span>        http_status,</div>
<div class="line"><span class="lineno">  368</span>        <a class="code hl_variable" href="../../d5/d8c/xmlrole_8c.html#a2739afc9d7ed13e98e5e0c5b2e1f0428">error</a>);</div>
<div class="line"><span class="lineno">  369</span>    })</div>
<div class="line"><span class="lineno">  370</span>    .on_complete([&amp;](std::string body, <span class="keywordtype">unsigned</span> <span class="comment">/* http_status */</span>) {</div>
<div class="line"><span class="lineno">  371</span>      boost::trim(body);</div>
<div class="line"><span class="lineno">  372</span>      <a class="code hl_function" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a35f4f9fe65a55c7e3b333d801c196156">parse_version_string</a>(body);</div>
<div class="line"><span class="lineno">  373</span>    })</div>
<div class="line"><span class="lineno">  374</span>    .perform_sync();</div>
<div class="line"><span class="lineno">  375</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  376</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_http_html_a1eb3635f51522030d47e3453225c40f7"><div class="ttname"><a href="../../d4/dbf/class_slic3r_1_1_http.html#a1eb3635f51522030d47e3453225c40f7">Slic3r::Http::size_limit</a></div><div class="ttdeci">Http &amp; size_limit(size_t sizeLimit)</div><div class="ttdef"><b>Definition</b> Http.cpp:495</div></div>
<div class="ttc" id="anamespace_slic3r_html_a4f44b2d27129f44b1e8c5a4ed65792ac"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a4f44b2d27129f44b1e8c5a4ed65792ac">Slic3r::SLIC3R_VERSION_BODY_MAX</a></div><div class="ttdeci">static constexpr const int SLIC3R_VERSION_BODY_MAX</div><div class="ttdef"><b>Definition</b> PresetUpdater.hpp:16</div></div>
<div class="ttc" id="astruct_slic3r_1_1_preset_updater_1_1priv_html_a35f4f9fe65a55c7e3b333d801c196156"><div class="ttname"><a href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html#a35f4f9fe65a55c7e3b333d801c196156">Slic3r::PresetUpdater::priv::parse_version_string</a></div><div class="ttdeci">void parse_version_string(const std::string &amp;body) const</div><div class="ttdef"><b>Definition</b> PresetUpdater.cpp:380</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00109">error</a>, <a class="el" href="../../#l00044">Slic3r::format()</a>, <a class="el" href="../../#l00691">Slic3r::Http::get()</a>, <a class="el" href="../../#l00649">Slic3r::Http::on_progress()</a>, <a class="el" href="../../#l00495">Slic3r::Http::size_limit()</a>, <a class="el" href="../../#l00016">Slic3r::SLIC3R_VERSION_BODY_MAX</a>, and <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void()</a>.</p>
<div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv_ad12927fd83706a1bc12c835eaaa0dd53_cgraph.svg" width="570" height="258"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a88634a7648d871f97108572cd4f47cb2" name="a88634a7648d871f97108572cd4f47cb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88634a7648d871f97108572cd4f47cb2">&#9670;&#160;</a></span>cache_path</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fs::path Slic3r::PresetUpdater::priv::cache_path</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af00decc3399244b5aca6e99ef79ae3a0" name="af00decc3399244b5aca6e99ef79ae3a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af00decc3399244b5aca6e99ef79ae3a0">&#9670;&#160;</a></span>cancel</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::PresetUpdater::priv::cancel</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a255e3e6a853e64eec598429806f9f2c6" name="a255e3e6a853e64eec598429806f9f2c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a255e3e6a853e64eec598429806f9f2c6">&#9670;&#160;</a></span>enabled_config_update</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::PresetUpdater::priv::enabled_config_update</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad095998a4965d49ef60cd34950cc8015" name="ad095998a4965d49ef60cd34950cc8015"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad095998a4965d49ef60cd34950cc8015">&#9670;&#160;</a></span>enabled_version_check</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::PresetUpdater::priv::enabled_version_check</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00216">priv()</a>.</p>

</div>
</div>
<a id="a58ce233e25e1e0e9d0dc4b0b4ebf8946" name="a58ce233e25e1e0e9d0dc4b0b4ebf8946"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58ce233e25e1e0e9d0dc4b0b4ebf8946">&#9670;&#160;</a></span>has_waiting_updates</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::PresetUpdater::priv::has_waiting_updates { false }</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9aa4adf03d64f554268f5d7a361ffc36" name="a9aa4adf03d64f554268f5d7a361ffc36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9aa4adf03d64f554268f5d7a361ffc36">&#9670;&#160;</a></span>index_db</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../d8/df0/class_slic3r_1_1_g_u_i_1_1_config_1_1_index.html">Index</a>&gt; Slic3r::PresetUpdater::priv::index_db</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a12b772e680a5ca2fd88eae6c7ae4e4c6" name="a12b772e680a5ca2fd88eae6c7ae4e4c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12b772e680a5ca2fd88eae6c7ae4e4c6">&#9670;&#160;</a></span>rsrc_path</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fs::path Slic3r::PresetUpdater::priv::rsrc_path</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3d3693efa8b964fa904018baa8ef29b9" name="a3d3693efa8b964fa904018baa8ef29b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d3693efa8b964fa904018baa8ef29b9">&#9670;&#160;</a></span>thread</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::thread Slic3r::PresetUpdater::priv::thread</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="adde3af38e04d0285249d847b004c23f4" name="adde3af38e04d0285249d847b004c23f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adde3af38e04d0285249d847b004c23f4">&#9670;&#160;</a></span>vendor_path</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fs::path Slic3r::PresetUpdater::priv::vendor_path</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3ba85d0a6fd5e6b60876f7d594838e56" name="a3ba85d0a6fd5e6b60876f7d594838e56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ba85d0a6fd5e6b60876f7d594838e56">&#9670;&#160;</a></span>version_check_url</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string Slic3r::PresetUpdater::priv::version_check_url</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5f49f4486a39f2fab2910b14f717a99d" name="a5f49f4486a39f2fab2910b14f717a99d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f49f4486a39f2fab2910b14f717a99d">&#9670;&#160;</a></span>waiting_updates</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/db8/namespace_slic3r.html#d9/df6/struct_slic3r_1_1_updates">Updates</a> Slic3r::PresetUpdater::priv::waiting_updates</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>src/slic3r/Utils/<a class="el" href="../../">PresetUpdater.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../de/db8/namespace_slic3r.html">Slic3r</a></li><li class="navelem"><a class="el" href="../../d9/d80/class_slic3r_1_1_preset_updater.html">PresetUpdater</a></li><li class="navelem"><a class="el" href="../../db/d7e/struct_slic3r_1_1_preset_updater_1_1priv.html">priv</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>
</body>
</html>
