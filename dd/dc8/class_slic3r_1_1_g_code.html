<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OrcaSlicer: Slic3r::GCode Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../OrcaSlicer_32px.png"/></td>
  <td id="projectalign">
   <div id="projectname">OrcaSlicer<span id="projectnumber">&#160;1.6.3</span>
   </div>
   <div id="projectbrief">OrcaSlicer</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('dd/dc8/class_slic3r_1_1_g_code.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="../../d5/da5/class_slic3r_1_1_g_code-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Slic3r::GCode Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../">src/libslic3r/GCode.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Collaboration diagram for Slic3r::GCode:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/ddd/class_slic3r_1_1_g_code__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/db8/class_slic3r_1_1_g_code_1_1_g_code_output_stream.html">GCodeOutputStream</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d59/struct_slic3r_1_1_g_code_1_1_instance_to_print.html">InstanceToPrint</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:de/dad/struct_slic3r_1_1_g_code_1_1_layer_result"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#de/dad/struct_slic3r_1_1_g_code_1_1_layer_result">LayerResult</a></td></tr>
<tr class="separator:de/dad/struct_slic3r_1_1_g_code_1_1_layer_result"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d75/struct_slic3r_1_1_g_code_1_1_layer_to_print.html">LayerToPrint</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d6c/struct_slic3r_1_1_g_code_1_1_object_by_extruder.html">ObjectByExtruder</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a95595025dcf23ca2d62043972749f987"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a95595025dcf23ca2d62043972749f987">GCode</a> ()</td></tr>
<tr class="separator:a95595025dcf23ca2d62043972749f987"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58ca16bd3128571702a37b6de148ccfc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a58ca16bd3128571702a37b6de148ccfc">~GCode</a> ()=default</td></tr>
<tr class="separator:a58ca16bd3128571702a37b6de148ccfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41ddab6bfd15c1848026271f48485efb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a41ddab6bfd15c1848026271f48485efb">do_export</a> (<a class="el" href="../../d5/d8f/class_slic3r_1_1_print.html">Print</a> *print, const char *path, <a class="el" href="../../de/d71/struct_slic3r_1_1_g_code_processor_result.html">GCodeProcessorResult</a> *result=nullptr, <a class="el" href="../../de/db8/namespace_slic3r.html#a79187906049e3735014486bf42b0180f">ThumbnailsGeneratorCallback</a> thumbnail_cb=nullptr)</td></tr>
<tr class="separator:a41ddab6bfd15c1848026271f48485efb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83b5d516a67989b50dcf5b9f1fb50ca5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a83b5d516a67989b50dcf5b9f1fb50ca5">set_gcode_offset</a> (double x, double y)</td></tr>
<tr class="separator:a83b5d516a67989b50dcf5b9f1fb50ca5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bae1380df8dfd500cadfb986de661c5"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a3bae1380df8dfd500cadfb986de661c5">origin</a> () const</td></tr>
<tr class="separator:a3bae1380df8dfd500cadfb986de661c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a659974d95788b7195e7a45e45115565d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a659974d95788b7195e7a45e45115565d">set_origin</a> (const <a class="el" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a> &amp;pointf)</td></tr>
<tr class="separator:a659974d95788b7195e7a45e45115565d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20d5b09bf08979ee1ada69686492af6c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a20d5b09bf08979ee1ada69686492af6c">set_origin</a> (const <a class="el" href="../../de/db8/namespace_slic3r.html#a2ac5c755948c74f5f5f975acd5057fe9">coordf_t</a> x, const <a class="el" href="../../de/db8/namespace_slic3r.html#a2ac5c755948c74f5f5f975acd5057fe9">coordf_t</a> y)</td></tr>
<tr class="separator:a20d5b09bf08979ee1ada69686492af6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a935d5bd6724a00bd0de46fbedb581786"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a935d5bd6724a00bd0de46fbedb581786">last_pos</a> () const</td></tr>
<tr class="separator:a935d5bd6724a00bd0de46fbedb581786"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae69c3d88b0093b87f42cb2053dd52129"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae69c3d88b0093b87f42cb2053dd52129">point_to_gcode</a> (const <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;point) const</td></tr>
<tr class="separator:ae69c3d88b0093b87f42cb2053dd52129"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbdebd4b5ba8c690411fd533f4307f63"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#abbdebd4b5ba8c690411fd533f4307f63">gcode_to_point</a> (const <a class="el" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a> &amp;point) const</td></tr>
<tr class="separator:abbdebd4b5ba8c690411fd533f4307f63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad040baf0648c9cc3c84c63643143ab98"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad040baf0648c9cc3c84c63643143ab98">point_to_gcode_quantized</a> (const <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;point) const</td></tr>
<tr class="separator:ad040baf0648c9cc3c84c63643143ab98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae28a3adcf7e9d41743591a067d1f0d6e"><td class="memItemLeft" align="right" valign="top">const FullPrintConfig &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a> () const</td></tr>
<tr class="separator:ae28a3adcf7e9d41743591a067d1f0d6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefd4abaf0d1c18be14b61558b8d504cd"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../d1/d68/class_slic3r_1_1_layer.html">Layer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aefd4abaf0d1c18be14b61558b8d504cd">layer</a> () const</td></tr>
<tr class="separator:aefd4abaf0d1c18be14b61558b8d504cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade2f4af324da97d5fb8eadca3af5c489"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html">GCodeWriter</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ade2f4af324da97d5fb8eadca3af5c489">writer</a> ()</td></tr>
<tr class="separator:ade2f4af324da97d5fb8eadca3af5c489"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3f12a69a722e7b54c5e3824da616376"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html">GCodeWriter</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#af3f12a69a722e7b54c5e3824da616376">writer</a> () const</td></tr>
<tr class="separator:af3f12a69a722e7b54c5e3824da616376"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f1bdce4c35a519aae50021a7e2a0ee9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html">PlaceholderParser</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a9f1bdce4c35a519aae50021a7e2a0ee9">placeholder_parser</a> ()</td></tr>
<tr class="separator:a9f1bdce4c35a519aae50021a7e2a0ee9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61dd5eaf8f1e1394f3ad1a52e43c798d"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html">PlaceholderParser</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a61dd5eaf8f1e1394f3ad1a52e43c798d">placeholder_parser</a> () const</td></tr>
<tr class="separator:a61dd5eaf8f1e1394f3ad1a52e43c798d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70b6e83de9e549d8405f5b63783ac290"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a70b6e83de9e549d8405f5b63783ac290">placeholder_parser_process</a> (const std::string &amp;name, const std::string &amp;templ, unsigned <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a> current_extruder_id, const <a class="el" href="../../d5/df0/class_slic3r_1_1_dynamic_config.html">DynamicConfig</a> *config_override=nullptr)</td></tr>
<tr class="separator:a70b6e83de9e549d8405f5b63783ac290"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42a4dcb03a407aa797547aef7e5ae979"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a42a4dcb03a407aa797547aef7e5ae979">enable_cooling_markers</a> () const</td></tr>
<tr class="separator:a42a4dcb03a407aa797547aef7e5ae979"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c98ef8ced7012c15ae97a9cf3dfc7e6"><td class="memItemLeft" align="right" valign="top">unsigned <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a5c98ef8ced7012c15ae97a9cf3dfc7e6">layer_count</a> () const</td></tr>
<tr class="separator:a5c98ef8ced7012c15ae97a9cf3dfc7e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21c5ef0b519fe5f2c2719221884c9a89"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a21c5ef0b519fe5f2c2719221884c9a89">set_layer_count</a> (unsigned <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a> value)</td></tr>
<tr class="separator:a21c5ef0b519fe5f2c2719221884c9a89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b877f79ab3624962b83514ec57c5e6d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7b877f79ab3624962b83514ec57c5e6d">apply_print_config</a> (const PrintConfig &amp;print_config)</td></tr>
<tr class="separator:a7b877f79ab3624962b83514ec57c5e6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d246cfdea1c2e9be90f89b59e015ce3"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a6d246cfdea1c2e9be90f89b59e015ce3">travel_to</a> (const <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;point, <a class="el" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6">ExtrusionRole</a> role, std::string comment)</td></tr>
<tr class="separator:a6d246cfdea1c2e9be90f89b59e015ce3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6491a102ebdf57d9954a879f060868b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ab6491a102ebdf57d9954a879f060868b">needs_retraction</a> (const <a class="el" href="../../d6/de0/class_slic3r_1_1_polyline.html">Polyline</a> &amp;travel, <a class="el" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6">ExtrusionRole</a> role, <a class="el" href="../../de/db8/namespace_slic3r.html#a65af44fb00b6bb6bdda9775762b39569">LiftType</a> &amp;lift_type)</td></tr>
<tr class="separator:ab6491a102ebdf57d9954a879f060868b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a058728ea49ef66a4b1e7ca9ac361a3ae"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a058728ea49ef66a4b1e7ca9ac361a3ae">retract</a> (bool toolchange=false, bool is_last_retraction=false, <a class="el" href="../../de/db8/namespace_slic3r.html#a65af44fb00b6bb6bdda9775762b39569">LiftType</a> lift_type=<a class="el" href="../../de/db8/namespace_slic3r.html#a65af44fb00b6bb6bdda9775762b39569a763d32b709205d9b87f5d8dd16c5e7b8">LiftType::SpiralLift</a>)</td></tr>
<tr class="separator:a058728ea49ef66a4b1e7ca9ac361a3ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af816f73f41514944c38bf6b59406b73f"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#af816f73f41514944c38bf6b59406b73f">unretract</a> ()</td></tr>
<tr class="separator:af816f73f41514944c38bf6b59406b73f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17e6b9621f765ee22ac0cc4eaf9ca1c7"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a17e6b9621f765ee22ac0cc4eaf9ca1c7">set_extruder</a> (unsigned <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a> extruder_id, double print_z)</td></tr>
<tr class="separator:a17e6b9621f765ee22ac0cc4eaf9ca1c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a922d730b3489f1dcef6d8b914998bb51"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a922d730b3489f1dcef6d8b914998bb51">is_BBL_Printer</a> ()</td></tr>
<tr class="separator:a922d730b3489f1dcef6d8b914998bb51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36b8e2d3b037f153fd3faebc321bc5cb"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a36b8e2d3b037f153fd3faebc321bc5cb">set_object_info</a> (<a class="el" href="../../d5/d8f/class_slic3r_1_1_print.html">Print</a> *print)</td></tr>
<tr class="separator:a36b8e2d3b037f153fd3faebc321bc5cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a70ab5d10c313544c2b21570695f06485"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a70ab5d10c313544c2b21570695f06485">append_full_config</a> (const <a class="el" href="../../d5/d8f/class_slic3r_1_1_print.html">Print</a> &amp;print, std::string &amp;str)</td></tr>
<tr class="separator:a70ab5d10c313544c2b21570695f06485"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ad5ac0f44c2121cf8d09cc7fde2dae045"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad5ac0f44c2121cf8d09cc7fde2dae045">_do_export</a> (<a class="el" href="../../d5/d8f/class_slic3r_1_1_print.html">Print</a> &amp;print, <a class="el" href="../../d7/db8/class_slic3r_1_1_g_code_1_1_g_code_output_stream.html">GCodeOutputStream</a> &amp;file, <a class="el" href="../../de/db8/namespace_slic3r.html#a79187906049e3735014486bf42b0180f">ThumbnailsGeneratorCallback</a> thumbnail_cb)</td></tr>
<tr class="separator:ad5ac0f44c2121cf8d09cc7fde2dae045"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af21d155aeb9662601bf3183370517d50"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#de/dad/struct_slic3r_1_1_g_code_1_1_layer_result">LayerResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#af21d155aeb9662601bf3183370517d50">process_layer</a> (const <a class="el" href="../../d5/d8f/class_slic3r_1_1_print.html">Print</a> &amp;print, const std::vector&lt; <a class="el" href="../../df/d75/struct_slic3r_1_1_g_code_1_1_layer_to_print.html">LayerToPrint</a> &gt; &amp;layers, const <a class="el" href="../../dc/d78/class_slic3r_1_1_layer_tools.html">LayerTools</a> &amp;layer_tools, const bool last_layer, const std::vector&lt; const <a class="el" href="../../de/d18/struct_slic3r_1_1_print_instance.html">PrintInstance</a> * &gt; *ordering, const size_t single_object_idx=size_t(-1), const bool prime_extruder=false)</td></tr>
<tr class="separator:af21d155aeb9662601bf3183370517d50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5972afc9f6c50f533adaa58259a12b47"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a5972afc9f6c50f533adaa58259a12b47">process_layers</a> (const <a class="el" href="../../d5/d8f/class_slic3r_1_1_print.html">Print</a> &amp;print, const <a class="el" href="../../d7/db7/class_slic3r_1_1_tool_ordering.html">ToolOrdering</a> &amp;tool_ordering, const std::vector&lt; const <a class="el" href="../../de/d18/struct_slic3r_1_1_print_instance.html">PrintInstance</a> * &gt; &amp;print_object_instances_ordering, const std::vector&lt; std::pair&lt; <a class="el" href="../../de/db8/namespace_slic3r.html#a2ac5c755948c74f5f5f975acd5057fe9">coordf_t</a>, std::vector&lt; <a class="el" href="../../df/d75/struct_slic3r_1_1_g_code_1_1_layer_to_print.html">LayerToPrint</a> &gt; &gt; &gt; &amp;layers_to_print, <a class="el" href="../../d7/db8/class_slic3r_1_1_g_code_1_1_g_code_output_stream.html">GCodeOutputStream</a> &amp;output_stream)</td></tr>
<tr class="separator:a5972afc9f6c50f533adaa58259a12b47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abff1a3a1482530fc4e8a1d5e8d7d03a0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#abff1a3a1482530fc4e8a1d5e8d7d03a0">process_layers</a> (const <a class="el" href="../../d5/d8f/class_slic3r_1_1_print.html">Print</a> &amp;print, const <a class="el" href="../../d7/db7/class_slic3r_1_1_tool_ordering.html">ToolOrdering</a> &amp;tool_ordering, std::vector&lt; <a class="el" href="../../df/d75/struct_slic3r_1_1_g_code_1_1_layer_to_print.html">LayerToPrint</a> &gt; layers_to_print, const size_t single_object_idx, <a class="el" href="../../d7/db8/class_slic3r_1_1_g_code_1_1_g_code_output_stream.html">GCodeOutputStream</a> &amp;output_stream, const bool prime_extruder=false)</td></tr>
<tr class="separator:abff1a3a1482530fc4e8a1d5e8d7d03a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2aa88a937a12e7e923de6bc93835c1e3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2aa88a937a12e7e923de6bc93835c1e3">check_placeholder_parser_failed</a> ()</td></tr>
<tr class="separator:a2aa88a937a12e7e923de6bc93835c1e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2690c7ccdb7cacc74b2ec148fafb8427"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2690c7ccdb7cacc74b2ec148fafb8427">set_last_pos</a> (const <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;pos)</td></tr>
<tr class="separator:a2690c7ccdb7cacc74b2ec148fafb8427"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a105b1e6249c8328f8e12b70d8ac983cb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a105b1e6249c8328f8e12b70d8ac983cb">last_pos_defined</a> () const</td></tr>
<tr class="separator:a105b1e6249c8328f8e12b70d8ac983cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6320878ee4fff4ad7f30400b2bf8da9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ac6320878ee4fff4ad7f30400b2bf8da9">set_extruders</a> (const std::vector&lt; unsigned <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt; &amp;extruder_ids)</td></tr>
<tr class="separator:ac6320878ee4fff4ad7f30400b2bf8da9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b9cd040ce1ef5fbc7d0ff2676b3fb50"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a1b9cd040ce1ef5fbc7d0ff2676b3fb50">preamble</a> ()</td></tr>
<tr class="separator:a1b9cd040ce1ef5fbc7d0ff2676b3fb50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3a355ee318e2ae0abd866a8cc2b74c6"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ac3a355ee318e2ae0abd866a8cc2b74c6">change_layer</a> (<a class="el" href="../../de/db8/namespace_slic3r.html#a2ac5c755948c74f5f5f975acd5057fe9">coordf_t</a> print_z, bool lazy_raise=false)</td></tr>
<tr class="separator:ac3a355ee318e2ae0abd866a8cc2b74c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a999e940fc9198432b7a120451d246b6f"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a999e940fc9198432b7a120451d246b6f">extrude_entity</a> (const <a class="el" href="../../de/d7c/class_slic3r_1_1_extrusion_entity.html">ExtrusionEntity</a> &amp;entity, std::string description=&quot;&quot;, double speed=-1.)</td></tr>
<tr class="separator:a999e940fc9198432b7a120451d246b6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0bdb9f5adcd41e1415f5f47f783586c"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae0bdb9f5adcd41e1415f5f47f783586c">extrude_loop</a> (<a class="el" href="../../d8/d50/class_slic3r_1_1_extrusion_loop.html">ExtrusionLoop</a> loop, std::string description, double speed=-1.)</td></tr>
<tr class="separator:ae0bdb9f5adcd41e1415f5f47f783586c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2658e85cf988801f658cc55900392fd1"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2658e85cf988801f658cc55900392fd1">extrude_multi_path</a> (<a class="el" href="../../d9/de4/class_slic3r_1_1_extrusion_multi_path.html">ExtrusionMultiPath</a> multipath, std::string description=&quot;&quot;, double speed=-1.)</td></tr>
<tr class="separator:a2658e85cf988801f658cc55900392fd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2305ebf68b102db066b7f1bf60ca8977"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2305ebf68b102db066b7f1bf60ca8977">extrude_path</a> (<a class="el" href="../../d7/dbc/class_slic3r_1_1_extrusion_path.html">ExtrusionPath</a> path, std::string description=&quot;&quot;, double speed=-1.)</td></tr>
<tr class="separator:a2305ebf68b102db066b7f1bf60ca8977"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c34d1224cd3ca1e6abc1080d2b4157a"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../dc/d59/struct_slic3r_1_1_g_code_1_1_instance_to_print.html">InstanceToPrint</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a9c34d1224cd3ca1e6abc1080d2b4157a">sort_print_object_instances</a> (std::vector&lt; <a class="el" href="../../dc/d6c/struct_slic3r_1_1_g_code_1_1_object_by_extruder.html">ObjectByExtruder</a> &gt; &amp;objects_by_extruder, const std::vector&lt; <a class="el" href="../../df/d75/struct_slic3r_1_1_g_code_1_1_layer_to_print.html">LayerToPrint</a> &gt; &amp;layers, const std::vector&lt; const <a class="el" href="../../de/d18/struct_slic3r_1_1_print_instance.html">PrintInstance</a> * &gt; *ordering, const size_t single_object_instance_idx)</td></tr>
<tr class="separator:a9c34d1224cd3ca1e6abc1080d2b4157a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a855717504baf9bd14e86f032a0e21e0c"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a855717504baf9bd14e86f032a0e21e0c">extrude_perimeters</a> (const <a class="el" href="../../d5/d8f/class_slic3r_1_1_print.html">Print</a> &amp;print, const std::vector&lt; <a class="el" href="../../db/dad/struct_slic3r_1_1_g_code_1_1_object_by_extruder_1_1_island_1_1_region.html">ObjectByExtruder::Island::Region</a> &gt; &amp;by_region)</td></tr>
<tr class="separator:a855717504baf9bd14e86f032a0e21e0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f44a133b4c530ddec9d2904c8c66c6e"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a5f44a133b4c530ddec9d2904c8c66c6e">extrude_infill</a> (const <a class="el" href="../../d5/d8f/class_slic3r_1_1_print.html">Print</a> &amp;print, const std::vector&lt; <a class="el" href="../../db/dad/struct_slic3r_1_1_g_code_1_1_object_by_extruder_1_1_island_1_1_region.html">ObjectByExtruder::Island::Region</a> &gt; &amp;by_region, bool ironing)</td></tr>
<tr class="separator:a5f44a133b4c530ddec9d2904c8c66c6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6e0613456f92543d17bd439371cce0b"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ac6e0613456f92543d17bd439371cce0b">extrude_support</a> (const <a class="el" href="../../dd/d1d/class_slic3r_1_1_extrusion_entity_collection.html">ExtrusionEntityCollection</a> &amp;support_fills)</td></tr>
<tr class="separator:ac6e0613456f92543d17bd439371cce0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f5e825b0be31d58b7b5d28c3446df5b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/db8/namespace_slic3r.html#a65af44fb00b6bb6bdda9775762b39569">LiftType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2f5e825b0be31d58b7b5d28c3446df5b">to_lift_type</a> (<a class="el" href="../../de/db8/namespace_slic3r.html#a36eff5dabc254e08593a3f3963b56adb">ZHopType</a> z_hop_types)</td></tr>
<tr class="separator:a2f5e825b0be31d58b7b5d28c3446df5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00f245d70e13592ac58559bd6779899e"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a00f245d70e13592ac58559bd6779899e">_encode_label_ids_to_base64</a> (std::vector&lt; size_t &gt; ids)</td></tr>
<tr class="separator:a00f245d70e13592ac58559bd6779899e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7079d6608d218b9076cd47554648c8b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ab7079d6608d218b9076cd47554648c8b">get_bed_temperature</a> (const <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a> extruder_id, const bool is_first_layer, const <a class="el" href="../../de/db8/namespace_slic3r.html#a42fa1ebef02a8ad64595c21fcbe5aebc">BedType</a> bed_type) const</td></tr>
<tr class="separator:ab7079d6608d218b9076cd47554648c8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5898ee27f28f0f3f8ea23390fc67de0"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ab5898ee27f28f0f3f8ea23390fc67de0">_extrude</a> (const <a class="el" href="../../d7/dbc/class_slic3r_1_1_extrusion_path.html">ExtrusionPath</a> &amp;path, std::string description=&quot;&quot;, double speed=-1)</td></tr>
<tr class="separator:ab5898ee27f28f0f3f8ea23390fc67de0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0aa14d5c370dcfa9c9ef3fc656de64cc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a0aa14d5c370dcfa9c9ef3fc656de64cc">print_machine_envelope</a> (<a class="el" href="../../d7/db8/class_slic3r_1_1_g_code_1_1_g_code_output_stream.html">GCodeOutputStream</a> &amp;file, <a class="el" href="../../d5/d8f/class_slic3r_1_1_print.html">Print</a> &amp;print)</td></tr>
<tr class="separator:a0aa14d5c370dcfa9c9ef3fc656de64cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af01f2b164b70e2db11e8dc603f064f7d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#af01f2b164b70e2db11e8dc603f064f7d">_print_first_layer_bed_temperature</a> (<a class="el" href="../../d7/db8/class_slic3r_1_1_g_code_1_1_g_code_output_stream.html">GCodeOutputStream</a> &amp;file, <a class="el" href="../../d5/d8f/class_slic3r_1_1_print.html">Print</a> &amp;print, const std::string &amp;gcode, unsigned <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a> first_printing_extruder_id, bool wait)</td></tr>
<tr class="separator:af01f2b164b70e2db11e8dc603f064f7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad26de7a6470f710e55063e5ddd3ee86d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad26de7a6470f710e55063e5ddd3ee86d">_print_first_layer_extruder_temperatures</a> (<a class="el" href="../../d7/db8/class_slic3r_1_1_g_code_1_1_g_code_output_stream.html">GCodeOutputStream</a> &amp;file, <a class="el" href="../../d5/d8f/class_slic3r_1_1_print.html">Print</a> &amp;print, const std::string &amp;gcode, unsigned <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a> first_printing_extruder_id, bool wait)</td></tr>
<tr class="separator:ad26de7a6470f710e55063e5ddd3ee86d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0eab7dd774297f8da8384a066920011"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae0eab7dd774297f8da8384a066920011">on_first_layer</a> () const</td></tr>
<tr class="separator:ae0eab7dd774297f8da8384a066920011"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adce8c2fd712ff6d0b9b1e3c9cfb6195d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#adce8c2fd712ff6d0b9b1e3c9cfb6195d">layer_id</a> () const</td></tr>
<tr class="separator:adce8c2fd712ff6d0b9b1e3c9cfb6195d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a147ab3f76f3107c846eb2a48a97e74ea"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a147ab3f76f3107c846eb2a48a97e74ea">object_layer_over_raft</a> () const</td></tr>
<tr class="separator:a147ab3f76f3107c846eb2a48a97e74ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-static-methods" name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a7f7906e6e56fa2afb0a72943eb04383d"><td class="memItemLeft" align="right" valign="top">static std::vector&lt; <a class="el" href="../../df/d75/struct_slic3r_1_1_g_code_1_1_layer_to_print.html">LayerToPrint</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7f7906e6e56fa2afb0a72943eb04383d">collect_layers_to_print</a> (const <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> &amp;object)</td></tr>
<tr class="separator:a7f7906e6e56fa2afb0a72943eb04383d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0b1a1a7a5eaf73ebc070ca4d422f7fc"><td class="memItemLeft" align="right" valign="top">static std::vector&lt; std::pair&lt; <a class="el" href="../../de/db8/namespace_slic3r.html#a2ac5c755948c74f5f5f975acd5057fe9">coordf_t</a>, std::vector&lt; <a class="el" href="../../df/d75/struct_slic3r_1_1_g_code_1_1_layer_to_print.html">LayerToPrint</a> &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#af0b1a1a7a5eaf73ebc070ca4d422f7fc">collect_layers_to_print</a> (const <a class="el" href="../../d5/d8f/class_slic3r_1_1_print.html">Print</a> &amp;print)</td></tr>
<tr class="separator:af0b1a1a7a5eaf73ebc070ca4d422f7fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a55c1a36fa083f45789738e732b7e8f51"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="../../d5/dd3/class_slic3r_1_1_object_i_d.html">ObjectID</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a55c1a36fa083f45789738e732b7e8f51">m_objsWithBrim</a></td></tr>
<tr class="separator:a55c1a36fa083f45789738e732b7e8f51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f4b674d8ebba097b1dbc67262ace858"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="../../d5/dd3/class_slic3r_1_1_object_i_d.html">ObjectID</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a6f4b674d8ebba097b1dbc67262ace858">m_objSupportsWithBrim</a></td></tr>
<tr class="separator:a6f4b674d8ebba097b1dbc67262ace858"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adeede141933a8492102e63526cf6157d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/de8/class_slic3r_1_1_seam_placer.html">SeamPlacer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#adeede141933a8492102e63526cf6157d">m_seam_placer</a></td></tr>
<tr class="separator:adeede141933a8492102e63526cf6157d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8398430e2866a9c8219fca25dbed0cf6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/d3b/class_slic3r_1_1_extrusion_quality_estimator.html">ExtrusionQualityEstimator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a8398430e2866a9c8219fca25dbed0cf6">m_extrusion_quality_estimator</a></td></tr>
<tr class="separator:a8398430e2866a9c8219fca25dbed0cf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63c083e26484e98330f09eb6f6e789b4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a63c083e26484e98330f09eb6f6e789b4">m_origin</a></td></tr>
<tr class="separator:a63c083e26484e98330f09eb6f6e789b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acef5d60eee718c186ba6660c879a0d0f"><td class="memItemLeft" align="right" valign="top">FullPrintConfig&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a></td></tr>
<tr class="separator:acef5d60eee718c186ba6660c879a0d0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11c37e89f776408db490f8843d138b03"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/df0/class_slic3r_1_1_dynamic_config.html">DynamicConfig</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a11c37e89f776408db490f8843d138b03">m_calib_config</a></td></tr>
<tr class="separator:a11c37e89f776408db490f8843d138b03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ad6163c48d2f6ccc67aaa7c609bef12"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a3ad6163c48d2f6ccc67aaa7c609bef12">m_scaled_resolution</a></td></tr>
<tr class="separator:a3ad6163c48d2f6ccc67aaa7c609bef12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2db53cf5bbbd368e1f747a7280aa19a8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html">GCodeWriter</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a></td></tr>
<tr class="separator:a2db53cf5bbbd368e1f747a7280aa19a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad74e7798985b999d53045b7ecd19739b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html">PlaceholderParser</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad74e7798985b999d53045b7ecd19739b">m_placeholder_parser</a></td></tr>
<tr class="separator:ad74e7798985b999d53045b7ecd19739b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adba26559de960021180ecc3a2c66b865"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#d7/dee/struct_slic3r_1_1_placeholder_parser_1_1_context_data">PlaceholderParser::ContextData</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#adba26559de960021180ecc3a2c66b865">m_placeholder_parser_context</a></td></tr>
<tr class="separator:adba26559de960021180ecc3a2c66b865"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20286f6e3447ab45f5ec08e04d510645"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a20286f6e3447ab45f5ec08e04d510645">m_placeholder_parser_failed_templates</a></td></tr>
<tr class="separator:a20286f6e3447ab45f5ec08e04d510645"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7da2bd41bc38cf3750716374a164439"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d9c/class_slic3r_1_1_ooze_prevention.html">OozePrevention</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae7da2bd41bc38cf3750716374a164439">m_ooze_prevention</a></td></tr>
<tr class="separator:ae7da2bd41bc38cf3750716374a164439"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd8bb57f4b518c46420f329ce755da31"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d82/class_slic3r_1_1_wipe.html">Wipe</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acd8bb57f4b518c46420f329ce755da31">m_wipe</a></td></tr>
<tr class="separator:acd8bb57f4b518c46420f329ce755da31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb8be36b92178a4ce09801d0204d6af5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d4e/class_slic3r_1_1_avoid_crossing_perimeters.html">AvoidCrossingPerimeters</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#adb8be36b92178a4ce09801d0204d6af5">m_avoid_crossing_perimeters</a></td></tr>
<tr class="separator:adb8be36b92178a4ce09801d0204d6af5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8102ff77109201a7d52e06f95c51fb73"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d8f/class_slic3r_1_1_retract_when_crossing_perimeters.html">RetractWhenCrossingPerimeters</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a8102ff77109201a7d52e06f95c51fb73">m_retract_when_crossing_perimeters</a></td></tr>
<tr class="separator:a8102ff77109201a7d52e06f95c51fb73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d0382a520e8c1ff4be5924a8444d76c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a6d0382a520e8c1ff4be5924a8444d76c">m_enable_loop_clipping</a></td></tr>
<tr class="separator:a6d0382a520e8c1ff4be5924a8444d76c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03533ee19695dc118af85304f49c752f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a03533ee19695dc118af85304f49c752f">m_enable_cooling_markers</a></td></tr>
<tr class="separator:a03533ee19695dc118af85304f49c752f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8073b5c68ecade3632359c884f342f3c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a8073b5c68ecade3632359c884f342f3c">m_enable_exclude_object</a></td></tr>
<tr class="separator:a8073b5c68ecade3632359c884f342f3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cc2e460b5902a6e8c64f064bb87f2ce"><td class="memItemLeft" align="right" valign="top">std::vector&lt; size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7cc2e460b5902a6e8c64f064bb87f2ce">m_label_objects_ids</a></td></tr>
<tr class="separator:a7cc2e460b5902a6e8c64f064bb87f2ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9d8b02b166044e2f0311fbf566da416"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ab9d8b02b166044e2f0311fbf566da416">m_is_overhang_fan_on</a></td></tr>
<tr class="separator:ab9d8b02b166044e2f0311fbf566da416"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2af3222a6bc9941043eb2949bc42356"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ac2af3222a6bc9941043eb2949bc42356">m_is_supp_interface_fan_on</a></td></tr>
<tr class="separator:ac2af3222a6bc9941043eb2949bc42356"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fdf35b1723c68a5955558aa880ab9b9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a5fdf35b1723c68a5955558aa880ab9b9">m_enable_extrusion_role_markers</a></td></tr>
<tr class="separator:a5fdf35b1723c68a5955558aa880ab9b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f4a6b2a5c2405ec1ac57210e107289c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6">ExtrusionRole</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7f4a6b2a5c2405ec1ac57210e107289c">m_last_processor_extrusion_role</a></td></tr>
<tr class="separator:a7f4a6b2a5c2405ec1ac57210e107289c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa528044bae428d5df6df25b4fe44516"><td class="memItemLeft" align="right" valign="top">unsigned <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#afa528044bae428d5df6df25b4fe44516">m_layer_count</a></td></tr>
<tr class="separator:afa528044bae428d5df6df25b4fe44516"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3388b4f3b94c005c8b6c64b1ba9b105d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a3388b4f3b94c005c8b6c64b1ba9b105d">m_layer_index</a></td></tr>
<tr class="separator:a3388b4f3b94c005c8b6c64b1ba9b105d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d8c6148ecc0ecaaf9597bad4ed26083"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../d1/d68/class_slic3r_1_1_layer.html">Layer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7d8c6148ecc0ecaaf9597bad4ed26083">m_layer</a></td></tr>
<tr class="separator:a7d8c6148ecc0ecaaf9597bad4ed26083"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13accc40bdcea1a7bd2e2c2e8ae09af2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a13accc40bdcea1a7bd2e2c2e8ae09af2">m_object_layer_over_raft</a></td></tr>
<tr class="separator:a13accc40bdcea1a7bd2e2c2e8ae09af2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c86826971245bdbc60cab735c44c3d0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6">ExtrusionRole</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7c86826971245bdbc60cab735c44c3d0">m_last_extrusion_role</a></td></tr>
<tr class="separator:a7c86826971245bdbc60cab735c44c3d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5955631beed7bbb1339eaaf5ad6f24f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6">ExtrusionRole</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aa5955631beed7bbb1339eaaf5ad6f24f">m_last_notgapfill_extrusion_role</a></td></tr>
<tr class="separator:aa5955631beed7bbb1339eaaf5ad6f24f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77216b94b9cba2d6e89710c1bd616674"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a77216b94b9cba2d6e89710c1bd616674">m_last_height</a> { 0.0f }</td></tr>
<tr class="separator:a77216b94b9cba2d6e89710c1bd616674"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accca0b22da61853ca952d06c31917235"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#accca0b22da61853ca952d06c31917235">m_last_layer_z</a> { 0.0f }</td></tr>
<tr class="separator:accca0b22da61853ca952d06c31917235"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b412ae6847f90bf35264b3ada4aa01c"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2b412ae6847f90bf35264b3ada4aa01c">m_max_layer_z</a> { 0.0f }</td></tr>
<tr class="separator:a2b412ae6847f90bf35264b3ada4aa01c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a4d8aaca5e07499fd1aca7946bdd817"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a8a4d8aaca5e07499fd1aca7946bdd817">m_last_width</a> { 0.0f }</td></tr>
<tr class="separator:a8a4d8aaca5e07499fd1aca7946bdd817"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b7aecf69aa0fce6b42cd1d6b5792e1a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a5b7aecf69aa0fce6b42cd1d6b5792e1a">m_last_pos</a></td></tr>
<tr class="separator:a5b7aecf69aa0fce6b42cd1d6b5792e1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0b034df0dd1775d1b0d7b04f7a44c9c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad0b034df0dd1775d1b0d7b04f7a44c9c">m_last_pos_defined</a></td></tr>
<tr class="separator:ad0b034df0dd1775d1b0d7b04f7a44c9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7defbc83aafbbea7c9ae7a0ca4c8fef"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="../../d3/ddb/class_slic3r_1_1_cooling_buffer.html">CoolingBuffer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae7defbc83aafbbea7c9ae7a0ca4c8fef">m_cooling_buffer</a></td></tr>
<tr class="separator:ae7defbc83aafbbea7c9ae7a0ca4c8fef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8af28e4500c5897a80f5ccc1b6b118a2"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="../../df/da5/class_slic3r_1_1_spiral_vase.html">SpiralVase</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a8af28e4500c5897a80f5ccc1b6b118a2">m_spiral_vase</a></td></tr>
<tr class="separator:a8af28e4500c5897a80f5ccc1b6b118a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0514b8d6797f3f08c810b05b0fc8949f"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html">WipeTowerIntegration</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a0514b8d6797f3f08c810b05b0fc8949f">m_wipe_tower</a></td></tr>
<tr class="separator:a0514b8d6797f3f08c810b05b0fc8949f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36c95dfce6f8603fc728760037633e45"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../de/db8/namespace_slic3r.html#a2ac5c755948c74f5f5f975acd5057fe9">coordf_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a36c95dfce6f8603fc728760037633e45">m_skirt_done</a></td></tr>
<tr class="separator:a36c95dfce6f8603fc728760037633e45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03f8fb89cf6e89f08314d2d4c770d177"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a03f8fb89cf6e89f08314d2d4c770d177">m_brim_done</a></td></tr>
<tr class="separator:a03f8fb89cf6e89f08314d2d4c770d177"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a350d12130fb3e43273f07ef2840db16c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a350d12130fb3e43273f07ef2840db16c">m_second_layer_things_done</a></td></tr>
<tr class="separator:a350d12130fb3e43273f07ef2840db16c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93ff505eea9402b75d8c8f5230af12b9"><td class="memItemLeft" align="right" valign="top">std::pair&lt; const <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> *, <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a93ff505eea9402b75d8c8f5230af12b9">m_last_obj_copy</a></td></tr>
<tr class="separator:a93ff505eea9402b75d8c8f5230af12b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14e81582f1eb704b93c5b8b4f049218e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a14e81582f1eb704b93c5b8b4f049218e">m_silent_time_estimator_enabled</a></td></tr>
<tr class="separator:a14e81582f1eb704b93c5b8b4f049218e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10970cfca3474859c6a5d52c57f604ac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html">GCodeProcessor</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a10970cfca3474859c6a5d52c57f604ac">m_processor</a></td></tr>
<tr class="separator:a10970cfca3474859c6a5d52c57f604ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea409072544589f5bcb13a40b83a5748"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="../../df/d41/class_slic3r_1_1_fan_mover.html">FanMover</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aea409072544589f5bcb13a40b83a5748">m_fan_mover</a></td></tr>
<tr class="separator:aea409072544589f5bcb13a40b83a5748"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad1ede23b9581df98d65205c77a675e7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/d8f/class_slic3r_1_1_print.html">Print</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aad1ede23b9581df98d65205c77a675e7">m_curr_print</a> = nullptr</td></tr>
<tr class="separator:aad1ede23b9581df98d65205c77a675e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1e1bcd02ddbd7fe92319e61a5959b00"><td class="memItemLeft" align="right" valign="top">unsigned <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ab1e1bcd02ddbd7fe92319e61a5959b00">m_toolchange_count</a></td></tr>
<tr class="separator:ab1e1bcd02ddbd7fe92319e61a5959b00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6876e5572d5a2139e24b13432e54beb2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/db8/namespace_slic3r.html#a2ac5c755948c74f5f5f975acd5057fe9">coordf_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a6876e5572d5a2139e24b13432e54beb2">m_nominal_z</a></td></tr>
<tr class="separator:a6876e5572d5a2139e24b13432e54beb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac941272774cc4dbab332f22d1141f627"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ac941272774cc4dbab332f22d1141f627">m_need_change_layer_lift_z</a> = false</td></tr>
<tr class="separator:ac941272774cc4dbab332f22d1141f627"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf9eff5169db96af3eb235c0e923b915"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#abf9eff5169db96af3eb235c0e923b915">m_start_gcode_filament</a> = -1</td></tr>
<tr class="separator:abf9eff5169db96af3eb235c0e923b915"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="friends" name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a232fe20bb61e98eb74a4baa006f56b1e"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a232fe20bb61e98eb74a4baa006f56b1e">Wipe</a></td></tr>
<tr class="separator:a232fe20bb61e98eb74a4baa006f56b1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21f2e2845c0a8a161c553d51cc31ffd9"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a21f2e2845c0a8a161c553d51cc31ffd9">WipeTowerIntegration</a></td></tr>
<tr class="separator:a21f2e2845c0a8a161c553d51cc31ffd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51c1431f2c30811e53d6c04ddab5fb8e"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a51c1431f2c30811e53d6c04ddab5fb8e">Print</a></td></tr>
<tr class="separator:a51c1431f2c30811e53d6c04ddab5fb8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bba8f81516a94aaf1a581b7d9c2a4f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d6c/struct_slic3r_1_1_g_code_1_1_object_by_extruder.html">ObjectByExtruder</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a5bba8f81516a94aaf1a581b7d9c2a4f5">object_by_extruder</a> (std::map&lt; unsigned <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>, std::vector&lt; <a class="el" href="../../dc/d6c/struct_slic3r_1_1_g_code_1_1_object_by_extruder.html">ObjectByExtruder</a> &gt; &gt; &amp;by_extruder, unsigned <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a> extruder_id, size_t object_idx, size_t num_objects)</td></tr>
<tr class="separator:a5bba8f81516a94aaf1a581b7d9c2a4f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cf8c910158be8938061cc19519ceec1"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../dc/d81/struct_slic3r_1_1_g_code_1_1_object_by_extruder_1_1_island.html">ObjectByExtruder::Island</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a1cf8c910158be8938061cc19519ceec1">object_islands_by_extruder</a> (std::map&lt; unsigned <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>, std::vector&lt; <a class="el" href="../../dc/d6c/struct_slic3r_1_1_g_code_1_1_object_by_extruder.html">ObjectByExtruder</a> &gt; &gt; &amp;by_extruder, unsigned <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a> extruder_id, size_t object_idx, size_t num_objects, size_t num_islands)</td></tr>
<tr class="separator:a1cf8c910158be8938061cc19519ceec1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"></div><hr/><h2 class="groupheader">Class Documentation</h2>
<a name="de/dad/struct_slic3r_1_1_g_code_1_1_layer_result" id="de/dad/struct_slic3r_1_1_g_code_1_1_layer_result"></a>
<h2 class="memtitle"><span class="permalink"><a href="#de/dad/struct_slic3r_1_1_g_code_1_1_layer_result">&#9670;&#160;</a></span>Slic3r::GCode::LayerResult</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct Slic3r::GCode::LayerResult</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"></div><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Collaboration diagram for Slic3r::GCode::LayerResult:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d8/da1/struct_slic3r_1_1_g_code_1_1_layer_result__coll__graph.svg" width="192" height="215"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="a3db232deb2e832fbfeda0d833c8552dd" name="a3db232deb2e832fbfeda0d833c8552dd"></a>bool</td>
<td class="fieldname">
cooling_buffer_flush { false }</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a7c4e3aa355b428f8c4583ca95b6da2b1" name="a7c4e3aa355b428f8c4583ca95b6da2b1"></a>string</td>
<td class="fieldname">
gcode</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="aa711406c76331b451e469ac54ddef1c7" name="aa711406c76331b451e469ac54ddef1c7"></a>size_t</td>
<td class="fieldname">
layer_id</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a1ead461def29dc1afa6cd411a413f424" name="a1ead461def29dc1afa6cd411a413f424"></a>bool</td>
<td class="fieldname">
spiral_vase_enable { false }</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a95595025dcf23ca2d62043972749f987" name="a95595025dcf23ca2d62043972749f987"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95595025dcf23ca2d62043972749f987">&#9670;&#160;</a></span>GCode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Slic3r::GCode::GCode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  143</span>            :</div>
<div class="line"><span class="lineno">  144</span>      <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a63c083e26484e98330f09eb6f6e789b4">m_origin</a>(Vec2d::Zero()),</div>
<div class="line"><span class="lineno">  145</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a6d0382a520e8c1ff4be5924a8444d76c">m_enable_loop_clipping</a>(<span class="keyword">true</span>),</div>
<div class="line"><span class="lineno">  146</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a03533ee19695dc118af85304f49c752f">m_enable_cooling_markers</a>(<span class="keyword">false</span>),</div>
<div class="line"><span class="lineno">  147</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a5fdf35b1723c68a5955558aa880ab9b9">m_enable_extrusion_role_markers</a>(<span class="keyword">false</span>),</div>
<div class="line"><span class="lineno">  148</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7f4a6b2a5c2405ec1ac57210e107289c">m_last_processor_extrusion_role</a>(<a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6ad57ae907335d1f0f6b915b0b00fdc49c">erNone</a>),</div>
<div class="line"><span class="lineno">  149</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#afa528044bae428d5df6df25b4fe44516">m_layer_count</a>(0),</div>
<div class="line"><span class="lineno">  150</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a3388b4f3b94c005c8b6c64b1ba9b105d">m_layer_index</a>(-1),</div>
<div class="line"><span class="lineno">  151</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7d8c6148ecc0ecaaf9597bad4ed26083">m_layer</a>(<span class="keyword">nullptr</span>),</div>
<div class="line"><span class="lineno">  152</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a13accc40bdcea1a7bd2e2c2e8ae09af2">m_object_layer_over_raft</a>(<span class="keyword">false</span>),</div>
<div class="line"><span class="lineno">  153</span>        <span class="comment">//m_volumetric_speed(0),</span></div>
<div class="line"><span class="lineno">  154</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad0b034df0dd1775d1b0d7b04f7a44c9c">m_last_pos_defined</a>(<span class="keyword">false</span>),</div>
<div class="line"><span class="lineno">  155</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7c86826971245bdbc60cab735c44c3d0">m_last_extrusion_role</a>(<a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6ad57ae907335d1f0f6b915b0b00fdc49c">erNone</a>),</div>
<div class="line"><span class="lineno">  156</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a8a4d8aaca5e07499fd1aca7946bdd817">m_last_width</a>(0.0f),</div>
<div class="line"><span class="lineno">  157</span><span class="preprocessor">#if ENABLE_GCODE_VIEWER_DATA_CHECKING</span></div>
<div class="line"><span class="lineno">  158</span>        m_last_mm3_per_mm(0.0),</div>
<div class="line"><span class="lineno">  159</span><span class="preprocessor">#endif </span><span class="comment">// ENABLE_GCODE_VIEWER_DATA_CHECKING</span></div>
<div class="line"><span class="lineno">  160</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a03f8fb89cf6e89f08314d2d4c770d177">m_brim_done</a>(<span class="keyword">false</span>),</div>
<div class="line"><span class="lineno">  161</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a350d12130fb3e43273f07ef2840db16c">m_second_layer_things_done</a>(<span class="keyword">false</span>),</div>
<div class="line"><span class="lineno">  162</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a14e81582f1eb704b93c5b8b4f049218e">m_silent_time_estimator_enabled</a>(<span class="keyword">false</span>),</div>
<div class="line"><span class="lineno">  163</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a93ff505eea9402b75d8c8f5230af12b9">m_last_obj_copy</a>(<span class="keyword">nullptr</span>, <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a>(std::numeric_limits&lt;coord_t&gt;::max(), std::numeric_limits&lt;coord_t&gt;::max())),</div>
<div class="line"><span class="lineno">  164</span>        <span class="comment">// BBS</span></div>
<div class="line"><span class="lineno">  165</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ab1e1bcd02ddbd7fe92319e61a5959b00">m_toolchange_count</a>(0),</div>
<div class="line"><span class="lineno">  166</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a6876e5572d5a2139e24b13432e54beb2">m_nominal_z</a>(0.)</div>
<div class="line"><span class="lineno">  167</span>        {}</div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a03533ee19695dc118af85304f49c752f"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a03533ee19695dc118af85304f49c752f">Slic3r::GCode::m_enable_cooling_markers</a></div><div class="ttdeci">bool m_enable_cooling_markers</div><div class="ttdef"><b>Definition</b> GCode.hpp:446</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a03f8fb89cf6e89f08314d2d4c770d177"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a03f8fb89cf6e89f08314d2d4c770d177">Slic3r::GCode::m_brim_done</a></div><div class="ttdeci">bool m_brim_done</div><div class="ttdef"><b>Definition</b> GCode.hpp:496</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a13accc40bdcea1a7bd2e2c2e8ae09af2"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a13accc40bdcea1a7bd2e2c2e8ae09af2">Slic3r::GCode::m_object_layer_over_raft</a></div><div class="ttdeci">bool m_object_layer_over_raft</div><div class="ttdef"><b>Definition</b> GCode.hpp:468</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a14e81582f1eb704b93c5b8b4f049218e"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a14e81582f1eb704b93c5b8b4f049218e">Slic3r::GCode::m_silent_time_estimator_enabled</a></div><div class="ttdeci">bool m_silent_time_estimator_enabled</div><div class="ttdef"><b>Definition</b> GCode.hpp:502</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a3388b4f3b94c005c8b6c64b1ba9b105d"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a3388b4f3b94c005c8b6c64b1ba9b105d">Slic3r::GCode::m_layer_index</a></div><div class="ttdeci">int m_layer_index</div><div class="ttdef"><b>Definition</b> GCode.hpp:463</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a350d12130fb3e43273f07ef2840db16c"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a350d12130fb3e43273f07ef2840db16c">Slic3r::GCode::m_second_layer_things_done</a></div><div class="ttdeci">bool m_second_layer_things_done</div><div class="ttdef"><b>Definition</b> GCode.hpp:498</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a5fdf35b1723c68a5955558aa880ab9b9"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a5fdf35b1723c68a5955558aa880ab9b9">Slic3r::GCode::m_enable_extrusion_role_markers</a></div><div class="ttdeci">bool m_enable_extrusion_role_markers</div><div class="ttdef"><b>Definition</b> GCode.hpp:456</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a63c083e26484e98330f09eb6f6e789b4"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a63c083e26484e98330f09eb6f6e789b4">Slic3r::GCode::m_origin</a></div><div class="ttdeci">Vec2d m_origin</div><div class="ttdef"><b>Definition</b> GCode.hpp:427</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a6876e5572d5a2139e24b13432e54beb2"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a6876e5572d5a2139e24b13432e54beb2">Slic3r::GCode::m_nominal_z</a></div><div class="ttdeci">coordf_t m_nominal_z</div><div class="ttdef"><b>Definition</b> GCode.hpp:513</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a6d0382a520e8c1ff4be5924a8444d76c"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a6d0382a520e8c1ff4be5924a8444d76c">Slic3r::GCode::m_enable_loop_clipping</a></div><div class="ttdeci">bool m_enable_loop_clipping</div><div class="ttdef"><b>Definition</b> GCode.hpp:442</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a7c86826971245bdbc60cab735c44c3d0"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7c86826971245bdbc60cab735c44c3d0">Slic3r::GCode::m_last_extrusion_role</a></div><div class="ttdeci">ExtrusionRole m_last_extrusion_role</div><div class="ttdef"><b>Definition</b> GCode.hpp:471</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a7d8c6148ecc0ecaaf9597bad4ed26083"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7d8c6148ecc0ecaaf9597bad4ed26083">Slic3r::GCode::m_layer</a></div><div class="ttdeci">const Layer * m_layer</div><div class="ttdef"><b>Definition</b> GCode.hpp:466</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a7f4a6b2a5c2405ec1ac57210e107289c"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7f4a6b2a5c2405ec1ac57210e107289c">Slic3r::GCode::m_last_processor_extrusion_role</a></div><div class="ttdeci">ExtrusionRole m_last_processor_extrusion_role</div><div class="ttdef"><b>Definition</b> GCode.hpp:458</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a8a4d8aaca5e07499fd1aca7946bdd817"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a8a4d8aaca5e07499fd1aca7946bdd817">Slic3r::GCode::m_last_width</a></div><div class="ttdeci">float m_last_width</div><div class="ttdef"><b>Definition</b> GCode.hpp:478</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a93ff505eea9402b75d8c8f5230af12b9"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a93ff505eea9402b75d8c8f5230af12b9">Slic3r::GCode::m_last_obj_copy</a></div><div class="ttdeci">std::pair&lt; const PrintObject *, Point &gt; m_last_obj_copy</div><div class="ttdef"><b>Definition</b> GCode.hpp:500</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_ab1e1bcd02ddbd7fe92319e61a5959b00"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#ab1e1bcd02ddbd7fe92319e61a5959b00">Slic3r::GCode::m_toolchange_count</a></div><div class="ttdeci">unsigned int m_toolchange_count</div><div class="ttdef"><b>Definition</b> GCode.hpp:512</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_ad0b034df0dd1775d1b0d7b04f7a44c9c"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad0b034df0dd1775d1b0d7b04f7a44c9c">Slic3r::GCode::m_last_pos_defined</a></div><div class="ttdeci">bool m_last_pos_defined</div><div class="ttdef"><b>Definition</b> GCode.hpp:484</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_afa528044bae428d5df6df25b4fe44516"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#afa528044bae428d5df6df25b4fe44516">Slic3r::GCode::m_layer_count</a></div><div class="ttdeci">unsigned int m_layer_count</div><div class="ttdef"><b>Definition</b> GCode.hpp:461</div></div>
<div class="ttc" id="anamespace_slic3r_html_a6fa3193f46e8c4fc55359a5c124f46e6ad57ae907335d1f0f6b915b0b00fdc49c"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6ad57ae907335d1f0f6b915b0b00fdc49c">Slic3r::erNone</a></div><div class="ttdeci">@ erNone</div><div class="ttdef"><b>Definition</b> ExtrusionEntity.hpp:21</div></div>
<div class="ttc" id="apoint__areas_8cpp_html_a6a2f109ab3e0aba2f61e7d28188c3660"><div class="ttname"><a href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a></div><div class="ttdeci">Kernel::Point_2 Point</div><div class="ttdef"><b>Definition</b> point_areas.cpp:20</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a58ca16bd3128571702a37b6de148ccfc" name="a58ca16bd3128571702a37b6de148ccfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58ca16bd3128571702a37b6de148ccfc">&#9670;&#160;</a></span>~GCode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Slic3r::GCode::~GCode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ad5ac0f44c2121cf8d09cc7fde2dae045" name="ad5ac0f44c2121cf8d09cc7fde2dae045"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5ac0f44c2121cf8d09cc7fde2dae045">&#9670;&#160;</a></span>_do_export()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::GCode::_do_export </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d8f/class_slic3r_1_1_print.html">Print</a> &amp;&#160;</td>
          <td class="paramname"><em>print</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/db8/class_slic3r_1_1_g_code_1_1_g_code_output_stream.html">GCodeOutputStream</a> &amp;&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/db8/namespace_slic3r.html#a79187906049e3735014486bf42b0180f">ThumbnailsGeneratorCallback</a>&#160;</td>
          <td class="paramname"><em>thumbnail_cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1461</span>{</div>
<div class="line"><span class="lineno"> 1462</span>    <a class="code hl_define" href="../../db/d5a/_shiny_macros_8h.html#acb22c3b80068351d2edad7f6e910a7f9">PROFILE_FUNC</a>();</div>
<div class="line"><span class="lineno"> 1463</span> </div>
<div class="line"><span class="lineno"> 1464</span>    <span class="comment">// modifies m_silent_time_estimator_enabled</span></div>
<div class="line"><span class="lineno"> 1465</span>    <a class="code hl_function" href="../../de/d39/namespace_slic3r_1_1_do_export.html#ad12ad64fb3bff94faebd9b178ab67a20">DoExport::init_gcode_processor</a>(print.config(), <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a10970cfca3474859c6a5d52c57f604ac">m_processor</a>, <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a14e81582f1eb704b93c5b8b4f049218e">m_silent_time_estimator_enabled</a>);</div>
<div class="line"><span class="lineno"> 1466</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_bbl_printers = print.is_BBL_printer();</div>
<div class="line"><span class="lineno"> 1467</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a11c37e89f776408db490f8843d138b03">m_calib_config</a>.<a class="code hl_function" href="../../d5/df0/class_slic3r_1_1_dynamic_config.html#a178535495ef2ca27397d88fb46659e00">clear</a>();</div>
<div class="line"><span class="lineno"> 1468</span>    <span class="comment">// resets analyzer&#39;s tracking data</span></div>
<div class="line"><span class="lineno"> 1469</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a77216b94b9cba2d6e89710c1bd616674">m_last_height</a>  = 0.f;</div>
<div class="line"><span class="lineno"> 1470</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#accca0b22da61853ca952d06c31917235">m_last_layer_z</a> = 0.f;</div>
<div class="line"><span class="lineno"> 1471</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2b412ae6847f90bf35264b3ada4aa01c">m_max_layer_z</a>  = 0.f;</div>
<div class="line"><span class="lineno"> 1472</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a8a4d8aaca5e07499fd1aca7946bdd817">m_last_width</a> = 0.f;</div>
<div class="line"><span class="lineno"> 1473</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ab9d8b02b166044e2f0311fbf566da416">m_is_overhang_fan_on</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1474</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ac2af3222a6bc9941043eb2949bc42356">m_is_supp_interface_fan_on</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1475</span><span class="preprocessor">#if ENABLE_GCODE_VIEWER_DATA_CHECKING</span></div>
<div class="line"><span class="lineno"> 1476</span>    m_last_mm3_per_mm = 0.;</div>
<div class="line"><span class="lineno"> 1477</span><span class="preprocessor">#endif </span><span class="comment">// ENABLE_GCODE_VIEWER_DATA_CHECKING</span></div>
<div class="line"><span class="lineno"> 1478</span> </div>
<div class="line"><span class="lineno"> 1479</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aea409072544589f5bcb13a40b83a5748">m_fan_mover</a>.release();</div>
<div class="line"><span class="lineno"> 1480</span>    </div>
<div class="line"><span class="lineno"> 1481</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a9ef7abae945ebb7256be7c843f67af72">set_is_bbl_machine</a>(is_bbl_printers);</div>
<div class="line"><span class="lineno"> 1482</span> </div>
<div class="line"><span class="lineno"> 1483</span>    <span class="comment">// How many times will be change_layer() called?</span></div>
<div class="line"><span class="lineno"> 1484</span>    <span class="comment">// change_layer() in turn increments the progress bar status.</span></div>
<div class="line"><span class="lineno"> 1485</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#afa528044bae428d5df6df25b4fe44516">m_layer_count</a> = 0;</div>
<div class="line"><span class="lineno"> 1486</span>    <span class="keywordflow">if</span> (print.config().print_sequence == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a815252509829bfcfc450d786ecccdfeaa40ab71bcc2705c597aad9a50ffd8eaec">PrintSequence::ByObject</a>) {</div>
<div class="line"><span class="lineno"> 1487</span>        <span class="comment">// Add each of the object&#39;s layers separately.</span></div>
<div class="line"><span class="lineno"> 1488</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keywordtype">object</span> : print.objects()) {</div>
<div class="line"><span class="lineno"> 1489</span>            std::vector&lt;coordf_t&gt; zs;</div>
<div class="line"><span class="lineno"> 1490</span>            zs.reserve(<a class="code hl_enumvalue" href="../../dc/df0/namespacenlohmann_1_1detail.html#a1ed8fc6239da25abcaf681d30ace4985aa8cfde6331bd59eb2ac96f8911c4b666">object</a>-&gt;layers().size() + <a class="code hl_enumvalue" href="../../dc/df0/namespacenlohmann_1_1detail.html#a1ed8fc6239da25abcaf681d30ace4985aa8cfde6331bd59eb2ac96f8911c4b666">object</a>-&gt;support_layers().size());</div>
<div class="line"><span class="lineno"> 1491</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aefd4abaf0d1c18be14b61558b8d504cd">layer</a> : <a class="code hl_enumvalue" href="../../dc/df0/namespacenlohmann_1_1detail.html#a1ed8fc6239da25abcaf681d30ace4985aa8cfde6331bd59eb2ac96f8911c4b666">object</a>-&gt;layers())</div>
<div class="line"><span class="lineno"> 1492</span>                zs.push_back(<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aefd4abaf0d1c18be14b61558b8d504cd">layer</a>-&gt;print_z);</div>
<div class="line"><span class="lineno"> 1493</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aefd4abaf0d1c18be14b61558b8d504cd">layer</a> : <a class="code hl_enumvalue" href="../../dc/df0/namespacenlohmann_1_1detail.html#a1ed8fc6239da25abcaf681d30ace4985aa8cfde6331bd59eb2ac96f8911c4b666">object</a>-&gt;support_layers())</div>
<div class="line"><span class="lineno"> 1494</span>                zs.push_back(<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aefd4abaf0d1c18be14b61558b8d504cd">layer</a>-&gt;print_z);</div>
<div class="line"><span class="lineno"> 1495</span>            std::sort(zs.begin(), zs.end());</div>
<div class="line"><span class="lineno"> 1496</span>            <span class="comment">//BBS: merge numerically very close Z values.</span></div>
<div class="line"><span class="lineno"> 1497</span>            <span class="keyword">auto</span> end_it = std::unique(zs.begin(), zs.end());</div>
<div class="line"><span class="lineno"> 1498</span>            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> temp_layer_count = (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>)(end_it - zs.begin());</div>
<div class="line"><span class="lineno"> 1499</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = zs.begin(); it != end_it - 1; it++) {</div>
<div class="line"><span class="lineno"> 1500</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a03f37f7cb0691e122e6181b6891280e2">abs</a>(*it - *(it + 1)) &lt; <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>)</div>
<div class="line"><span class="lineno"> 1501</span>                    temp_layer_count--;</div>
<div class="line"><span class="lineno"> 1502</span>            }</div>
<div class="line"><span class="lineno"> 1503</span>            <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#afa528044bae428d5df6df25b4fe44516">m_layer_count</a> += (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>)(<a class="code hl_enumvalue" href="../../dc/df0/namespacenlohmann_1_1detail.html#a1ed8fc6239da25abcaf681d30ace4985aa8cfde6331bd59eb2ac96f8911c4b666">object</a>-&gt;instances().size() * temp_layer_count);</div>
<div class="line"><span class="lineno"> 1504</span>        }</div>
<div class="line"><span class="lineno"> 1505</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1506</span>        <span class="comment">// Print all objects with the same print_z together.</span></div>
<div class="line"><span class="lineno"> 1507</span>        std::vector&lt;coordf_t&gt; zs;</div>
<div class="line"><span class="lineno"> 1508</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keywordtype">object</span> : print.objects()) {</div>
<div class="line"><span class="lineno"> 1509</span>            zs.reserve(zs.size() + <a class="code hl_enumvalue" href="../../dc/df0/namespacenlohmann_1_1detail.html#a1ed8fc6239da25abcaf681d30ace4985aa8cfde6331bd59eb2ac96f8911c4b666">object</a>-&gt;layers().size() + <a class="code hl_enumvalue" href="../../dc/df0/namespacenlohmann_1_1detail.html#a1ed8fc6239da25abcaf681d30ace4985aa8cfde6331bd59eb2ac96f8911c4b666">object</a>-&gt;support_layers().size());</div>
<div class="line"><span class="lineno"> 1510</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aefd4abaf0d1c18be14b61558b8d504cd">layer</a> : <a class="code hl_enumvalue" href="../../dc/df0/namespacenlohmann_1_1detail.html#a1ed8fc6239da25abcaf681d30ace4985aa8cfde6331bd59eb2ac96f8911c4b666">object</a>-&gt;layers())</div>
<div class="line"><span class="lineno"> 1511</span>                zs.push_back(<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aefd4abaf0d1c18be14b61558b8d504cd">layer</a>-&gt;print_z);</div>
<div class="line"><span class="lineno"> 1512</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aefd4abaf0d1c18be14b61558b8d504cd">layer</a> : <a class="code hl_enumvalue" href="../../dc/df0/namespacenlohmann_1_1detail.html#a1ed8fc6239da25abcaf681d30ace4985aa8cfde6331bd59eb2ac96f8911c4b666">object</a>-&gt;support_layers())</div>
<div class="line"><span class="lineno"> 1513</span>                zs.push_back(<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aefd4abaf0d1c18be14b61558b8d504cd">layer</a>-&gt;print_z);</div>
<div class="line"><span class="lineno"> 1514</span>        }</div>
<div class="line"><span class="lineno"> 1515</span>        <span class="keywordflow">if</span> (!zs.empty())</div>
<div class="line"><span class="lineno"> 1516</span>        {</div>
<div class="line"><span class="lineno"> 1517</span>            std::sort(zs.begin(), zs.end());</div>
<div class="line"><span class="lineno"> 1518</span>            <span class="comment">//BBS: merge numerically very close Z values.</span></div>
<div class="line"><span class="lineno"> 1519</span>            <span class="keyword">auto</span> end_it = std::unique(zs.begin(), zs.end());</div>
<div class="line"><span class="lineno"> 1520</span>            <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#afa528044bae428d5df6df25b4fe44516">m_layer_count</a> = (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>)(end_it - zs.begin());</div>
<div class="line"><span class="lineno"> 1521</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = zs.begin(); it != end_it - 1; it++) {</div>
<div class="line"><span class="lineno"> 1522</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a03f37f7cb0691e122e6181b6891280e2">abs</a>(*it - *(it + 1)) &lt; <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>)</div>
<div class="line"><span class="lineno"> 1523</span>                    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#afa528044bae428d5df6df25b4fe44516">m_layer_count</a>--;</div>
<div class="line"><span class="lineno"> 1524</span>            }</div>
<div class="line"><span class="lineno"> 1525</span>        }</div>
<div class="line"><span class="lineno"> 1526</span>    }</div>
<div class="line"><span class="lineno"> 1527</span>    print.throw_if_canceled();</div>
<div class="line"><span class="lineno"> 1528</span> </div>
<div class="line"><span class="lineno"> 1529</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a03533ee19695dc118af85304f49c752f">m_enable_cooling_markers</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1530</span>    this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7b877f79ab3624962b83514ec57c5e6d">apply_print_config</a>(print.config());</div>
<div class="line"><span class="lineno"> 1531</span> </div>
<div class="line"><span class="lineno"> 1532</span>    <span class="comment">//m_volumetric_speed = DoExport::autospeed_volumetric_limit(print);</span></div>
<div class="line"><span class="lineno"> 1533</span>    print.throw_if_canceled();</div>
<div class="line"><span class="lineno"> 1534</span> </div>
<div class="line"><span class="lineno"> 1535</span>    <span class="keywordflow">if</span> (print.config().spiral_mode.value)</div>
<div class="line"><span class="lineno"> 1536</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a8af28e4500c5897a80f5ccc1b6b118a2">m_spiral_vase</a> = make_unique&lt;SpiralVase&gt;(print.config());</div>
<div class="line"><span class="lineno"> 1537</span><span class="preprocessor">#ifdef HAS_PRESSURE_EQUALIZER</span></div>
<div class="line"><span class="lineno"> 1538</span>    <span class="keywordflow">if</span> (print.config().max_volumetric_extrusion_rate_slope_positive.value &gt; 0 ||</div>
<div class="line"><span class="lineno"> 1539</span>        print.config().max_volumetric_extrusion_rate_slope_negative.value &gt; 0)</div>
<div class="line"><span class="lineno"> 1540</span>        m_pressure_equalizer = make_unique&lt;PressureEqualizer&gt;(&amp;print.config());</div>
<div class="line"><span class="lineno"> 1541</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a5fdf35b1723c68a5955558aa880ab9b9">m_enable_extrusion_role_markers</a> = (bool)m_pressure_equalizer;</div>
<div class="line"><span class="lineno"> 1542</span><span class="preprocessor">#else </span><span class="comment">/* HAS_PRESSURE_EQUALIZER */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno"> 1543</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a5fdf35b1723c68a5955558aa880ab9b9">m_enable_extrusion_role_markers</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1544</span><span class="preprocessor">#endif </span><span class="comment">/* HAS_PRESSURE_EQUALIZER */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno"> 1545</span> </div>
<div class="line"><span class="lineno"> 1546</span>    file.write_format(<span class="stringliteral">&quot;; HEADER_BLOCK_START\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1547</span>    <span class="comment">// Write information on the generator.</span></div>
<div class="line"><span class="lineno"> 1548</span>    file.write_format(<span class="stringliteral">&quot;; generated by %s on %s\n&quot;</span>, <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a720e9962a59275ec8a54eda3c7bf7173">Slic3r::header_slic3r_generated</a>().c_str(), <a class="code hl_function" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a3397598f1893817e6802ba3a6df517cf">Slic3r::Utils::local_timestamp</a>().c_str());</div>
<div class="line"><span class="lineno"> 1549</span>    <span class="keywordflow">if</span> (is_bbl_printers)</div>
<div class="line"><span class="lineno"> 1550</span>        file.write_format(<span class="stringliteral">&quot;;%s\n&quot;</span>, <a class="code hl_function" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a44451e44902b601a9885339440174bb2">GCodeProcessor::reserved_tag</a>(<a class="code hl_enumvalue" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a9d0a157d06bdfad05bc6822a9a1c8071a6df076ad097b82adc9d29c88958f82a1">GCodeProcessor::ETags::Estimated_Printing_Time_Placeholder</a>).c_str());</div>
<div class="line"><span class="lineno"> 1551</span>    <span class="comment">//BBS: total layer number</span></div>
<div class="line"><span class="lineno"> 1552</span>    file.write_format(<span class="stringliteral">&quot;;%s\n&quot;</span>, <a class="code hl_function" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a44451e44902b601a9885339440174bb2">GCodeProcessor::reserved_tag</a>(<a class="code hl_enumvalue" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a9d0a157d06bdfad05bc6822a9a1c8071a8239e4b838b9895c8f8c6a93bebe431d">GCodeProcessor::ETags::Total_Layer_Number_Placeholder</a>).c_str());</div>
<div class="line"><span class="lineno"> 1553</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a8073b5c68ecade3632359c884f342f3c">m_enable_exclude_object</a> = <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a>().exclude_object;</div>
<div class="line"><span class="lineno"> 1554</span>    <span class="comment">//Orca: extra check for bbl printer</span></div>
<div class="line"><span class="lineno"> 1555</span>    <span class="keywordflow">if</span> (is_bbl_printers) {</div>
<div class="line"><span class="lineno"> 1556</span>        <span class="keywordflow">if</span> (print.extruders(<span class="keyword">true</span>).size() == 1 &amp;&amp;                  <span class="comment">// Don&#39;t support multi-color</span></div>
<div class="line"><span class="lineno"> 1557</span>            print.calib_params().mode == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a10875bb92bba52324eab015888534f9dacacadecbb52686637df9e3a6eacd90fe">CalibMode::Calib_None</a>) { <span class="comment">// Don&#39;t support skipping in cali mode</span></div>
<div class="line"><span class="lineno"> 1558</span>            <span class="comment">// list all label_object_id with sorted order here</span></div>
<div class="line"><span class="lineno"> 1559</span>            <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a8073b5c68ecade3632359c884f342f3c">m_enable_exclude_object</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1560</span>            <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7cc2e460b5902a6e8c64f064bb87f2ce">m_label_objects_ids</a>.clear();</div>
<div class="line"><span class="lineno"> 1561</span>            <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7cc2e460b5902a6e8c64f064bb87f2ce">m_label_objects_ids</a>.reserve(print.num_object_instances());</div>
<div class="line"><span class="lineno"> 1562</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> PrintObject *print_object : print.objects())</div>
<div class="line"><span class="lineno"> 1563</span>                for (const PrintInstance &amp;print_instance : print_object-&gt;instances())</div>
<div class="line"><span class="lineno"> 1564</span>                    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7cc2e460b5902a6e8c64f064bb87f2ce">m_label_objects_ids</a>.push_back(print_instance.model_instance-&gt;get_labeled_id());</div>
<div class="line"><span class="lineno"> 1565</span> </div>
<div class="line"><span class="lineno"> 1566</span>            std::sort(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7cc2e460b5902a6e8c64f064bb87f2ce">m_label_objects_ids</a>.begin(), <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7cc2e460b5902a6e8c64f064bb87f2ce">m_label_objects_ids</a>.end());</div>
<div class="line"><span class="lineno"> 1567</span> </div>
<div class="line"><span class="lineno"> 1568</span>            std::string objects_id_list = <span class="stringliteral">&quot;; model label id: &quot;</span>;</div>
<div class="line"><span class="lineno"> 1569</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7cc2e460b5902a6e8c64f064bb87f2ce">m_label_objects_ids</a>.begin(); it != <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7cc2e460b5902a6e8c64f064bb87f2ce">m_label_objects_ids</a>.end(); it++)</div>
<div class="line"><span class="lineno"> 1570</span>                objects_id_list += (std::to_string(*it) + (it != <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7cc2e460b5902a6e8c64f064bb87f2ce">m_label_objects_ids</a>.end() - 1 ? <span class="stringliteral">&quot;,&quot;</span> : <span class="stringliteral">&quot;\n&quot;</span>));</div>
<div class="line"><span class="lineno"> 1571</span>            file.writeln(objects_id_list);</div>
<div class="line"><span class="lineno"> 1572</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1573</span>            <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a8073b5c68ecade3632359c884f342f3c">m_enable_exclude_object</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1574</span>            <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7cc2e460b5902a6e8c64f064bb87f2ce">m_label_objects_ids</a>.clear();</div>
<div class="line"><span class="lineno"> 1575</span>        }</div>
<div class="line"><span class="lineno"> 1576</span>    }</div>
<div class="line"><span class="lineno"> 1577</span> </div>
<div class="line"><span class="lineno"> 1578</span>    file.write_format(<span class="stringliteral">&quot;; HEADER_BLOCK_END\n\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1579</span> </div>
<div class="line"><span class="lineno"> 1580</span>    </div>
<div class="line"><span class="lineno"> 1581</span>      <span class="comment">// BBS: write global config at the beginning of gcode file because printer</span></div>
<div class="line"><span class="lineno"> 1582</span>      <span class="comment">// need these config information</span></div>
<div class="line"><span class="lineno"> 1583</span>      <span class="comment">// Append full config, delimited by two &#39;phony&#39; configuration keys</span></div>
<div class="line"><span class="lineno"> 1584</span>      <span class="comment">// CONFIG_BLOCK_START and CONFIG_BLOCK_END. The delimiters are structured</span></div>
<div class="line"><span class="lineno"> 1585</span>      <span class="comment">// as configuration key / value pairs to be parsable by older versions of</span></div>
<div class="line"><span class="lineno"> 1586</span>      <span class="comment">// PrusaSlicer G-code viewer.</span></div>
<div class="line"><span class="lineno"> 1587</span>    {</div>
<div class="line"><span class="lineno"> 1588</span>      <span class="keywordflow">if</span> (is_bbl_printers) {</div>
<div class="line"><span class="lineno"> 1589</span>        file.write(<span class="stringliteral">&quot;; CONFIG_BLOCK_START\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1590</span>        std::string full_config;</div>
<div class="line"><span class="lineno"> 1591</span>        <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a70ab5d10c313544c2b21570695f06485">append_full_config</a>(print, full_config);</div>
<div class="line"><span class="lineno"> 1592</span>        <span class="keywordflow">if</span> (!full_config.empty())</div>
<div class="line"><span class="lineno"> 1593</span>          file.write(full_config);</div>
<div class="line"><span class="lineno"> 1594</span> </div>
<div class="line"><span class="lineno"> 1595</span>        <span class="comment">// SoftFever: write compatiple image</span></div>
<div class="line"><span class="lineno"> 1596</span>        <span class="keywordtype">int</span> first_layer_bed_temperature = <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ab7079d6608d218b9076cd47554648c8b">get_bed_temperature</a>(0, <span class="keyword">true</span>, print.config().curr_bed_type);</div>
<div class="line"><span class="lineno"> 1597</span>        file.write_format(<span class="stringliteral">&quot;; first_layer_bed_temperature = %d\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 1598</span>                          first_layer_bed_temperature);</div>
<div class="line"><span class="lineno"> 1599</span>        file.write_format(</div>
<div class="line"><span class="lineno"> 1600</span>            <span class="stringliteral">&quot;; first_layer_temperature = %d\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 1601</span>            print.config().nozzle_temperature_initial_layer.get_at(0));</div>
<div class="line"><span class="lineno"> 1602</span>        file.write(<span class="stringliteral">&quot;; CONFIG_BLOCK_END\n\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1603</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1604</span>        <a class="code hl_function" href="../../de/d39/namespace_slic3r_1_1_do_export.html#a1dd26a18ba80a7027b4ca555174992b4">DoExport::export_thumbnails_to_file</a>(</div>
<div class="line"><span class="lineno"> 1605</span>            thumbnail_cb, print.get_plate_index(), print.full_print_config().option&lt;ConfigOptionPoints&gt;(<span class="stringliteral">&quot;thumbnails&quot;</span>)-&gt;values,</div>
<div class="line"><span class="lineno"> 1606</span>            [&amp;file](<span class="keyword">const</span> <span class="keywordtype">char</span> *sz) { file.write(sz); },</div>
<div class="line"><span class="lineno"> 1607</span>            [&amp;print]() { print.throw_if_canceled(); });</div>
<div class="line"><span class="lineno"> 1608</span>      }</div>
<div class="line"><span class="lineno"> 1609</span>    }</div>
<div class="line"><span class="lineno"> 1610</span>    </div>
<div class="line"><span class="lineno"> 1611</span> </div>
<div class="line"><span class="lineno"> 1612</span>    <span class="comment">// Write some terse information on the slicing parameters.</span></div>
<div class="line"><span class="lineno"> 1613</span>    <span class="keyword">const</span> PrintObject *first_object         = print.objects().front();</div>
<div class="line"><span class="lineno"> 1614</span>    <span class="keyword">const</span> <span class="keywordtype">double</span>       <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a3fc0fbbcb45d8a2fef27e26e1289ec21">layer_height</a>         = first_object-&gt;config().layer_height.value;</div>
<div class="line"><span class="lineno"> 1615</span>    <span class="keyword">const</span> <span class="keywordtype">double</span>       initial_layer_print_height   = print.config().initial_layer_print_height.value;</div>
<div class="line"><span class="lineno"> 1616</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> region_id = 0; region_id &lt; print.num_print_regions(); ++ region_id) {</div>
<div class="line"><span class="lineno"> 1617</span>        <span class="keyword">const</span> PrintRegion &amp;region = print.get_print_region(region_id);</div>
<div class="line"><span class="lineno"> 1618</span>        file.write_format(<span class="stringliteral">&quot;; external perimeters extrusion width = %.2fmm\n&quot;</span>, region.flow(*first_object, <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a4bcb312043a874462f942e362c16567aa73b23230c5b13dd721893c50d09a9d5f">frExternalPerimeter</a>, <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a3fc0fbbcb45d8a2fef27e26e1289ec21">layer_height</a>).width());</div>
<div class="line"><span class="lineno"> 1619</span>        file.write_format(<span class="stringliteral">&quot;; perimeters extrusion width = %.2fmm\n&quot;</span>,          region.flow(*first_object, <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a4bcb312043a874462f942e362c16567aa76382120c41343ceddf63472ce33ceaf">frPerimeter</a>,         <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a3fc0fbbcb45d8a2fef27e26e1289ec21">layer_height</a>).width());</div>
<div class="line"><span class="lineno"> 1620</span>        file.write_format(<span class="stringliteral">&quot;; infill extrusion width = %.2fmm\n&quot;</span>,              region.flow(*first_object, <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a4bcb312043a874462f942e362c16567aadc1f79acb9a303b4dcd74d6aaaa637e2">frInfill</a>,            <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a3fc0fbbcb45d8a2fef27e26e1289ec21">layer_height</a>).width());</div>
<div class="line"><span class="lineno"> 1621</span>        file.write_format(<span class="stringliteral">&quot;; solid infill extrusion width = %.2fmm\n&quot;</span>,        region.flow(*first_object, <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a4bcb312043a874462f942e362c16567aa7d4497c484372805525d52c0809d85a0">frSolidInfill</a>,       <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a3fc0fbbcb45d8a2fef27e26e1289ec21">layer_height</a>).width());</div>
<div class="line"><span class="lineno"> 1622</span>        file.write_format(<span class="stringliteral">&quot;; top infill extrusion width = %.2fmm\n&quot;</span>,          region.flow(*first_object, <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a4bcb312043a874462f942e362c16567aa1659c28f8384ed923cc03781bf910c54">frTopSolidInfill</a>,    <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a3fc0fbbcb45d8a2fef27e26e1289ec21">layer_height</a>).width());</div>
<div class="line"><span class="lineno"> 1623</span>        <span class="keywordflow">if</span> (print.has_support_material())</div>
<div class="line"><span class="lineno"> 1624</span>            file.write_format(<span class="stringliteral">&quot;; support material extrusion width = %.2fmm\n&quot;</span>, <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7a84976eeb16c9a039b46f731199bd58">support_material_flow</a>(first_object).<a class="code hl_function" href="../../d0/d25/namespace_slic3r_1_1arrangement.html#a33f0b7d9bab3e419c4d2d41d06b21093">width</a>());</div>
<div class="line"><span class="lineno"> 1625</span>        <span class="keywordflow">if</span> (print.config().initial_layer_line_width.value &gt; 0)</div>
<div class="line"><span class="lineno"> 1626</span>            file.write_format(<span class="stringliteral">&quot;; first layer extrusion width = %.2fmm\n&quot;</span>,   region.flow(*first_object, <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a4bcb312043a874462f942e362c16567aa76382120c41343ceddf63472ce33ceaf">frPerimeter</a>, initial_layer_print_height, <span class="keyword">true</span>).width());</div>
<div class="line"><span class="lineno"> 1627</span>        file.write_format(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1628</span>    }</div>
<div class="line"><span class="lineno"> 1629</span> </div>
<div class="line"><span class="lineno"> 1630</span>    file.write_format(<span class="stringliteral">&quot;; EXECUTABLE_BLOCK_START\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1631</span> </div>
<div class="line"><span class="lineno"> 1632</span>    <span class="comment">// SoftFever</span></div>
<div class="line"><span class="lineno"> 1633</span>    file.write(<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a36b8e2d3b037f153fd3faebc321bc5cb">set_object_info</a>(&amp;print));</div>
<div class="line"><span class="lineno"> 1634</span> </div>
<div class="line"><span class="lineno"> 1635</span>    <span class="comment">// adds tags for time estimators</span></div>
<div class="line"><span class="lineno"> 1636</span>    file.write_format(<span class="stringliteral">&quot;;%s\n&quot;</span>, <a class="code hl_function" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a44451e44902b601a9885339440174bb2">GCodeProcessor::reserved_tag</a>(<a class="code hl_enumvalue" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a9d0a157d06bdfad05bc6822a9a1c8071a165365337a98cdb4d6c565b8cf6db88a">GCodeProcessor::ETags::First_Line_M73_Placeholder</a>).c_str());</div>
<div class="line"><span class="lineno"> 1637</span> </div>
<div class="line"><span class="lineno"> 1638</span>    <span class="comment">// Prepare the helper object for replacing placeholders in custom G-code and output filename.</span></div>
<div class="line"><span class="lineno"> 1639</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad74e7798985b999d53045b7ecd19739b">m_placeholder_parser</a> = print.placeholder_parser();</div>
<div class="line"><span class="lineno"> 1640</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad74e7798985b999d53045b7ecd19739b">m_placeholder_parser</a>.<a class="code hl_function" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#aec500f9eed38e5cba61fa09baa2a7c3b">update_timestamp</a>();</div>
<div class="line"><span class="lineno"> 1641</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#adba26559de960021180ecc3a2c66b865">m_placeholder_parser_context</a>.<a class="code hl_variable" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#a00fe4a422b76c3672b6ba02ea614bb6b">rng</a> = std::mt19937(std::chrono::high_resolution_clock::now().time_since_epoch().<a class="code hl_variable" href="../../dd/dee/_auxiliary_data_view_model_8cpp.html#a16ff2d8e15ade4948398b0aeb80124a8">count</a>());</div>
<div class="line"><span class="lineno"> 1642</span>    print.update_object_placeholders(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad74e7798985b999d53045b7ecd19739b">m_placeholder_parser</a>.<a class="code hl_function" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#a2fc38807bd779533faacd708b2ed5b02">config_writable</a>(), <span class="stringliteral">&quot;.gcode&quot;</span>);</div>
<div class="line"><span class="lineno"> 1643</span> </div>
<div class="line"><span class="lineno"> 1644</span>    <span class="comment">// Get optimal tool ordering to minimize tool switches of a multi-exruder print.</span></div>
<div class="line"><span class="lineno"> 1645</span>    <span class="comment">// For a print by objects, find the 1st printing object.</span></div>
<div class="line"><span class="lineno"> 1646</span>    ToolOrdering tool_ordering;</div>
<div class="line"><span class="lineno"> 1647</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> initial_extruder_id = (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>)-1;</div>
<div class="line"><span class="lineno"> 1648</span>    <span class="comment">//BBS: first non-support filament extruder</span></div>
<div class="line"><span class="lineno"> 1649</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> initial_non_support_extruder_id;</div>
<div class="line"><span class="lineno"> 1650</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> final_extruder_id   = (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>)-1;</div>
<div class="line"><span class="lineno"> 1651</span>    <span class="keywordtype">bool</span>         has_wipe_tower      = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1652</span>    std::vector&lt;const PrintInstance*&gt;           print_object_instances_ordering;</div>
<div class="line"><span class="lineno"> 1653</span>    std::vector&lt;const PrintInstance*&gt;::const_iterator   print_object_instance_sequential_active;</div>
<div class="line"><span class="lineno"> 1654</span>    <span class="keywordflow">if</span> (print.config().print_sequence == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a815252509829bfcfc450d786ecccdfeaa40ab71bcc2705c597aad9a50ffd8eaec">PrintSequence::ByObject</a>) {</div>
<div class="line"><span class="lineno"> 1655</span>        <span class="comment">// Order object instances for sequential print.</span></div>
<div class="line"><span class="lineno"> 1656</span>        print_object_instances_ordering = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a3d7b1a602517c9bbdd4cea13a3b3cb14">sort_object_instances_by_model_order</a>(print);</div>
<div class="line"><span class="lineno"> 1657</span><span class="comment">//        print_object_instances_ordering = sort_object_instances_by_max_z(print);</span></div>
<div class="line"><span class="lineno"> 1658</span>        <span class="comment">// Find the 1st printing object, find its tool ordering and the initial extruder ID.</span></div>
<div class="line"><span class="lineno"> 1659</span>        print_object_instance_sequential_active = print_object_instances_ordering.begin();</div>
<div class="line"><span class="lineno"> 1660</span>        <span class="keywordflow">for</span> (; print_object_instance_sequential_active != print_object_instances_ordering.end(); ++ print_object_instance_sequential_active) {</div>
<div class="line"><span class="lineno"> 1661</span>            tool_ordering = ToolOrdering(*(*print_object_instance_sequential_active)-&gt;print_object, initial_extruder_id);</div>
<div class="line"><span class="lineno"> 1662</span>            <span class="keywordflow">if</span> ((initial_extruder_id = tool_ordering.first_extruder()) != <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span><span class="keyword">&gt;</span>(-1)) {</div>
<div class="line"><span class="lineno"> 1663</span>                <span class="comment">//BBS: try to find the non-support filament extruder if is multi color and initial_extruder is support filament</span></div>
<div class="line"><span class="lineno"> 1664</span>                initial_non_support_extruder_id = initial_extruder_id;</div>
<div class="line"><span class="lineno"> 1665</span>                <span class="keywordflow">if</span> (tool_ordering.all_extruders().size() &gt; 1 &amp;&amp; print.config().filament_is_support.get_at(initial_extruder_id)) {</div>
<div class="line"><span class="lineno"> 1666</span>                    <span class="keywordtype">bool</span> has_non_support_filament = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1667</span>                    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> extruder : tool_ordering.all_extruders()) {</div>
<div class="line"><span class="lineno"> 1668</span>                        <span class="keywordflow">if</span> (!print.config().filament_is_support.get_at(extruder)) {</div>
<div class="line"><span class="lineno"> 1669</span>                            has_non_support_filament = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1670</span>                            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1671</span>                        }</div>
<div class="line"><span class="lineno"> 1672</span>                    }</div>
<div class="line"><span class="lineno"> 1673</span>                    <span class="comment">//BBS: find the non-support filament extruder of object</span></div>
<div class="line"><span class="lineno"> 1674</span>                    <span class="keywordflow">if</span> (has_non_support_filament)</div>
<div class="line"><span class="lineno"> 1675</span>                        <span class="keywordflow">for</span> (LayerTools layer_tools : tool_ordering.layer_tools()) {</div>
<div class="line"><span class="lineno"> 1676</span>                            <span class="keywordflow">if</span> (!layer_tools.has_object)</div>
<div class="line"><span class="lineno"> 1677</span>                                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1678</span>                            <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> extruder : layer_tools.extruders) {</div>
<div class="line"><span class="lineno"> 1679</span>                                <span class="keywordflow">if</span> (print.config().filament_is_support.get_at(extruder))</div>
<div class="line"><span class="lineno"> 1680</span>                                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1681</span>                                initial_non_support_extruder_id = extruder;</div>
<div class="line"><span class="lineno"> 1682</span>                                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1683</span>                            }</div>
<div class="line"><span class="lineno"> 1684</span>                        }</div>
<div class="line"><span class="lineno"> 1685</span>                }</div>
<div class="line"><span class="lineno"> 1686</span> </div>
<div class="line"><span class="lineno"> 1687</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1688</span>            }</div>
<div class="line"><span class="lineno"> 1689</span>        }</div>
<div class="line"><span class="lineno"> 1690</span>        <span class="keywordflow">if</span> (initial_extruder_id == <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span><span class="keyword">&gt;</span>(-1))</div>
<div class="line"><span class="lineno"> 1691</span>            <span class="comment">// No object to print was found, cancel the G-code export.</span></div>
<div class="line"><span class="lineno"> 1692</span>            <span class="keywordflow">throw</span> <a class="code hl_class" href="../../de/da8/class_slic3r_1_1_slicing_error.html">Slic3r::SlicingError</a>(<a class="code hl_define" href="../../db/d59/3mf_8cpp.html#afe73ea6f8e3b24ddb79e9508c56956bd">_</a>(<a class="code hl_define" href="../../d5/db8/_extrusion_entity_8cpp.html#a3948ef94e164df6b50c4a9d12ba60eb5">L</a>(<span class="stringliteral">&quot;No object can be printed. Maybe too small&quot;</span>)));</div>
<div class="line"><span class="lineno"> 1693</span>        <span class="comment">// We don&#39;t allow switching of extruders per layer by Model::custom_gcode_per_print_z in sequential mode.</span></div>
<div class="line"><span class="lineno"> 1694</span>        <span class="comment">// Use the extruder IDs collected from Regions.</span></div>
<div class="line"><span class="lineno"> 1695</span>        this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ac6320878ee4fff4ad7f30400b2bf8da9">set_extruders</a>(print.extruders());</div>
<div class="line"><span class="lineno"> 1696</span> </div>
<div class="line"><span class="lineno"> 1697</span>        has_wipe_tower = print.has_wipe_tower() &amp;&amp; tool_ordering.has_wipe_tower();</div>
<div class="line"><span class="lineno"> 1698</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1699</span>        <span class="comment">// Find tool ordering for all the objects at once, and the initial extruder ID.</span></div>
<div class="line"><span class="lineno"> 1700</span>        <span class="comment">// If the tool ordering has been pre-calculated by Print class for wipe tower already, reuse it.</span></div>
<div class="line"><span class="lineno"> 1701</span>        tool_ordering = print.tool_ordering();</div>
<div class="line"><span class="lineno"> 1702</span>        tool_ordering.assign_custom_gcodes(print);</div>
<div class="line"><span class="lineno"> 1703</span>        <span class="keywordflow">if</span> (tool_ordering.all_extruders().empty())</div>
<div class="line"><span class="lineno"> 1704</span>            <span class="comment">// No object to print was found, cancel the G-code export.</span></div>
<div class="line"><span class="lineno"> 1705</span>            <span class="keywordflow">throw</span> <a class="code hl_class" href="../../de/da8/class_slic3r_1_1_slicing_error.html">Slic3r::SlicingError</a>(<a class="code hl_define" href="../../db/d59/3mf_8cpp.html#afe73ea6f8e3b24ddb79e9508c56956bd">_</a>(<a class="code hl_define" href="../../d5/db8/_extrusion_entity_8cpp.html#a3948ef94e164df6b50c4a9d12ba60eb5">L</a>(<span class="stringliteral">&quot;No object can be printed. Maybe too small&quot;</span>)));</div>
<div class="line"><span class="lineno"> 1706</span>        has_wipe_tower = print.has_wipe_tower() &amp;&amp; tool_ordering.has_wipe_tower();</div>
<div class="line"><span class="lineno"> 1707</span>        <span class="comment">// BBS: priming logic is removed, so 1st layer tool_ordering also respect the object tool sequence</span></div>
<div class="line"><span class="lineno"> 1708</span><span class="preprocessor">#if 0</span></div>
<div class="line"><span class="lineno"> 1709</span>        initial_extruder_id = (has_wipe_tower &amp;&amp; !print.config().single_extruder_multi_material_priming) ?</div>
<div class="line"><span class="lineno"> 1710</span>            <span class="comment">// The priming towers will be skipped.</span></div>
<div class="line"><span class="lineno"> 1711</span>            tool_ordering.all_extruders().back() :</div>
<div class="line"><span class="lineno"> 1712</span>            <span class="comment">// Don&#39;t skip the priming towers.</span></div>
<div class="line"><span class="lineno"> 1713</span>            tool_ordering.first_extruder();</div>
<div class="line"><span class="lineno"> 1714</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 1715</span>        initial_extruder_id = tool_ordering.first_extruder();</div>
<div class="line"><span class="lineno"> 1716</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1717</span>        <span class="comment">//BBS: try to find the non-support filament extruder if is multi color and initial_extruder is support filament</span></div>
<div class="line"><span class="lineno"> 1718</span>        <span class="keywordflow">if</span> (initial_extruder_id != <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span><span class="keyword">&gt;</span>(-1)) {</div>
<div class="line"><span class="lineno"> 1719</span>            initial_non_support_extruder_id = initial_extruder_id;</div>
<div class="line"><span class="lineno"> 1720</span>            <span class="keywordflow">if</span> (tool_ordering.all_extruders().size() &gt; 1 &amp;&amp; print.config().filament_is_support.get_at(initial_extruder_id)) {</div>
<div class="line"><span class="lineno"> 1721</span>                <span class="keywordtype">bool</span> has_non_support_filament = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1722</span>                <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> extruder : tool_ordering.all_extruders()) {</div>
<div class="line"><span class="lineno"> 1723</span>                    <span class="keywordflow">if</span> (!print.config().filament_is_support.get_at(extruder)) {</div>
<div class="line"><span class="lineno"> 1724</span>                        has_non_support_filament = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1725</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1726</span>                    }</div>
<div class="line"><span class="lineno"> 1727</span>                }</div>
<div class="line"><span class="lineno"> 1728</span>                <span class="comment">//BBS: find the non-support filament extruder of object</span></div>
<div class="line"><span class="lineno"> 1729</span>                <span class="keywordflow">if</span> (has_non_support_filament)</div>
<div class="line"><span class="lineno"> 1730</span>                    <span class="keywordflow">for</span> (LayerTools layer_tools : tool_ordering.layer_tools()) {</div>
<div class="line"><span class="lineno"> 1731</span>                        <span class="keywordflow">if</span> (!layer_tools.has_object)</div>
<div class="line"><span class="lineno"> 1732</span>                            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1733</span>                        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> extruder : layer_tools.extruders) {</div>
<div class="line"><span class="lineno"> 1734</span>                            <span class="keywordflow">if</span> (print.config().filament_is_support.get_at(extruder))</div>
<div class="line"><span class="lineno"> 1735</span>                                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1736</span>                            initial_non_support_extruder_id = extruder;</div>
<div class="line"><span class="lineno"> 1737</span>                            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1738</span>                        }</div>
<div class="line"><span class="lineno"> 1739</span>                    }</div>
<div class="line"><span class="lineno"> 1740</span>            }</div>
<div class="line"><span class="lineno"> 1741</span>        }</div>
<div class="line"><span class="lineno"> 1742</span> </div>
<div class="line"><span class="lineno"> 1743</span>        <span class="comment">// In non-sequential print, the printing extruders may have been modified by the extruder switches stored in Model::custom_gcode_per_print_z.</span></div>
<div class="line"><span class="lineno"> 1744</span>        <span class="comment">// Therefore initialize the printing extruders from there.</span></div>
<div class="line"><span class="lineno"> 1745</span>        this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ac6320878ee4fff4ad7f30400b2bf8da9">set_extruders</a>(tool_ordering.all_extruders());</div>
<div class="line"><span class="lineno"> 1746</span>        <span class="comment">// Order object instances using a nearest neighbor search.</span></div>
<div class="line"><span class="lineno"> 1747</span>        print_object_instances_ordering = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a42825440f600a23bd1cd8f6427fcb912">chain_print_object_instances</a>(print);</div>
<div class="line"><span class="lineno"> 1748</span>    }</div>
<div class="line"><span class="lineno"> 1749</span>    <span class="keywordflow">if</span> (initial_extruder_id == (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)-1) {</div>
<div class="line"><span class="lineno"> 1750</span>        <span class="comment">// Nothing to print!</span></div>
<div class="line"><span class="lineno"> 1751</span>        initial_extruder_id = 0;</div>
<div class="line"><span class="lineno"> 1752</span>        initial_non_support_extruder_id = 0;</div>
<div class="line"><span class="lineno"> 1753</span>        final_extruder_id   = 0;</div>
<div class="line"><span class="lineno"> 1754</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1755</span>        final_extruder_id = tool_ordering.last_extruder();</div>
<div class="line"><span class="lineno"> 1756</span>        assert(final_extruder_id != (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)-1);</div>
<div class="line"><span class="lineno"> 1757</span>    }</div>
<div class="line"><span class="lineno"> 1758</span>    print.throw_if_canceled();</div>
<div class="line"><span class="lineno"> 1759</span> </div>
<div class="line"><span class="lineno"> 1760</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae7defbc83aafbbea7c9ae7a0ca4c8fef">m_cooling_buffer</a> = make_unique&lt;CoolingBuffer&gt;(*<span class="keyword">this</span>);</div>
<div class="line"><span class="lineno"> 1761</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae7defbc83aafbbea7c9ae7a0ca4c8fef">m_cooling_buffer</a>-&gt;set_current_extruder(initial_extruder_id);</div>
<div class="line"><span class="lineno"> 1762</span> </div>
<div class="line"><span class="lineno"> 1763</span>    <span class="comment">// Emit machine envelope limits for the Marlin firmware.</span></div>
<div class="line"><span class="lineno"> 1764</span>    this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a0aa14d5c370dcfa9c9ef3fc656de64cc">print_machine_envelope</a>(file, print);</div>
<div class="line"><span class="lineno"> 1765</span> </div>
<div class="line"><span class="lineno"> 1766</span>    <span class="comment">// Disable fan.</span></div>
<div class="line"><span class="lineno"> 1767</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.auxiliary_fan.value &amp;&amp; print.config().close_fan_the_first_x_layers.get_at(initial_extruder_id)) {</div>
<div class="line"><span class="lineno"> 1768</span>        file.write(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a3915a7b9648a6097ba68bf89682627f2">set_fan</a>(0));</div>
<div class="line"><span class="lineno"> 1769</span>        <span class="comment">//BBS: disable additional fan</span></div>
<div class="line"><span class="lineno"> 1770</span>        file.write(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a7486ffb14da36c2f659314b485c538dd">set_additional_fan</a>(0));</div>
<div class="line"><span class="lineno"> 1771</span>    }</div>
<div class="line"><span class="lineno"> 1772</span> </div>
<div class="line"><span class="lineno"> 1773</span>    <span class="comment">// Let the start-up script prime the 1st printing tool.</span></div>
<div class="line"><span class="lineno"> 1774</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad74e7798985b999d53045b7ecd19739b">m_placeholder_parser</a>.<a class="code hl_function" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#a20f5feca1ff118f35a359a16c3ec902e">set</a>(<span class="stringliteral">&quot;initial_tool&quot;</span>, initial_extruder_id);</div>
<div class="line"><span class="lineno"> 1775</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad74e7798985b999d53045b7ecd19739b">m_placeholder_parser</a>.<a class="code hl_function" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#a20f5feca1ff118f35a359a16c3ec902e">set</a>(<span class="stringliteral">&quot;initial_extruder&quot;</span>, initial_extruder_id);</div>
<div class="line"><span class="lineno"> 1776</span>    <span class="comment">//BBS</span></div>
<div class="line"><span class="lineno"> 1777</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad74e7798985b999d53045b7ecd19739b">m_placeholder_parser</a>.<a class="code hl_function" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#a20f5feca1ff118f35a359a16c3ec902e">set</a>(<span class="stringliteral">&quot;initial_no_support_tool&quot;</span>, initial_non_support_extruder_id);</div>
<div class="line"><span class="lineno"> 1778</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad74e7798985b999d53045b7ecd19739b">m_placeholder_parser</a>.<a class="code hl_function" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#a20f5feca1ff118f35a359a16c3ec902e">set</a>(<span class="stringliteral">&quot;initial_no_support_extruder&quot;</span>, initial_non_support_extruder_id);</div>
<div class="line"><span class="lineno"> 1779</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad74e7798985b999d53045b7ecd19739b">m_placeholder_parser</a>.<a class="code hl_function" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#a20f5feca1ff118f35a359a16c3ec902e">set</a>(<span class="stringliteral">&quot;current_extruder&quot;</span>, initial_extruder_id);</div>
<div class="line"><span class="lineno"> 1780</span>    <span class="comment">//Set variable for total layer count so it can be used in custom gcode.</span></div>
<div class="line"><span class="lineno"> 1781</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad74e7798985b999d53045b7ecd19739b">m_placeholder_parser</a>.<a class="code hl_function" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#a20f5feca1ff118f35a359a16c3ec902e">set</a>(<span class="stringliteral">&quot;total_layer_count&quot;</span>, <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#afa528044bae428d5df6df25b4fe44516">m_layer_count</a>);</div>
<div class="line"><span class="lineno"> 1782</span>    <span class="comment">// Useful for sequential prints.</span></div>
<div class="line"><span class="lineno"> 1783</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad74e7798985b999d53045b7ecd19739b">m_placeholder_parser</a>.<a class="code hl_function" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#a20f5feca1ff118f35a359a16c3ec902e">set</a>(<span class="stringliteral">&quot;current_object_idx&quot;</span>, 0);</div>
<div class="line"><span class="lineno"> 1784</span>    <span class="comment">// For the start / end G-code to do the priming and final filament pull in case there is no wipe tower provided.</span></div>
<div class="line"><span class="lineno"> 1785</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad74e7798985b999d53045b7ecd19739b">m_placeholder_parser</a>.<a class="code hl_function" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#a20f5feca1ff118f35a359a16c3ec902e">set</a>(<span class="stringliteral">&quot;has_wipe_tower&quot;</span>, has_wipe_tower);</div>
<div class="line"><span class="lineno"> 1786</span>    <span class="comment">//m_placeholder_parser.set(&quot;has_single_extruder_multi_material_priming&quot;, has_wipe_tower &amp;&amp; print.config().single_extruder_multi_material_priming);</span></div>
<div class="line"><span class="lineno"> 1787</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad74e7798985b999d53045b7ecd19739b">m_placeholder_parser</a>.<a class="code hl_function" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#a20f5feca1ff118f35a359a16c3ec902e">set</a>(<span class="stringliteral">&quot;total_toolchanges&quot;</span>, std::max(0, print.wipe_tower_data().number_of_toolchanges)); <span class="comment">// Check for negative toolchanges (single extruder mode) and set to 0 (no tool change).</span></div>
<div class="line"><span class="lineno"> 1788</span> </div>
<div class="line"><span class="lineno"> 1789</span>    <span class="comment">// PlaceholderParser currently substitues non-existent vector values with the zero&#39;th value, which is harmful in the</span></div>
<div class="line"><span class="lineno"> 1790</span>    <span class="comment">// case of &quot;is_extruder_used[]&quot; as Slicer may lie about availability of such non-existent extruder. We rather</span></div>
<div class="line"><span class="lineno"> 1791</span>    <span class="comment">// sacrifice 256B of memory before we change the behavior of the PlaceholderParser, which should really only fill in</span></div>
<div class="line"><span class="lineno"> 1792</span>    <span class="comment">// the non-existent vector elements for filament parameters.</span></div>
<div class="line"><span class="lineno"> 1793</span>    std::vector&lt;unsigned char&gt; is_extruder_used(std::max(<span class="keywordtype">size_t</span>(255), print.config().filament_diameter.size()), 0);</div>
<div class="line"><span class="lineno"> 1794</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> extruder : tool_ordering.all_extruders())</div>
<div class="line"><span class="lineno"> 1795</span>        is_extruder_used[extruder] = true;</div>
<div class="line"><span class="lineno"> 1796</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad74e7798985b999d53045b7ecd19739b">m_placeholder_parser</a>.<a class="code hl_function" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#a20f5feca1ff118f35a359a16c3ec902e">set</a>(<span class="stringliteral">&quot;is_extruder_used&quot;</span>, <span class="keyword">new</span> <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a99242cfdfb46ce4e59d15d20b08d20ce">ConfigOptionBools</a>(is_extruder_used));</div>
<div class="line"><span class="lineno"> 1797</span> </div>
<div class="line"><span class="lineno"> 1798</span>    <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> plate_offset = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a0680c6f03c389db5bd95018db626dab9">get_xy_offset</a>();</div>
<div class="line"><span class="lineno"> 1799</span>    {</div>
<div class="line"><span class="lineno"> 1800</span>        BoundingBoxf bbox(print.config().printable_area.values);</div>
<div class="line"><span class="lineno"> 1801</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad74e7798985b999d53045b7ecd19739b">m_placeholder_parser</a>.<a class="code hl_function" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#a20f5feca1ff118f35a359a16c3ec902e">set</a>(<span class="stringliteral">&quot;print_bed_min&quot;</span>, <span class="keyword">new</span> <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#ada0c88e79f3ceffda9c0e403171d475d">ConfigOptionFloats</a>({ bbox.min.x() - plate_offset.x(), bbox.min.y() - plate_offset.y() }));</div>
<div class="line"><span class="lineno"> 1802</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad74e7798985b999d53045b7ecd19739b">m_placeholder_parser</a>.<a class="code hl_function" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#a20f5feca1ff118f35a359a16c3ec902e">set</a>(<span class="stringliteral">&quot;print_bed_max&quot;</span>, <span class="keyword">new</span> <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#ada0c88e79f3ceffda9c0e403171d475d">ConfigOptionFloats</a>({ bbox.max.x() - plate_offset.x(), bbox.max.y() - plate_offset.y() }));</div>
<div class="line"><span class="lineno"> 1803</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad74e7798985b999d53045b7ecd19739b">m_placeholder_parser</a>.<a class="code hl_function" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#a20f5feca1ff118f35a359a16c3ec902e">set</a>(<span class="stringliteral">&quot;print_bed_size&quot;</span>, <span class="keyword">new</span> <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#ada0c88e79f3ceffda9c0e403171d475d">ConfigOptionFloats</a>({ bbox.size().<a class="code hl_function" href="../../df/d4e/namespacelibnest2d_1_1pointlike.html#a1e3045df0bee66333beaa96a9a1b6c9d">x</a>(), bbox.size().y() }));</div>
<div class="line"><span class="lineno"> 1804</span>    }</div>
<div class="line"><span class="lineno"> 1805</span>    {</div>
<div class="line"><span class="lineno"> 1806</span>        <span class="comment">// Convex hull of the 1st layer extrusions, for bed leveling and placing the initial purge line.</span></div>
<div class="line"><span class="lineno"> 1807</span>        <span class="comment">// It encompasses the object extrusions, support extrusions, skirt, brim, wipe tower.</span></div>
<div class="line"><span class="lineno"> 1808</span>        <span class="comment">// It does NOT encompass user extrusions generated by custom G-code,</span></div>
<div class="line"><span class="lineno"> 1809</span>        <span class="comment">// therefore it does NOT encompass the initial purge line.</span></div>
<div class="line"><span class="lineno"> 1810</span>        <span class="comment">// It does NOT encompass MMU/MMU2 starting (wipe) areas.</span></div>
<div class="line"><span class="lineno"> 1811</span>        <span class="keyword">auto</span> pts = std::make_unique&lt;ConfigOptionPoints&gt;();</div>
<div class="line"><span class="lineno"> 1812</span>        pts-&gt;values.reserve(print.first_layer_convex_hull().size());</div>
<div class="line"><span class="lineno"> 1813</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a>&amp; pt : print.first_layer_convex_hull().points)</div>
<div class="line"><span class="lineno"> 1814</span>            pts-&gt;values.emplace_back(print.translate_to_print_space(pt));</div>
<div class="line"><span class="lineno"> 1815</span>        BoundingBoxf bbox(pts-&gt;values);</div>
<div class="line"><span class="lineno"> 1816</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad74e7798985b999d53045b7ecd19739b">m_placeholder_parser</a>.<a class="code hl_function" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#a20f5feca1ff118f35a359a16c3ec902e">set</a>(<span class="stringliteral">&quot;first_layer_print_convex_hull&quot;</span>, pts.release());</div>
<div class="line"><span class="lineno"> 1817</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad74e7798985b999d53045b7ecd19739b">m_placeholder_parser</a>.<a class="code hl_function" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#a20f5feca1ff118f35a359a16c3ec902e">set</a>(<span class="stringliteral">&quot;first_layer_print_min&quot;</span>, <span class="keyword">new</span> <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#ada0c88e79f3ceffda9c0e403171d475d">ConfigOptionFloats</a>({bbox.min.x(), bbox.min.y()}));</div>
<div class="line"><span class="lineno"> 1818</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad74e7798985b999d53045b7ecd19739b">m_placeholder_parser</a>.<a class="code hl_function" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#a20f5feca1ff118f35a359a16c3ec902e">set</a>(<span class="stringliteral">&quot;first_layer_print_max&quot;</span>, <span class="keyword">new</span> <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#ada0c88e79f3ceffda9c0e403171d475d">ConfigOptionFloats</a>({bbox.max.x(), bbox.max.y()}));</div>
<div class="line"><span class="lineno"> 1819</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad74e7798985b999d53045b7ecd19739b">m_placeholder_parser</a>.<a class="code hl_function" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#a20f5feca1ff118f35a359a16c3ec902e">set</a>(<span class="stringliteral">&quot;first_layer_print_size&quot;</span>, <span class="keyword">new</span> <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#ada0c88e79f3ceffda9c0e403171d475d">ConfigOptionFloats</a>({ bbox.size().<a class="code hl_function" href="../../df/d4e/namespacelibnest2d_1_1pointlike.html#a1e3045df0bee66333beaa96a9a1b6c9d">x</a>(), bbox.size().y() }));</div>
<div class="line"><span class="lineno"> 1820</span>    }</div>
<div class="line"><span class="lineno"> 1821</span>    <span class="keywordtype">float</span> outer_wall_volumetric_speed = 0.0f;</div>
<div class="line"><span class="lineno"> 1822</span>    {</div>
<div class="line"><span class="lineno"> 1823</span>        <span class="keywordtype">int</span> curr_bed_type = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.curr_bed_type.getInt();</div>
<div class="line"><span class="lineno"> 1824</span> </div>
<div class="line"><span class="lineno"> 1825</span>        std::string first_layer_bed_temp_str;</div>
<div class="line"><span class="lineno"> 1826</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a760b7e0ccb84f301b709dd515c3df843">ConfigOptionInts</a>* first_bed_temp_opt = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.option&lt;<a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a760b7e0ccb84f301b709dd515c3df843">ConfigOptionInts</a>&gt;(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#add642cde3ce315e35df3844e629607c3">get_bed_temp_1st_layer_key</a>((<a class="code hl_enumeration" href="../../de/db8/namespace_slic3r.html#a42fa1ebef02a8ad64595c21fcbe5aebc">BedType</a>)curr_bed_type));</div>
<div class="line"><span class="lineno"> 1827</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a760b7e0ccb84f301b709dd515c3df843">ConfigOptionInts</a>* bed_temp_opt = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.option&lt;<a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a760b7e0ccb84f301b709dd515c3df843">ConfigOptionInts</a>&gt;(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1b090225e802a49f0153eb65b651fbd9">get_bed_temp_key</a>((<a class="code hl_enumeration" href="../../de/db8/namespace_slic3r.html#a42fa1ebef02a8ad64595c21fcbe5aebc">BedType</a>)curr_bed_type));</div>
<div class="line"><span class="lineno"> 1828</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad74e7798985b999d53045b7ecd19739b">m_placeholder_parser</a>.<a class="code hl_function" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#a20f5feca1ff118f35a359a16c3ec902e">set</a>(<span class="stringliteral">&quot;bbl_bed_temperature_gcode&quot;</span>, <span class="keyword">new</span> ConfigOptionBool(<span class="keyword">false</span>));</div>
<div class="line"><span class="lineno"> 1829</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad74e7798985b999d53045b7ecd19739b">m_placeholder_parser</a>.<a class="code hl_function" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#a20f5feca1ff118f35a359a16c3ec902e">set</a>(<span class="stringliteral">&quot;bed_temperature_initial_layer&quot;</span>, <span class="keyword">new</span> <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a760b7e0ccb84f301b709dd515c3df843">ConfigOptionInts</a>(*first_bed_temp_opt));</div>
<div class="line"><span class="lineno"> 1830</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad74e7798985b999d53045b7ecd19739b">m_placeholder_parser</a>.<a class="code hl_function" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#a20f5feca1ff118f35a359a16c3ec902e">set</a>(<span class="stringliteral">&quot;bed_temperature&quot;</span>, <span class="keyword">new</span> <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a760b7e0ccb84f301b709dd515c3df843">ConfigOptionInts</a>(*bed_temp_opt));</div>
<div class="line"><span class="lineno"> 1831</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad74e7798985b999d53045b7ecd19739b">m_placeholder_parser</a>.<a class="code hl_function" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#a20f5feca1ff118f35a359a16c3ec902e">set</a>(<span class="stringliteral">&quot;bed_temperature_initial_layer_single&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#ac44dc7dc57ca4e75fffcf4b377abfd8b">ConfigOptionInt</a>(first_bed_temp_opt-&gt;get_at(initial_extruder_id)));</div>
<div class="line"><span class="lineno"> 1832</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad74e7798985b999d53045b7ecd19739b">m_placeholder_parser</a>.<a class="code hl_function" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#a20f5feca1ff118f35a359a16c3ec902e">set</a>(<span class="stringliteral">&quot;bed_temperature_initial_layer_vector&quot;</span>, <span class="keyword">new</span> ConfigOptionString(<span class="stringliteral">&quot;&quot;</span>));</div>
<div class="line"><span class="lineno"> 1833</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad74e7798985b999d53045b7ecd19739b">m_placeholder_parser</a>.<a class="code hl_function" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#a20f5feca1ff118f35a359a16c3ec902e">set</a>(<span class="stringliteral">&quot;chamber_temperature&quot;</span>,<span class="keyword">new</span> <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a760b7e0ccb84f301b709dd515c3df843">ConfigOptionInts</a>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.chamber_temperature));</div>
<div class="line"><span class="lineno"> 1834</span> </div>
<div class="line"><span class="lineno"> 1835</span>        <span class="comment">// SoftFever: support variables `first_layer_temperature` and `first_layer_bed_temperature`</span></div>
<div class="line"><span class="lineno"> 1836</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad74e7798985b999d53045b7ecd19739b">m_placeholder_parser</a>.<a class="code hl_function" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#a20f5feca1ff118f35a359a16c3ec902e">set</a>(<span class="stringliteral">&quot;first_layer_bed_temperature&quot;</span>, <span class="keyword">new</span> <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a760b7e0ccb84f301b709dd515c3df843">ConfigOptionInts</a>(*first_bed_temp_opt));</div>
<div class="line"><span class="lineno"> 1837</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad74e7798985b999d53045b7ecd19739b">m_placeholder_parser</a>.<a class="code hl_function" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#a20f5feca1ff118f35a359a16c3ec902e">set</a>(<span class="stringliteral">&quot;first_layer_temperature&quot;</span>, <span class="keyword">new</span> <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a760b7e0ccb84f301b709dd515c3df843">ConfigOptionInts</a>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.nozzle_temperature_initial_layer));</div>
<div class="line"><span class="lineno"> 1838</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad74e7798985b999d53045b7ecd19739b">m_placeholder_parser</a>.<a class="code hl_function" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#a20f5feca1ff118f35a359a16c3ec902e">set</a>(<span class="stringliteral">&quot;max_print_height&quot;</span>,<span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#ac44dc7dc57ca4e75fffcf4b377abfd8b">ConfigOptionInt</a>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.printable_height));</div>
<div class="line"><span class="lineno"> 1839</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad74e7798985b999d53045b7ecd19739b">m_placeholder_parser</a>.<a class="code hl_function" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#a20f5feca1ff118f35a359a16c3ec902e">set</a>(<span class="stringliteral">&quot;z_offset&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(0.0f));</div>
<div class="line"><span class="lineno"> 1840</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad74e7798985b999d53045b7ecd19739b">m_placeholder_parser</a>.<a class="code hl_function" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#a20f5feca1ff118f35a359a16c3ec902e">set</a>(<span class="stringliteral">&quot;plate_name&quot;</span>, <span class="keyword">new</span> ConfigOptionString(print.get_plate_name()));</div>
<div class="line"><span class="lineno"> 1841</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad74e7798985b999d53045b7ecd19739b">m_placeholder_parser</a>.<a class="code hl_function" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#a20f5feca1ff118f35a359a16c3ec902e">set</a>(<span class="stringliteral">&quot;first_layer_height&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.initial_layer_print_height.value));</div>
<div class="line"><span class="lineno"> 1842</span> </div>
<div class="line"><span class="lineno"> 1843</span>        <span class="comment">//BBS: calculate the volumetric speed of outer wall. Ignore pre-object setting and multi-filament, and just use the default setting</span></div>
<div class="line"><span class="lineno"> 1844</span>        {</div>
<div class="line"><span class="lineno"> 1845</span> </div>
<div class="line"><span class="lineno"> 1846</span>            <span class="keywordtype">float</span> filament_max_volumetric_speed = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.option&lt;<a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#ada0c88e79f3ceffda9c0e403171d475d">ConfigOptionFloats</a>&gt;(<span class="stringliteral">&quot;filament_max_volumetric_speed&quot;</span>)-&gt;get_at(initial_non_support_extruder_id);</div>
<div class="line"><span class="lineno"> 1847</span>            <span class="keyword">const</span> <span class="keywordtype">double</span> nozzle_diameter = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.nozzle_diameter.get_at(initial_non_support_extruder_id);</div>
<div class="line"><span class="lineno"> 1848</span>            <span class="keywordtype">float</span> <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a233c708cd58736bef2886d8efa1091ab">outer_wall_line_width</a> = this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a>().get_abs_value(<span class="stringliteral">&quot;outer_wall_line_width&quot;</span>, nozzle_diameter);</div>
<div class="line"><span class="lineno"> 1849</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a233c708cd58736bef2886d8efa1091ab">outer_wall_line_width</a> == 0.0) {</div>
<div class="line"><span class="lineno"> 1850</span>                <span class="keywordtype">float</span> default_line_width =  this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a>().get_abs_value(<span class="stringliteral">&quot;line_width&quot;</span>, nozzle_diameter);</div>
<div class="line"><span class="lineno"> 1851</span>                <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a233c708cd58736bef2886d8efa1091ab">outer_wall_line_width</a> = default_line_width == 0.0 ? nozzle_diameter : default_line_width;</div>
<div class="line"><span class="lineno"> 1852</span>            }</div>
<div class="line"><span class="lineno"> 1853</span>            Flow outer_wall_flow = Flow(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a233c708cd58736bef2886d8efa1091ab">outer_wall_line_width</a>, <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.layer_height, <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.nozzle_diameter.get_at(initial_non_support_extruder_id));</div>
<div class="line"><span class="lineno"> 1854</span>            <span class="keywordtype">float</span> outer_wall_speed = print.default_region_config().outer_wall_speed.value;</div>
<div class="line"><span class="lineno"> 1855</span>            outer_wall_volumetric_speed = outer_wall_speed * outer_wall_flow.mm3_per_mm();</div>
<div class="line"><span class="lineno"> 1856</span>            <span class="keywordflow">if</span> (outer_wall_volumetric_speed &gt; filament_max_volumetric_speed)</div>
<div class="line"><span class="lineno"> 1857</span>                outer_wall_volumetric_speed = filament_max_volumetric_speed;</div>
<div class="line"><span class="lineno"> 1858</span>            <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad74e7798985b999d53045b7ecd19739b">m_placeholder_parser</a>.<a class="code hl_function" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#a20f5feca1ff118f35a359a16c3ec902e">set</a>(<span class="stringliteral">&quot;outer_wall_volumetric_speed&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(outer_wall_volumetric_speed));</div>
<div class="line"><span class="lineno"> 1859</span>        }</div>
<div class="line"><span class="lineno"> 1860</span> </div>
<div class="line"><span class="lineno"> 1861</span>    }</div>
<div class="line"><span class="lineno"> 1862</span>    std::string machine_start_gcode = this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a70b6e83de9e549d8405f5b63783ac290">placeholder_parser_process</a>(<span class="stringliteral">&quot;machine_start_gcode&quot;</span>, print.config().machine_start_gcode.value, initial_extruder_id);</div>
<div class="line"><span class="lineno"> 1863</span>    <span class="keywordflow">if</span> (print.config().gcode_flavor != <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a02d66b5053fbce6319e225982b3c5a90a4b6801e5d5c460886aee95250b34bc8e">gcfKlipper</a>) {</div>
<div class="line"><span class="lineno"> 1864</span>        <span class="comment">// Set bed temperature if the start G-code does not contain any bed temp control G-codes.</span></div>
<div class="line"><span class="lineno"> 1865</span>        this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#af01f2b164b70e2db11e8dc603f064f7d">_print_first_layer_bed_temperature</a>(file, print, machine_start_gcode, initial_extruder_id, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1866</span>        <span class="comment">// Set extruder(s) temperature before and after start G-code.</span></div>
<div class="line"><span class="lineno"> 1867</span>        this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad26de7a6470f710e55063e5ddd3ee86d">_print_first_layer_extruder_temperatures</a>(file, print, machine_start_gcode, initial_extruder_id, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1868</span>    }</div>
<div class="line"><span class="lineno"> 1869</span> </div>
<div class="line"><span class="lineno"> 1870</span>    <span class="comment">// adds tag for processor</span></div>
<div class="line"><span class="lineno"> 1871</span>    file.write_format(<span class="stringliteral">&quot;;%s%s\n&quot;</span>, <a class="code hl_function" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a44451e44902b601a9885339440174bb2">GCodeProcessor::reserved_tag</a>(<a class="code hl_enumvalue" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a9d0a157d06bdfad05bc6822a9a1c8071abbbabdbe1b262f75d99d62880b953be1">GCodeProcessor::ETags::Role</a>).c_str(), <a class="code hl_function" href="../../de/d7c/class_slic3r_1_1_extrusion_entity.html#a536487f55b578cc247176b4da3dfe52b">ExtrusionEntity::role_to_string</a>(<a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a5340a9df46b83353c5ff3119069d2493">erCustom</a>).c_str());</div>
<div class="line"><span class="lineno"> 1872</span> </div>
<div class="line"><span class="lineno"> 1873</span>    <span class="comment">// Write the custom start G-code</span></div>
<div class="line"><span class="lineno"> 1874</span>    file.writeln(machine_start_gcode);</div>
<div class="line"><span class="lineno"> 1875</span> </div>
<div class="line"><span class="lineno"> 1876</span>    <span class="comment">//BBS: gcode writer doesn&#39;t know where the real position of extruder is after inserting custom gcode</span></div>
<div class="line"><span class="lineno"> 1877</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#aea4e9f7803f4c249ab2245cec825e4f9">set_current_position_clear</a>(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1878</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#abf9eff5169db96af3eb235c0e923b915">m_start_gcode_filament</a> = <a class="code hl_function" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a1756318a316c854b77f22bae5b167630">GCodeProcessor::get_gcode_last_filament</a>(machine_start_gcode);</div>
<div class="line"><span class="lineno"> 1879</span> </div>
<div class="line"><span class="lineno"> 1880</span>    <span class="comment">//flush FanMover buffer to avoid modifying the start gcode if it&#39;s manual.</span></div>
<div class="line"><span class="lineno"> 1881</span>    <span class="keywordflow">if</span> (!machine_start_gcode.empty() &amp;&amp; this-&gt;m_fan_mover.get() != <span class="keyword">nullptr</span>)</div>
<div class="line"><span class="lineno"> 1882</span>        file.write(this-&gt;<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aea409072544589f5bcb13a40b83a5748">m_fan_mover</a>.get()-&gt;process_gcode(<span class="stringliteral">&quot;&quot;</span>, <span class="keyword">true</span>));</div>
<div class="line"><span class="lineno"> 1883</span> </div>
<div class="line"><span class="lineno"> 1884</span>    <span class="comment">// Process filament-specific gcode.</span></div>
<div class="line"><span class="lineno"> 1885</span>   <span class="comment">/* if (has_wipe_tower) {</span></div>
<div class="line"><span class="lineno"> 1886</span><span class="comment">        // Wipe tower will control the extruder switching, it will call the filament_start_gcode.</span></div>
<div class="line"><span class="lineno"> 1887</span><span class="comment">    } else {</span></div>
<div class="line"><span class="lineno"> 1888</span><span class="comment">            DynamicConfig config;</span></div>
<div class="line"><span class="lineno"> 1889</span><span class="comment">            config.set_key_value(&quot;filament_extruder_id&quot;, new ConfigOptionInt(int(initial_extruder_id)));</span></div>
<div class="line"><span class="lineno"> 1890</span><span class="comment">            file.writeln(this-&gt;placeholder_parser_process(&quot;filament_start_gcode&quot;, print.config().filament_start_gcode.values[initial_extruder_id], initial_extruder_id, &amp;config));</span></div>
<div class="line"><span class="lineno"> 1891</span><span class="comment">    }</span></div>
<div class="line"><span class="lineno"> 1892</span><span class="comment">*/</span></div>
<div class="line"><span class="lineno"> 1893</span>    <span class="keywordflow">if</span> (is_bbl_printers)</div>
<div class="line"><span class="lineno"> 1894</span>        this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad26de7a6470f710e55063e5ddd3ee86d">_print_first_layer_extruder_temperatures</a>(file, print, machine_start_gcode, initial_extruder_id, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1895</span>    print.throw_if_canceled();</div>
<div class="line"><span class="lineno"> 1896</span> </div>
<div class="line"><span class="lineno"> 1897</span>    <span class="comment">// Set other general things.</span></div>
<div class="line"><span class="lineno"> 1898</span>    file.write(this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a1b9cd040ce1ef5fbc7d0ff2676b3fb50">preamble</a>());</div>
<div class="line"><span class="lineno"> 1899</span> </div>
<div class="line"><span class="lineno"> 1900</span>    <span class="comment">// Calculate wiping points if needed</span></div>
<div class="line"><span class="lineno"> 1901</span>    <a class="code hl_function" href="../../de/d39/namespace_slic3r_1_1_do_export.html#a0a9841bf53758fc0da7b63b36a88dd30">DoExport::init_ooze_prevention</a>(print, <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae7da2bd41bc38cf3750716374a164439">m_ooze_prevention</a>);</div>
<div class="line"><span class="lineno"> 1902</span>    print.throw_if_canceled();</div>
<div class="line"><span class="lineno"> 1903</span> </div>
<div class="line"><span class="lineno"> 1904</span>    <span class="comment">// Collect custom seam data from all objects.</span></div>
<div class="line"><span class="lineno"> 1905</span>    std::function&lt;<a class="code hl_function" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>(<span class="keywordtype">void</span>)&gt; throw_if_canceled_func = [&amp;print]() { print.throw_if_canceled(); };</div>
<div class="line"><span class="lineno"> 1906</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#adeede141933a8492102e63526cf6157d">m_seam_placer</a>.<a class="code hl_function" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a537ad1282a142af5295536ed39161e20">init</a>(print, throw_if_canceled_func);</div>
<div class="line"><span class="lineno"> 1907</span> </div>
<div class="line"><span class="lineno"> 1908</span>    <span class="comment">// BBS: get path for change filament</span></div>
<div class="line"><span class="lineno"> 1909</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_variable" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#ae071802e9fb76729dee5727e53e27e9d">multiple_extruders</a>) {</div>
<div class="line"><span class="lineno"> 1910</span>        std::vector&lt;Vec2d&gt; points = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a4a3476ede9ee7d838f5ebe5b408a2db7">get_path_of_change_filament</a>(print);</div>
<div class="line"><span class="lineno"> 1911</span>        <span class="keywordflow">if</span> (points.size() == 3) {</div>
<div class="line"><span class="lineno"> 1912</span>            <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#ac4d96e1e2e66db43dc9ef0e718ee32c2">travel_point_1</a> = points[0];</div>
<div class="line"><span class="lineno"> 1913</span>            <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#ab9627c9d229ca43d9efc0d60c4904600">travel_point_2</a> = points[1];</div>
<div class="line"><span class="lineno"> 1914</span>            <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#acc7a8f01094a952fc3db6dcfa9349d9a">travel_point_3</a> = points[2];</div>
<div class="line"><span class="lineno"> 1915</span>        }</div>
<div class="line"><span class="lineno"> 1916</span>    }</div>
<div class="line"><span class="lineno"> 1917</span> </div>
<div class="line"><span class="lineno"> 1918</span>    <span class="comment">// BBS: priming logic is removed, always set first extruer here.</span></div>
<div class="line"><span class="lineno"> 1919</span>    <span class="comment">//if (! (has_wipe_tower &amp;&amp; print.config().single_extruder_multi_material_priming))</span></div>
<div class="line"><span class="lineno"> 1920</span>    {</div>
<div class="line"><span class="lineno"> 1921</span>        <span class="comment">// Set initial extruder only after custom start G-code.</span></div>
<div class="line"><span class="lineno"> 1922</span>        <span class="comment">// Ugly hack: Do not set the initial extruder if the extruder is primed using the MMU priming towers at the edge of the print bed.</span></div>
<div class="line"><span class="lineno"> 1923</span>        file.write(this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a17e6b9621f765ee22ac0cc4eaf9ca1c7">set_extruder</a>(initial_extruder_id, 0.));</div>
<div class="line"><span class="lineno"> 1924</span>    }</div>
<div class="line"><span class="lineno"> 1925</span>    <span class="comment">// BBS: set that indicates objs with brim</span></div>
<div class="line"><span class="lineno"> 1926</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> iter = print.m_brimMap.begin(); iter != print.m_brimMap.end(); ++iter) {</div>
<div class="line"><span class="lineno"> 1927</span>        <span class="keywordflow">if</span> (!iter-&gt;second.empty())</div>
<div class="line"><span class="lineno"> 1928</span>            this-&gt;<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a55c1a36fa083f45789738e732b7e8f51">m_objsWithBrim</a>.insert(iter-&gt;first);</div>
<div class="line"><span class="lineno"> 1929</span>    }</div>
<div class="line"><span class="lineno"> 1930</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> iter = print.m_supportBrimMap.begin(); iter != print.m_supportBrimMap.end(); ++iter) {</div>
<div class="line"><span class="lineno"> 1931</span>        <span class="keywordflow">if</span> (!iter-&gt;second.empty())</div>
<div class="line"><span class="lineno"> 1932</span>            this-&gt;<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a6f4b674d8ebba097b1dbc67262ace858">m_objSupportsWithBrim</a>.insert(iter-&gt;first);</div>
<div class="line"><span class="lineno"> 1933</span>    }</div>
<div class="line"><span class="lineno"> 1934</span>    <span class="keywordflow">if</span> (this-&gt;<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a55c1a36fa083f45789738e732b7e8f51">m_objsWithBrim</a>.empty() &amp;&amp; this-&gt;<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a6f4b674d8ebba097b1dbc67262ace858">m_objSupportsWithBrim</a>.empty()) <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a03f8fb89cf6e89f08314d2d4c770d177">m_brim_done</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1935</span> </div>
<div class="line"><span class="lineno"> 1936</span>    <span class="comment">// SoftFever: calib</span></div>
<div class="line"><span class="lineno"> 1937</span>    <span class="keywordflow">if</span> (print.calib_params().mode == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a10875bb92bba52324eab015888534f9da285c93be3cce598ef4001be97369c040">CalibMode::Calib_PA_Line</a>) {</div>
<div class="line"><span class="lineno"> 1938</span>        std::string <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a>;</div>
<div class="line"><span class="lineno"> 1939</span>        <span class="keywordflow">if</span> ((<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.default_acceleration.value &gt; 0 &amp;&amp; <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.outer_wall_acceleration.value &gt; 0)) {</div>
<div class="line"><span class="lineno"> 1940</span>            <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a32de57050284efca595c97b3c45c440c">set_acceleration</a>((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a3230e10964844c34fb73eaccc84dc8a7">floor</a>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.outer_wall_acceleration.value + 0.5));</div>
<div class="line"><span class="lineno"> 1941</span>        }</div>
<div class="line"><span class="lineno"> 1942</span> </div>
<div class="line"><span class="lineno"> 1943</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.default_jerk.value &gt; 0) {</div>
<div class="line"><span class="lineno"> 1944</span>            <span class="keywordtype">double</span> jerk = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.outer_wall_jerk.value;</div>
<div class="line"><span class="lineno"> 1945</span>            <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a57729a6fee38d4e9b675c8cf4d693217">set_jerk_xy</a>(jerk);</div>
<div class="line"><span class="lineno"> 1946</span>        }</div>
<div class="line"><span class="lineno"> 1947</span> </div>
<div class="line"><span class="lineno"> 1948</span>        <span class="keyword">auto</span> params = print.calib_params();</div>
<div class="line"><span class="lineno"> 1949</span> </div>
<div class="line"><span class="lineno"> 1950</span>        CalibPressureAdvanceLine pa_test(<span class="keyword">this</span>);</div>
<div class="line"><span class="lineno"> 1951</span> </div>
<div class="line"><span class="lineno"> 1952</span>        <span class="keyword">auto</span> fast_speed = <a class="code hl_function" href="../../db/da5/class_slic3r_1_1_calib_pressure_advance.html#a868a34a687185815bfa22dce61f8ebec">CalibPressureAdvance::find_optimal_PA_speed</a>(print.full_print_config(), pa_test.line_width(), 0.2);</div>
<div class="line"><span class="lineno"> 1953</span>        <span class="keyword">auto</span> slow_speed = std::max(20.0, fast_speed / 10.0);</div>
<div class="line"><span class="lineno"> 1954</span>        </div>
<div class="line"><span class="lineno"> 1955</span>        pa_test.set_speed(fast_speed, slow_speed);</div>
<div class="line"><span class="lineno"> 1956</span>        pa_test.draw_numbers() = print.calib_params().print_numbers;</div>
<div class="line"><span class="lineno"> 1957</span>        </div>
<div class="line"><span class="lineno"> 1958</span>        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += pa_test.generate_test(params.start, params.step, std::llround(std::ceil((params.end - params.start) / params.step)));</div>
<div class="line"><span class="lineno"> 1959</span> </div>
<div class="line"><span class="lineno"> 1960</span>        file.write(gcode);</div>
<div class="line"><span class="lineno"> 1961</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1962</span>        <span class="comment">//BBS: open spaghetti detector</span></div>
<div class="line"><span class="lineno"> 1963</span>        <span class="keywordflow">if</span> (is_bbl_printers) {</div>
<div class="line"><span class="lineno"> 1964</span>            <span class="comment">// if (print.config().spaghetti_detector.value)</span></div>
<div class="line"><span class="lineno"> 1965</span>            file.write(<span class="stringliteral">&quot;M981 S1 P20000 ;open spaghetti detector\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1966</span>        }</div>
<div class="line"><span class="lineno"> 1967</span> </div>
<div class="line"><span class="lineno"> 1968</span>        <span class="comment">// Do all objects for each layer.</span></div>
<div class="line"><span class="lineno"> 1969</span>        <span class="keywordflow">if</span> (print.config().print_sequence == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a815252509829bfcfc450d786ecccdfeaa40ab71bcc2705c597aad9a50ffd8eaec">PrintSequence::ByObject</a> &amp;&amp; !has_wipe_tower) {</div>
<div class="line"><span class="lineno"> 1970</span>            <span class="keywordtype">size_t</span> finished_objects = 0;</div>
<div class="line"><span class="lineno"> 1971</span>            <span class="keyword">const</span> PrintObject *prev_object = (*print_object_instance_sequential_active)-&gt;print_object;</div>
<div class="line"><span class="lineno"> 1972</span>            <span class="keywordflow">for</span> (; print_object_instance_sequential_active != print_object_instances_ordering.end(); ++ print_object_instance_sequential_active) {</div>
<div class="line"><span class="lineno"> 1973</span>                <span class="keyword">const</span> PrintObject &amp;<span class="keywordtype">object</span> = *(*print_object_instance_sequential_active)-&gt;print_object;</div>
<div class="line"><span class="lineno"> 1974</span>                <span class="keywordflow">if</span> (&amp;<span class="keywordtype">object</span> != prev_object || tool_ordering.first_extruder() != final_extruder_id) {</div>
<div class="line"><span class="lineno"> 1975</span>                    tool_ordering = ToolOrdering(<span class="keywordtype">object</span>, final_extruder_id);</div>
<div class="line"><span class="lineno"> 1976</span>                    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> new_extruder_id = tool_ordering.first_extruder();</div>
<div class="line"><span class="lineno"> 1977</span>                    <span class="keywordflow">if</span> (new_extruder_id == (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)-1)</div>
<div class="line"><span class="lineno"> 1978</span>                        <span class="comment">// Skip this object.</span></div>
<div class="line"><span class="lineno"> 1979</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1980</span>                    initial_extruder_id = new_extruder_id;</div>
<div class="line"><span class="lineno"> 1981</span>                    final_extruder_id   = tool_ordering.last_extruder();</div>
<div class="line"><span class="lineno"> 1982</span>                    assert(final_extruder_id != (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)-1);</div>
<div class="line"><span class="lineno"> 1983</span>                }</div>
<div class="line"><span class="lineno"> 1984</span>                print.throw_if_canceled();</div>
<div class="line"><span class="lineno"> 1985</span>                this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a659974d95788b7195e7a45e45115565d">set_origin</a>(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab3977853055b1ea40f45a1bbfb78ef36">unscale</a>((*print_object_instance_sequential_active)-&gt;shift));</div>
<div class="line"><span class="lineno"> 1986</span> </div>
<div class="line"><span class="lineno"> 1987</span>                <span class="comment">// BBS: prime extruder if extruder change happens before this object instance</span></div>
<div class="line"><span class="lineno"> 1988</span>                <span class="keywordtype">bool</span> prime_extruder = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1989</span>                <span class="keywordflow">if</span> (finished_objects &gt; 0) {</div>
<div class="line"><span class="lineno"> 1990</span>                    <span class="comment">// Move to the origin position for the copy we&#39;re going to print.</span></div>
<div class="line"><span class="lineno"> 1991</span>                    <span class="comment">// This happens before Z goes down to layer 0 again, so that no collision happens hopefully.</span></div>
<div class="line"><span class="lineno"> 1992</span>                    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a03533ee19695dc118af85304f49c752f">m_enable_cooling_markers</a> = <span class="keyword">false</span>; <span class="comment">// we&#39;re not filtering these moves through CoolingBuffer</span></div>
<div class="line"><span class="lineno"> 1993</span>                    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#adb8be36b92178a4ce09801d0204d6af5">m_avoid_crossing_perimeters</a>.<a class="code hl_function" href="../../dc/d4e/class_slic3r_1_1_avoid_crossing_perimeters.html#a025753e1a877d53bd068ad39aa889afd">use_external_mp_once</a>();</div>
<div class="line"><span class="lineno"> 1994</span>                    <span class="comment">// BBS. change tool before moving to origin point.</span></div>
<div class="line"><span class="lineno"> 1995</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#afbe9a8dd86d4f6902fc6ee21dc66488c">need_toolchange</a>(initial_extruder_id)) {</div>
<div class="line"><span class="lineno"> 1996</span>                        <span class="keyword">const</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#ad48b86fa8e529e56c6bd00ff2f9839ab">PrintObjectConfig</a>&amp; object_config = <span class="keywordtype">object</span>.config();</div>
<div class="line"><span class="lineno"> 1997</span>                        <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a95c875c81df33d788132374e2b57c6c1">coordf_t</a> initial_layer_print_height = print.config().initial_layer_print_height.value;</div>
<div class="line"><span class="lineno"> 1998</span>                        file.write(this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a17e6b9621f765ee22ac0cc4eaf9ca1c7">set_extruder</a>(initial_extruder_id, initial_layer_print_height));</div>
<div class="line"><span class="lineno"> 1999</span>                        prime_extruder = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2000</span>                    }</div>
<div class="line"><span class="lineno"> 2001</span>                    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2002</span>                        file.write(this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a058728ea49ef66a4b1e7ca9ac361a3ae">retract</a>());</div>
<div class="line"><span class="lineno"> 2003</span>                    }</div>
<div class="line"><span class="lineno"> 2004</span>                    file.write(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#ad0008f46affc37f57e6bcb84404aeac7">travel_to_z</a>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2b412ae6847f90bf35264b3ada4aa01c">m_max_layer_z</a>));</div>
<div class="line"><span class="lineno"> 2005</span>                    file.write(this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a6d246cfdea1c2e9be90f89b59e015ce3">travel_to</a>(<a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a>(0, 0), <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6ad57ae907335d1f0f6b915b0b00fdc49c">erNone</a>, <span class="stringliteral">&quot;move to origin position for next object&quot;</span>));</div>
<div class="line"><span class="lineno"> 2006</span>                    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a03533ee19695dc118af85304f49c752f">m_enable_cooling_markers</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2007</span>                    <span class="comment">// Disable motion planner when traveling to first object point.</span></div>
<div class="line"><span class="lineno"> 2008</span>                    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#adb8be36b92178a4ce09801d0204d6af5">m_avoid_crossing_perimeters</a>.<a class="code hl_function" href="../../dc/d4e/class_slic3r_1_1_avoid_crossing_perimeters.html#aa8f41e1fbb3a3bc86717bb8de8a19a71">disable_once</a>();</div>
<div class="line"><span class="lineno"> 2009</span>                    <span class="comment">// Ff we are printing the bottom layer of an object, and we have already finished</span></div>
<div class="line"><span class="lineno"> 2010</span>                    <span class="comment">// another one, set first layer temperatures. This happens before the Z move</span></div>
<div class="line"><span class="lineno"> 2011</span>                    <span class="comment">// is triggered, so machine has more time to reach such temperatures.</span></div>
<div class="line"><span class="lineno"> 2012</span>                    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad74e7798985b999d53045b7ecd19739b">m_placeholder_parser</a>.<a class="code hl_function" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#a20f5feca1ff118f35a359a16c3ec902e">set</a>(<span class="stringliteral">&quot;current_object_idx&quot;</span>, <span class="keywordtype">int</span>(finished_objects));</div>
<div class="line"><span class="lineno"> 2013</span>                    <span class="comment">//BBS: remove printing_by_object_gcode</span></div>
<div class="line"><span class="lineno"> 2014</span>                    <span class="comment">//std::string printing_by_object_gcode = this-&gt;placeholder_parser_process(&quot;printing_by_object_gcode&quot;, print.config().printing_by_object_gcode.value, initial_extruder_id);</span></div>
<div class="line"><span class="lineno"> 2015</span>                    std::string printing_by_object_gcode;</div>
<div class="line"><span class="lineno"> 2016</span>                    <span class="comment">// Set first layer bed and extruder temperatures, don&#39;t wait for it to reach the temperature.</span></div>
<div class="line"><span class="lineno"> 2017</span>                    this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#af01f2b164b70e2db11e8dc603f064f7d">_print_first_layer_bed_temperature</a>(file, print, printing_by_object_gcode, initial_extruder_id, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 2018</span>                    this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad26de7a6470f710e55063e5ddd3ee86d">_print_first_layer_extruder_temperatures</a>(file, print, printing_by_object_gcode, initial_extruder_id, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 2019</span>                    file.writeln(printing_by_object_gcode);</div>
<div class="line"><span class="lineno"> 2020</span>                }</div>
<div class="line"><span class="lineno"> 2021</span>                <span class="comment">// Reset the cooling buffer internal state (the current position, feed rate, accelerations).</span></div>
<div class="line"><span class="lineno"> 2022</span>                <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae7defbc83aafbbea7c9ae7a0ca4c8fef">m_cooling_buffer</a>-&gt;reset(this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ade2f4af324da97d5fb8eadca3af5c489">writer</a>().get_position());</div>
<div class="line"><span class="lineno"> 2023</span>                <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae7defbc83aafbbea7c9ae7a0ca4c8fef">m_cooling_buffer</a>-&gt;set_current_extruder(initial_extruder_id);</div>
<div class="line"><span class="lineno"> 2024</span>                <span class="comment">// Process all layers of a single object instance (sequential mode) with a parallel pipeline:</span></div>
<div class="line"><span class="lineno"> 2025</span>                <span class="comment">// Generate G-code, run the filters (vase mode, cooling buffer), run the G-code analyser</span></div>
<div class="line"><span class="lineno"> 2026</span>                <span class="comment">// and export G-code into file.</span></div>
<div class="line"><span class="lineno"> 2027</span>                this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a5972afc9f6c50f533adaa58259a12b47">process_layers</a>(print, tool_ordering, <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7f7906e6e56fa2afb0a72943eb04383d">collect_layers_to_print</a>(<span class="keywordtype">object</span>), *print_object_instance_sequential_active - <span class="keywordtype">object</span>.instances().data(), file, prime_extruder);</div>
<div class="line"><span class="lineno"> 2028</span>                <span class="comment">//BBS: close powerlost recovery</span></div>
<div class="line"><span class="lineno"> 2029</span>                {</div>
<div class="line"><span class="lineno"> 2030</span>                    <span class="keywordflow">if</span> (is_bbl_printers &amp;&amp; <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a350d12130fb3e43273f07ef2840db16c">m_second_layer_things_done</a>) {</div>
<div class="line"><span class="lineno"> 2031</span>                        file.write(<span class="stringliteral">&quot;; close powerlost recovery\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 2032</span>                        file.write(<span class="stringliteral">&quot;M1003 S0\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 2033</span>                    }</div>
<div class="line"><span class="lineno"> 2034</span>                }</div>
<div class="line"><span class="lineno"> 2035</span><span class="preprocessor">    #ifdef HAS_PRESSURE_EQUALIZER</span></div>
<div class="line"><span class="lineno"> 2036</span>                <span class="keywordflow">if</span> (m_pressure_equalizer)</div>
<div class="line"><span class="lineno"> 2037</span>                    file.write(m_pressure_equalizer-&gt;process(<span class="stringliteral">&quot;&quot;</span>, <span class="keyword">true</span>));</div>
<div class="line"><span class="lineno"> 2038</span><span class="preprocessor">    #endif </span><span class="comment">/* HAS_PRESSURE_EQUALIZER */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno"> 2039</span>                ++ finished_objects;</div>
<div class="line"><span class="lineno"> 2040</span>                <span class="comment">// Flag indicating whether the nozzle temperature changes from 1st to 2nd layer were performed.</span></div>
<div class="line"><span class="lineno"> 2041</span>                <span class="comment">// Reset it when starting another object from 1st layer.</span></div>
<div class="line"><span class="lineno"> 2042</span>                <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a350d12130fb3e43273f07ef2840db16c">m_second_layer_things_done</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2043</span>                prev_object = &amp;<a class="code hl_enumvalue" href="../../dc/df0/namespacenlohmann_1_1detail.html#a1ed8fc6239da25abcaf681d30ace4985aa8cfde6331bd59eb2ac96f8911c4b666">object</a>;</div>
<div class="line"><span class="lineno"> 2044</span>            }</div>
<div class="line"><span class="lineno"> 2045</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2046</span>            <span class="comment">// Sort layers by Z.</span></div>
<div class="line"><span class="lineno"> 2047</span>            <span class="comment">// All extrusion moves with the same top layer height are extruded uninterrupted.</span></div>
<div class="line"><span class="lineno"> 2048</span>            std::vector&lt;std::pair&lt;coordf_t, std::vector&lt;LayerToPrint&gt;&gt;&gt; layers_to_print = <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7f7906e6e56fa2afb0a72943eb04383d">collect_layers_to_print</a>(print);</div>
<div class="line"><span class="lineno"> 2049</span>            <span class="comment">// Prusa Multi-Material wipe tower.</span></div>
<div class="line"><span class="lineno"> 2050</span>            <span class="keywordflow">if</span> (has_wipe_tower &amp;&amp; ! layers_to_print.empty()) {</div>
<div class="line"><span class="lineno"> 2051</span>                <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a0514b8d6797f3f08c810b05b0fc8949f">m_wipe_tower</a>.reset(<span class="keyword">new</span> <a class="code hl_friend" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a21f2e2845c0a8a161c553d51cc31ffd9">WipeTowerIntegration</a>(print.config(), print.get_plate_index(), print.get_plate_origin(), * print.wipe_tower_data().priming.get(), print.wipe_tower_data().tool_changes, *print.wipe_tower_data().final_purge.get()));</div>
<div class="line"><span class="lineno"> 2052</span>                <span class="comment">//BBS</span></div>
<div class="line"><span class="lineno"> 2053</span>                <span class="comment">//file.write(m_writer.travel_to_z(initial_layer_print_height + m_config.z_offset.value, &quot;Move to the first layer height&quot;));</span></div>
<div class="line"><span class="lineno"> 2054</span>                file.write(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#ad0008f46affc37f57e6bcb84404aeac7">travel_to_z</a>(initial_layer_print_height, <span class="stringliteral">&quot;Move to the first layer height&quot;</span>));</div>
<div class="line"><span class="lineno"> 2055</span><span class="preprocessor">    #if 0</span></div>
<div class="line"><span class="lineno"> 2056</span>                <span class="keywordflow">if</span> (print.config().single_extruder_multi_material_priming) {</div>
<div class="line"><span class="lineno"> 2057</span>                    file.write(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a0514b8d6797f3f08c810b05b0fc8949f">m_wipe_tower</a>-&gt;prime(*<span class="keyword">this</span>));</div>
<div class="line"><span class="lineno"> 2058</span>                    <span class="comment">// Verify, whether the print overaps the priming extrusions.</span></div>
<div class="line"><span class="lineno"> 2059</span>                    BoundingBoxf bbox_print(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a8f3f4fa4d67b9df11d5665c57f7a7678">get_print_extrusions_extents</a>(print));</div>
<div class="line"><span class="lineno"> 2060</span>                    <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a95c875c81df33d788132374e2b57c6c1">coordf_t</a> twolayers_printz = ((layers_to_print.size() == 1) ? layers_to_print.front() : layers_to_print[1]).first + <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>;</div>
<div class="line"><span class="lineno"> 2061</span>                    <span class="keywordflow">for</span> (<span class="keyword">const</span> PrintObject *print_object : print.objects())</div>
<div class="line"><span class="lineno"> 2062</span>                        bbox_print.<a class="code hl_function" href="../../d0/d53/namespacelibnest2d_1_1nfp.html#a1557d47a1a466a42f34906efe9f4bc07">merge</a>(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a5694f5c4f83b1e920691b0aab630cabc">get_print_object_extrusions_extents</a>(*print_object, twolayers_printz));</div>
<div class="line"><span class="lineno"> 2063</span>                    bbox_print.merge(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a532709fa704e5bf894eb25513dab4be8">get_wipe_tower_extrusions_extents</a>(print, twolayers_printz));</div>
<div class="line"><span class="lineno"> 2064</span>                    BoundingBoxf bbox_prime(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ae2a124901ed942ca40dd582c39d32c2d">get_wipe_tower_priming_extrusions_extents</a>(print));</div>
<div class="line"><span class="lineno"> 2065</span>                    bbox_prime.offset(0.5f);</div>
<div class="line"><span class="lineno"> 2066</span>                    <span class="keywordtype">bool</span> overlap = bbox_prime.overlap(bbox_print);</div>
<div class="line"><span class="lineno"> 2067</span> </div>
<div class="line"><span class="lineno"> 2068</span>                    <span class="keywordflow">if</span> (print.config().gcode_flavor == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a02d66b5053fbce6319e225982b3c5a90a9179b7644f0b607c39456f311df7c313">gcfMarlinLegacy</a> || print.config().gcode_flavor == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a02d66b5053fbce6319e225982b3c5a90a446f499310eddd96c57cb85695b089ab">gcfMarlinFirmware</a>) {</div>
<div class="line"><span class="lineno"> 2069</span>                        file.write(this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a058728ea49ef66a4b1e7ca9ac361a3ae">retract</a>());</div>
<div class="line"><span class="lineno"> 2070</span>                        file.write(<span class="stringliteral">&quot;M300 S800 P500\n&quot;</span>); <span class="comment">// Beep for 500ms, tone 800Hz.</span></div>
<div class="line"><span class="lineno"> 2071</span>                        <span class="keywordflow">if</span> (overlap) {</div>
<div class="line"><span class="lineno"> 2072</span>                            <span class="comment">// Wait for the user to remove the priming extrusions.</span></div>
<div class="line"><span class="lineno"> 2073</span>                            file.write(<span class="stringliteral">&quot;M1 Remove priming towers and click button.\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 2074</span>                        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2075</span>                            <span class="comment">// Just wait for a bit to let the user check, that the priming succeeded.</span></div>
<div class="line"><span class="lineno"> 2076</span>                            <span class="comment">//TODO Add a message explaining what the printer is waiting for. This needs a firmware fix.</span></div>
<div class="line"><span class="lineno"> 2077</span>                            file.write(<span class="stringliteral">&quot;M1 S10\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 2078</span>                        }</div>
<div class="line"><span class="lineno"> 2079</span>                    }</div>
<div class="line"><span class="lineno"> 2080</span>                    <span class="comment">//BBS: only support Marlin</span></div>
<div class="line"><span class="lineno"> 2081</span>                    <span class="comment">//else {</span></div>
<div class="line"><span class="lineno"> 2082</span>                        <span class="comment">// This is not Marlin, M1 command is probably not supported.</span></div>
<div class="line"><span class="lineno"> 2083</span>                        <span class="comment">//if (overlap) {</span></div>
<div class="line"><span class="lineno"> 2084</span>                        <span class="comment">//    print.active_step_add_warning(PrintStateBase::WarningLevel::CRITICAL,</span></div>
<div class="line"><span class="lineno"> 2085</span>                        <span class="comment">//        _(L(&quot;Your print is very close to the priming regions. &quot;</span></div>
<div class="line"><span class="lineno"> 2086</span>                        <span class="comment">//          &quot;Make sure there is no collision.&quot;)));</span></div>
<div class="line"><span class="lineno"> 2087</span>                        <span class="comment">//} else {</span></div>
<div class="line"><span class="lineno"> 2088</span>                        <span class="comment">//    // Just continue printing, no action necessary.</span></div>
<div class="line"><span class="lineno"> 2089</span>                        <span class="comment">//}</span></div>
<div class="line"><span class="lineno"> 2090</span>                    <span class="comment">//}</span></div>
<div class="line"><span class="lineno"> 2091</span>                }</div>
<div class="line"><span class="lineno"> 2092</span><span class="preprocessor">    #endif</span></div>
<div class="line"><span class="lineno"> 2093</span>                print.throw_if_canceled();</div>
<div class="line"><span class="lineno"> 2094</span>            }</div>
<div class="line"><span class="lineno"> 2095</span>            <span class="comment">// Process all layers of all objects (non-sequential mode) with a parallel pipeline:</span></div>
<div class="line"><span class="lineno"> 2096</span>            <span class="comment">// Generate G-code, run the filters (vase mode, cooling buffer), run the G-code analyser</span></div>
<div class="line"><span class="lineno"> 2097</span>            <span class="comment">// and export G-code into file.</span></div>
<div class="line"><span class="lineno"> 2098</span>            this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a5972afc9f6c50f533adaa58259a12b47">process_layers</a>(print, tool_ordering, print_object_instances_ordering, layers_to_print, file);</div>
<div class="line"><span class="lineno"> 2099</span>            <span class="comment">//BBS: close powerlost recovery</span></div>
<div class="line"><span class="lineno"> 2100</span>            {</div>
<div class="line"><span class="lineno"> 2101</span>                <span class="keywordflow">if</span> (is_bbl_printers &amp;&amp; <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a350d12130fb3e43273f07ef2840db16c">m_second_layer_things_done</a>) {</div>
<div class="line"><span class="lineno"> 2102</span>                    file.write(<span class="stringliteral">&quot;; close powerlost recovery\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 2103</span>                    file.write(<span class="stringliteral">&quot;M1003 S0\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 2104</span>                }</div>
<div class="line"><span class="lineno"> 2105</span>            }</div>
<div class="line"><span class="lineno"> 2106</span><span class="preprocessor">    #ifdef HAS_PRESSURE_EQUALIZER</span></div>
<div class="line"><span class="lineno"> 2107</span>            <span class="keywordflow">if</span> (m_pressure_equalizer)</div>
<div class="line"><span class="lineno"> 2108</span>                file.write(m_pressure_equalizer-&gt;process(<span class="stringliteral">&quot;&quot;</span>, <span class="keyword">true</span>));</div>
<div class="line"><span class="lineno"> 2109</span><span class="preprocessor">    #endif </span><span class="comment">/* HAS_PRESSURE_EQUALIZER */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno"> 2110</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a0514b8d6797f3f08c810b05b0fc8949f">m_wipe_tower</a>)</div>
<div class="line"><span class="lineno"> 2111</span>                <span class="comment">// Purge the extruder, pull out the active filament.</span></div>
<div class="line"><span class="lineno"> 2112</span>                file.write(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a0514b8d6797f3f08c810b05b0fc8949f">m_wipe_tower</a>-&gt;finalize(*<span class="keyword">this</span>));</div>
<div class="line"><span class="lineno"> 2113</span>        }</div>
<div class="line"><span class="lineno"> 2114</span>    }</div>
<div class="line"><span class="lineno"> 2115</span>    <span class="comment">//BBS: the last retraction</span></div>
<div class="line"><span class="lineno"> 2116</span>    <span class="comment">// Write end commands to file.</span></div>
<div class="line"><span class="lineno"> 2117</span>    file.write(this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a058728ea49ef66a4b1e7ca9ac361a3ae">retract</a>(<span class="keyword">false</span>, <span class="keyword">true</span>));</div>
<div class="line"><span class="lineno"> 2118</span> </div>
<div class="line"><span class="lineno"> 2119</span>    <span class="comment">// if needed, write the gcode_label_objects_end</span></div>
<div class="line"><span class="lineno"> 2120</span>    {</div>
<div class="line"><span class="lineno"> 2121</span>        std::string <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a>;</div>
<div class="line"><span class="lineno"> 2122</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#ae25537c5912061af6fbee6f4cbcc9066">add_object_change_labels</a>(gcode);</div>
<div class="line"><span class="lineno"> 2123</span>        file.write(gcode);</div>
<div class="line"><span class="lineno"> 2124</span>    }</div>
<div class="line"><span class="lineno"> 2125</span> </div>
<div class="line"><span class="lineno"> 2126</span>    file.write(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a3915a7b9648a6097ba68bf89682627f2">set_fan</a>(0));</div>
<div class="line"><span class="lineno"> 2127</span>    <span class="comment">//BBS: make sure the additional fan is closed when end</span></div>
<div class="line"><span class="lineno"> 2128</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.auxiliary_fan.value)</div>
<div class="line"><span class="lineno"> 2129</span>        file.write(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a7486ffb14da36c2f659314b485c538dd">set_additional_fan</a>(0));</div>
<div class="line"><span class="lineno"> 2130</span>    <span class="keywordflow">if</span> (is_bbl_printers) {</div>
<div class="line"><span class="lineno"> 2131</span>        <span class="comment">//BBS: close spaghetti detector</span></div>
<div class="line"><span class="lineno"> 2132</span>        <span class="comment">//Note: M981 is also used to tell xcam the last layer is finished, so we need always send it even if spaghetti option is disabled.</span></div>
<div class="line"><span class="lineno"> 2133</span>        <span class="comment">//if (print.config().spaghetti_detector.value)</span></div>
<div class="line"><span class="lineno"> 2134</span>        file.write(<span class="stringliteral">&quot;M981 S0 P20000 ; close spaghetti detector\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 2135</span>    }</div>
<div class="line"><span class="lineno"> 2136</span> </div>
<div class="line"><span class="lineno"> 2137</span>    <span class="comment">// adds tag for processor</span></div>
<div class="line"><span class="lineno"> 2138</span>    file.write_format(<span class="stringliteral">&quot;;%s%s\n&quot;</span>, <a class="code hl_function" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a44451e44902b601a9885339440174bb2">GCodeProcessor::reserved_tag</a>(<a class="code hl_enumvalue" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a9d0a157d06bdfad05bc6822a9a1c8071abbbabdbe1b262f75d99d62880b953be1">GCodeProcessor::ETags::Role</a>).c_str(), <a class="code hl_function" href="../../de/d7c/class_slic3r_1_1_extrusion_entity.html#a536487f55b578cc247176b4da3dfe52b">ExtrusionEntity::role_to_string</a>(<a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a5340a9df46b83353c5ff3119069d2493">erCustom</a>).c_str());</div>
<div class="line"><span class="lineno"> 2139</span> </div>
<div class="line"><span class="lineno"> 2140</span>    <span class="comment">// Process filament-specific gcode in extruder order.</span></div>
<div class="line"><span class="lineno"> 2141</span>    {</div>
<div class="line"><span class="lineno"> 2142</span>        DynamicConfig <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a>;</div>
<div class="line"><span class="lineno"> 2143</span>        <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a>.set_key_value(<span class="stringliteral">&quot;layer_num&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#ac44dc7dc57ca4e75fffcf4b377abfd8b">ConfigOptionInt</a>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a3388b4f3b94c005c8b6c64b1ba9b105d">m_layer_index</a>));</div>
<div class="line"><span class="lineno"> 2144</span>        <span class="comment">//BBS</span></div>
<div class="line"><span class="lineno"> 2145</span>        <span class="comment">//config.set_key_value(&quot;layer_z&quot;,   new ConfigOptionFloat(m_writer.get_position()(2) - m_config.z_offset.value));</span></div>
<div class="line"><span class="lineno"> 2146</span>        <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a>.set_key_value(<span class="stringliteral">&quot;layer_z&quot;</span>,   <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#af09d2460aca864d21b7d004b9350dc66">get_position</a>()(2)));</div>
<div class="line"><span class="lineno"> 2147</span>        <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a>.set_key_value(<span class="stringliteral">&quot;max_layer_z&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2b412ae6847f90bf35264b3ada4aa01c">m_max_layer_z</a>));</div>
<div class="line"><span class="lineno"> 2148</span>        <span class="keywordflow">if</span> (print.config().single_extruder_multi_material) {</div>
<div class="line"><span class="lineno"> 2149</span>            <span class="comment">// Process the filament_end_gcode for the active filament only.</span></div>
<div class="line"><span class="lineno"> 2150</span>            <span class="keywordtype">int</span> extruder_id = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a137976bad3f65c066e5b809944eb34f1">extruder</a>()-&gt;<a class="code hl_function" href="../../d3/dff/class_slic3r_1_1_extruder.html#af77adad3aa6eceb96658f87d95af6770">id</a>();</div>
<div class="line"><span class="lineno"> 2151</span>            <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a>.set_key_value(<span class="stringliteral">&quot;filament_extruder_id&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#ac44dc7dc57ca4e75fffcf4b377abfd8b">ConfigOptionInt</a>(extruder_id));</div>
<div class="line"><span class="lineno"> 2152</span>            file.writeln(this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a70b6e83de9e549d8405f5b63783ac290">placeholder_parser_process</a>(<span class="stringliteral">&quot;filament_end_gcode&quot;</span>, print.config().filament_end_gcode.get_at(extruder_id), extruder_id, &amp;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a>));</div>
<div class="line"><span class="lineno"> 2153</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2154</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> std::string &amp;end_gcode : print.<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a>().filament_end_gcode.values) {</div>
<div class="line"><span class="lineno"> 2155</span>                <span class="keywordtype">int</span> extruder_id = (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>)(&amp;end_gcode - &amp;print.config().filament_end_gcode.values.front());</div>
<div class="line"><span class="lineno"> 2156</span>                <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a>.set_key_value(<span class="stringliteral">&quot;filament_extruder_id&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#ac44dc7dc57ca4e75fffcf4b377abfd8b">ConfigOptionInt</a>(extruder_id));</div>
<div class="line"><span class="lineno"> 2157</span>                file.writeln(this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a70b6e83de9e549d8405f5b63783ac290">placeholder_parser_process</a>(<span class="stringliteral">&quot;filament_end_gcode&quot;</span>, end_gcode, extruder_id, &amp;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a>));</div>
<div class="line"><span class="lineno"> 2158</span>            }</div>
<div class="line"><span class="lineno"> 2159</span>        }</div>
<div class="line"><span class="lineno"> 2160</span>        file.writeln(this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a70b6e83de9e549d8405f5b63783ac290">placeholder_parser_process</a>(<span class="stringliteral">&quot;machine_end_gcode&quot;</span>, print.config().machine_end_gcode, <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a137976bad3f65c066e5b809944eb34f1">extruder</a>()-&gt;<a class="code hl_function" href="../../d3/dff/class_slic3r_1_1_extruder.html#af77adad3aa6eceb96658f87d95af6770">id</a>(), &amp;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a>));</div>
<div class="line"><span class="lineno"> 2161</span>    }</div>
<div class="line"><span class="lineno"> 2162</span>    file.write(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#acdb4af43a7de1eb5306916d49ece48a6">update_progress</a>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#afa528044bae428d5df6df25b4fe44516">m_layer_count</a>, <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#afa528044bae428d5df6df25b4fe44516">m_layer_count</a>, <span class="keyword">true</span>)); <span class="comment">// 100%</span></div>
<div class="line"><span class="lineno"> 2163</span>    file.write(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a2fc5f3b7c8d223df2e2b765ee439bfcc">postamble</a>());</div>
<div class="line"><span class="lineno"> 2164</span> </div>
<div class="line"><span class="lineno"> 2165</span>    <span class="comment">// adds tags for time estimators</span></div>
<div class="line"><span class="lineno"> 2166</span>    file.write_format(<span class="stringliteral">&quot;;%s\n&quot;</span>, <a class="code hl_function" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a44451e44902b601a9885339440174bb2">GCodeProcessor::reserved_tag</a>(<a class="code hl_enumvalue" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a9d0a157d06bdfad05bc6822a9a1c8071ae45724c6d2ce104b75b4cdcf26468f6f">GCodeProcessor::ETags::Last_Line_M73_Placeholder</a>).c_str());</div>
<div class="line"><span class="lineno"> 2167</span>    file.write_format(<span class="stringliteral">&quot;; EXECUTABLE_BLOCK_END\n\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 2168</span> </div>
<div class="line"><span class="lineno"> 2169</span>    print.throw_if_canceled();</div>
<div class="line"><span class="lineno"> 2170</span> </div>
<div class="line"><span class="lineno"> 2171</span>    <span class="comment">// Get filament stats.</span></div>
<div class="line"><span class="lineno"> 2172</span>    file.write(<a class="code hl_function" href="../../de/d39/namespace_slic3r_1_1_do_export.html#a8d1eda66b9de6a524fa3b3095765ee73">DoExport::update_print_stats_and_format_filament_stats</a>(</div>
<div class="line"><span class="lineno"> 2173</span>      <span class="comment">// Const inputs</span></div>
<div class="line"><span class="lineno"> 2174</span>        has_wipe_tower, print.wipe_tower_data(),</div>
<div class="line"><span class="lineno"> 2175</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a0143dc1fd9e3306ffd2e2892ad76025d">extruders</a>(),</div>
<div class="line"><span class="lineno"> 2176</span>        <span class="comment">// Modifies</span></div>
<div class="line"><span class="lineno"> 2177</span>        print.m_print_statistics));</div>
<div class="line"><span class="lineno"> 2178</span>    <span class="keywordflow">if</span> (!is_bbl_printers) {</div>
<div class="line"><span class="lineno"> 2179</span>        file.write_format(<span class="stringliteral">&quot;; total filament used [g] = %.2lf\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2180</span>            print.m_print_statistics.total_weight);</div>
<div class="line"><span class="lineno"> 2181</span>        file.write_format(<span class="stringliteral">&quot;; total filament cost = %.2lf\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2182</span>            print.m_print_statistics.total_cost);</div>
<div class="line"><span class="lineno"> 2183</span>        <span class="keywordflow">if</span> (print.m_print_statistics.total_toolchanges &gt; 0)</div>
<div class="line"><span class="lineno"> 2184</span>            file.write_format(<span class="stringliteral">&quot;; total filament change = %i\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2185</span>                print.m_print_statistics.total_toolchanges);</div>
<div class="line"><span class="lineno"> 2186</span>        file.write_format(<span class="stringliteral">&quot;; total layers count = %i\n&quot;</span>, <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#afa528044bae428d5df6df25b4fe44516">m_layer_count</a>);</div>
<div class="line"><span class="lineno"> 2187</span>        file.write_format(</div>
<div class="line"><span class="lineno"> 2188</span>            <span class="stringliteral">&quot;;%s\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2189</span>            <a class="code hl_function" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a44451e44902b601a9885339440174bb2">GCodeProcessor::reserved_tag</a>(</div>
<div class="line"><span class="lineno"> 2190</span>                <a class="code hl_enumvalue" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a9d0a157d06bdfad05bc6822a9a1c8071a6df076ad097b82adc9d29c88958f82a1">GCodeProcessor::ETags::Estimated_Printing_Time_Placeholder</a>)</div>
<div class="line"><span class="lineno"> 2191</span>            .c_str());</div>
<div class="line"><span class="lineno"> 2192</span>      file.write(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 2193</span>      file.write(<span class="stringliteral">&quot;; CONFIG_BLOCK_START\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 2194</span>      std::string full_config;</div>
<div class="line"><span class="lineno"> 2195</span>      <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a70ab5d10c313544c2b21570695f06485">append_full_config</a>(print, full_config);</div>
<div class="line"><span class="lineno"> 2196</span>      <span class="keywordflow">if</span> (!full_config.empty())</div>
<div class="line"><span class="lineno"> 2197</span>        file.write(full_config);</div>
<div class="line"><span class="lineno"> 2198</span> </div>
<div class="line"><span class="lineno"> 2199</span>      <span class="comment">// SoftFever: write compatiple info</span></div>
<div class="line"><span class="lineno"> 2200</span>      <span class="keywordtype">int</span> first_layer_bed_temperature = <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ab7079d6608d218b9076cd47554648c8b">get_bed_temperature</a>(0, <span class="keyword">true</span>, print.config().curr_bed_type);</div>
<div class="line"><span class="lineno"> 2201</span>      file.write_format(<span class="stringliteral">&quot;; first_layer_bed_temperature = %d\n&quot;</span>, first_layer_bed_temperature);</div>
<div class="line"><span class="lineno"> 2202</span>      file.write_format(<span class="stringliteral">&quot;; bed_shape = %s\n&quot;</span>, print.full_print_config().opt_serialize(<span class="stringliteral">&quot;printable_area&quot;</span>).c_str());</div>
<div class="line"><span class="lineno"> 2203</span>      file.write_format(<span class="stringliteral">&quot;; first_layer_temperature = %d\n&quot;</span>, print.config().nozzle_temperature_initial_layer.get_at(0));</div>
<div class="line"><span class="lineno"> 2204</span>      file.write_format(<span class="stringliteral">&quot;; first_layer_height = %.3f\n&quot;</span>, print.config().initial_layer_print_height.value);</div>
<div class="line"><span class="lineno"> 2205</span>        </div>
<div class="line"><span class="lineno"> 2206</span>        <span class="comment">//SF TODO</span></div>
<div class="line"><span class="lineno"> 2207</span><span class="comment">//      file.write_format(&quot;; variable_layer_height = %d\n&quot;, print.ad.adaptive_layer_height ? 1 : 0);</span></div>
<div class="line"><span class="lineno"> 2208</span>   </div>
<div class="line"><span class="lineno"> 2209</span>      file.write(<span class="stringliteral">&quot;; CONFIG_BLOCK_END\n\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 2210</span> </div>
<div class="line"><span class="lineno"> 2211</span>    }</div>
<div class="line"><span class="lineno"> 2212</span>    file.write(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 2213</span> </div>
<div class="line"><span class="lineno"> 2214</span>    print.throw_if_canceled();</div>
<div class="line"><span class="lineno"> 2215</span>}</div>
<div class="ttc" id="a3mf_8cpp_html_afe73ea6f8e3b24ddb79e9508c56956bd"><div class="ttname"><a href="../../db/d59/3mf_8cpp.html#afe73ea6f8e3b24ddb79e9508c56956bd">_</a></div><div class="ttdeci">#define _(s)</div><div class="ttdef"><b>Definition</b> 3mf.cpp:273</div></div>
<div class="ttc" id="a_array_cwise_unary_ops_8h_html_a3230e10964844c34fb73eaccc84dc8a7"><div class="ttname"><a href="../../d4/df0/_array_cwise_unary_ops_8h.html#a3230e10964844c34fb73eaccc84dc8a7">floor</a></div><div class="ttdeci">EIGEN_DEVICE_FUNC const FloorReturnType floor() const</div><div class="ttdef"><b>Definition</b> ArrayCwiseUnaryOps.h:388</div></div>
<div class="ttc" id="a_auxiliary_data_view_model_8cpp_html_a16ff2d8e15ade4948398b0aeb80124a8"><div class="ttname"><a href="../../dd/dee/_auxiliary_data_view_model_8cpp.html#a16ff2d8e15ade4948398b0aeb80124a8">count</a></div><div class="ttdeci">static unsigned int count</div><div class="ttdef"><b>Definition</b> AuxiliaryDataViewModel.cpp:225</div></div>
<div class="ttc" id="a_extrusion_entity_8cpp_html_a3948ef94e164df6b50c4a9d12ba60eb5"><div class="ttname"><a href="../../d5/db8/_extrusion_entity_8cpp.html#a3948ef94e164df6b50c4a9d12ba60eb5">L</a></div><div class="ttdeci">#define L(s)</div><div class="ttdef"><b>Definition</b> ExtrusionEntity.cpp:11</div></div>
<div class="ttc" id="a_shiny_macros_8h_html_acb22c3b80068351d2edad7f6e910a7f9"><div class="ttname"><a href="../../db/d5a/_shiny_macros_8h.html#acb22c3b80068351d2edad7f6e910a7f9">PROFILE_FUNC</a></div><div class="ttdeci">#define PROFILE_FUNC()</div><div class="ttdef"><b>Definition</b> ShinyMacros.h:270</div></div>
<div class="ttc" id="aclass_slic3r_1_1_avoid_crossing_perimeters_html_a025753e1a877d53bd068ad39aa889afd"><div class="ttname"><a href="../../dc/d4e/class_slic3r_1_1_avoid_crossing_perimeters.html#a025753e1a877d53bd068ad39aa889afd">Slic3r::AvoidCrossingPerimeters::use_external_mp_once</a></div><div class="ttdeci">void use_external_mp_once()</div><div class="ttdef"><b>Definition</b> AvoidCrossingPerimeters.hpp:20</div></div>
<div class="ttc" id="aclass_slic3r_1_1_avoid_crossing_perimeters_html_aa8f41e1fbb3a3bc86717bb8de8a19a71"><div class="ttname"><a href="../../dc/d4e/class_slic3r_1_1_avoid_crossing_perimeters.html#aa8f41e1fbb3a3bc86717bb8de8a19a71">Slic3r::AvoidCrossingPerimeters::disable_once</a></div><div class="ttdeci">void disable_once()</div><div class="ttdef"><b>Definition</b> AvoidCrossingPerimeters.hpp:22</div></div>
<div class="ttc" id="aclass_slic3r_1_1_calib_pressure_advance_html_a868a34a687185815bfa22dce61f8ebec"><div class="ttname"><a href="../../db/da5/class_slic3r_1_1_calib_pressure_advance.html#a868a34a687185815bfa22dce61f8ebec">Slic3r::CalibPressureAdvance::find_optimal_PA_speed</a></div><div class="ttdeci">static float find_optimal_PA_speed(const DynamicPrintConfig &amp;config, double line_width, double layer_height, int filament_idx=0)</div><div class="ttdef"><b>Definition</b> calib.cpp:10</div></div>
<div class="ttc" id="aclass_slic3r_1_1_dynamic_config_html_a178535495ef2ca27397d88fb46659e00"><div class="ttname"><a href="../../d5/df0/class_slic3r_1_1_dynamic_config.html#a178535495ef2ca27397d88fb46659e00">Slic3r::DynamicConfig::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition</b> Config.hpp:2254</div></div>
<div class="ttc" id="aclass_slic3r_1_1_extruder_html_af77adad3aa6eceb96658f87d95af6770"><div class="ttname"><a href="../../d3/dff/class_slic3r_1_1_extruder.html#af77adad3aa6eceb96658f87d95af6770">Slic3r::Extruder::id</a></div><div class="ttdeci">unsigned int id() const</div><div class="ttdef"><b>Definition</b> Extruder.hpp:31</div></div>
<div class="ttc" id="aclass_slic3r_1_1_extrusion_entity_html_a536487f55b578cc247176b4da3dfe52b"><div class="ttname"><a href="../../de/d7c/class_slic3r_1_1_extrusion_entity.html#a536487f55b578cc247176b4da3dfe52b">Slic3r::ExtrusionEntity::role_to_string</a></div><div class="ttdeci">static std::string role_to_string(ExtrusionRole role)</div><div class="ttdef"><b>Definition</b> ExtrusionEntity.cpp:344</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a0514b8d6797f3f08c810b05b0fc8949f"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a0514b8d6797f3f08c810b05b0fc8949f">Slic3r::GCode::m_wipe_tower</a></div><div class="ttdeci">std::unique_ptr&lt; WipeTowerIntegration &gt; m_wipe_tower</div><div class="ttdef"><b>Definition</b> GCode.hpp:491</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a058728ea49ef66a4b1e7ca9ac361a3ae"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a058728ea49ef66a4b1e7ca9ac361a3ae">Slic3r::GCode::retract</a></div><div class="ttdeci">std::string retract(bool toolchange=false, bool is_last_retraction=false, LiftType lift_type=LiftType::SpiralLift)</div><div class="ttdef"><b>Definition</b> GCode.cpp:4664</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a0aa14d5c370dcfa9c9ef3fc656de64cc"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a0aa14d5c370dcfa9c9ef3fc656de64cc">Slic3r::GCode::print_machine_envelope</a></div><div class="ttdeci">void print_machine_envelope(GCodeOutputStream &amp;file, Print &amp;print)</div><div class="ttdef"><b>Definition</b> GCode.cpp:2449</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a10970cfca3474859c6a5d52c57f604ac"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a10970cfca3474859c6a5d52c57f604ac">Slic3r::GCode::m_processor</a></div><div class="ttdeci">GCodeProcessor m_processor</div><div class="ttdef"><b>Definition</b> GCode.hpp:505</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a11c37e89f776408db490f8843d138b03"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a11c37e89f776408db490f8843d138b03">Slic3r::GCode::m_calib_config</a></div><div class="ttdeci">DynamicConfig m_calib_config</div><div class="ttdef"><b>Definition</b> GCode.hpp:429</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a17e6b9621f765ee22ac0cc4eaf9ca1c7"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a17e6b9621f765ee22ac0cc4eaf9ca1c7">Slic3r::GCode::set_extruder</a></div><div class="ttdeci">std::string set_extruder(unsigned int extruder_id, double print_z)</div><div class="ttdef"><b>Definition</b> GCode.cpp:4718</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a1b9cd040ce1ef5fbc7d0ff2676b3fb50"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a1b9cd040ce1ef5fbc7d0ff2676b3fb50">Slic3r::GCode::preamble</a></div><div class="ttdeci">std::string preamble()</div><div class="ttdef"><b>Definition</b> GCode.cpp:3555</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a21f2e2845c0a8a161c553d51cc31ffd9"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a21f2e2845c0a8a161c553d51cc31ffd9">Slic3r::GCode::WipeTowerIntegration</a></div><div class="ttdeci">friend class WipeTowerIntegration</div><div class="ttdef"><b>Definition</b> GCode.hpp:548</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a2b412ae6847f90bf35264b3ada4aa01c"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2b412ae6847f90bf35264b3ada4aa01c">Slic3r::GCode::m_max_layer_z</a></div><div class="ttdeci">float m_max_layer_z</div><div class="ttdef"><b>Definition</b> GCode.hpp:477</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a2db53cf5bbbd368e1f747a7280aa19a8"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">Slic3r::GCode::m_writer</a></div><div class="ttdeci">GCodeWriter m_writer</div><div class="ttdef"><b>Definition</b> GCode.hpp:432</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a36b8e2d3b037f153fd3faebc321bc5cb"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a36b8e2d3b037f153fd3faebc321bc5cb">Slic3r::GCode::set_object_info</a></div><div class="ttdeci">std::string set_object_info(Print *print)</div><div class="ttdef"><b>Definition</b> GCode.cpp:4939</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a55c1a36fa083f45789738e732b7e8f51"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a55c1a36fa083f45789738e732b7e8f51">Slic3r::GCode::m_objsWithBrim</a></div><div class="ttdeci">std::set&lt; ObjectID &gt; m_objsWithBrim</div><div class="ttdef"><b>Definition</b> GCode.hpp:416</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a5972afc9f6c50f533adaa58259a12b47"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a5972afc9f6c50f533adaa58259a12b47">Slic3r::GCode::process_layers</a></div><div class="ttdeci">void process_layers(const Print &amp;print, const ToolOrdering &amp;tool_ordering, const std::vector&lt; const PrintInstance * &gt; &amp;print_object_instances_ordering, const std::vector&lt; std::pair&lt; coordf_t, std::vector&lt; LayerToPrint &gt; &gt; &gt; &amp;layers_to_print, GCodeOutputStream &amp;output_stream)</div><div class="ttdef"><b>Definition</b> GCode.cpp:2233</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a659974d95788b7195e7a45e45115565d"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a659974d95788b7195e7a45e45115565d">Slic3r::GCode::set_origin</a></div><div class="ttdeci">void set_origin(const Vec2d &amp;pointf)</div><div class="ttdef"><b>Definition</b> GCode.cpp:3543</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a6d246cfdea1c2e9be90f89b59e015ce3"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a6d246cfdea1c2e9be90f89b59e015ce3">Slic3r::GCode::travel_to</a></div><div class="ttdeci">std::string travel_to(const Point &amp;point, ExtrusionRole role, std::string comment)</div><div class="ttdef"><b>Definition</b> GCode.cpp:4432</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a6f4b674d8ebba097b1dbc67262ace858"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a6f4b674d8ebba097b1dbc67262ace858">Slic3r::GCode::m_objSupportsWithBrim</a></div><div class="ttdeci">std::set&lt; ObjectID &gt; m_objSupportsWithBrim</div><div class="ttdef"><b>Definition</b> GCode.hpp:417</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a70ab5d10c313544c2b21570695f06485"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a70ab5d10c313544c2b21570695f06485">Slic3r::GCode::append_full_config</a></div><div class="ttdeci">static void append_full_config(const Print &amp;print, std::string &amp;str)</div><div class="ttdef"><b>Definition</b> GCode.cpp:3505</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a70b6e83de9e549d8405f5b63783ac290"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a70b6e83de9e549d8405f5b63783ac290">Slic3r::GCode::placeholder_parser_process</a></div><div class="ttdeci">std::string placeholder_parser_process(const std::string &amp;name, const std::string &amp;templ, unsigned int current_extruder_id, const DynamicConfig *config_override=nullptr)</div><div class="ttdef"><b>Definition</b> GCode.cpp:2364</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a77216b94b9cba2d6e89710c1bd616674"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a77216b94b9cba2d6e89710c1bd616674">Slic3r::GCode::m_last_height</a></div><div class="ttdeci">float m_last_height</div><div class="ttdef"><b>Definition</b> GCode.hpp:475</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a7b877f79ab3624962b83514ec57c5e6d"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7b877f79ab3624962b83514ec57c5e6d">Slic3r::GCode::apply_print_config</a></div><div class="ttdeci">void apply_print_config(const PrintConfig &amp;print_config)</div><div class="ttdef"><b>Definition</b> GCode.cpp:3498</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a7cc2e460b5902a6e8c64f064bb87f2ce"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7cc2e460b5902a6e8c64f064bb87f2ce">Slic3r::GCode::m_label_objects_ids</a></div><div class="ttdeci">std::vector&lt; size_t &gt; m_label_objects_ids</div><div class="ttdef"><b>Definition</b> GCode.hpp:449</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a7f7906e6e56fa2afb0a72943eb04383d"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7f7906e6e56fa2afb0a72943eb04383d">Slic3r::GCode::collect_layers_to_print</a></div><div class="ttdeci">static std::vector&lt; LayerToPrint &gt; collect_layers_to_print(const PrintObject &amp;object)</div><div class="ttdef"><b>Definition</b> GCode.cpp:771</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a8073b5c68ecade3632359c884f342f3c"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a8073b5c68ecade3632359c884f342f3c">Slic3r::GCode::m_enable_exclude_object</a></div><div class="ttdeci">bool m_enable_exclude_object</div><div class="ttdef"><b>Definition</b> GCode.hpp:448</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a8af28e4500c5897a80f5ccc1b6b118a2"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a8af28e4500c5897a80f5ccc1b6b118a2">Slic3r::GCode::m_spiral_vase</a></div><div class="ttdeci">std::unique_ptr&lt; SpiralVase &gt; m_spiral_vase</div><div class="ttdef"><b>Definition</b> GCode.hpp:487</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_ab7079d6608d218b9076cd47554648c8b"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#ab7079d6608d218b9076cd47554648c8b">Slic3r::GCode::get_bed_temperature</a></div><div class="ttdeci">int get_bed_temperature(const int extruder_id, const bool is_first_layer, const BedType bed_type) const</div><div class="ttdef"><b>Definition</b> GCode.cpp:2494</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_ab9d8b02b166044e2f0311fbf566da416"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#ab9d8b02b166044e2f0311fbf566da416">Slic3r::GCode::m_is_overhang_fan_on</a></div><div class="ttdeci">bool m_is_overhang_fan_on</div><div class="ttdef"><b>Definition</b> GCode.hpp:452</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_abf9eff5169db96af3eb235c0e923b915"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#abf9eff5169db96af3eb235c0e923b915">Slic3r::GCode::m_start_gcode_filament</a></div><div class="ttdeci">int m_start_gcode_filament</div><div class="ttdef"><b>Definition</b> GCode.hpp:515</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_ac2af3222a6bc9941043eb2949bc42356"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#ac2af3222a6bc9941043eb2949bc42356">Slic3r::GCode::m_is_supp_interface_fan_on</a></div><div class="ttdeci">bool m_is_supp_interface_fan_on</div><div class="ttdef"><b>Definition</b> GCode.hpp:453</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_ac6320878ee4fff4ad7f30400b2bf8da9"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#ac6320878ee4fff4ad7f30400b2bf8da9">Slic3r::GCode::set_extruders</a></div><div class="ttdeci">void set_extruders(const std::vector&lt; unsigned int &gt; &amp;extruder_ids)</div><div class="ttdef"><b>Definition</b> GCode.cpp:3530</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_accca0b22da61853ca952d06c31917235"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#accca0b22da61853ca952d06c31917235">Slic3r::GCode::m_last_layer_z</a></div><div class="ttdeci">float m_last_layer_z</div><div class="ttdef"><b>Definition</b> GCode.hpp:476</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_acef5d60eee718c186ba6660c879a0d0f"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">Slic3r::GCode::m_config</a></div><div class="ttdeci">FullPrintConfig m_config</div><div class="ttdef"><b>Definition</b> GCode.hpp:428</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_ad26de7a6470f710e55063e5ddd3ee86d"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad26de7a6470f710e55063e5ddd3ee86d">Slic3r::GCode::_print_first_layer_extruder_temperatures</a></div><div class="ttdeci">void _print_first_layer_extruder_temperatures(GCodeOutputStream &amp;file, Print &amp;print, const std::string &amp;gcode, unsigned int first_printing_extruder_id, bool wait)</div><div class="ttdef"><b>Definition</b> GCode.cpp:2533</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_ad74e7798985b999d53045b7ecd19739b"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad74e7798985b999d53045b7ecd19739b">Slic3r::GCode::m_placeholder_parser</a></div><div class="ttdeci">PlaceholderParser m_placeholder_parser</div><div class="ttdef"><b>Definition</b> GCode.hpp:433</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_adb8be36b92178a4ce09801d0204d6af5"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#adb8be36b92178a4ce09801d0204d6af5">Slic3r::GCode::m_avoid_crossing_perimeters</a></div><div class="ttdeci">AvoidCrossingPerimeters m_avoid_crossing_perimeters</div><div class="ttdef"><b>Definition</b> GCode.hpp:440</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_adba26559de960021180ecc3a2c66b865"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#adba26559de960021180ecc3a2c66b865">Slic3r::GCode::m_placeholder_parser_context</a></div><div class="ttdeci">PlaceholderParser::ContextData m_placeholder_parser_context</div><div class="ttdef"><b>Definition</b> GCode.hpp:435</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_ade2f4af324da97d5fb8eadca3af5c489"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#ade2f4af324da97d5fb8eadca3af5c489">Slic3r::GCode::writer</a></div><div class="ttdeci">GCodeWriter &amp; writer()</div><div class="ttdef"><b>Definition</b> GCode.hpp:187</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_adeede141933a8492102e63526cf6157d"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#adeede141933a8492102e63526cf6157d">Slic3r::GCode::m_seam_placer</a></div><div class="ttdeci">SeamPlacer m_seam_placer</div><div class="ttdef"><b>Definition</b> GCode.hpp:419</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_ae28a3adcf7e9d41743591a067d1f0d6e"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">Slic3r::GCode::config</a></div><div class="ttdeci">const FullPrintConfig &amp; config() const</div><div class="ttdef"><b>Definition</b> GCode.hpp:185</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_ae7da2bd41bc38cf3750716374a164439"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae7da2bd41bc38cf3750716374a164439">Slic3r::GCode::m_ooze_prevention</a></div><div class="ttdeci">OozePrevention m_ooze_prevention</div><div class="ttdef"><b>Definition</b> GCode.hpp:438</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_ae7defbc83aafbbea7c9ae7a0ca4c8fef"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae7defbc83aafbbea7c9ae7a0ca4c8fef">Slic3r::GCode::m_cooling_buffer</a></div><div class="ttdeci">std::unique_ptr&lt; CoolingBuffer &gt; m_cooling_buffer</div><div class="ttdef"><b>Definition</b> GCode.hpp:486</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_aea409072544589f5bcb13a40b83a5748"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#aea409072544589f5bcb13a40b83a5748">Slic3r::GCode::m_fan_mover</a></div><div class="ttdeci">std::unique_ptr&lt; FanMover &gt; m_fan_mover</div><div class="ttdef"><b>Definition</b> GCode.hpp:508</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_aefd4abaf0d1c18be14b61558b8d504cd"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#aefd4abaf0d1c18be14b61558b8d504cd">Slic3r::GCode::layer</a></div><div class="ttdeci">const Layer * layer() const</div><div class="ttdef"><b>Definition</b> GCode.hpp:186</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_af01f2b164b70e2db11e8dc603f064f7d"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#af01f2b164b70e2db11e8dc603f064f7d">Slic3r::GCode::_print_first_layer_bed_temperature</a></div><div class="ttdeci">void _print_first_layer_bed_temperature(GCodeOutputStream &amp;file, Print &amp;print, const std::string &amp;gcode, unsigned int first_printing_extruder_id, bool wait)</div><div class="ttdef"><b>Definition</b> GCode.cpp:2505</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_processor_html_a1756318a316c854b77f22bae5b167630"><div class="ttname"><a href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a1756318a316c854b77f22bae5b167630">Slic3r::GCodeProcessor::get_gcode_last_filament</a></div><div class="ttdeci">static int get_gcode_last_filament(const std::string &amp;gcode_str)</div><div class="ttdef"><b>Definition</b> GCodeProcessor.cpp:1956</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_processor_html_a44451e44902b601a9885339440174bb2"><div class="ttname"><a href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a44451e44902b601a9885339440174bb2">Slic3r::GCodeProcessor::reserved_tag</a></div><div class="ttdeci">static const std::string &amp; reserved_tag(ETags tag)</div><div class="ttdef"><b>Definition</b> GCodeProcessor.hpp:261</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_processor_html_a9d0a157d06bdfad05bc6822a9a1c8071a165365337a98cdb4d6c565b8cf6db88a"><div class="ttname"><a href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a9d0a157d06bdfad05bc6822a9a1c8071a165365337a98cdb4d6c565b8cf6db88a">Slic3r::GCodeProcessor::ETags::First_Line_M73_Placeholder</a></div><div class="ttdeci">@ First_Line_M73_Placeholder</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_processor_html_a9d0a157d06bdfad05bc6822a9a1c8071a6df076ad097b82adc9d29c88958f82a1"><div class="ttname"><a href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a9d0a157d06bdfad05bc6822a9a1c8071a6df076ad097b82adc9d29c88958f82a1">Slic3r::GCodeProcessor::ETags::Estimated_Printing_Time_Placeholder</a></div><div class="ttdeci">@ Estimated_Printing_Time_Placeholder</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_processor_html_a9d0a157d06bdfad05bc6822a9a1c8071a8239e4b838b9895c8f8c6a93bebe431d"><div class="ttname"><a href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a9d0a157d06bdfad05bc6822a9a1c8071a8239e4b838b9895c8f8c6a93bebe431d">Slic3r::GCodeProcessor::ETags::Total_Layer_Number_Placeholder</a></div><div class="ttdeci">@ Total_Layer_Number_Placeholder</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_processor_html_a9d0a157d06bdfad05bc6822a9a1c8071abbbabdbe1b262f75d99d62880b953be1"><div class="ttname"><a href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a9d0a157d06bdfad05bc6822a9a1c8071abbbabdbe1b262f75d99d62880b953be1">Slic3r::GCodeProcessor::ETags::Role</a></div><div class="ttdeci">@ Role</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_processor_html_a9d0a157d06bdfad05bc6822a9a1c8071ae45724c6d2ce104b75b4cdcf26468f6f"><div class="ttname"><a href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a9d0a157d06bdfad05bc6822a9a1c8071ae45724c6d2ce104b75b4cdcf26468f6f">Slic3r::GCodeProcessor::ETags::Last_Line_M73_Placeholder</a></div><div class="ttdeci">@ Last_Line_M73_Placeholder</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_a0143dc1fd9e3306ffd2e2892ad76025d"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a0143dc1fd9e3306ffd2e2892ad76025d">Slic3r::GCodeWriter::extruders</a></div><div class="ttdeci">const std::vector&lt; Extruder &gt; &amp; extruders() const</div><div class="ttdef"><b>Definition</b> GCodeWriter.hpp:36</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_a0680c6f03c389db5bd95018db626dab9"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a0680c6f03c389db5bd95018db626dab9">Slic3r::GCodeWriter::get_xy_offset</a></div><div class="ttdeci">Vec2f get_xy_offset()</div><div class="ttdef"><b>Definition</b> GCodeWriter.hpp:83</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_a137976bad3f65c066e5b809944eb34f1"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a137976bad3f65c066e5b809944eb34f1">Slic3r::GCodeWriter::extruder</a></div><div class="ttdeci">Extruder * extruder()</div><div class="ttdef"><b>Definition</b> GCodeWriter.hpp:30</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_a2fc5f3b7c8d223df2e2b765ee439bfcc"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a2fc5f3b7c8d223df2e2b765ee439bfcc">Slic3r::GCodeWriter::postamble</a></div><div class="ttdeci">std::string postamble() const</div><div class="ttdef"><b>Definition</b> GCodeWriter.cpp:77</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_a32de57050284efca595c97b3c45c440c"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a32de57050284efca595c97b3c45c440c">Slic3r::GCodeWriter::set_acceleration</a></div><div class="ttdeci">std::string set_acceleration(unsigned int acceleration)</div><div class="ttdef"><b>Definition</b> GCodeWriter.cpp:152</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_a3915a7b9648a6097ba68bf89682627f2"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a3915a7b9648a6097ba68bf89682627f2">Slic3r::GCodeWriter::set_fan</a></div><div class="ttdeci">static std::string set_fan(const GCodeFlavor gcode_flavor, unsigned int speed)</div><div class="ttdef"><b>Definition</b> GCodeWriter.cpp:727</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_a57729a6fee38d4e9b675c8cf4d693217"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a57729a6fee38d4e9b675c8cf4d693217">Slic3r::GCodeWriter::set_jerk_xy</a></div><div class="ttdeci">std::string set_jerk_xy(double jerk)</div><div class="ttdef"><b>Definition</b> GCodeWriter.cpp:196</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_a7486ffb14da36c2f659314b485c538dd"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a7486ffb14da36c2f659314b485c538dd">Slic3r::GCodeWriter::set_additional_fan</a></div><div class="ttdeci">static std::string set_additional_fan(unsigned int speed)</div><div class="ttdef"><b>Definition</b> GCodeWriter.cpp:768</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_a9ef7abae945ebb7256be7c843f67af72"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a9ef7abae945ebb7256be7c843f67af72">Slic3r::GCodeWriter::set_is_bbl_machine</a></div><div class="ttdeci">void set_is_bbl_machine(bool bval)</div><div class="ttdef"><b>Definition</b> GCodeWriter.hpp:108</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_acdb4af43a7de1eb5306916d49ece48a6"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#acdb4af43a7de1eb5306916d49ece48a6">Slic3r::GCodeWriter::update_progress</a></div><div class="ttdeci">std::string update_progress(unsigned int num, unsigned int tot, bool allow_100=false) const</div><div class="ttdef"><b>Definition</b> GCodeWriter.cpp:270</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_ad0008f46affc37f57e6bcb84404aeac7"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#ad0008f46affc37f57e6bcb84404aeac7">Slic3r::GCodeWriter::travel_to_z</a></div><div class="ttdeci">std::string travel_to_z(double z, const std::string &amp;comment=std::string())</div><div class="ttdef"><b>Definition</b> GCodeWriter.cpp:473</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_ae071802e9fb76729dee5727e53e27e9d"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#ae071802e9fb76729dee5727e53e27e9d">Slic3r::GCodeWriter::multiple_extruders</a></div><div class="ttdeci">bool multiple_extruders</div><div class="ttdef"><b>Definition</b> GCodeWriter.hpp:17</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_ae25537c5912061af6fbee6f4cbcc9066"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#ae25537c5912061af6fbee6f4cbcc9066">Slic3r::GCodeWriter::add_object_change_labels</a></div><div class="ttdeci">void add_object_change_labels(std::string &amp;gcode)</div><div class="ttdef"><b>Definition</b> GCodeWriter.cpp:804</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_aea4e9f7803f4c249ab2245cec825e4f9"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#aea4e9f7803f4c249ab2245cec825e4f9">Slic3r::GCodeWriter::set_current_position_clear</a></div><div class="ttdeci">void set_current_position_clear(bool clear)</div><div class="ttdef"><b>Definition</b> GCodeWriter.hpp:101</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_af09d2460aca864d21b7d004b9350dc66"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#af09d2460aca864d21b7d004b9350dc66">Slic3r::GCodeWriter::get_position</a></div><div class="ttdeci">Vec3d get_position() const</div><div class="ttdef"><b>Definition</b> GCodeWriter.hpp:78</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_afbe9a8dd86d4f6902fc6ee21dc66488c"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#afbe9a8dd86d4f6902fc6ee21dc66488c">Slic3r::GCodeWriter::need_toolchange</a></div><div class="ttdeci">bool need_toolchange(unsigned int extruder_id) const</div><div class="ttdef"><b>Definition</b> GCodeWriter.hpp:54</div></div>
<div class="ttc" id="aclass_slic3r_1_1_placeholder_parser_html_a00fe4a422b76c3672b6ba02ea614bb6b"><div class="ttname"><a href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#a00fe4a422b76c3672b6ba02ea614bb6b">Slic3r::PlaceholderParser::ContextData::rng</a></div><div class="ttdeci">std::mt19937 rng</div><div class="ttdef"><b>Definition</b> PlaceholderParser.hpp:22</div></div>
<div class="ttc" id="aclass_slic3r_1_1_placeholder_parser_html_a20f5feca1ff118f35a359a16c3ec902e"><div class="ttname"><a href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#a20f5feca1ff118f35a359a16c3ec902e">Slic3r::PlaceholderParser::set</a></div><div class="ttdeci">void set(const std::string &amp;key, const std::string &amp;value)</div><div class="ttdef"><b>Definition</b> PlaceholderParser.hpp:40</div></div>
<div class="ttc" id="aclass_slic3r_1_1_placeholder_parser_html_a2fc38807bd779533faacd708b2ed5b02"><div class="ttname"><a href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#a2fc38807bd779533faacd708b2ed5b02">Slic3r::PlaceholderParser::config_writable</a></div><div class="ttdeci">DynamicConfig &amp; config_writable()</div><div class="ttdef"><b>Definition</b> PlaceholderParser.hpp:47</div></div>
<div class="ttc" id="aclass_slic3r_1_1_placeholder_parser_html_aec500f9eed38e5cba61fa09baa2a7c3b"><div class="ttname"><a href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#aec500f9eed38e5cba61fa09baa2a7c3b">Slic3r::PlaceholderParser::update_timestamp</a></div><div class="ttdeci">static void update_timestamp(DynamicConfig &amp;config)</div><div class="ttdef"><b>Definition</b> PlaceholderParser.cpp:88</div></div>
<div class="ttc" id="aclass_slic3r_1_1_seam_placer_html_a537ad1282a142af5295536ed39161e20"><div class="ttname"><a href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a537ad1282a142af5295536ed39161e20">Slic3r::SeamPlacer::init</a></div><div class="ttdeci">void init(const Print &amp;print, std::function&lt; void(void)&gt; throw_if_canceled_func)</div><div class="ttdef"><b>Definition</b> SeamPlacer.cpp:1413</div></div>
<div class="ttc" id="aclass_slic3r_1_1_slicing_error_html"><div class="ttname"><a href="../../de/da8/class_slic3r_1_1_slicing_error.html">Slic3r::SlicingError</a></div><div class="ttdef"><b>Definition</b> Exception.hpp:30</div></div>
<div class="ttc" id="aglu-libtess_8h_html_a4292190e3f1f6b373a760c7d9316ad3c"><div class="ttname"><a href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a></div><div class="ttdeci">typedef void(GLAPIENTRYP _GLUfuncptr)(void)</div></div>
<div class="ttc" id="alibslic3r_8h_html_a75f355966e0a97665eaf5a4c79baa7af"><div class="ttname"><a href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a></div><div class="ttdeci">static constexpr double EPSILON</div><div class="ttdef"><b>Definition</b> libslic3r.h:52</div></div>
<div class="ttc" id="alibslic3r_8h_html_a95c875c81df33d788132374e2b57c6c1"><div class="ttname"><a href="../../dd/d47/libslic3r_8h.html#a95c875c81df33d788132374e2b57c6c1">coordf_t</a></div><div class="ttdeci">double coordf_t</div><div class="ttdef"><b>Definition</b> libslic3r.h:46</div></div>
<div class="ttc" id="alzoconf_8h_html_a61569f2965b7a369eb10b6d75d410d11"><div class="ttname"><a href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a></div><div class="ttdeci">int</div><div class="ttdef"><b>Definition</b> lzoconf.h:340</div></div>
<div class="ttc" id="anamespace_eigen_1_1half__impl_html_a03f37f7cb0691e122e6181b6891280e2"><div class="ttname"><a href="../../d6/d88/namespace_eigen_1_1half__impl.html#a03f37f7cb0691e122e6181b6891280e2">Eigen::half_impl::abs</a></div><div class="ttdeci">EIGEN_STRONG_INLINE EIGEN_DEVICE_FUNC half abs(const half &amp;a)</div><div class="ttdef"><b>Definition</b> Half.h:445</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_do_export_html_a0a9841bf53758fc0da7b63b36a88dd30"><div class="ttname"><a href="../../de/d39/namespace_slic3r_1_1_do_export.html#a0a9841bf53758fc0da7b63b36a88dd30">Slic3r::DoExport::init_ooze_prevention</a></div><div class="ttdeci">static void init_ooze_prevention(const Print &amp;print, OozePrevention &amp;ooze_prevention)</div><div class="ttdef"><b>Definition</b> GCode.cpp:1254</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_do_export_html_a1dd26a18ba80a7027b4ca555174992b4"><div class="ttname"><a href="../../de/d39/namespace_slic3r_1_1_do_export.html#a1dd26a18ba80a7027b4ca555174992b4">Slic3r::DoExport::export_thumbnails_to_file</a></div><div class="ttdeci">static void export_thumbnails_to_file(ThumbnailsGeneratorCallback &amp;thumbnail_cb, int plate_id, const std::vector&lt; Vec2d &gt; &amp;sizes, WriteToOutput output, ThrowIfCanceledCallback throw_if_canceled)</div><div class="ttdef"><b>Definition</b> GCode.cpp:1288</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_do_export_html_a8d1eda66b9de6a524fa3b3095765ee73"><div class="ttname"><a href="../../de/d39/namespace_slic3r_1_1_do_export.html#a8d1eda66b9de6a524fa3b3095765ee73">Slic3r::DoExport::update_print_stats_and_format_filament_stats</a></div><div class="ttdeci">static std::string update_print_stats_and_format_filament_stats(const bool has_wipe_tower, const WipeTowerData &amp;wipe_tower_data, const std::vector&lt; Extruder &gt; &amp;extruders, PrintStatistics &amp;print_statistics)</div><div class="ttdef"><b>Definition</b> GCode.cpp:1334</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_do_export_html_ad12ad64fb3bff94faebd9b178ab67a20"><div class="ttname"><a href="../../de/d39/namespace_slic3r_1_1_do_export.html#ad12ad64fb3bff94faebd9b178ab67a20">Slic3r::DoExport::init_gcode_processor</a></div><div class="ttdeci">static void init_gcode_processor(const PrintConfig &amp;config, GCodeProcessor &amp;processor, bool &amp;silent_time_estimator_enabled)</div><div class="ttdef"><b>Definition</b> GCode.cpp:1185</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_utils_html_a3397598f1893817e6802ba3a6df517cf"><div class="ttname"><a href="../../d3/d47/namespace_slic3r_1_1_utils.html#a3397598f1893817e6802ba3a6df517cf">Slic3r::Utils::local_timestamp</a></div><div class="ttdeci">std::string local_timestamp()</div><div class="ttdef"><b>Definition</b> Time.hpp:35</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_utils_html_a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62"><div class="ttname"><a href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">Slic3r::Utils::TimeFormat::gcode</a></div><div class="ttdeci">@ gcode</div></div>
<div class="ttc" id="anamespace_slic3r_1_1arrangement_html_a33f0b7d9bab3e419c4d2d41d06b21093"><div class="ttname"><a href="../../d0/d25/namespace_slic3r_1_1arrangement.html#a33f0b7d9bab3e419c4d2d41d06b21093">Slic3r::arrangement::width</a></div><div class="ttdeci">coord_t width(const BoundingBox &amp;box)</div><div class="ttdef"><b>Definition</b> Arrange.cpp:793</div></div>
<div class="ttc" id="anamespace_slic3r_html_a02d66b5053fbce6319e225982b3c5a90a446f499310eddd96c57cb85695b089ab"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a02d66b5053fbce6319e225982b3c5a90a446f499310eddd96c57cb85695b089ab">Slic3r::gcfMarlinFirmware</a></div><div class="ttdeci">@ gcfMarlinFirmware</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:35</div></div>
<div class="ttc" id="anamespace_slic3r_html_a02d66b5053fbce6319e225982b3c5a90a4b6801e5d5c460886aee95250b34bc8e"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a02d66b5053fbce6319e225982b3c5a90a4b6801e5d5c460886aee95250b34bc8e">Slic3r::gcfKlipper</a></div><div class="ttdeci">@ gcfKlipper</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:35</div></div>
<div class="ttc" id="anamespace_slic3r_html_a02d66b5053fbce6319e225982b3c5a90a9179b7644f0b607c39456f311df7c313"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a02d66b5053fbce6319e225982b3c5a90a9179b7644f0b607c39456f311df7c313">Slic3r::gcfMarlinLegacy</a></div><div class="ttdeci">@ gcfMarlinLegacy</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:35</div></div>
<div class="ttc" id="anamespace_slic3r_html_a0480eaf0e409328d67e4cfe7ff5765e6"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">Slic3r::ConfigOptionFloat</a></div><div class="ttdeci">ConfigOptionFloat</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:1061</div></div>
<div class="ttc" id="anamespace_slic3r_html_a10875bb92bba52324eab015888534f9da285c93be3cce598ef4001be97369c040"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a10875bb92bba52324eab015888534f9da285c93be3cce598ef4001be97369c040">Slic3r::CalibMode::Calib_PA_Line</a></div><div class="ttdeci">@ Calib_PA_Line</div></div>
<div class="ttc" id="anamespace_slic3r_html_a10875bb92bba52324eab015888534f9dacacadecbb52686637df9e3a6eacd90fe"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a10875bb92bba52324eab015888534f9dacacadecbb52686637df9e3a6eacd90fe">Slic3r::CalibMode::Calib_None</a></div><div class="ttdeci">@ Calib_None</div></div>
<div class="ttc" id="anamespace_slic3r_html_a1b090225e802a49f0153eb65b651fbd9"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a1b090225e802a49f0153eb65b651fbd9">Slic3r::get_bed_temp_key</a></div><div class="ttdeci">static std::string get_bed_temp_key(const BedType type)</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:254</div></div>
<div class="ttc" id="anamespace_slic3r_html_a233c708cd58736bef2886d8efa1091ab"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a233c708cd58736bef2886d8efa1091ab">Slic3r::outer_wall_line_width</a></div><div class="ttdeci">outer_wall_line_width((ConfigOptionFloat, outer_wall_speed))((ConfigOptionFloat</div></div>
<div class="ttc" id="anamespace_slic3r_html_a3d7b1a602517c9bbdd4cea13a3b3cb14"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a3d7b1a602517c9bbdd4cea13a3b3cb14">Slic3r::sort_object_instances_by_model_order</a></div><div class="ttdeci">std::vector&lt; const PrintInstance * &gt; sort_object_instances_by_model_order(const Print &amp;print, bool init_order)</div><div class="ttdef"><b>Definition</b> GCode.cpp:1411</div></div>
<div class="ttc" id="anamespace_slic3r_html_a3fc0fbbcb45d8a2fef27e26e1289ec21"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a3fc0fbbcb45d8a2fef27e26e1289ec21">Slic3r::layer_height</a></div><div class="ttdeci">layer_height((ConfigOptionInt, faded_layers))((ConfigOptionFloat</div></div>
<div class="ttc" id="anamespace_slic3r_html_a42825440f600a23bd1cd8f6427fcb912"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a42825440f600a23bd1cd8f6427fcb912">Slic3r::chain_print_object_instances</a></div><div class="ttdeci">std::vector&lt; const PrintInstance * &gt; chain_print_object_instances(const std::vector&lt; const PrintObject * &gt; &amp;print_objects, const Point *start_near)</div><div class="ttdef"><b>Definition</b> ShortestPath.cpp:1978</div></div>
<div class="ttc" id="anamespace_slic3r_html_a42fa1ebef02a8ad64595c21fcbe5aebc"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a42fa1ebef02a8ad64595c21fcbe5aebc">Slic3r::BedType</a></div><div class="ttdeci">BedType</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:195</div></div>
<div class="ttc" id="anamespace_slic3r_html_a4a3476ede9ee7d838f5ebe5b408a2db7"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a4a3476ede9ee7d838f5ebe5b408a2db7">Slic3r::get_path_of_change_filament</a></div><div class="ttdeci">static std::vector&lt; Vec2d &gt; get_path_of_change_filament(const Print &amp;print)</div><div class="ttdef"><b>Definition</b> GCode.cpp:89</div></div>
<div class="ttc" id="anamespace_slic3r_html_a4bcb312043a874462f942e362c16567aa1659c28f8384ed923cc03781bf910c54"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a4bcb312043a874462f942e362c16567aa1659c28f8384ed923cc03781bf910c54">Slic3r::frTopSolidInfill</a></div><div class="ttdeci">@ frTopSolidInfill</div><div class="ttdef"><b>Definition</b> Flow.hpp:21</div></div>
<div class="ttc" id="anamespace_slic3r_html_a4bcb312043a874462f942e362c16567aa73b23230c5b13dd721893c50d09a9d5f"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a4bcb312043a874462f942e362c16567aa73b23230c5b13dd721893c50d09a9d5f">Slic3r::frExternalPerimeter</a></div><div class="ttdeci">@ frExternalPerimeter</div><div class="ttdef"><b>Definition</b> Flow.hpp:17</div></div>
<div class="ttc" id="anamespace_slic3r_html_a4bcb312043a874462f942e362c16567aa76382120c41343ceddf63472ce33ceaf"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a4bcb312043a874462f942e362c16567aa76382120c41343ceddf63472ce33ceaf">Slic3r::frPerimeter</a></div><div class="ttdeci">@ frPerimeter</div><div class="ttdef"><b>Definition</b> Flow.hpp:18</div></div>
<div class="ttc" id="anamespace_slic3r_html_a4bcb312043a874462f942e362c16567aa7d4497c484372805525d52c0809d85a0"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a4bcb312043a874462f942e362c16567aa7d4497c484372805525d52c0809d85a0">Slic3r::frSolidInfill</a></div><div class="ttdeci">@ frSolidInfill</div><div class="ttdef"><b>Definition</b> Flow.hpp:20</div></div>
<div class="ttc" id="anamespace_slic3r_html_a4bcb312043a874462f942e362c16567aadc1f79acb9a303b4dcd74d6aaaa637e2"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a4bcb312043a874462f942e362c16567aadc1f79acb9a303b4dcd74d6aaaa637e2">Slic3r::frInfill</a></div><div class="ttdeci">@ frInfill</div><div class="ttdef"><b>Definition</b> Flow.hpp:19</div></div>
<div class="ttc" id="anamespace_slic3r_html_a532709fa704e5bf894eb25513dab4be8"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a532709fa704e5bf894eb25513dab4be8">Slic3r::get_wipe_tower_extrusions_extents</a></div><div class="ttdeci">BoundingBoxf get_wipe_tower_extrusions_extents(const Print &amp;print, const coordf_t max_print_z)</div><div class="ttdef"><b>Definition</b> PrintExtents.cpp:136</div></div>
<div class="ttc" id="anamespace_slic3r_html_a5694f5c4f83b1e920691b0aab630cabc"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a5694f5c4f83b1e920691b0aab630cabc">Slic3r::get_print_object_extrusions_extents</a></div><div class="ttdeci">BoundingBoxf get_print_object_extrusions_extents(const PrintObject &amp;print_object, const coordf_t max_print_z)</div><div class="ttdef"><b>Definition</b> PrintExtents.cpp:108</div></div>
<div class="ttc" id="anamespace_slic3r_html_a6fa3193f46e8c4fc55359a5c124f46e6a5340a9df46b83353c5ff3119069d2493"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a5340a9df46b83353c5ff3119069d2493">Slic3r::erCustom</a></div><div class="ttdeci">@ erCustom</div><div class="ttdef"><b>Definition</b> ExtrusionEntity.hpp:39</div></div>
<div class="ttc" id="anamespace_slic3r_html_a720e9962a59275ec8a54eda3c7bf7173"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a720e9962a59275ec8a54eda3c7bf7173">Slic3r::header_slic3r_generated</a></div><div class="ttdeci">std::string header_slic3r_generated()</div><div class="ttdef"><b>Definition</b> utils.cpp:1110</div></div>
<div class="ttc" id="anamespace_slic3r_html_a760b7e0ccb84f301b709dd515c3df843"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a760b7e0ccb84f301b709dd515c3df843">Slic3r::ConfigOptionInts</a></div><div class="ttdeci">ConfigOptionIntsTempl&lt; false &gt; ConfigOptionInts</div><div class="ttdef"><b>Definition</b> Config.hpp:852</div></div>
<div class="ttc" id="anamespace_slic3r_html_a7a84976eeb16c9a039b46f731199bd58"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a7a84976eeb16c9a039b46f731199bd58">Slic3r::support_material_flow</a></div><div class="ttdeci">Flow support_material_flow(const PrintObject *object, float layer_height)</div><div class="ttdef"><b>Definition</b> Flow.cpp:214</div></div>
<div class="ttc" id="anamespace_slic3r_html_a815252509829bfcfc450d786ecccdfeaa40ab71bcc2705c597aad9a50ffd8eaec"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a815252509829bfcfc450d786ecccdfeaa40ab71bcc2705c597aad9a50ffd8eaec">Slic3r::PrintSequence::ByObject</a></div><div class="ttdeci">@ ByObject</div></div>
<div class="ttc" id="anamespace_slic3r_html_a8f3f4fa4d67b9df11d5665c57f7a7678"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a8f3f4fa4d67b9df11d5665c57f7a7678">Slic3r::get_print_extrusions_extents</a></div><div class="ttdeci">BoundingBoxf get_print_extrusions_extents(const Print &amp;print)</div><div class="ttdef"><b>Definition</b> PrintExtents.cpp:101</div></div>
<div class="ttc" id="anamespace_slic3r_html_a99242cfdfb46ce4e59d15d20b08d20ce"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a99242cfdfb46ce4e59d15d20b08d20ce">Slic3r::ConfigOptionBools</a></div><div class="ttdeci">ConfigOptionBoolsTempl&lt; false &gt; ConfigOptionBools</div><div class="ttdef"><b>Definition</b> Config.hpp:1511</div></div>
<div class="ttc" id="anamespace_slic3r_html_ab3977853055b1ea40f45a1bbfb78ef36"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#ab3977853055b1ea40f45a1bbfb78ef36">Slic3r::unscale</a></div><div class="ttdeci">T unscale(Q v)</div><div class="ttdef"><b>Definition</b> libslic3r.h:113</div></div>
<div class="ttc" id="anamespace_slic3r_html_ab9627c9d229ca43d9efc0d60c4904600"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#ab9627c9d229ca43d9efc0d60c4904600">Slic3r::travel_point_2</a></div><div class="ttdeci">Vec2d travel_point_2</div><div class="ttdef"><b>Definition</b> GCode.cpp:86</div></div>
<div class="ttc" id="anamespace_slic3r_html_abe1c34afe5a07b8b1a7823ecfe2d1722"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Slic3r::Vec2f</a></div><div class="ttdeci">Eigen::Matrix&lt; float, 2, 1, Eigen::DontAlign &gt; Vec2f</div><div class="ttdef"><b>Definition</b> Point.hpp:43</div></div>
<div class="ttc" id="anamespace_slic3r_html_ac44dc7dc57ca4e75fffcf4b377abfd8b"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#ac44dc7dc57ca4e75fffcf4b377abfd8b">Slic3r::ConfigOptionInt</a></div><div class="ttdeci">ConfigOptionInt</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:730</div></div>
<div class="ttc" id="anamespace_slic3r_html_ac4d96e1e2e66db43dc9ef0e718ee32c2"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#ac4d96e1e2e66db43dc9ef0e718ee32c2">Slic3r::travel_point_1</a></div><div class="ttdeci">Vec2d travel_point_1</div><div class="ttdef"><b>Definition</b> GCode.cpp:85</div></div>
<div class="ttc" id="anamespace_slic3r_html_acc7a8f01094a952fc3db6dcfa9349d9a"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#acc7a8f01094a952fc3db6dcfa9349d9a">Slic3r::travel_point_3</a></div><div class="ttdeci">Vec2d travel_point_3</div><div class="ttdef"><b>Definition</b> GCode.cpp:87</div></div>
<div class="ttc" id="anamespace_slic3r_html_ad48b86fa8e529e56c6bd00ff2f9839ab"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#ad48b86fa8e529e56c6bd00ff2f9839ab">Slic3r::PrintObjectConfig</a></div><div class="ttdeci">machine_min_extruding_rate PrintObjectConfig</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:1047</div></div>
<div class="ttc" id="anamespace_slic3r_html_ada0c88e79f3ceffda9c0e403171d475d"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#ada0c88e79f3ceffda9c0e403171d475d">Slic3r::ConfigOptionFloats</a></div><div class="ttdeci">ConfigOptionFloatsTempl&lt; false &gt; ConfigOptionFloats</div><div class="ttdef"><b>Definition</b> Config.hpp:724</div></div>
<div class="ttc" id="anamespace_slic3r_html_add642cde3ce315e35df3844e629607c3"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#add642cde3ce315e35df3844e629607c3">Slic3r::get_bed_temp_1st_layer_key</a></div><div class="ttdeci">static std::string get_bed_temp_1st_layer_key(const BedType type)</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:271</div></div>
<div class="ttc" id="anamespace_slic3r_html_ae2a124901ed942ca40dd582c39d32c2d"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#ae2a124901ed942ca40dd582c39d32c2d">Slic3r::get_wipe_tower_priming_extrusions_extents</a></div><div class="ttdeci">BoundingBoxf get_wipe_tower_priming_extrusions_extents(const Print &amp;print)</div><div class="ttdef"><b>Definition</b> PrintExtents.cpp:169</div></div>
<div class="ttc" id="anamespacelibnest2d_1_1nfp_html_a1557d47a1a466a42f34906efe9f4bc07"><div class="ttname"><a href="../../d0/d53/namespacelibnest2d_1_1nfp.html#a1557d47a1a466a42f34906efe9f4bc07">libnest2d::nfp::merge</a></div><div class="ttdeci">TMultiShape&lt; PolygonImpl &gt; merge(const TMultiShape&lt; PolygonImpl &gt; &amp;shapes)</div><div class="ttdef"><b>Definition</b> geometries.hpp:259</div></div>
<div class="ttc" id="anamespacelibnest2d_1_1pointlike_html_a1e3045df0bee66333beaa96a9a1b6c9d"><div class="ttname"><a href="../../df/d4e/namespacelibnest2d_1_1pointlike.html#a1e3045df0bee66333beaa96a9a1b6c9d">libnest2d::pointlike::x</a></div><div class="ttdeci">TCoord&lt; P &gt; x(const P &amp;p)</div><div class="ttdef"><b>Definition</b> geometry_traits.hpp:310</div></div>
<div class="ttc" id="anamespacenlohmann_1_1detail_html_a1ed8fc6239da25abcaf681d30ace4985aa8cfde6331bd59eb2ac96f8911c4b666"><div class="ttname"><a href="../../dc/df0/namespacenlohmann_1_1detail.html#a1ed8fc6239da25abcaf681d30ace4985aa8cfde6331bd59eb2ac96f8911c4b666">nlohmann::detail::value_t::object</a></div><div class="ttdeci">@ object</div><div class="ttdoc">object (unordered set of name/value pairs)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00273">_</a>, <a class="el" href="../../#l02505">_print_first_layer_bed_temperature()</a>, <a class="el" href="../../#l02533">_print_first_layer_extruder_temperatures()</a>, <a class="el" href="../../#l00804">Slic3r::GCodeWriter::add_object_change_labels()</a>, <a class="el" href="../../#l00174">Slic3r::ToolOrdering::all_extruders()</a>, <a class="el" href="../../#l03505">append_full_config()</a>, <a class="el" href="../../#l03498">apply_print_config()</a>, <a class="el" href="../../#l00773">Slic3r::ToolOrdering::assign_custom_gcodes()</a>, <a class="el" href="../../de/db8/namespace_slic3r.html#a815252509829bfcfc450d786ecccdfeaa40ab71bcc2705c597aad9a50ffd8eaec">Slic3r::ByObject</a>, <a class="el" href="../../de/db8/namespace_slic3r.html#a10875bb92bba52324eab015888534f9dacacadecbb52686637df9e3a6eacd90fe">Slic3r::Calib_None</a>, <a class="el" href="../../de/db8/namespace_slic3r.html#a10875bb92bba52324eab015888534f9da285c93be3cce598ef4001be97369c040">Slic3r::Calib_PA_Line</a>, <a class="el" href="../../#l00823">Slic3r::Print::calib_params()</a>, <a class="el" href="../../#l01978">Slic3r::chain_print_object_instances()</a>, <a class="el" href="../../#l02254">Slic3r::DynamicConfig::clear()</a>, <a class="el" href="../../#l00771">collect_layers_to_print()</a>, <a class="el" href="../../#l00185">config()</a>, <a class="el" href="../../#l00299">Slic3r::PrintObject::config()</a>, <a class="el" href="../../#l00740">Slic3r::Print::config()</a>, <a class="el" href="../../#l00047">Slic3r::PlaceholderParser::config_writable()</a>, <a class="el" href="../../#l00225">count</a>, <a class="el" href="../../#l00742">Slic3r::Print::default_region_config()</a>, <a class="el" href="../../#l00022">Slic3r::AvoidCrossingPerimeters::disable_once()</a>, <a class="el" href="../../#l00101">Slic3r::CalibPressureAdvanceLine::draw_numbers()</a>, <a class="el" href="../../#l00052">EPSILON</a>, <a class="el" href="../../#l00039">Slic3r::erCustom</a>, <a class="el" href="../../#l00021">Slic3r::erNone</a>, <a class="el" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a9d0a157d06bdfad05bc6822a9a1c8071a6df076ad097b82adc9d29c88958f82a1">Slic3r::GCodeProcessor::Estimated_Printing_Time_Placeholder</a>, <a class="el" href="../../#l01288">Slic3r::DoExport::export_thumbnails_to_file()</a>, <a class="el" href="../../#l00030">Slic3r::GCodeWriter::extruder()</a>, <a class="el" href="../../#l00036">Slic3r::GCodeWriter::extruders()</a>, <a class="el" href="../../#l00390">Slic3r::Print::extruders()</a>, <a class="el" href="../../#l00601">Slic3r::WipeTowerData::final_purge</a>, <a class="el" href="../../#l00010">Slic3r::CalibPressureAdvance::find_optimal_PA_speed()</a>, <a class="el" href="../../#l00168">Slic3r::ToolOrdering::first_extruder()</a>, <a class="el" href="../../#l00771">Slic3r::Print::first_layer_convex_hull()</a>, <a class="el" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a9d0a157d06bdfad05bc6822a9a1c8071a165365337a98cdb4d6c565b8cf6db88a">Slic3r::GCodeProcessor::First_Line_M73_Placeholder</a>, <a class="el" href="../../#l00388">floor()</a>, <a class="el" href="../../#l00021">Slic3r::PrintRegion::flow()</a>, <a class="el" href="../../#l00017">Slic3r::frExternalPerimeter</a>, <a class="el" href="../../#l00019">Slic3r::frInfill</a>, <a class="el" href="../../#l00156">Slic3r::ConstVectorOfPtrsAdaptor&lt; T &gt;::front()</a>, <a class="el" href="../../#l00018">Slic3r::frPerimeter</a>, <a class="el" href="../../#l00020">Slic3r::frSolidInfill</a>, <a class="el" href="../../#l00021">Slic3r::frTopSolidInfill</a>, <a class="el" href="../../#l00506">Slic3r::PrintBase::full_print_config()</a>, <a class="el" href="../../#l00035">Slic3r::gcfKlipper</a>, <a class="el" href="../../#l00035">Slic3r::gcfMarlinFirmware</a>, <a class="el" href="../../#l00035">Slic3r::gcfMarlinLegacy</a>, <a class="el" href="../../#l00248">Slic3r::CalibPressureAdvanceLine::generate_test()</a>, <a class="el" href="../../#l00434">Slic3r::ConfigOptionVector&lt; T &gt;::get_at()</a>, <a class="el" href="../../#l00271">Slic3r::get_bed_temp_1st_layer_key()</a>, <a class="el" href="../../#l00254">Slic3r::get_bed_temp_key()</a>, <a class="el" href="../../#l02494">get_bed_temperature()</a>, <a class="el" href="../../#l01956">Slic3r::GCodeProcessor::get_gcode_last_filament()</a>, <a class="el" href="../../#l00089">Slic3r::get_path_of_change_filament()</a>, <a class="el" href="../../#l00514">Slic3r::PrintBase::get_plate_index()</a>, <a class="el" href="../../#l00520">Slic3r::PrintBase::get_plate_name()</a>, <a class="el" href="../../#l00791">Slic3r::Print::get_plate_origin()</a>, <a class="el" href="../../#l00078">Slic3r::GCodeWriter::get_position()</a>, <a class="el" href="../../#l00101">Slic3r::get_print_extrusions_extents()</a>, <a class="el" href="../../#l00108">Slic3r::get_print_object_extrusions_extents()</a>, <a class="el" href="../../#l00786">Slic3r::Print::get_print_region()</a>, <a class="el" href="../../#l00136">Slic3r::get_wipe_tower_extrusions_extents()</a>, <a class="el" href="../../#l00169">Slic3r::get_wipe_tower_priming_extrusions_extents()</a>, <a class="el" href="../../#l00083">Slic3r::GCodeWriter::get_xy_offset()</a>, <a class="el" href="../../#l01367">Slic3r::Print::has_support_material()</a>, <a class="el" href="../../#l00186">Slic3r::ToolOrdering::has_wipe_tower()</a>, <a class="el" href="../../#l02107">Slic3r::Print::has_wipe_tower()</a>, <a class="el" href="../../#l01110">Slic3r::header_slic3r_generated()</a>, <a class="el" href="../../#l00031">Slic3r::Extruder::id()</a>, <a class="el" href="../../#l01413">Slic3r::SeamPlacer::init()</a>, <a class="el" href="../../#l01185">Slic3r::DoExport::init_gcode_processor()</a>, <a class="el" href="../../#l01254">Slic3r::DoExport::init_ooze_prevention()</a>, <a class="el" href="../../#l00340">int</a>, <a class="el" href="../../#l00818">Slic3r::Print::is_BBL_printer()</a>, <a class="el" href="../../#l00011">L</a>, <a class="el" href="../../#l00171">Slic3r::ToolOrdering::last_extruder()</a>, <a class="el" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a9d0a157d06bdfad05bc6822a9a1c8071ae45724c6d2ce104b75b4cdcf26468f6f">Slic3r::GCodeProcessor::Last_Line_M73_Placeholder</a>, <a class="el" href="../../#l00186">layer()</a>, <a class="el" href="../../de/db8/namespace_slic3r.html#a3fc0fbbcb45d8a2fef27e26e1289ec21">Slic3r::layer_height()</a>, <a class="el" href="../../#l00185">Slic3r::ToolOrdering::layer_tools()</a>, <a class="el" href="../../#l00099">Slic3r::CalibPressureAdvanceLine::line_width()</a>, <a class="el" href="../../#l00035">Slic3r::Utils::local_timestamp()</a>, <a class="el" href="../../#l00440">m_avoid_crossing_perimeters</a>, <a class="el" href="../../#l00496">m_brim_done</a>, <a class="el" href="../../#l00859">Slic3r::Print::m_brimMap</a>, <a class="el" href="../../#l00429">m_calib_config</a>, <a class="el" href="../../#l00428">m_config</a>, <a class="el" href="../../#l00486">m_cooling_buffer</a>, <a class="el" href="../../#l00446">m_enable_cooling_markers</a>, <a class="el" href="../../#l00448">m_enable_exclude_object</a>, <a class="el" href="../../#l00456">m_enable_extrusion_role_markers</a>, <a class="el" href="../../#l00508">m_fan_mover</a>, <a class="el" href="../../#l00452">m_is_overhang_fan_on</a>, <a class="el" href="../../#l00453">m_is_supp_interface_fan_on</a>, <a class="el" href="../../#l00449">m_label_objects_ids</a>, <a class="el" href="../../#l00475">m_last_height</a>, <a class="el" href="../../#l00476">m_last_layer_z</a>, <a class="el" href="../../#l00478">m_last_width</a>, <a class="el" href="../../#l00461">m_layer_count</a>, <a class="el" href="../../#l00463">m_layer_index</a>, <a class="el" href="../../#l00477">m_max_layer_z</a>, <a class="el" href="../../#l00417">m_objSupportsWithBrim</a>, <a class="el" href="../../#l00416">m_objsWithBrim</a>, <a class="el" href="../../#l00438">m_ooze_prevention</a>, <a class="el" href="../../#l00433">m_placeholder_parser</a>, <a class="el" href="../../#l00435">m_placeholder_parser_context</a>, <a class="el" href="../../#l00874">Slic3r::Print::m_print_statistics</a>, <a class="el" href="../../#l00505">m_processor</a>, <a class="el" href="../../#l00419">m_seam_placer</a>, <a class="el" href="../../#l00498">m_second_layer_things_done</a>, <a class="el" href="../../#l00502">m_silent_time_estimator_enabled</a>, <a class="el" href="../../#l00487">m_spiral_vase</a>, <a class="el" href="../../#l00515">m_start_gcode_filament</a>, <a class="el" href="../../#l00860">Slic3r::Print::m_supportBrimMap</a>, <a class="el" href="../../#l00491">m_wipe_tower</a>, <a class="el" href="../../#l00432">m_writer</a>, <a class="el" href="../../#l00017">Slic3r::BoundingBoxBase&lt; PointClass &gt;::max</a>, <a class="el" href="../../#l00067">Slic3r::BoundingBoxBase&lt; PointClass &gt;::merge()</a>, <a class="el" href="../../#l00016">Slic3r::BoundingBoxBase&lt; PointClass &gt;::min</a>, <a class="el" href="../../#l00201">Slic3r::Flow::mm3_per_mm()</a>, <a class="el" href="../../#l00025">Slic3r::Calib_Params::mode</a>, <a class="el" href="../../#l00017">Slic3r::GCodeWriter::multiple_extruders</a>, <a class="el" href="../../#l00054">Slic3r::GCodeWriter::need_toolchange()</a>, <a class="el" href="../../#l00410">Slic3r::Print::num_object_instances()</a>, <a class="el" href="../../#l00785">Slic3r::Print::num_print_regions()</a>, <a class="el" href="../../#l00603">Slic3r::WipeTowerData::number_of_toolchanges</a>, <a class="el" href="../../#l00743">Slic3r::Print::objects()</a>, <a class="el" href="../../#l00206">Slic3r::BoundingBoxBase&lt; PointClass &gt;::offset()</a>, <a class="el" href="../../#l00505">Slic3r::ConfigBase::opt_serialize()</a>, <a class="el" href="../../#l02060">Slic3r::ConfigBase::option()</a>, <a class="el" href="../../de/db8/namespace_slic3r.html#a233c708cd58736bef2886d8efa1091ab">Slic3r::outer_wall_line_width()</a>, <a class="el" href="../../#l00069">Slic3r::BoundingBoxBase&lt; PointClass &gt;::overlap()</a>, <a class="el" href="../../#l00505">Slic3r::PrintBase::placeholder_parser()</a>, <a class="el" href="../../#l02364">placeholder_parser_process()</a>, <a class="el" href="../../#l00018">Slic3r::MultiPoint::points</a>, <a class="el" href="../../#l00077">Slic3r::GCodeWriter::postamble()</a>, <a class="el" href="../../#l03555">preamble()</a>, <a class="el" href="../../#l00599">Slic3r::WipeTowerData::priming</a>, <a class="el" href="../../#l02449">print_machine_envelope()</a>, <a class="el" href="../../#l00024">Slic3r::Calib_Params::print_numbers</a>, <a class="el" href="../../#l00131">Slic3r::Layer::print_z</a>, <a class="el" href="../../#l01047">Slic3r::PrintObjectConfig</a>, <a class="el" href="../../#l02233">process_layers()</a>, <a class="el" href="../../#l00270">PROFILE_FUNC</a>, <a class="el" href="../../#l00261">Slic3r::GCodeProcessor::reserved_tag()</a>, <a class="el" href="../../#l04664">retract()</a>, <a class="el" href="../../#l00022">Slic3r::PlaceholderParser::ContextData::rng</a>, <a class="el" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a9d0a157d06bdfad05bc6822a9a1c8071abbbabdbe1b262f75d99d62880b953be1">Slic3r::GCodeProcessor::Role</a>, <a class="el" href="../../#l00344">Slic3r::ExtrusionEntity::role_to_string()</a>, <a class="el" href="../../#l00040">Slic3r::PlaceholderParser::set()</a>, <a class="el" href="../../#l00152">Slic3r::GCodeWriter::set_acceleration()</a>, <a class="el" href="../../#l00768">Slic3r::GCodeWriter::set_additional_fan()</a>, <a class="el" href="../../#l00101">Slic3r::GCodeWriter::set_current_position_clear()</a>, <a class="el" href="../../#l04718">set_extruder()</a>, <a class="el" href="../../#l03530">set_extruders()</a>, <a class="el" href="../../#l00727">Slic3r::GCodeWriter::set_fan()</a>, <a class="el" href="../../#l00108">Slic3r::GCodeWriter::set_is_bbl_machine()</a>, <a class="el" href="../../#l00196">Slic3r::GCodeWriter::set_jerk_xy()</a>, <a class="el" href="../../#l04939">set_object_info()</a>, <a class="el" href="../../#l03543">set_origin()</a>, <a class="el" href="../../#l00094">Slic3r::CalibPressureAdvanceLine::set_speed()</a>, <a class="el" href="../../#l00170">Slic3r::BoundingBoxBase&lt; PointClass &gt;::size()</a>, <a class="el" href="../../#l00041">Slic3r::MultiPoint::size()</a>, <a class="el" href="../../#l01411">Slic3r::sort_object_instances_by_model_order()</a>, <a class="el" href="../../#l00214">Slic3r::support_material_flow()</a>, <a class="el" href="../../#l00540">Slic3r::PrintBase::throw_if_canceled()</a>, <a class="el" href="../../#l00600">Slic3r::WipeTowerData::tool_changes</a>, <a class="el" href="../../#l00779">Slic3r::Print::tool_ordering()</a>, <a class="el" href="../../#l00635">Slic3r::PrintStatistics::total_cost</a>, <a class="el" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a9d0a157d06bdfad05bc6822a9a1c8071a8239e4b838b9895c8f8c6a93bebe431d">Slic3r::GCodeProcessor::Total_Layer_Number_Placeholder</a>, <a class="el" href="../../#l00636">Slic3r::PrintStatistics::total_toolchanges</a>, <a class="el" href="../../#l00637">Slic3r::PrintStatistics::total_weight</a>, <a class="el" href="../../#l02086">Slic3r::Print::translate_to_print_space()</a>, <a class="el" href="../../#l00085">Slic3r::travel_point_1</a>, <a class="el" href="../../#l00086">Slic3r::travel_point_2</a>, <a class="el" href="../../#l00087">Slic3r::travel_point_3</a>, <a class="el" href="../../#l04432">travel_to()</a>, <a class="el" href="../../#l00473">Slic3r::GCodeWriter::travel_to_z()</a>, <a class="el" href="../../#l00113">Slic3r::unscale()</a>, <a class="el" href="../../#l00024">Slic3r::PrintBase::update_object_placeholders()</a>, <a class="el" href="../../#l01334">Slic3r::DoExport::update_print_stats_and_format_filament_stats()</a>, <a class="el" href="../../#l00270">Slic3r::GCodeWriter::update_progress()</a>, <a class="el" href="../../#l00088">Slic3r::PlaceholderParser::update_timestamp()</a>, <a class="el" href="../../#l00020">Slic3r::AvoidCrossingPerimeters::use_external_mp_once()</a>, <a class="el" href="../../#l00380">Slic3r::ConfigOptionVector&lt; T &gt;::values</a>, <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void()</a>, <a class="el" href="../../#l00061">Slic3r::Flow::width()</a>, <a class="el" href="../../#l02118">Slic3r::Print::wipe_tower_data()</a>, <a class="el" href="../../#l00548">WipeTowerIntegration</a>, <a class="el" href="../../#l00268">Slic3r::GCode::GCodeOutputStream::write()</a>, <a class="el" href="../../#l03906">Slic3r::GCode::GCodeOutputStream::write_format()</a>, <a class="el" href="../../#l03900">Slic3r::GCode::GCodeOutputStream::writeln()</a>, and <a class="el" href="../../#l00187">writer()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01068">do_export()</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_ad5ac0f44c2121cf8d09cc7fde2dae045_icgraph.svg" width="360" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a00f245d70e13592ac58559bd6779899e" name="a00f245d70e13592ac58559bd6779899e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00f245d70e13592ac58559bd6779899e">&#9670;&#160;</a></span>_encode_label_ids_to_base64()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string Slic3r::GCode::_encode_label_ids_to_base64 </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; size_t &gt;&#160;</td>
          <td class="paramname"><em>ids</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 4414</span>{</div>
<div class="line"><span class="lineno"> 4415</span>    assert(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7cc2e460b5902a6e8c64f064bb87f2ce">m_label_objects_ids</a>.size() &lt; 64);</div>
<div class="line"><span class="lineno"> 4416</span> </div>
<div class="line"><span class="lineno"> 4417</span>    <a class="code hl_typedef" href="../../db/dc9/_shiny_prereqs_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> bitset = 0;</div>
<div class="line"><span class="lineno"> 4418</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <span class="keywordtype">id</span> : ids) {</div>
<div class="line"><span class="lineno"> 4419</span>        <span class="keyword">auto</span> index = std::lower_bound(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7cc2e460b5902a6e8c64f064bb87f2ce">m_label_objects_ids</a>.begin(), <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7cc2e460b5902a6e8c64f064bb87f2ce">m_label_objects_ids</a>.end(), <span class="keywordtype">id</span>);</div>
<div class="line"><span class="lineno"> 4420</span>        <span class="keywordflow">if</span> (index != <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7cc2e460b5902a6e8c64f064bb87f2ce">m_label_objects_ids</a>.end() &amp;&amp; *index == <span class="keywordtype">id</span>)</div>
<div class="line"><span class="lineno"> 4421</span>            bitset |= (1ull &lt;&lt; (index - <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7cc2e460b5902a6e8c64f064bb87f2ce">m_label_objects_ids</a>.begin()));</div>
<div class="line"><span class="lineno"> 4422</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 4423</span>            <span class="keywordflow">throw</span> Slic3r::LogicError(<span class="stringliteral">&quot;Unknown label object id!&quot;</span>);</div>
<div class="line"><span class="lineno"> 4424</span>    }</div>
<div class="line"><span class="lineno"> 4425</span>    <span class="keywordflow">if</span> (bitset == 0)</div>
<div class="line"><span class="lineno"> 4426</span>        <span class="keywordflow">throw</span> Slic3r::LogicError(<span class="stringliteral">&quot;Label object id error!&quot;</span>);</div>
<div class="line"><span class="lineno"> 4427</span> </div>
<div class="line"><span class="lineno"> 4428</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ad462d3a41ec21f59bae0ba0eeba33e57">encodeBase64</a>(bitset);</div>
<div class="line"><span class="lineno"> 4429</span>}</div>
<div class="ttc" id="a_shiny_prereqs_8h_html_aec6fcb673ff035718c238c8c9d544c47"><div class="ttname"><a href="../../db/dc9/_shiny_prereqs_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a></div><div class="ttdeci">unsigned __int64 uint64_t</div><div class="ttdef"><b>Definition</b> ShinyPrereqs.h:123</div></div>
<div class="ttc" id="anamespace_slic3r_html_ad462d3a41ec21f59bae0ba0eeba33e57"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#ad462d3a41ec21f59bae0ba0eeba33e57">Slic3r::encodeBase64</a></div><div class="ttdeci">std::string encodeBase64(uint64_t value)</div><div class="ttdef"><b>Definition</b> GCode.cpp:4400</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l04400">Slic3r::encodeBase64()</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_a00f245d70e13592ac58559bd6779899e_cgraph.svg" width="368" height="68"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ab5898ee27f28f0f3f8ea23390fc67de0" name="ab5898ee27f28f0f3f8ea23390fc67de0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5898ee27f28f0f3f8ea23390fc67de0">&#9670;&#160;</a></span>_extrude()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string Slic3r::GCode::_extrude </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d7/dbc/class_slic3r_1_1_extrusion_path.html">ExtrusionPath</a> &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>description</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>speed</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3948</span>{</div>
<div class="line"><span class="lineno"> 3949</span>    std::string <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a>;</div>
<div class="line"><span class="lineno"> 3950</span> </div>
<div class="line"><span class="lineno"> 3951</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a5df3c439676e1479c1a0c7a679617cba">is_bridge</a>(path.role()))</div>
<div class="line"><span class="lineno"> 3952</span>        description += <span class="stringliteral">&quot; (bridge)&quot;</span>;</div>
<div class="line"><span class="lineno"> 3953</span> </div>
<div class="line"><span class="lineno"> 3954</span>    <span class="comment">// go to first point of extrusion path</span></div>
<div class="line"><span class="lineno"> 3955</span>    <span class="comment">//BBS: path.first_point is 2D point. But in lazy raise case, lift z is done in travel_to function.</span></div>
<div class="line"><span class="lineno"> 3956</span>    <span class="comment">//Add m_need_change_layer_lift_z when change_layer in case of no lift if m_last_pos is equal to path.first_point() by chance</span></div>
<div class="line"><span class="lineno"> 3957</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad0b034df0dd1775d1b0d7b04f7a44c9c">m_last_pos_defined</a> || <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a5b7aecf69aa0fce6b42cd1d6b5792e1a">m_last_pos</a> != path.first_point() || <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ac941272774cc4dbab332f22d1141f627">m_need_change_layer_lift_z</a>) {</div>
<div class="line"><span class="lineno"> 3958</span>        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a6d246cfdea1c2e9be90f89b59e015ce3">travel_to</a>(</div>
<div class="line"><span class="lineno"> 3959</span>            path.first_point(),</div>
<div class="line"><span class="lineno"> 3960</span>            path.role(),</div>
<div class="line"><span class="lineno"> 3961</span>            <span class="stringliteral">&quot;move to first &quot;</span> + description + <span class="stringliteral">&quot; point&quot;</span></div>
<div class="line"><span class="lineno"> 3962</span>        );</div>
<div class="line"><span class="lineno"> 3963</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ac941272774cc4dbab332f22d1141f627">m_need_change_layer_lift_z</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3964</span>    }</div>
<div class="line"><span class="lineno"> 3965</span> </div>
<div class="line"><span class="lineno"> 3966</span>    <span class="comment">// if needed, write the gcode_label_objects_end then gcode_label_objects_start</span></div>
<div class="line"><span class="lineno"> 3967</span>    <span class="comment">// should be already done by travel_to, but just in case</span></div>
<div class="line"><span class="lineno"> 3968</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#ae25537c5912061af6fbee6f4cbcc9066">add_object_change_labels</a>(gcode);</div>
<div class="line"><span class="lineno"> 3969</span> </div>
<div class="line"><span class="lineno"> 3970</span>    <span class="comment">// compensate retraction</span></div>
<div class="line"><span class="lineno"> 3971</span>    <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#af816f73f41514944c38bf6b59406b73f">unretract</a>();</div>
<div class="line"><span class="lineno"> 3972</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.apply(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a11c37e89f776408db490f8843d138b03">m_calib_config</a>);</div>
<div class="line"><span class="lineno"> 3973</span>    <span class="comment">// adjust acceleration</span></div>
<div class="line"><span class="lineno"> 3974</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.default_acceleration.value &gt; 0) {</div>
<div class="line"><span class="lineno"> 3975</span>        <span class="keywordtype">double</span> acceleration;</div>
<div class="line"><span class="lineno"> 3976</span>        <span class="keywordflow">if</span> (this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae0eab7dd774297f8da8384a066920011">on_first_layer</a>() &amp;&amp; <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.initial_layer_acceleration.value &gt; 0) {</div>
<div class="line"><span class="lineno"> 3977</span>            acceleration = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.initial_layer_acceleration.value;</div>
<div class="line"><span class="lineno"> 3978</span><span class="preprocessor">#if 0</span></div>
<div class="line"><span class="lineno"> 3979</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a147ab3f76f3107c846eb2a48a97e74ea">object_layer_over_raft</a>() &amp;&amp; <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.first_layer_acceleration_over_raft.value &gt; 0) {</div>
<div class="line"><span class="lineno"> 3980</span>            acceleration = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.first_layer_acceleration_over_raft.value;</div>
<div class="line"><span class="lineno"> 3981</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 3982</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.get_abs_value(<span class="stringliteral">&quot;bridge_acceleration&quot;</span>) &gt; 0 &amp;&amp; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a5df3c439676e1479c1a0c7a679617cba">is_bridge</a>(path.role())) {</div>
<div class="line"><span class="lineno"> 3983</span>            acceleration = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.get_abs_value(<span class="stringliteral">&quot;bridge_acceleration&quot;</span>);</div>
<div class="line"><span class="lineno"> 3984</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.get_abs_value(<span class="stringliteral">&quot;sparse_infill_acceleration&quot;</span>) &gt; 0 &amp;&amp; (path.role() == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6afba035fe5ebfa2e2fd1ec715d38569e9">erInternalInfill</a>)) {</div>
<div class="line"><span class="lineno"> 3985</span>            acceleration = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.get_abs_value(<span class="stringliteral">&quot;sparse_infill_acceleration&quot;</span>);</div>
<div class="line"><span class="lineno"> 3986</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.get_abs_value(<span class="stringliteral">&quot;internal_solid_infill_acceleration&quot;</span>) &gt; 0 &amp;&amp; (path.role() == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a80b4fbab901060d3195eeaf6e5598f86">erSolidInfill</a>)) {</div>
<div class="line"><span class="lineno"> 3987</span>            acceleration = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.get_abs_value(<span class="stringliteral">&quot;internal_solid_infill_acceleration&quot;</span>);</div>
<div class="line"><span class="lineno"> 3988</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.outer_wall_acceleration.value &gt; 0 &amp;&amp; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a65afdeb7754aebb91af0d6d5675958fb">is_external_perimeter</a>(path.role())) {</div>
<div class="line"><span class="lineno"> 3989</span>            acceleration = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.outer_wall_acceleration.value;</div>
<div class="line"><span class="lineno"> 3990</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.inner_wall_acceleration.value &gt; 0 &amp;&amp; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a4bd61cea234d3725ba3ca75b1768bc7b">is_internal_perimeter</a>(path.role())) {</div>
<div class="line"><span class="lineno"> 3991</span>            acceleration = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.inner_wall_acceleration.value;</div>
<div class="line"><span class="lineno"> 3992</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.top_surface_acceleration.value &gt; 0 &amp;&amp; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a05a955e1f53e21174bdb47180cde40b7">is_top_surface</a>(path.role())) {</div>
<div class="line"><span class="lineno"> 3993</span>            acceleration = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.top_surface_acceleration.value;</div>
<div class="line"><span class="lineno"> 3994</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3995</span>            acceleration = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.default_acceleration.value;</div>
<div class="line"><span class="lineno"> 3996</span>        }</div>
<div class="line"><span class="lineno"> 3997</span>        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a32de57050284efca595c97b3c45c440c">set_acceleration</a>((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a3230e10964844c34fb73eaccc84dc8a7">floor</a>(acceleration + 0.5));</div>
<div class="line"><span class="lineno"> 3998</span>    }</div>
<div class="line"><span class="lineno"> 3999</span> </div>
<div class="line"><span class="lineno"> 4000</span>    <span class="comment">// adjust X Y jerk</span></div>
<div class="line"><span class="lineno"> 4001</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.default_jerk.value &gt; 0) {</div>
<div class="line"><span class="lineno"> 4002</span>        <span class="keywordtype">double</span> jerk;</div>
<div class="line"><span class="lineno"> 4003</span>        <span class="keywordflow">if</span> (this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae0eab7dd774297f8da8384a066920011">on_first_layer</a>() &amp;&amp; <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.initial_layer_jerk.value &gt; 0) {</div>
<div class="line"><span class="lineno"> 4004</span>            jerk = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.initial_layer_jerk.value;</div>
<div class="line"><span class="lineno"> 4005</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.outer_wall_jerk.value &gt; 0 &amp;&amp; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a65afdeb7754aebb91af0d6d5675958fb">is_external_perimeter</a>(path.role())) {</div>
<div class="line"><span class="lineno"> 4006</span>             jerk = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.outer_wall_jerk.value;</div>
<div class="line"><span class="lineno"> 4007</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.inner_wall_jerk.value &gt; 0 &amp;&amp; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a4bd61cea234d3725ba3ca75b1768bc7b">is_internal_perimeter</a>(path.role())) {</div>
<div class="line"><span class="lineno"> 4008</span>            jerk = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.inner_wall_jerk.value;</div>
<div class="line"><span class="lineno"> 4009</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.top_surface_jerk.value &gt; 0 &amp;&amp; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a05a955e1f53e21174bdb47180cde40b7">is_top_surface</a>(path.role())) {</div>
<div class="line"><span class="lineno"> 4010</span>            jerk = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.top_surface_jerk.value;</div>
<div class="line"><span class="lineno"> 4011</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.infill_jerk.value &gt; 0 &amp;&amp; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a38755f4172b7ef8f5ae07092a82ee173">is_infill</a>(path.role())) {</div>
<div class="line"><span class="lineno"> 4012</span>            jerk = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.infill_jerk.value;</div>
<div class="line"><span class="lineno"> 4013</span>        }</div>
<div class="line"><span class="lineno"> 4014</span>        <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4015</span>            jerk = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.default_jerk.value;</div>
<div class="line"><span class="lineno"> 4016</span>        }</div>
<div class="line"><span class="lineno"> 4017</span>        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a57729a6fee38d4e9b675c8cf4d693217">set_jerk_xy</a>(jerk);</div>
<div class="line"><span class="lineno"> 4018</span>    }</div>
<div class="line"><span class="lineno"> 4019</span> </div>
<div class="line"><span class="lineno"> 4020</span>    <span class="comment">// calculate extrusion length per distance unit</span></div>
<div class="line"><span class="lineno"> 4021</span>    <span class="keyword">auto</span> _mm3_per_mm = path.mm3_per_mm * this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a>().print_flow_ratio;</div>
<div class="line"><span class="lineno"> 4022</span>    <span class="keywordflow">if</span> (path.role() == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6ac3c1a101706cad2daa9c8a39e6eb5114">erTopSolidInfill</a>)</div>
<div class="line"><span class="lineno"> 4023</span>        _mm3_per_mm *= <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.top_solid_infill_flow_ratio;</div>
<div class="line"><span class="lineno"> 4024</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (path.role() == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a279ab5ace1cdf7fad0b58df8fe492fb0">erBottomSurface</a>)</div>
<div class="line"><span class="lineno"> 4025</span>        _mm3_per_mm *= <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.bottom_solid_infill_flow_ratio;</div>
<div class="line"><span class="lineno"> 4026</span> </div>
<div class="line"><span class="lineno"> 4027</span> </div>
<div class="line"><span class="lineno"> 4028</span>    <span class="keywordtype">double</span> e_per_mm = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a137976bad3f65c066e5b809944eb34f1">extruder</a>()-&gt;<a class="code hl_function" href="../../d3/dff/class_slic3r_1_1_extruder.html#a216ae93122c5de3ce31a5b8b0121b880">e_per_mm3</a>() * _mm3_per_mm;</div>
<div class="line"><span class="lineno"> 4029</span> </div>
<div class="line"><span class="lineno"> 4030</span>    <span class="keywordtype">double</span> min_speed = double(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.slow_down_min_speed.get_at(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a137976bad3f65c066e5b809944eb34f1">extruder</a>()-&gt;<a class="code hl_function" href="../../d3/dff/class_slic3r_1_1_extruder.html#af77adad3aa6eceb96658f87d95af6770">id</a>()));</div>
<div class="line"><span class="lineno"> 4031</span>    <span class="comment">// set speed</span></div>
<div class="line"><span class="lineno"> 4032</span>    <span class="keywordflow">if</span> (speed == -1) {</div>
<div class="line"><span class="lineno"> 4033</span>        <span class="keywordtype">int</span> overhang_degree = path.get_overhang_degree();</div>
<div class="line"><span class="lineno"> 4034</span>        <span class="keywordflow">if</span> (path.role() == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6ae32f98111112cc6b4543d4d6335ff11c">erPerimeter</a>) {</div>
<div class="line"><span class="lineno"> 4035</span>            speed = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.get_abs_value(<span class="stringliteral">&quot;inner_wall_speed&quot;</span>);</div>
<div class="line"><span class="lineno"> 4036</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.overhang_speed_classic.value &amp;&amp; <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.enable_overhang_speed.value &amp;&amp; overhang_degree &gt; 0 &amp;&amp;</div>
<div class="line"><span class="lineno"> 4037</span>                overhang_degree &lt;= 5) {</div>
<div class="line"><span class="lineno"> 4038</span>                <span class="keywordtype">double</span> new_speed = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.get_abs_value(<a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a53abaa153e7f66d914c1895bc8373ea2">overhang_speed_key_map</a>[overhang_degree].c_str());</div>
<div class="line"><span class="lineno"> 4039</span>                speed = new_speed == 0.0 ? speed : new_speed;</div>
<div class="line"><span class="lineno"> 4040</span>            }</div>
<div class="line"><span class="lineno"> 4041</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (path.role() == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a2a39cf7d4bc3b5fab08dedbf4e6ed20a">erExternalPerimeter</a>) {</div>
<div class="line"><span class="lineno"> 4042</span>            speed = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.get_abs_value(<span class="stringliteral">&quot;outer_wall_speed&quot;</span>);</div>
<div class="line"><span class="lineno"> 4043</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.overhang_speed_classic.value &amp;&amp; <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.enable_overhang_speed.value &amp;&amp;</div>
<div class="line"><span class="lineno"> 4044</span>                overhang_degree &gt; 0 &amp;&amp; overhang_degree &lt;= 5) {</div>
<div class="line"><span class="lineno"> 4045</span>                <span class="keywordtype">double</span> new_speed = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.get_abs_value(<a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a53abaa153e7f66d914c1895bc8373ea2">overhang_speed_key_map</a>[overhang_degree].c_str());</div>
<div class="line"><span class="lineno"> 4046</span>                speed = new_speed == 0.0 ? speed : new_speed;</div>
<div class="line"><span class="lineno"> 4047</span>            }</div>
<div class="line"><span class="lineno"> 4048</span>        } </div>
<div class="line"><span class="lineno"> 4049</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(path.role() == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6aa4a3c629cdaac53f817ee9c27bcf0393">erInternalBridgeInfill</a>) {</div>
<div class="line"><span class="lineno"> 4050</span>            speed = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.get_abs_value(<span class="stringliteral">&quot;internal_bridge_speed&quot;</span>);</div>
<div class="line"><span class="lineno"> 4051</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (path.role() == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6adcadd76a13499d0bb89874683b76f838">erOverhangPerimeter</a> || path.role() == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6aca09505cfc31ed63c20afdb3f988271a">erSupportTransition</a> || path.role() == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a94c553994093636228d5b6d97be22a02">erBridgeInfill</a>) {</div>
<div class="line"><span class="lineno"> 4052</span>            speed = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.get_abs_value(<span class="stringliteral">&quot;bridge_speed&quot;</span>);</div>
<div class="line"><span class="lineno"> 4053</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (path.role() == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6afba035fe5ebfa2e2fd1ec715d38569e9">erInternalInfill</a>) {</div>
<div class="line"><span class="lineno"> 4054</span>            speed = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.get_abs_value(<span class="stringliteral">&quot;sparse_infill_speed&quot;</span>);</div>
<div class="line"><span class="lineno"> 4055</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (path.role() == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a80b4fbab901060d3195eeaf6e5598f86">erSolidInfill</a>) {</div>
<div class="line"><span class="lineno"> 4056</span>            speed = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.get_abs_value(<span class="stringliteral">&quot;internal_solid_infill_speed&quot;</span>);</div>
<div class="line"><span class="lineno"> 4057</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (path.role() == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6ac3c1a101706cad2daa9c8a39e6eb5114">erTopSolidInfill</a>) {</div>
<div class="line"><span class="lineno"> 4058</span>            speed = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.get_abs_value(<span class="stringliteral">&quot;top_surface_speed&quot;</span>);</div>
<div class="line"><span class="lineno"> 4059</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (path.role() == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6ae18150a7edaed0a61320a34928a1c747">erIroning</a>) {</div>
<div class="line"><span class="lineno"> 4060</span>            speed = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.get_abs_value(<span class="stringliteral">&quot;ironing_speed&quot;</span>);</div>
<div class="line"><span class="lineno"> 4061</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (path.role() == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a279ab5ace1cdf7fad0b58df8fe492fb0">erBottomSurface</a>) {</div>
<div class="line"><span class="lineno"> 4062</span>            speed = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.get_abs_value(<span class="stringliteral">&quot;initial_layer_infill_speed&quot;</span>);</div>
<div class="line"><span class="lineno"> 4063</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (path.role() == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a5235a17407dbed28ec26227c7001b5e0">erGapFill</a>) {</div>
<div class="line"><span class="lineno"> 4064</span>            speed = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.get_abs_value(<span class="stringliteral">&quot;gap_infill_speed&quot;</span>);</div>
<div class="line"><span class="lineno"> 4065</span>        }</div>
<div class="line"><span class="lineno"> 4066</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (path.role() == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a667e5eb77b54b3867d5ddd7474bd2f1a">erSupportMaterial</a> ||</div>
<div class="line"><span class="lineno"> 4067</span>                 path.role() == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a54a07a476d1b976ab5ee4f95e80df634">erSupportMaterialInterface</a>) {</div>
<div class="line"><span class="lineno"> 4068</span>            <span class="keyword">const</span> <span class="keywordtype">double</span>  support_speed = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.support_speed.value;</div>
<div class="line"><span class="lineno"> 4069</span>            <span class="keyword">const</span> <span class="keywordtype">double</span>  support_interface_speed = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.get_abs_value(<span class="stringliteral">&quot;support_interface_speed&quot;</span>);</div>
<div class="line"><span class="lineno"> 4070</span>            speed = (path.role() == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a667e5eb77b54b3867d5ddd7474bd2f1a">erSupportMaterial</a>) ? support_speed : support_interface_speed;</div>
<div class="line"><span class="lineno"> 4071</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4072</span>            <span class="keywordflow">throw</span> Slic3r::InvalidArgument(<span class="stringliteral">&quot;Invalid speed&quot;</span>);</div>
<div class="line"><span class="lineno"> 4073</span>        }</div>
<div class="line"><span class="lineno"> 4074</span>    }</div>
<div class="line"><span class="lineno"> 4075</span>    <span class="comment">//BBS: if not set the speed, then use the filament_max_volumetric_speed directly</span></div>
<div class="line"><span class="lineno"> 4076</span>    <span class="keywordflow">if</span> (speed == 0)</div>
<div class="line"><span class="lineno"> 4077</span>        speed = <a class="code hl_define" href="../../df/d40/_g_code_8cpp.html#a2dec0e9fe2fb1c9e3862bc3fd4b2d911">EXTRUDER_CONFIG</a>(filament_max_volumetric_speed) / _mm3_per_mm;</div>
<div class="line"><span class="lineno"> 4078</span>    <span class="keywordflow">if</span> (this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae0eab7dd774297f8da8384a066920011">on_first_layer</a>()) {</div>
<div class="line"><span class="lineno"> 4079</span>        <span class="comment">//BBS: for solid infill of initial layer, speed can be higher as long as</span></div>
<div class="line"><span class="lineno"> 4080</span>        <span class="comment">//wall lines have be attached</span></div>
<div class="line"><span class="lineno"> 4081</span>        <span class="keywordflow">if</span> (path.role() != <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a279ab5ace1cdf7fad0b58df8fe492fb0">erBottomSurface</a>)</div>
<div class="line"><span class="lineno"> 4082</span>            speed = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.get_abs_value(<span class="stringliteral">&quot;initial_layer_speed&quot;</span>);</div>
<div class="line"><span class="lineno"> 4083</span>    }</div>
<div class="line"><span class="lineno"> 4084</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.slow_down_layers &gt; 1){</div>
<div class="line"><span class="lineno"> 4085</span>        <span class="keyword">const</span> <span class="keyword">auto</span> _layer = <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#adce8c2fd712ff6d0b9b1e3c9cfb6195d">layer_id</a>() + 1;</div>
<div class="line"><span class="lineno"> 4086</span>        <span class="keywordflow">if</span> (_layer &gt; 0 &amp;&amp; _layer &lt; <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.slow_down_layers) {</div>
<div class="line"><span class="lineno"> 4087</span>            <span class="keyword">const</span> <span class="keyword">auto</span> first_layer_speed =</div>
<div class="line"><span class="lineno"> 4088</span>                <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a784249b30e7f6d5bcc431b8db8106ed0">is_perimeter</a>(path.role())</div>
<div class="line"><span class="lineno"> 4089</span>                    ? <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.get_abs_value(<span class="stringliteral">&quot;initial_layer_speed&quot;</span>)</div>
<div class="line"><span class="lineno"> 4090</span>                    : <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.get_abs_value(<span class="stringliteral">&quot;initial_layer_infill_speed&quot;</span>);</div>
<div class="line"><span class="lineno"> 4091</span>            <span class="keywordflow">if</span> (first_layer_speed &lt; speed) {</div>
<div class="line"><span class="lineno"> 4092</span>                speed = std::min(</div>
<div class="line"><span class="lineno"> 4093</span>                    speed,</div>
<div class="line"><span class="lineno"> 4094</span>                    <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a3c27e47c663962486e5ce6cbebf0d361">Slic3r::lerp</a>(first_layer_speed, speed,</div>
<div class="line"><span class="lineno"> 4095</span>                                 (<span class="keywordtype">double</span>)_layer / <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.slow_down_layers));</div>
<div class="line"><span class="lineno"> 4096</span>            }</div>
<div class="line"><span class="lineno"> 4097</span>        }</div>
<div class="line"><span class="lineno"> 4098</span>    }</div>
<div class="line"><span class="lineno"> 4099</span>    <span class="comment">// Override skirt speed if set</span></div>
<div class="line"><span class="lineno"> 4100</span>    <span class="keywordflow">if</span> (path.role() == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6ac9c70bc83384e07222ab7a852f5d906c">erSkirt</a>) {</div>
<div class="line"><span class="lineno"> 4101</span>        <span class="keyword">const</span> <span class="keywordtype">double</span> skirt_speed = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.get_abs_value(<span class="stringliteral">&quot;skirt_speed&quot;</span>);</div>
<div class="line"><span class="lineno"> 4102</span>        <span class="keywordflow">if</span> (skirt_speed &gt; 0.0)</div>
<div class="line"><span class="lineno"> 4103</span>        speed = skirt_speed;</div>
<div class="line"><span class="lineno"> 4104</span>    }</div>
<div class="line"><span class="lineno"> 4105</span>    <span class="comment">//BBS: remove this config</span></div>
<div class="line"><span class="lineno"> 4106</span>    <span class="comment">//else if (this-&gt;object_layer_over_raft())</span></div>
<div class="line"><span class="lineno"> 4107</span>    <span class="comment">//    speed = m_config.get_abs_value(&quot;first_layer_speed_over_raft&quot;, speed);</span></div>
<div class="line"><span class="lineno"> 4108</span>    <span class="comment">//if (m_config.max_volumetric_speed.value &gt; 0) {</span></div>
<div class="line"><span class="lineno"> 4109</span>    <span class="comment">//    // cap speed with max_volumetric_speed anyway (even if user is not using autospeed)</span></div>
<div class="line"><span class="lineno"> 4110</span>    <span class="comment">//    speed = std::min(</span></div>
<div class="line"><span class="lineno"> 4111</span>    <span class="comment">//        speed,</span></div>
<div class="line"><span class="lineno"> 4112</span>    <span class="comment">//        m_config.max_volumetric_speed.value / _mm3_per_mm</span></div>
<div class="line"><span class="lineno"> 4113</span>    <span class="comment">//    );</span></div>
<div class="line"><span class="lineno"> 4114</span>    <span class="comment">//}</span></div>
<div class="line"><span class="lineno"> 4115</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="../../df/d40/_g_code_8cpp.html#a2dec0e9fe2fb1c9e3862bc3fd4b2d911">EXTRUDER_CONFIG</a>(filament_max_volumetric_speed) &gt; 0) {</div>
<div class="line"><span class="lineno"> 4116</span>        <span class="comment">// cap speed with max_volumetric_speed anyway (even if user is not using autospeed)</span></div>
<div class="line"><span class="lineno"> 4117</span>        speed = std::min(</div>
<div class="line"><span class="lineno"> 4118</span>            speed,</div>
<div class="line"><span class="lineno"> 4119</span>            <a class="code hl_define" href="../../df/d40/_g_code_8cpp.html#a2dec0e9fe2fb1c9e3862bc3fd4b2d911">EXTRUDER_CONFIG</a>(filament_max_volumetric_speed) / _mm3_per_mm</div>
<div class="line"><span class="lineno"> 4120</span>        );</div>
<div class="line"><span class="lineno"> 4121</span>    }</div>
<div class="line"><span class="lineno"> 4122</span> </div>
<div class="line"><span class="lineno"> 4123</span>    </div>
<div class="line"><span class="lineno"> 4124</span>    <span class="keywordtype">bool</span> variable_speed = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 4125</span>    std::vector&lt;ProcessedPoint&gt; new_points {};</div>
<div class="line"><span class="lineno"> 4126</span> </div>
<div class="line"><span class="lineno"> 4127</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.enable_overhang_speed &amp;&amp; !<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.overhang_speed_classic &amp;&amp; !this-&gt;on_first_layer() &amp;&amp;</div>
<div class="line"><span class="lineno"> 4128</span>        (<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a5df3c439676e1479c1a0c7a679617cba">is_bridge</a>(path.role()) || <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a784249b30e7f6d5bcc431b8db8106ed0">is_perimeter</a>(path.role()))) {</div>
<div class="line"><span class="lineno"> 4129</span>        <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a32405ff02c3f20cdd02afb2c547bd67d">ConfigOptionPercents</a> overhang_overlap_levels({75, 50, 25, 13,12.99,0});</div>
<div class="line"><span class="lineno"> 4130</span>        <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a0949e17511c6ffa81c07a553cc6c2a8e">ConfigOptionFloatsOrPercents</a> dynamic_overhang_speeds(</div>
<div class="line"><span class="lineno"> 4131</span>            {(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.get_abs_value(<span class="stringliteral">&quot;overhang_1_4_speed&quot;</span>) &lt; 0.5)</div>
<div class="line"><span class="lineno"> 4132</span>                 ? FloatOrPercent{100, <span class="keyword">true</span>}</div>
<div class="line"><span class="lineno"> 4133</span>                 : FloatOrPercent{<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.get_abs_value(<span class="stringliteral">&quot;overhang_1_4_speed&quot;</span>), <span class="keyword">false</span>},</div>
<div class="line"><span class="lineno"> 4134</span>             (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.get_abs_value(<span class="stringliteral">&quot;overhang_2_4_speed&quot;</span>) &lt; 0.5)</div>
<div class="line"><span class="lineno"> 4135</span>                 ? FloatOrPercent{100, <span class="keyword">true</span>}</div>
<div class="line"><span class="lineno"> 4136</span>                 : FloatOrPercent{<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.get_abs_value(<span class="stringliteral">&quot;overhang_2_4_speed&quot;</span>), <span class="keyword">false</span>},</div>
<div class="line"><span class="lineno"> 4137</span>             (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.get_abs_value(<span class="stringliteral">&quot;overhang_3_4_speed&quot;</span>) &lt; 0.5)</div>
<div class="line"><span class="lineno"> 4138</span>                 ? FloatOrPercent{100, <span class="keyword">true</span>}</div>
<div class="line"><span class="lineno"> 4139</span>                 : FloatOrPercent{<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.get_abs_value(<span class="stringliteral">&quot;overhang_3_4_speed&quot;</span>), <span class="keyword">false</span>},</div>
<div class="line"><span class="lineno"> 4140</span>             (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.get_abs_value(<span class="stringliteral">&quot;overhang_4_4_speed&quot;</span>) &lt; 0.5)</div>
<div class="line"><span class="lineno"> 4141</span>                 ? FloatOrPercent{100, <span class="keyword">true</span>}</div>
<div class="line"><span class="lineno"> 4142</span>                 : FloatOrPercent{<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.get_abs_value(<span class="stringliteral">&quot;overhang_4_4_speed&quot;</span>), <span class="keyword">false</span>},</div>
<div class="line"><span class="lineno"> 4143</span>             FloatOrPercent{<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.get_abs_value(<span class="stringliteral">&quot;bridge_speed&quot;</span>), <span class="keyword">false</span>},</div>
<div class="line"><span class="lineno"> 4144</span>             FloatOrPercent{<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.get_abs_value(<span class="stringliteral">&quot;bridge_speed&quot;</span>), <span class="keyword">false</span>}});</div>
<div class="line"><span class="lineno"> 4145</span> </div>
<div class="line"><span class="lineno"> 4146</span>        new_points = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a8398430e2866a9c8219fca25dbed0cf6">m_extrusion_quality_estimator</a>.<a class="code hl_function" href="../../d5/d3b/class_slic3r_1_1_extrusion_quality_estimator.html#a917ea0d8b78a3795808a9d1f06697669">estimate_extrusion_quality</a>(</div>
<div class="line"><span class="lineno"> 4147</span>            path, overhang_overlap_levels, dynamic_overhang_speeds, <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.get_abs_value(<span class="stringliteral">&quot;outer_wall_speed&quot;</span>), speed);</div>
<div class="line"><span class="lineno"> 4148</span> </div>
<div class="line"><span class="lineno"> 4149</span>        variable_speed = std::any_of(new_points.begin(), new_points.end(),</div>
<div class="line"><span class="lineno"> 4150</span>                                     [speed](<span class="keyword">const</span> ProcessedPoint &amp;p) { return p.speed != speed; });</div>
<div class="line"><span class="lineno"> 4151</span>    }</div>
<div class="line"><span class="lineno"> 4152</span> </div>
<div class="line"><span class="lineno"> 4153</span>    <span class="keywordtype">double</span> <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#aec0518765dd6991c31ac6c40872edef8a7dcd89c611483815bf304b3ed6c1e4ad">F</a> = speed * 60;  <span class="comment">// convert mm/sec to mm/min</span></div>
<div class="line"><span class="lineno"> 4154</span> </div>
<div class="line"><span class="lineno"> 4155</span>    <span class="comment">// extrude arc or line</span></div>
<div class="line"><span class="lineno"> 4156</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a5fdf35b1723c68a5955558aa880ab9b9">m_enable_extrusion_role_markers</a>) {</div>
<div class="line"><span class="lineno"> 4157</span>        <span class="keywordflow">if</span> (path.role() != <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7c86826971245bdbc60cab735c44c3d0">m_last_extrusion_role</a>) {</div>
<div class="line"><span class="lineno"> 4158</span>            <span class="keywordtype">char</span> buf[32];</div>
<div class="line"><span class="lineno"> 4159</span>            sprintf(buf, <span class="stringliteral">&quot;;_EXTRUSION_ROLE:%d\n&quot;</span>, <span class="keywordtype">int</span>(path.role()));</div>
<div class="line"><span class="lineno"> 4160</span>            <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += buf;</div>
<div class="line"><span class="lineno"> 4161</span>      }</div>
<div class="line"><span class="lineno"> 4162</span>    }</div>
<div class="line"><span class="lineno"> 4163</span> </div>
<div class="line"><span class="lineno"> 4164</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7c86826971245bdbc60cab735c44c3d0">m_last_extrusion_role</a> = path.role();</div>
<div class="line"><span class="lineno"> 4165</span> </div>
<div class="line"><span class="lineno"> 4166</span>    <span class="comment">// adds processor tags and updates processor tracking data</span></div>
<div class="line"><span class="lineno"> 4167</span>    <span class="comment">// PrusaMultiMaterial::Writer may generate GCodeProcessor::Height_Tag lines without updating m_last_height</span></div>
<div class="line"><span class="lineno"> 4168</span>    <span class="comment">// so, if the last role was erWipeTower we force export of GCodeProcessor::Height_Tag lines</span></div>
<div class="line"><span class="lineno"> 4169</span>    <span class="keywordtype">bool</span> last_was_wipe_tower = (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7f4a6b2a5c2405ec1ac57210e107289c">m_last_processor_extrusion_role</a> == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a7d25aa5d5ddc2d07b7bb31d62f90df3c">erWipeTower</a>);</div>
<div class="line"><span class="lineno"> 4170</span>    <span class="keywordtype">char</span> buf[64];</div>
<div class="line"><span class="lineno"> 4171</span>    assert(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7fc4c0f61833ab1abb7195cd75463e56">is_decimal_separator_point</a>());</div>
<div class="line"><span class="lineno"> 4172</span> </div>
<div class="line"><span class="lineno"> 4173</span>    <span class="keywordflow">if</span> (path.role() != <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7f4a6b2a5c2405ec1ac57210e107289c">m_last_processor_extrusion_role</a>) {</div>
<div class="line"><span class="lineno"> 4174</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7f4a6b2a5c2405ec1ac57210e107289c">m_last_processor_extrusion_role</a> = path.role();</div>
<div class="line"><span class="lineno"> 4175</span>        sprintf(buf, <span class="stringliteral">&quot;;%s%s\n&quot;</span>, <a class="code hl_function" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a44451e44902b601a9885339440174bb2">GCodeProcessor::reserved_tag</a>(<a class="code hl_enumvalue" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a9d0a157d06bdfad05bc6822a9a1c8071abbbabdbe1b262f75d99d62880b953be1">GCodeProcessor::ETags::Role</a>).c_str(), <a class="code hl_function" href="../../de/d7c/class_slic3r_1_1_extrusion_entity.html#a536487f55b578cc247176b4da3dfe52b">ExtrusionEntity::role_to_string</a>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7f4a6b2a5c2405ec1ac57210e107289c">m_last_processor_extrusion_role</a>).c_str());</div>
<div class="line"><span class="lineno"> 4176</span>        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += buf;</div>
<div class="line"><span class="lineno"> 4177</span>    }</div>
<div class="line"><span class="lineno"> 4178</span> </div>
<div class="line"><span class="lineno"> 4179</span>    <span class="keywordflow">if</span> (last_was_wipe_tower || <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a8a4d8aaca5e07499fd1aca7946bdd817">m_last_width</a> != path.width) {</div>
<div class="line"><span class="lineno"> 4180</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a8a4d8aaca5e07499fd1aca7946bdd817">m_last_width</a> = path.width;</div>
<div class="line"><span class="lineno"> 4181</span>        sprintf(buf, <span class="stringliteral">&quot;;%s%g\n&quot;</span>, <a class="code hl_function" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a44451e44902b601a9885339440174bb2">GCodeProcessor::reserved_tag</a>(<a class="code hl_enumvalue" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a9d0a157d06bdfad05bc6822a9a1c8071a32954654ac8fe66a1d09be19001de2d4">GCodeProcessor::ETags::Width</a>).c_str(), <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a8a4d8aaca5e07499fd1aca7946bdd817">m_last_width</a>);</div>
<div class="line"><span class="lineno"> 4182</span>        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += buf;</div>
<div class="line"><span class="lineno"> 4183</span>    }</div>
<div class="line"><span class="lineno"> 4184</span> </div>
<div class="line"><span class="lineno"> 4185</span><span class="preprocessor">#if ENABLE_GCODE_VIEWER_DATA_CHECKING</span></div>
<div class="line"><span class="lineno"> 4186</span>    <span class="keywordflow">if</span> (last_was_wipe_tower || (m_last_mm3_per_mm != path.mm3_per_mm)) {</div>
<div class="line"><span class="lineno"> 4187</span>        m_last_mm3_per_mm = path.mm3_per_mm;</div>
<div class="line"><span class="lineno"> 4188</span>        sprintf(buf, <span class="stringliteral">&quot;;%s%f\n&quot;</span>, GCodeProcessor::Mm3_Per_Mm_Tag.c_str(), m_last_mm3_per_mm);</div>
<div class="line"><span class="lineno"> 4189</span>        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += buf;</div>
<div class="line"><span class="lineno"> 4190</span>    }</div>
<div class="line"><span class="lineno"> 4191</span><span class="preprocessor">#endif </span><span class="comment">// ENABLE_GCODE_VIEWER_DATA_CHECKING</span></div>
<div class="line"><span class="lineno"> 4192</span> </div>
<div class="line"><span class="lineno"> 4193</span>    <span class="keywordflow">if</span> (last_was_wipe_tower || std::abs(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a77216b94b9cba2d6e89710c1bd616674">m_last_height</a> - path.height) &gt; <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>) {</div>
<div class="line"><span class="lineno"> 4194</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a77216b94b9cba2d6e89710c1bd616674">m_last_height</a> = path.height;</div>
<div class="line"><span class="lineno"> 4195</span>        sprintf(buf, <span class="stringliteral">&quot;;%s%g\n&quot;</span>, <a class="code hl_function" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a44451e44902b601a9885339440174bb2">GCodeProcessor::reserved_tag</a>(<a class="code hl_enumvalue" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a9d0a157d06bdfad05bc6822a9a1c8071aeec6c4bdbd339edf8cbea68becb85244">GCodeProcessor::ETags::Height</a>).c_str(), <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a77216b94b9cba2d6e89710c1bd616674">m_last_height</a>);</div>
<div class="line"><span class="lineno"> 4196</span>        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += buf;</div>
<div class="line"><span class="lineno"> 4197</span>    }</div>
<div class="line"><span class="lineno"> 4198</span> </div>
<div class="line"><span class="lineno"> 4199</span>    <span class="keyword">auto</span> <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a91ca391d6bd983baad241518de21de41">overhang_fan_threshold</a> = <a class="code hl_define" href="../../df/d40/_g_code_8cpp.html#a2dec0e9fe2fb1c9e3862bc3fd4b2d911">EXTRUDER_CONFIG</a>(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a91ca391d6bd983baad241518de21de41">overhang_fan_threshold</a>);</div>
<div class="line"><span class="lineno"> 4200</span>    <span class="keyword">auto</span> <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a9968893dfdc7fdce25a7e5e77278e75c">enable_overhang_bridge_fan</a> = <a class="code hl_define" href="../../df/d40/_g_code_8cpp.html#a2dec0e9fe2fb1c9e3862bc3fd4b2d911">EXTRUDER_CONFIG</a>(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a9968893dfdc7fdce25a7e5e77278e75c">enable_overhang_bridge_fan</a>);</div>
<div class="line"><span class="lineno"> 4201</span>    </div>
<div class="line"><span class="lineno"> 4202</span>    <span class="keyword">auto</span> supp_interface_fan_speed = <a class="code hl_define" href="../../df/d40/_g_code_8cpp.html#a2dec0e9fe2fb1c9e3862bc3fd4b2d911">EXTRUDER_CONFIG</a>(support_material_interface_fan_speed);</div>
<div class="line"><span class="lineno"> 4203</span> </div>
<div class="line"><span class="lineno"> 4204</span> </div>
<div class="line"><span class="lineno"> 4205</span>    <span class="comment">//    { &quot;0%&quot;, Overhang_threshold_none },</span></div>
<div class="line"><span class="lineno"> 4206</span>    <span class="comment">//    { &quot;5%&quot;, Overhang_threshold_1_4 },</span></div>
<div class="line"><span class="lineno"> 4207</span>    <span class="comment">//    { &quot;25%&quot;, Overhang_threshold_2_4 },</span></div>
<div class="line"><span class="lineno"> 4208</span>    <span class="comment">//    { &quot;50%&quot;, Overhang_threshold_3_4 },</span></div>
<div class="line"><span class="lineno"> 4209</span>    <span class="comment">//    { &quot;75%&quot;, Overhang_threshold_4_4 },</span></div>
<div class="line"><span class="lineno"> 4210</span>    <span class="comment">//    { &quot;95%&quot;, Overhang_threshold_bridge }</span></div>
<div class="line"><span class="lineno"> 4211</span>    <span class="keyword">auto</span> check_overhang_fan = [&amp;<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a91ca391d6bd983baad241518de21de41">overhang_fan_threshold</a>](<span class="keywordtype">float</span> overlap) {</div>
<div class="line"><span class="lineno"> 4212</span>      <span class="keywordflow">switch</span> (<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a91ca391d6bd983baad241518de21de41">overhang_fan_threshold</a>) {</div>
<div class="line"><span class="lineno"> 4213</span>      <span class="keywordflow">case</span> (<span class="keywordtype">int</span>)<a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a5a138ca882891dda7df0165d09afbe5ba08a94e7019e8aa62375e4228591ad039">Overhang_threshold_1_4</a>:</div>
<div class="line"><span class="lineno"> 4214</span>        <span class="keywordflow">return</span> overlap &lt;= 0.95f;</div>
<div class="line"><span class="lineno"> 4215</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4216</span>      <span class="keywordflow">case</span> (<span class="keywordtype">int</span>)<a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a5a138ca882891dda7df0165d09afbe5ba3edb0d900ae8f0f5bf678bd7fd39c48f">Overhang_threshold_2_4</a>:</div>
<div class="line"><span class="lineno"> 4217</span>        <span class="keywordflow">return</span> overlap &lt;= 0.75f;</div>
<div class="line"><span class="lineno"> 4218</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4219</span>      <span class="keywordflow">case</span> (<span class="keywordtype">int</span>)<a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a5a138ca882891dda7df0165d09afbe5ba1fe8a4fa191c692e05c7de6f7223c67d">Overhang_threshold_3_4</a>:</div>
<div class="line"><span class="lineno"> 4220</span>        <span class="keywordflow">return</span> overlap &lt;= 0.5f;</div>
<div class="line"><span class="lineno"> 4221</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4222</span>      <span class="keywordflow">case</span> (<span class="keywordtype">int</span>)<a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a5a138ca882891dda7df0165d09afbe5ba0d25e2d88e2349a2635c8f6b23527fcc">Overhang_threshold_4_4</a>:</div>
<div class="line"><span class="lineno"> 4223</span>        <span class="keywordflow">return</span> overlap &lt;= 0.25f;</div>
<div class="line"><span class="lineno"> 4224</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4225</span>      <span class="keywordflow">case</span> (<span class="keywordtype">int</span>)<a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a5a138ca882891dda7df0165d09afbe5ba80a493b018ccff4ac425046a312e3140">Overhang_threshold_bridge</a>:</div>
<div class="line"><span class="lineno"> 4226</span>        <span class="keywordflow">return</span> overlap &lt;= 0.1f;</div>
<div class="line"><span class="lineno"> 4227</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4228</span>      <span class="keywordflow">case</span> (<span class="keywordtype">int</span>)<a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a5a138ca882891dda7df0165d09afbe5ba9b90e2e5a33d678a11acc07e749959d0">Overhang_threshold_none</a>:</div>
<div class="line"><span class="lineno"> 4229</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4230</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4231</span>      <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 4232</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 4233</span>      }</div>
<div class="line"><span class="lineno"> 4234</span>    };</div>
<div class="line"><span class="lineno"> 4235</span> </div>
<div class="line"><span class="lineno"> 4236</span>    std::string comment;</div>
<div class="line"><span class="lineno"> 4237</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a03533ee19695dc118af85304f49c752f">m_enable_cooling_markers</a>) {</div>
<div class="line"><span class="lineno"> 4238</span>        comment = <span class="stringliteral">&quot;;_EXTRUDE_SET_SPEED&quot;</span>;</div>
<div class="line"><span class="lineno"> 4239</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a65afdeb7754aebb91af0d6d5675958fb">is_external_perimeter</a>(path.role()))</div>
<div class="line"><span class="lineno"> 4240</span>            comment += <span class="stringliteral">&quot;;_EXTERNAL_PERIMETER&quot;</span>;</div>
<div class="line"><span class="lineno"> 4241</span>    }</div>
<div class="line"><span class="lineno"> 4242</span> </div>
<div class="line"><span class="lineno"> 4243</span>    <span class="keywordflow">if</span> (!variable_speed) {</div>
<div class="line"><span class="lineno"> 4244</span>        <span class="comment">// F is mm per minute.</span></div>
<div class="line"><span class="lineno"> 4245</span>        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#aa00139d491b6a9a36163a4337dc9630d">set_speed</a>(<a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#aec0518765dd6991c31ac6c40872edef8a7dcd89c611483815bf304b3ed6c1e4ad">F</a>, <span class="stringliteral">&quot;&quot;</span>, comment);</div>
<div class="line"><span class="lineno"> 4246</span>        <span class="keywordtype">double</span> path_length = 0.;</div>
<div class="line"><span class="lineno"> 4247</span>        {</div>
<div class="line"><span class="lineno"> 4248</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a03533ee19695dc118af85304f49c752f">m_enable_cooling_markers</a>) {</div>
<div class="line"><span class="lineno"> 4249</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a9968893dfdc7fdce25a7e5e77278e75c">enable_overhang_bridge_fan</a>) {</div>
<div class="line"><span class="lineno"> 4250</span>                    <span class="comment">// BBS: Overhang_threshold_none means Overhang_threshold_1_4 and forcing cooling for all external</span></div>
<div class="line"><span class="lineno"> 4251</span>                    <span class="comment">// perimeter</span></div>
<div class="line"><span class="lineno"> 4252</span>                    <span class="keywordtype">int</span> overhang_threshold = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a91ca391d6bd983baad241518de21de41">overhang_fan_threshold</a> == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a5a138ca882891dda7df0165d09afbe5ba9b90e2e5a33d678a11acc07e749959d0">Overhang_threshold_none</a> ? <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a5a138ca882891dda7df0165d09afbe5ba9b90e2e5a33d678a11acc07e749959d0">Overhang_threshold_none</a></div>
<div class="line"><span class="lineno"> 4253</span>                    : <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a91ca391d6bd983baad241518de21de41">overhang_fan_threshold</a> - 1;</div>
<div class="line"><span class="lineno"> 4254</span>                    <span class="keywordflow">if</span> ((<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a91ca391d6bd983baad241518de21de41">overhang_fan_threshold</a> == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a5a138ca882891dda7df0165d09afbe5ba9b90e2e5a33d678a11acc07e749959d0">Overhang_threshold_none</a> &amp;&amp; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a784249b30e7f6d5bcc431b8db8106ed0">is_perimeter</a>(path.role())) ||</div>
<div class="line"><span class="lineno"> 4255</span>                        (path.get_overhang_degree() &gt; overhang_threshold || <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a5df3c439676e1479c1a0c7a679617cba">is_bridge</a>(path.role()))) {</div>
<div class="line"><span class="lineno"> 4256</span>                        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ab9d8b02b166044e2f0311fbf566da416">m_is_overhang_fan_on</a>) {</div>
<div class="line"><span class="lineno"> 4257</span>                            <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <span class="stringliteral">&quot;;_OVERHANG_FAN_START\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 4258</span>                            <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ab9d8b02b166044e2f0311fbf566da416">m_is_overhang_fan_on</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4259</span>                        }</div>
<div class="line"><span class="lineno"> 4260</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4261</span>                        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ab9d8b02b166044e2f0311fbf566da416">m_is_overhang_fan_on</a>) {</div>
<div class="line"><span class="lineno"> 4262</span>                            <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ab9d8b02b166044e2f0311fbf566da416">m_is_overhang_fan_on</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 4263</span>                            <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <span class="stringliteral">&quot;;_OVERHANG_FAN_END\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 4264</span>                        }</div>
<div class="line"><span class="lineno"> 4265</span>                    }</div>
<div class="line"><span class="lineno"> 4266</span>                }</div>
<div class="line"><span class="lineno"> 4267</span>                <span class="keywordflow">if</span> (supp_interface_fan_speed &gt;= 0 &amp;&amp; path.role() == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a54a07a476d1b976ab5ee4f95e80df634">erSupportMaterialInterface</a>) {</div>
<div class="line"><span class="lineno"> 4268</span>                    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ac2af3222a6bc9941043eb2949bc42356">m_is_supp_interface_fan_on</a>) {</div>
<div class="line"><span class="lineno"> 4269</span>                        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <span class="stringliteral">&quot;;_SUPP_INTERFACE_FAN_START\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 4270</span>                        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ac2af3222a6bc9941043eb2949bc42356">m_is_supp_interface_fan_on</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4271</span>                    }</div>
<div class="line"><span class="lineno"> 4272</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4273</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ac2af3222a6bc9941043eb2949bc42356">m_is_supp_interface_fan_on</a>) {</div>
<div class="line"><span class="lineno"> 4274</span>                        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <span class="stringliteral">&quot;;_SUPP_INTERFACE_FAN_END\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 4275</span>                        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ac2af3222a6bc9941043eb2949bc42356">m_is_supp_interface_fan_on</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 4276</span>                    }</div>
<div class="line"><span class="lineno"> 4277</span>                }</div>
<div class="line"><span class="lineno"> 4278</span>            }</div>
<div class="line"><span class="lineno"> 4279</span>            <span class="comment">// BBS: use G1 if not enable arc fitting or has no arc fitting result or in spiral_mode mode</span></div>
<div class="line"><span class="lineno"> 4280</span>            <span class="comment">// Attention: G2 and G3 is not supported in spiral_mode mode</span></div>
<div class="line"><span class="lineno"> 4281</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.enable_arc_fitting || path.polyline.fitting_result.empty() || <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.spiral_mode) {</div>
<div class="line"><span class="lineno"> 4282</span>                <span class="keywordflow">for</span> (<span class="keyword">const</span> Line&amp; line : path.polyline.lines()) {</div>
<div class="line"><span class="lineno"> 4283</span>                    <span class="keyword">const</span> <span class="keywordtype">double</span> line_length = line.length() * <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#aa1dc7fe42e730dba79e786afc66e151f">SCALING_FACTOR</a>;</div>
<div class="line"><span class="lineno"> 4284</span>                    path_length += line_length;</div>
<div class="line"><span class="lineno"> 4285</span>                    <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a6f4047bafbb6187785ad1f9fbec8cc2d">extrude_to_xy</a>(</div>
<div class="line"><span class="lineno"> 4286</span>                        this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae69c3d88b0093b87f42cb2053dd52129">point_to_gcode</a>(line.b),</div>
<div class="line"><span class="lineno"> 4287</span>                        e_per_mm * line_length,</div>
<div class="line"><span class="lineno"> 4288</span>                        <a class="code hl_variable" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a253f1395c0746947f30e75174d5b5965">GCodeWriter::full_gcode_comment</a> ? description : <span class="stringliteral">&quot;&quot;</span>, path.is_force_no_extrusion());</div>
<div class="line"><span class="lineno"> 4289</span>                }</div>
<div class="line"><span class="lineno"> 4290</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4291</span>                <span class="comment">// BBS: start to generate gcode from arc fitting data which includes line and arc</span></div>
<div class="line"><span class="lineno"> 4292</span>                <span class="keyword">const</span> std::vector&lt;PathFittingData&gt;&amp; fitting_result = path.polyline.fitting_result;</div>
<div class="line"><span class="lineno"> 4293</span>                <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> fitting_index = 0; fitting_index &lt; fitting_result.size(); fitting_index++) {</div>
<div class="line"><span class="lineno"> 4294</span>                    <span class="keywordflow">switch</span> (fitting_result[fitting_index].path_type) {</div>
<div class="line"><span class="lineno"> 4295</span>                    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#ad3e4dc476425b90618febd7edd326743a62f6bc73555080c77550d30f9d325873">EMovePathType::Linear_move</a>: {</div>
<div class="line"><span class="lineno"> 4296</span>                        <span class="keywordtype">size_t</span> start_index = fitting_result[fitting_index].start_point_index;</div>
<div class="line"><span class="lineno"> 4297</span>                        <span class="keywordtype">size_t</span> end_index = fitting_result[fitting_index].end_point_index;</div>
<div class="line"><span class="lineno"> 4298</span>                        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> point_index = start_index + 1; point_index &lt; end_index + 1; point_index++) {</div>
<div class="line"><span class="lineno"> 4299</span>                            <span class="keyword">const</span> Line line = Line(path.polyline.points[point_index - 1], path.polyline.points[point_index]);</div>
<div class="line"><span class="lineno"> 4300</span>                            <span class="keyword">const</span> <span class="keywordtype">double</span> line_length = line.length() * <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#aa1dc7fe42e730dba79e786afc66e151f">SCALING_FACTOR</a>;</div>
<div class="line"><span class="lineno"> 4301</span>                            path_length += line_length;</div>
<div class="line"><span class="lineno"> 4302</span>                            <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a6f4047bafbb6187785ad1f9fbec8cc2d">extrude_to_xy</a>(</div>
<div class="line"><span class="lineno"> 4303</span>                                this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae69c3d88b0093b87f42cb2053dd52129">point_to_gcode</a>(line.b),</div>
<div class="line"><span class="lineno"> 4304</span>                                e_per_mm * line_length,</div>
<div class="line"><span class="lineno"> 4305</span>                                <a class="code hl_variable" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a253f1395c0746947f30e75174d5b5965">GCodeWriter::full_gcode_comment</a> ? description : <span class="stringliteral">&quot;&quot;</span>, path.is_force_no_extrusion());</div>
<div class="line"><span class="lineno"> 4306</span>                        }</div>
<div class="line"><span class="lineno"> 4307</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4308</span>                    }</div>
<div class="line"><span class="lineno"> 4309</span>                    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#ad3e4dc476425b90618febd7edd326743a1cc3195b8fe8ac5daf61420d056b3667">EMovePathType::Arc_move_cw</a>:</div>
<div class="line"><span class="lineno"> 4310</span>                    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#ad3e4dc476425b90618febd7edd326743a4200abdff3ab6ac5eb152e6c175b6bd6">EMovePathType::Arc_move_ccw</a>: {</div>
<div class="line"><span class="lineno"> 4311</span>                        <span class="keyword">const</span> ArcSegment&amp; arc = fitting_result[fitting_index].arc_data;</div>
<div class="line"><span class="lineno"> 4312</span>                        <span class="keyword">const</span> <span class="keywordtype">double</span> arc_length = fitting_result[fitting_index].arc_data.length * <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#aa1dc7fe42e730dba79e786afc66e151f">SCALING_FACTOR</a>;</div>
<div class="line"><span class="lineno"> 4313</span>                        <span class="keyword">const</span> <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a> center_offset = this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae69c3d88b0093b87f42cb2053dd52129">point_to_gcode</a>(arc.center) - this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae69c3d88b0093b87f42cb2053dd52129">point_to_gcode</a>(arc.start_point);</div>
<div class="line"><span class="lineno"> 4314</span>                        path_length += arc_length;</div>
<div class="line"><span class="lineno"> 4315</span>                        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#aa82fa4859610f46e192580751cea221b">extrude_arc_to_xy</a>(</div>
<div class="line"><span class="lineno"> 4316</span>                            this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae69c3d88b0093b87f42cb2053dd52129">point_to_gcode</a>(arc.end_point),</div>
<div class="line"><span class="lineno"> 4317</span>                            center_offset,</div>
<div class="line"><span class="lineno"> 4318</span>                            e_per_mm * arc_length,</div>
<div class="line"><span class="lineno"> 4319</span>                            arc.direction == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#af2c594777c2206bc1cef380d1ad9f526a30102377f279c7bfe7cd39fb6f13bc1a">ArcDirection::Arc_Dir_CCW</a>,</div>
<div class="line"><span class="lineno"> 4320</span>                            <a class="code hl_variable" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a253f1395c0746947f30e75174d5b5965">GCodeWriter::full_gcode_comment</a> ? description : <span class="stringliteral">&quot;&quot;</span>, path.is_force_no_extrusion());</div>
<div class="line"><span class="lineno"> 4321</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4322</span>                    }</div>
<div class="line"><span class="lineno"> 4323</span>                    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 4324</span>                        <span class="comment">// BBS: should never happen that a empty path_type has been stored</span></div>
<div class="line"><span class="lineno"> 4325</span>                        assert(0);</div>
<div class="line"><span class="lineno"> 4326</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4327</span>                    }</div>
<div class="line"><span class="lineno"> 4328</span>                }</div>
<div class="line"><span class="lineno"> 4329</span>            }</div>
<div class="line"><span class="lineno"> 4330</span>        }</div>
<div class="line"><span class="lineno"> 4331</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4332</span>        <span class="keywordtype">double</span> last_set_speed = std::max((<span class="keywordtype">float</span>)<a class="code hl_define" href="../../df/d40/_g_code_8cpp.html#a2dec0e9fe2fb1c9e3862bc3fd4b2d911">EXTRUDER_CONFIG</a>(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a180d1038ce3d0b5f1d9d8dfbe7dee30f">slow_down_min_speed</a>), new_points[0].speed) * 60.0;</div>
<div class="line"><span class="lineno"> 4333</span> </div>
<div class="line"><span class="lineno"> 4334</span>        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#aa00139d491b6a9a36163a4337dc9630d">set_speed</a>(last_set_speed, <span class="stringliteral">&quot;&quot;</span>, comment);</div>
<div class="line"><span class="lineno"> 4335</span>        <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a> prev = this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad040baf0648c9cc3c84c63643143ab98">point_to_gcode_quantized</a>(new_points[0].p);</div>
<div class="line"><span class="lineno"> 4336</span>        <span class="keywordtype">bool</span> pre_fan_enabled = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 4337</span>        <span class="keywordtype">bool</span> cur_fan_enabled = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 4338</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a03533ee19695dc118af85304f49c752f">m_enable_cooling_markers</a> &amp;&amp; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a9968893dfdc7fdce25a7e5e77278e75c">enable_overhang_bridge_fan</a>)</div>
<div class="line"><span class="lineno"> 4339</span>            pre_fan_enabled = check_overhang_fan(new_points[0].overlap);</div>
<div class="line"><span class="lineno"> 4340</span> </div>
<div class="line"><span class="lineno"> 4341</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 1; i &lt; new_points.size(); i++) {</div>
<div class="line"><span class="lineno"> 4342</span>            <span class="keyword">const</span> ProcessedPoint &amp;processed_point = new_points[i];</div>
<div class="line"><span class="lineno"> 4343</span>            <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a> p = this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad040baf0648c9cc3c84c63643143ab98">point_to_gcode_quantized</a>(processed_point.p);</div>
<div class="line"><span class="lineno"> 4344</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a03533ee19695dc118af85304f49c752f">m_enable_cooling_markers</a>) {</div>
<div class="line"><span class="lineno"> 4345</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a9968893dfdc7fdce25a7e5e77278e75c">enable_overhang_bridge_fan</a>) {</div>
<div class="line"><span class="lineno"> 4346</span>                    cur_fan_enabled = check_overhang_fan(processed_point.overlap);</div>
<div class="line"><span class="lineno"> 4347</span>                    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a5df3c439676e1479c1a0c7a679617cba">is_bridge</a>(path.role()) ||</div>
<div class="line"><span class="lineno"> 4348</span>                        (<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a784249b30e7f6d5bcc431b8db8106ed0">is_perimeter</a>(path.role()) &amp;&amp;</div>
<div class="line"><span class="lineno"> 4349</span>                         pre_fan_enabled &amp;&amp; pre_fan_enabled)) {</div>
<div class="line"><span class="lineno"> 4350</span>                        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ab9d8b02b166044e2f0311fbf566da416">m_is_overhang_fan_on</a>) {</div>
<div class="line"><span class="lineno"> 4351</span>                            <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <span class="stringliteral">&quot;;_OVERHANG_FAN_START\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 4352</span>                            <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ab9d8b02b166044e2f0311fbf566da416">m_is_overhang_fan_on</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4353</span>                        }</div>
<div class="line"><span class="lineno"> 4354</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4355</span>                        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ab9d8b02b166044e2f0311fbf566da416">m_is_overhang_fan_on</a>) {</div>
<div class="line"><span class="lineno"> 4356</span>                            <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ab9d8b02b166044e2f0311fbf566da416">m_is_overhang_fan_on</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 4357</span>                            <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <span class="stringliteral">&quot;;_OVERHANG_FAN_END\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 4358</span>                        }</div>
<div class="line"><span class="lineno"> 4359</span>                    }</div>
<div class="line"><span class="lineno"> 4360</span>                    pre_fan_enabled = cur_fan_enabled;</div>
<div class="line"><span class="lineno"> 4361</span>                }</div>
<div class="line"><span class="lineno"> 4362</span>                <span class="keywordflow">if</span> (supp_interface_fan_speed &gt;= 0 &amp;&amp; path.role() == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a54a07a476d1b976ab5ee4f95e80df634">erSupportMaterialInterface</a>) {</div>
<div class="line"><span class="lineno"> 4363</span>                    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ac2af3222a6bc9941043eb2949bc42356">m_is_supp_interface_fan_on</a>) {</div>
<div class="line"><span class="lineno"> 4364</span>                        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <span class="stringliteral">&quot;;_SUPP_INTERFACE_FAN_START\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 4365</span>                        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ac2af3222a6bc9941043eb2949bc42356">m_is_supp_interface_fan_on</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4366</span>                    }</div>
<div class="line"><span class="lineno"> 4367</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4368</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ac2af3222a6bc9941043eb2949bc42356">m_is_supp_interface_fan_on</a>) {</div>
<div class="line"><span class="lineno"> 4369</span>                        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <span class="stringliteral">&quot;;_SUPP_INTERFACE_FAN_END\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 4370</span>                        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ac2af3222a6bc9941043eb2949bc42356">m_is_supp_interface_fan_on</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 4371</span>                    }</div>
<div class="line"><span class="lineno"> 4372</span>                }</div>
<div class="line"><span class="lineno"> 4373</span>            }</div>
<div class="line"><span class="lineno"> 4374</span> </div>
<div class="line"><span class="lineno"> 4375</span>            <span class="keyword">const</span> <span class="keywordtype">double</span> line_length = (p - prev).norm();</div>
<div class="line"><span class="lineno"> 4376</span>            <span class="keywordtype">double</span> new_speed = std::max((<span class="keywordtype">float</span>)<a class="code hl_define" href="../../df/d40/_g_code_8cpp.html#a2dec0e9fe2fb1c9e3862bc3fd4b2d911">EXTRUDER_CONFIG</a>(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a180d1038ce3d0b5f1d9d8dfbe7dee30f">slow_down_min_speed</a>), processed_point.speed) * 60.0;</div>
<div class="line"><span class="lineno"> 4377</span>            <span class="keywordflow">if</span> (last_set_speed != new_speed) {</div>
<div class="line"><span class="lineno"> 4378</span>                <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#aa00139d491b6a9a36163a4337dc9630d">set_speed</a>(new_speed, <span class="stringliteral">&quot;&quot;</span>, comment);</div>
<div class="line"><span class="lineno"> 4379</span>                last_set_speed = new_speed;</div>
<div class="line"><span class="lineno"> 4380</span>            }</div>
<div class="line"><span class="lineno"> 4381</span>            <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> +=</div>
<div class="line"><span class="lineno"> 4382</span>                <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a6f4047bafbb6187785ad1f9fbec8cc2d">extrude_to_xy</a>(p, e_per_mm * line_length, <a class="code hl_variable" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a253f1395c0746947f30e75174d5b5965">GCodeWriter::full_gcode_comment</a> ? description : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno"> 4383</span> </div>
<div class="line"><span class="lineno"> 4384</span>            prev = p;</div>
<div class="line"><span class="lineno"> 4385</span> </div>
<div class="line"><span class="lineno"> 4386</span>        }</div>
<div class="line"><span class="lineno"> 4387</span>    }</div>
<div class="line"><span class="lineno"> 4388</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a03533ee19695dc118af85304f49c752f">m_enable_cooling_markers</a>) {</div>
<div class="line"><span class="lineno"> 4389</span>            <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <span class="stringliteral">&quot;;_EXTRUDE_END\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 4390</span>    }</div>
<div class="line"><span class="lineno"> 4391</span> </div>
<div class="line"><span class="lineno"> 4392</span>    <span class="keywordflow">if</span> (path.role() != <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a5235a17407dbed28ec26227c7001b5e0">ExtrusionRole::erGapFill</a>) {</div>
<div class="line"><span class="lineno"> 4393</span>      <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aa5955631beed7bbb1339eaaf5ad6f24f">m_last_notgapfill_extrusion_role</a> = path.role();</div>
<div class="line"><span class="lineno"> 4394</span>    }</div>
<div class="line"><span class="lineno"> 4395</span> </div>
<div class="line"><span class="lineno"> 4396</span>    this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2690c7ccdb7cacc74b2ec148fafb8427">set_last_pos</a>(path.last_point());</div>
<div class="line"><span class="lineno"> 4397</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a>;</div>
<div class="line"><span class="lineno"> 4398</span>}</div>
<div class="ttc" id="a_g_code_8cpp_html_a2dec0e9fe2fb1c9e3862bc3fd4b2d911"><div class="ttname"><a href="../../df/d40/_g_code_8cpp.html#a2dec0e9fe2fb1c9e3862bc3fd4b2d911">EXTRUDER_CONFIG</a></div><div class="ttdeci">#define EXTRUDER_CONFIG(OPT)</div><div class="ttdef"><b>Definition</b> GCode.cpp:767</div></div>
<div class="ttc" id="aclass_slic3r_1_1_extruder_html_a216ae93122c5de3ce31a5b8b0121b880"><div class="ttname"><a href="../../d3/dff/class_slic3r_1_1_extruder.html#a216ae93122c5de3ce31a5b8b0121b880">Slic3r::Extruder::e_per_mm3</a></div><div class="ttdeci">double e_per_mm3() const</div><div class="ttdef"><b>Definition</b> Extruder.hpp:39</div></div>
<div class="ttc" id="aclass_slic3r_1_1_extrusion_quality_estimator_html_a917ea0d8b78a3795808a9d1f06697669"><div class="ttname"><a href="../../d5/d3b/class_slic3r_1_1_extrusion_quality_estimator.html#a917ea0d8b78a3795808a9d1f06697669">Slic3r::ExtrusionQualityEstimator::estimate_extrusion_quality</a></div><div class="ttdeci">std::vector&lt; ProcessedPoint &gt; estimate_extrusion_quality(const ExtrusionPath &amp;path, const ConfigOptionPercents &amp;overlaps, const ConfigOptionFloatsOrPercents &amp;speeds, float ext_perimeter_speed, float original_speed)</div><div class="ttdef"><b>Definition</b> ExtrusionProcessor.hpp:261</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a147ab3f76f3107c846eb2a48a97e74ea"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a147ab3f76f3107c846eb2a48a97e74ea">Slic3r::GCode::object_layer_over_raft</a></div><div class="ttdeci">bool object_layer_over_raft() const</div><div class="ttdef"><b>Definition</b> GCode.hpp:533</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a2690c7ccdb7cacc74b2ec148fafb8427"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2690c7ccdb7cacc74b2ec148fafb8427">Slic3r::GCode::set_last_pos</a></div><div class="ttdeci">void set_last_pos(const Point &amp;pos)</div><div class="ttdef"><b>Definition</b> GCode.hpp:333</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a5b7aecf69aa0fce6b42cd1d6b5792e1a"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a5b7aecf69aa0fce6b42cd1d6b5792e1a">Slic3r::GCode::m_last_pos</a></div><div class="ttdeci">Point m_last_pos</div><div class="ttdef"><b>Definition</b> GCode.hpp:483</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a8398430e2866a9c8219fca25dbed0cf6"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a8398430e2866a9c8219fca25dbed0cf6">Slic3r::GCode::m_extrusion_quality_estimator</a></div><div class="ttdeci">ExtrusionQualityEstimator m_extrusion_quality_estimator</div><div class="ttdef"><b>Definition</b> GCode.hpp:421</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_aa5955631beed7bbb1339eaaf5ad6f24f"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#aa5955631beed7bbb1339eaaf5ad6f24f">Slic3r::GCode::m_last_notgapfill_extrusion_role</a></div><div class="ttdeci">ExtrusionRole m_last_notgapfill_extrusion_role</div><div class="ttdef"><b>Definition</b> GCode.hpp:473</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_ac941272774cc4dbab332f22d1141f627"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#ac941272774cc4dbab332f22d1141f627">Slic3r::GCode::m_need_change_layer_lift_z</a></div><div class="ttdeci">bool m_need_change_layer_lift_z</div><div class="ttdef"><b>Definition</b> GCode.hpp:514</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_ad040baf0648c9cc3c84c63643143ab98"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad040baf0648c9cc3c84c63643143ab98">Slic3r::GCode::point_to_gcode_quantized</a></div><div class="ttdeci">Vec2d point_to_gcode_quantized(const Point &amp;point) const</div><div class="ttdef"><b>Definition</b> GCode.cpp:4975</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_adce8c2fd712ff6d0b9b1e3c9cfb6195d"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#adce8c2fd712ff6d0b9b1e3c9cfb6195d">Slic3r::GCode::layer_id</a></div><div class="ttdeci">int layer_id() const</div><div class="ttdef"><b>Definition</b> GCode.hpp:527</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_ae0eab7dd774297f8da8384a066920011"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae0eab7dd774297f8da8384a066920011">Slic3r::GCode::on_first_layer</a></div><div class="ttdeci">bool on_first_layer() const</div><div class="ttdef"><b>Definition</b> GCode.hpp:526</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_ae69c3d88b0093b87f42cb2053dd52129"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae69c3d88b0093b87f42cb2053dd52129">Slic3r::GCode::point_to_gcode</a></div><div class="ttdeci">Vec2d point_to_gcode(const Point &amp;point) const</div><div class="ttdef"><b>Definition</b> GCode.cpp:4960</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_af816f73f41514944c38bf6b59406b73f"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#af816f73f41514944c38bf6b59406b73f">Slic3r::GCode::unretract</a></div><div class="ttdeci">std::string unretract()</div><div class="ttdef"><b>Definition</b> GCode.hpp:204</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_processor_html_a9d0a157d06bdfad05bc6822a9a1c8071a32954654ac8fe66a1d09be19001de2d4"><div class="ttname"><a href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a9d0a157d06bdfad05bc6822a9a1c8071a32954654ac8fe66a1d09be19001de2d4">Slic3r::GCodeProcessor::ETags::Width</a></div><div class="ttdeci">@ Width</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_processor_html_a9d0a157d06bdfad05bc6822a9a1c8071aeec6c4bdbd339edf8cbea68becb85244"><div class="ttname"><a href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a9d0a157d06bdfad05bc6822a9a1c8071aeec6c4bdbd339edf8cbea68becb85244">Slic3r::GCodeProcessor::ETags::Height</a></div><div class="ttdeci">@ Height</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_a253f1395c0746947f30e75174d5b5965"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a253f1395c0746947f30e75174d5b5965">Slic3r::GCodeWriter::full_gcode_comment</a></div><div class="ttdeci">static bool full_gcode_comment</div><div class="ttdef"><b>Definition</b> GCodeWriter.hpp:104</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_a6f4047bafbb6187785ad1f9fbec8cc2d"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a6f4047bafbb6187785ad1f9fbec8cc2d">Slic3r::GCodeWriter::extrude_to_xy</a></div><div class="ttdeci">std::string extrude_to_xy(const Vec2d &amp;point, double dE, const std::string &amp;comment=std::string(), bool force_no_extrusion=false)</div><div class="ttdef"><b>Definition</b> GCodeWriter.cpp:547</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_aa00139d491b6a9a36163a4337dc9630d"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#aa00139d491b6a9a36163a4337dc9630d">Slic3r::GCodeWriter::set_speed</a></div><div class="ttdeci">std::string set_speed(double F, const std::string &amp;comment=std::string(), const std::string &amp;cooling_marker=std::string())</div><div class="ttdef"><b>Definition</b> GCodeWriter.cpp:313</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_aa82fa4859610f46e192580751cea221b"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#aa82fa4859610f46e192580751cea221b">Slic3r::GCodeWriter::extrude_arc_to_xy</a></div><div class="ttdeci">std::string extrude_arc_to_xy(const Vec2d &amp;point, const Vec2d &amp;center_offset, double dE, const bool is_ccw, const std::string &amp;comment=std::string(), bool force_no_extrusion=false)</div><div class="ttdef"><b>Definition</b> GCodeWriter.cpp:572</div></div>
<div class="ttc" id="alibslic3r_8h_html_aa1dc7fe42e730dba79e786afc66e151f"><div class="ttname"><a href="../../dd/d47/libslic3r_8h.html#aa1dc7fe42e730dba79e786afc66e151f">SCALING_FACTOR</a></div><div class="ttdeci">static constexpr double SCALING_FACTOR</div><div class="ttdef"><b>Definition</b> libslic3r.h:58</div></div>
<div class="ttc" id="anamespace_slic3r_html_a05a955e1f53e21174bdb47180cde40b7"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a05a955e1f53e21174bdb47180cde40b7">Slic3r::is_top_surface</a></div><div class="ttdeci">bool is_top_surface(ExtrusionRole role)</div><div class="ttdef"><b>Definition</b> ExtrusionEntity.hpp:81</div></div>
<div class="ttc" id="anamespace_slic3r_html_a0949e17511c6ffa81c07a553cc6c2a8e"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a0949e17511c6ffa81c07a553cc6c2a8e">Slic3r::ConfigOptionFloatsOrPercents</a></div><div class="ttdeci">ConfigOptionFloatsOrPercentsTempl&lt; false &gt; ConfigOptionFloatsOrPercents</div><div class="ttdef"><b>Definition</b> Config.hpp:1212</div></div>
<div class="ttc" id="anamespace_slic3r_html_a180d1038ce3d0b5f1d9d8dfbe7dee30f"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a180d1038ce3d0b5f1d9d8dfbe7dee30f">Slic3r::slow_down_min_speed</a></div><div class="ttdeci">machine_min_extruding_rate slow_down_min_speed((ConfigOptionFloats, nozzle_diameter))((ConfigOptionBool</div></div>
<div class="ttc" id="anamespace_slic3r_html_a32405ff02c3f20cdd02afb2c547bd67d"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a32405ff02c3f20cdd02afb2c547bd67d">Slic3r::ConfigOptionPercents</a></div><div class="ttdeci">ConfigOptionPercentsTempl&lt; false &gt; ConfigOptionPercents</div><div class="ttdef"><b>Definition</b> Config.hpp:1024</div></div>
<div class="ttc" id="anamespace_slic3r_html_a38755f4172b7ef8f5ae07092a82ee173"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a38755f4172b7ef8f5ae07092a82ee173">Slic3r::is_infill</a></div><div class="ttdeci">bool is_infill(ExtrusionRole role)</div><div class="ttdef"><b>Definition</b> ExtrusionEntity.hpp:70</div></div>
<div class="ttc" id="anamespace_slic3r_html_a3c27e47c663962486e5ce6cbebf0d361"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a3c27e47c663962486e5ce6cbebf0d361">Slic3r::lerp</a></div><div class="ttdeci">constexpr T lerp(const T &amp;a, const T &amp;b, Number t)</div><div class="ttdef"><b>Definition</b> libslic3r.h:282</div></div>
<div class="ttc" id="anamespace_slic3r_html_a40e8e384542f32f8150cabd3db031651"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Slic3r::Vec2d</a></div><div class="ttdeci">Eigen::Matrix&lt; double, 2, 1, Eigen::DontAlign &gt; Vec2d</div><div class="ttdef"><b>Definition</b> Point.hpp:45</div></div>
<div class="ttc" id="anamespace_slic3r_html_a4bd61cea234d3725ba3ca75b1768bc7b"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a4bd61cea234d3725ba3ca75b1768bc7b">Slic3r::is_internal_perimeter</a></div><div class="ttdeci">bool is_internal_perimeter(ExtrusionRole role)</div><div class="ttdef"><b>Definition</b> ExtrusionEntity.hpp:60</div></div>
<div class="ttc" id="anamespace_slic3r_html_a53abaa153e7f66d914c1895bc8373ea2"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a53abaa153e7f66d914c1895bc8373ea2">Slic3r::overhang_speed_key_map</a></div><div class="ttdeci">static std::map&lt; int, std::string &gt; overhang_speed_key_map</div><div class="ttdef"><b>Definition</b> GCode.cpp:3938</div></div>
<div class="ttc" id="anamespace_slic3r_html_a5a138ca882891dda7df0165d09afbe5ba08a94e7019e8aa62375e4228591ad039"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a5a138ca882891dda7df0165d09afbe5ba08a94e7019e8aa62375e4228591ad039">Slic3r::Overhang_threshold_1_4</a></div><div class="ttdeci">@ Overhang_threshold_1_4</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:187</div></div>
<div class="ttc" id="anamespace_slic3r_html_a5a138ca882891dda7df0165d09afbe5ba0d25e2d88e2349a2635c8f6b23527fcc"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a5a138ca882891dda7df0165d09afbe5ba0d25e2d88e2349a2635c8f6b23527fcc">Slic3r::Overhang_threshold_4_4</a></div><div class="ttdeci">@ Overhang_threshold_4_4</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:190</div></div>
<div class="ttc" id="anamespace_slic3r_html_a5a138ca882891dda7df0165d09afbe5ba1fe8a4fa191c692e05c7de6f7223c67d"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a5a138ca882891dda7df0165d09afbe5ba1fe8a4fa191c692e05c7de6f7223c67d">Slic3r::Overhang_threshold_3_4</a></div><div class="ttdeci">@ Overhang_threshold_3_4</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:189</div></div>
<div class="ttc" id="anamespace_slic3r_html_a5a138ca882891dda7df0165d09afbe5ba3edb0d900ae8f0f5bf678bd7fd39c48f"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a5a138ca882891dda7df0165d09afbe5ba3edb0d900ae8f0f5bf678bd7fd39c48f">Slic3r::Overhang_threshold_2_4</a></div><div class="ttdeci">@ Overhang_threshold_2_4</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:188</div></div>
<div class="ttc" id="anamespace_slic3r_html_a5a138ca882891dda7df0165d09afbe5ba80a493b018ccff4ac425046a312e3140"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a5a138ca882891dda7df0165d09afbe5ba80a493b018ccff4ac425046a312e3140">Slic3r::Overhang_threshold_bridge</a></div><div class="ttdeci">@ Overhang_threshold_bridge</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:191</div></div>
<div class="ttc" id="anamespace_slic3r_html_a5a138ca882891dda7df0165d09afbe5ba9b90e2e5a33d678a11acc07e749959d0"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a5a138ca882891dda7df0165d09afbe5ba9b90e2e5a33d678a11acc07e749959d0">Slic3r::Overhang_threshold_none</a></div><div class="ttdeci">@ Overhang_threshold_none</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:186</div></div>
<div class="ttc" id="anamespace_slic3r_html_a5df3c439676e1479c1a0c7a679617cba"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a5df3c439676e1479c1a0c7a679617cba">Slic3r::is_bridge</a></div><div class="ttdeci">bool is_bridge(ExtrusionRole role)</div><div class="ttdef"><b>Definition</b> ExtrusionEntity.hpp:96</div></div>
<div class="ttc" id="anamespace_slic3r_html_a65afdeb7754aebb91af0d6d5675958fb"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a65afdeb7754aebb91af0d6d5675958fb">Slic3r::is_external_perimeter</a></div><div class="ttdeci">bool is_external_perimeter(ExtrusionRole role)</div><div class="ttdef"><b>Definition</b> ExtrusionEntity.hpp:65</div></div>
<div class="ttc" id="anamespace_slic3r_html_a6fa3193f46e8c4fc55359a5c124f46e6a279ab5ace1cdf7fad0b58df8fe492fb0"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a279ab5ace1cdf7fad0b58df8fe492fb0">Slic3r::erBottomSurface</a></div><div class="ttdeci">@ erBottomSurface</div><div class="ttdef"><b>Definition</b> ExtrusionEntity.hpp:28</div></div>
<div class="ttc" id="anamespace_slic3r_html_a6fa3193f46e8c4fc55359a5c124f46e6a2a39cf7d4bc3b5fab08dedbf4e6ed20a"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a2a39cf7d4bc3b5fab08dedbf4e6ed20a">Slic3r::erExternalPerimeter</a></div><div class="ttdeci">@ erExternalPerimeter</div><div class="ttdef"><b>Definition</b> ExtrusionEntity.hpp:23</div></div>
<div class="ttc" id="anamespace_slic3r_html_a6fa3193f46e8c4fc55359a5c124f46e6a5235a17407dbed28ec26227c7001b5e0"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a5235a17407dbed28ec26227c7001b5e0">Slic3r::erGapFill</a></div><div class="ttdeci">@ erGapFill</div><div class="ttdef"><b>Definition</b> ExtrusionEntity.hpp:32</div></div>
<div class="ttc" id="anamespace_slic3r_html_a6fa3193f46e8c4fc55359a5c124f46e6a54a07a476d1b976ab5ee4f95e80df634"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a54a07a476d1b976ab5ee4f95e80df634">Slic3r::erSupportMaterialInterface</a></div><div class="ttdeci">@ erSupportMaterialInterface</div><div class="ttdef"><b>Definition</b> ExtrusionEntity.hpp:36</div></div>
<div class="ttc" id="anamespace_slic3r_html_a6fa3193f46e8c4fc55359a5c124f46e6a667e5eb77b54b3867d5ddd7474bd2f1a"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a667e5eb77b54b3867d5ddd7474bd2f1a">Slic3r::erSupportMaterial</a></div><div class="ttdeci">@ erSupportMaterial</div><div class="ttdef"><b>Definition</b> ExtrusionEntity.hpp:35</div></div>
<div class="ttc" id="anamespace_slic3r_html_a6fa3193f46e8c4fc55359a5c124f46e6a7d25aa5d5ddc2d07b7bb31d62f90df3c"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a7d25aa5d5ddc2d07b7bb31d62f90df3c">Slic3r::erWipeTower</a></div><div class="ttdeci">@ erWipeTower</div><div class="ttdef"><b>Definition</b> ExtrusionEntity.hpp:38</div></div>
<div class="ttc" id="anamespace_slic3r_html_a6fa3193f46e8c4fc55359a5c124f46e6a80b4fbab901060d3195eeaf6e5598f86"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a80b4fbab901060d3195eeaf6e5598f86">Slic3r::erSolidInfill</a></div><div class="ttdeci">@ erSolidInfill</div><div class="ttdef"><b>Definition</b> ExtrusionEntity.hpp:26</div></div>
<div class="ttc" id="anamespace_slic3r_html_a6fa3193f46e8c4fc55359a5c124f46e6a94c553994093636228d5b6d97be22a02"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a94c553994093636228d5b6d97be22a02">Slic3r::erBridgeInfill</a></div><div class="ttdeci">@ erBridgeInfill</div><div class="ttdef"><b>Definition</b> ExtrusionEntity.hpp:30</div></div>
<div class="ttc" id="anamespace_slic3r_html_a6fa3193f46e8c4fc55359a5c124f46e6aa4a3c629cdaac53f817ee9c27bcf0393"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6aa4a3c629cdaac53f817ee9c27bcf0393">Slic3r::erInternalBridgeInfill</a></div><div class="ttdeci">@ erInternalBridgeInfill</div><div class="ttdef"><b>Definition</b> ExtrusionEntity.hpp:31</div></div>
<div class="ttc" id="anamespace_slic3r_html_a6fa3193f46e8c4fc55359a5c124f46e6ac3c1a101706cad2daa9c8a39e6eb5114"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6ac3c1a101706cad2daa9c8a39e6eb5114">Slic3r::erTopSolidInfill</a></div><div class="ttdeci">@ erTopSolidInfill</div><div class="ttdef"><b>Definition</b> ExtrusionEntity.hpp:27</div></div>
<div class="ttc" id="anamespace_slic3r_html_a6fa3193f46e8c4fc55359a5c124f46e6ac9c70bc83384e07222ab7a852f5d906c"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6ac9c70bc83384e07222ab7a852f5d906c">Slic3r::erSkirt</a></div><div class="ttdeci">@ erSkirt</div><div class="ttdef"><b>Definition</b> ExtrusionEntity.hpp:33</div></div>
<div class="ttc" id="anamespace_slic3r_html_a6fa3193f46e8c4fc55359a5c124f46e6aca09505cfc31ed63c20afdb3f988271a"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6aca09505cfc31ed63c20afdb3f988271a">Slic3r::erSupportTransition</a></div><div class="ttdeci">@ erSupportTransition</div><div class="ttdef"><b>Definition</b> ExtrusionEntity.hpp:37</div></div>
<div class="ttc" id="anamespace_slic3r_html_a6fa3193f46e8c4fc55359a5c124f46e6adcadd76a13499d0bb89874683b76f838"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6adcadd76a13499d0bb89874683b76f838">Slic3r::erOverhangPerimeter</a></div><div class="ttdeci">@ erOverhangPerimeter</div><div class="ttdef"><b>Definition</b> ExtrusionEntity.hpp:24</div></div>
<div class="ttc" id="anamespace_slic3r_html_a6fa3193f46e8c4fc55359a5c124f46e6ae18150a7edaed0a61320a34928a1c747"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6ae18150a7edaed0a61320a34928a1c747">Slic3r::erIroning</a></div><div class="ttdeci">@ erIroning</div><div class="ttdef"><b>Definition</b> ExtrusionEntity.hpp:29</div></div>
<div class="ttc" id="anamespace_slic3r_html_a6fa3193f46e8c4fc55359a5c124f46e6ae32f98111112cc6b4543d4d6335ff11c"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6ae32f98111112cc6b4543d4d6335ff11c">Slic3r::erPerimeter</a></div><div class="ttdeci">@ erPerimeter</div><div class="ttdef"><b>Definition</b> ExtrusionEntity.hpp:22</div></div>
<div class="ttc" id="anamespace_slic3r_html_a6fa3193f46e8c4fc55359a5c124f46e6afba035fe5ebfa2e2fd1ec715d38569e9"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6afba035fe5ebfa2e2fd1ec715d38569e9">Slic3r::erInternalInfill</a></div><div class="ttdeci">@ erInternalInfill</div><div class="ttdef"><b>Definition</b> ExtrusionEntity.hpp:25</div></div>
<div class="ttc" id="anamespace_slic3r_html_a784249b30e7f6d5bcc431b8db8106ed0"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a784249b30e7f6d5bcc431b8db8106ed0">Slic3r::is_perimeter</a></div><div class="ttdeci">bool is_perimeter(ExtrusionRole role)</div><div class="ttdef"><b>Definition</b> ExtrusionEntity.hpp:53</div></div>
<div class="ttc" id="anamespace_slic3r_html_a7fc4c0f61833ab1abb7195cd75463e56"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a7fc4c0f61833ab1abb7195cd75463e56">Slic3r::is_decimal_separator_point</a></div><div class="ttdeci">bool is_decimal_separator_point()</div><div class="ttdef"><b>Definition</b> LocalesUtils.cpp:46</div></div>
<div class="ttc" id="anamespace_slic3r_html_a91ca391d6bd983baad241518de21de41"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a91ca391d6bd983baad241518de21de41">Slic3r::overhang_fan_threshold</a></div><div class="ttdeci">machine_min_extruding_rate overhang_fan_threshold((ConfigOptionEnum&lt; PrintSequence &gt;, print_sequence))((ConfigOptionBools</div></div>
<div class="ttc" id="anamespace_slic3r_html_a9968893dfdc7fdce25a7e5e77278e75c"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a9968893dfdc7fdce25a7e5e77278e75c">Slic3r::enable_overhang_bridge_fan</a></div><div class="ttdeci">machine_min_extruding_rate enable_overhang_bridge_fan((ConfigOptionInts, overhang_fan_speed))((ConfigOptionEnumsGeneric</div></div>
<div class="ttc" id="anamespace_slic3r_html_ad3e4dc476425b90618febd7edd326743a1cc3195b8fe8ac5daf61420d056b3667"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#ad3e4dc476425b90618febd7edd326743a1cc3195b8fe8ac5daf61420d056b3667">Slic3r::EMovePathType::Arc_move_cw</a></div><div class="ttdeci">@ Arc_move_cw</div></div>
<div class="ttc" id="anamespace_slic3r_html_ad3e4dc476425b90618febd7edd326743a4200abdff3ab6ac5eb152e6c175b6bd6"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#ad3e4dc476425b90618febd7edd326743a4200abdff3ab6ac5eb152e6c175b6bd6">Slic3r::EMovePathType::Arc_move_ccw</a></div><div class="ttdeci">@ Arc_move_ccw</div></div>
<div class="ttc" id="anamespace_slic3r_html_ad3e4dc476425b90618febd7edd326743a62f6bc73555080c77550d30f9d325873"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#ad3e4dc476425b90618febd7edd326743a62f6bc73555080c77550d30f9d325873">Slic3r::EMovePathType::Linear_move</a></div><div class="ttdeci">@ Linear_move</div></div>
<div class="ttc" id="anamespace_slic3r_html_aec0518765dd6991c31ac6c40872edef8a7dcd89c611483815bf304b3ed6c1e4ad"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#aec0518765dd6991c31ac6c40872edef8a7dcd89c611483815bf304b3ed6c1e4ad">Slic3r::F</a></div><div class="ttdeci">@ F</div><div class="ttdef"><b>Definition</b> libslic3r.h:120</div></div>
<div class="ttc" id="anamespace_slic3r_html_af2c594777c2206bc1cef380d1ad9f526a30102377f279c7bfe7cd39fb6f13bc1a"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#af2c594777c2206bc1cef380d1ad9f526a30102377f279c7bfe7cd39fb6f13bc1a">Slic3r::ArcDirection::Arc_Dir_CCW</a></div><div class="ttdeci">@ Arc_Dir_CCW</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00196">Slic3r::Line::b</a>, <a class="el" href="../../#l00021">Slic3r::Circle::center</a>, <a class="el" href="../../#l00094">Slic3r::ArcSegment::direction</a>, <a class="el" href="../../de/db8/namespace_slic3r.html#a9968893dfdc7fdce25a7e5e77278e75c">Slic3r::enable_overhang_bridge_fan()</a>, <a class="el" href="../../#l00093">Slic3r::ArcSegment::end_point</a>, <a class="el" href="../../#l00052">EPSILON</a>, <a class="el" href="../../#l00028">Slic3r::erBottomSurface</a>, <a class="el" href="../../#l00030">Slic3r::erBridgeInfill</a>, <a class="el" href="../../#l00023">Slic3r::erExternalPerimeter</a>, <a class="el" href="../../#l00032">Slic3r::erGapFill</a>, <a class="el" href="../../#l00031">Slic3r::erInternalBridgeInfill</a>, <a class="el" href="../../#l00025">Slic3r::erInternalInfill</a>, <a class="el" href="../../#l00029">Slic3r::erIroning</a>, <a class="el" href="../../#l00024">Slic3r::erOverhangPerimeter</a>, <a class="el" href="../../#l00022">Slic3r::erPerimeter</a>, <a class="el" href="../../#l00033">Slic3r::erSkirt</a>, <a class="el" href="../../#l00026">Slic3r::erSolidInfill</a>, <a class="el" href="../../#l00035">Slic3r::erSupportMaterial</a>, <a class="el" href="../../#l00036">Slic3r::erSupportMaterialInterface</a>, <a class="el" href="../../#l00037">Slic3r::erSupportTransition</a>, <a class="el" href="../../#l00027">Slic3r::erTopSolidInfill</a>, <a class="el" href="../../#l00038">Slic3r::erWipeTower</a>, <a class="el" href="../../#l00767">EXTRUDER_CONFIG</a>, <a class="el" href="../../#l00120">Slic3r::F</a>, <a class="el" href="../../#l00235">Slic3r::ExtrusionPath::first_point()</a>, <a class="el" href="../../#l00125">Slic3r::Polyline::fitting_result</a>, <a class="el" href="../../#l00388">floor()</a>, <a class="el" href="../../#l00272">Slic3r::ExtrusionPath::get_overhang_degree()</a>, <a class="el" href="../../#l00155">Slic3r::ExtrusionPath::height</a>, <a class="el" href="../../#l00096">Slic3r::is_bridge()</a>, <a class="el" href="../../#l00046">Slic3r::is_decimal_separator_point()</a>, <a class="el" href="../../#l00065">Slic3r::is_external_perimeter()</a>, <a class="el" href="../../#l00287">Slic3r::ExtrusionPath::is_force_no_extrusion()</a>, <a class="el" href="../../#l00070">Slic3r::is_infill()</a>, <a class="el" href="../../#l00060">Slic3r::is_internal_perimeter()</a>, <a class="el" href="../../#l00053">Slic3r::is_perimeter()</a>, <a class="el" href="../../#l00081">Slic3r::is_top_surface()</a>, <a class="el" href="../../#l00236">Slic3r::ExtrusionPath::last_point()</a>, <a class="el" href="../../#l00088">Slic3r::ArcSegment::length</a>, <a class="el" href="../../#l00163">Slic3r::Line::length()</a>, <a class="el" href="../../#l00282">Slic3r::lerp()</a>, <a class="el" href="../../#l00022">Slic3r::Polyline::lines()</a>, <a class="el" href="../../#l00151">Slic3r::ExtrusionPath::mm3_per_mm</a>, <a class="el" href="../../de/db8/namespace_slic3r.html#a91ca391d6bd983baad241518de21de41">Slic3r::overhang_fan_threshold()</a>, <a class="el" href="../../#l03938">Slic3r::overhang_speed_key_map</a>, <a class="el" href="../../#l00187">Slic3r::Overhang_threshold_1_4</a>, <a class="el" href="../../#l00188">Slic3r::Overhang_threshold_2_4</a>, <a class="el" href="../../#l00189">Slic3r::Overhang_threshold_3_4</a>, <a class="el" href="../../#l00190">Slic3r::Overhang_threshold_4_4</a>, <a class="el" href="../../#l00191">Slic3r::Overhang_threshold_bridge</a>, <a class="el" href="../../#l00186">Slic3r::Overhang_threshold_none</a>, <a class="el" href="../../#l00241">Slic3r::ProcessedPoint::overlap</a>, <a class="el" href="../../#l00239">Slic3r::ProcessedPoint::p</a>, <a class="el" href="../../#l00018">Slic3r::MultiPoint::points</a>, <a class="el" href="../../#l00147">Slic3r::ExtrusionPath::polyline</a>, <a class="el" href="../../#l00249">Slic3r::ExtrusionPath::role()</a>, <a class="el" href="../../#l00058">SCALING_FACTOR</a>, <a class="el" href="../../de/db8/namespace_slic3r.html#a180d1038ce3d0b5f1d9d8dfbe7dee30f">Slic3r::slow_down_min_speed()</a>, <a class="el" href="../../#l00240">Slic3r::ProcessedPoint::speed</a>, <a class="el" href="../../#l00092">Slic3r::ArcSegment::start_point</a>, and <a class="el" href="../../#l00153">Slic3r::ExtrusionPath::width</a>.</p>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_ab5898ee27f28f0f3f8ea23390fc67de0_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="af01f2b164b70e2db11e8dc603f064f7d" name="af01f2b164b70e2db11e8dc603f064f7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af01f2b164b70e2db11e8dc603f064f7d">&#9670;&#160;</a></span>_print_first_layer_bed_temperature()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::GCode::_print_first_layer_bed_temperature </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/db8/class_slic3r_1_1_g_code_1_1_g_code_output_stream.html">GCodeOutputStream</a> &amp;&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/d8f/class_slic3r_1_1_print.html">Print</a> &amp;&#160;</td>
          <td class="paramname"><em>print</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>gcode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>first_printing_extruder_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>wait</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2506</span>{</div>
<div class="line"><span class="lineno"> 2507</span>    <span class="comment">// Initial bed temperature based on the first extruder.</span></div>
<div class="line"><span class="lineno"> 2508</span>    <span class="comment">// BBS</span></div>
<div class="line"><span class="lineno"> 2509</span>    std::vector&lt;int&gt; temps_per_bed;</div>
<div class="line"><span class="lineno"> 2510</span>    <span class="keywordtype">int</span> bed_temp = <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ab7079d6608d218b9076cd47554648c8b">get_bed_temperature</a>(first_printing_extruder_id, <span class="keyword">true</span>, print.config().curr_bed_type);</div>
<div class="line"><span class="lineno"> 2511</span> </div>
<div class="line"><span class="lineno"> 2512</span>    <span class="comment">// Is the bed temperature set by the provided custom G-code?</span></div>
<div class="line"><span class="lineno"> 2513</span>    <span class="keywordtype">int</span>  temp_by_gcode     = -1;</div>
<div class="line"><span class="lineno"> 2514</span>    <span class="keywordtype">bool</span> temp_set_by_gcode = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ae8ff9a1574105eb7db45df5ae4aa70a1">custom_gcode_sets_temperature</a>(gcode, 140, 190, <span class="keyword">false</span>, temp_by_gcode);</div>
<div class="line"><span class="lineno"> 2515</span>    <span class="comment">// BBS</span></div>
<div class="line"><span class="lineno"> 2516</span><span class="preprocessor">#if 0</span></div>
<div class="line"><span class="lineno"> 2517</span>    <span class="keywordflow">if</span> (temp_set_by_gcode &amp;&amp; temp_by_gcode &gt;= 0 &amp;&amp; temp_by_gcode &lt; 1000)</div>
<div class="line"><span class="lineno"> 2518</span>        temp = temp_by_gcode;</div>
<div class="line"><span class="lineno"> 2519</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2520</span> </div>
<div class="line"><span class="lineno"> 2521</span>    <span class="comment">// Always call m_writer.set_bed_temperature() so it will set the internal &quot;current&quot; state of the bed temp as if</span></div>
<div class="line"><span class="lineno"> 2522</span>    <span class="comment">// the custom start G-code emited these.</span></div>
<div class="line"><span class="lineno"> 2523</span>    std::string set_temp_gcode = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#ab6f58d9e0b3ef4ca296a7d85c916ace0">set_bed_temperature</a>(bed_temp, wait);</div>
<div class="line"><span class="lineno"> 2524</span>    <span class="keywordflow">if</span> (! temp_set_by_gcode)</div>
<div class="line"><span class="lineno"> 2525</span>        file.write(set_temp_gcode);</div>
<div class="line"><span class="lineno"> 2526</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_ab6f58d9e0b3ef4ca296a7d85c916ace0"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#ab6f58d9e0b3ef4ca296a7d85c916ace0">Slic3r::GCodeWriter::set_bed_temperature</a></div><div class="ttdeci">std::string set_bed_temperature(int temperature, bool wait=false)</div><div class="ttdef"><b>Definition</b> GCodeWriter.cpp:128</div></div>
<div class="ttc" id="anamespace_slic3r_html_ae8ff9a1574105eb7db45df5ae4aa70a1"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#ae8ff9a1574105eb7db45df5ae4aa70a1">Slic3r::custom_gcode_sets_temperature</a></div><div class="ttdeci">static bool custom_gcode_sets_temperature(const std::string &amp;gcode, const int mcode_set_temp_dont_wait, const int mcode_set_temp_and_wait, const bool include_g10, int &amp;temp_out)</div><div class="ttdef"><b>Definition</b> GCode.cpp:2385</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00740">Slic3r::Print::config()</a>, <a class="el" href="../../#l02385">Slic3r::custom_gcode_sets_temperature()</a>, and <a class="el" href="../../#l00268">Slic3r::GCode::GCodeOutputStream::write()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>.</p>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_af01f2b164b70e2db11e8dc603f064f7d_cgraph.svg" width="440" height="215"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_af01f2b164b70e2db11e8dc603f064f7d_icgraph.svg" width="598" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ad26de7a6470f710e55063e5ddd3ee86d" name="ad26de7a6470f710e55063e5ddd3ee86d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad26de7a6470f710e55063e5ddd3ee86d">&#9670;&#160;</a></span>_print_first_layer_extruder_temperatures()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::GCode::_print_first_layer_extruder_temperatures </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/db8/class_slic3r_1_1_g_code_1_1_g_code_output_stream.html">GCodeOutputStream</a> &amp;&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/d8f/class_slic3r_1_1_print.html">Print</a> &amp;&#160;</td>
          <td class="paramname"><em>print</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>gcode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>first_printing_extruder_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>wait</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2534</span>{</div>
<div class="line"><span class="lineno"> 2535</span>    <span class="comment">// Is the bed temperature set by the provided custom G-code?</span></div>
<div class="line"><span class="lineno"> 2536</span>    <span class="keywordtype">int</span>  temp_by_gcode = -1;</div>
<div class="line"><span class="lineno"> 2537</span>    <span class="keywordtype">bool</span> include_g10   = print.config().gcode_flavor == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a02d66b5053fbce6319e225982b3c5a90a708a4abd4ba3c421e40a5a0525ebbb51">gcfRepRapFirmware</a>;</div>
<div class="line"><span class="lineno"> 2538</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ae8ff9a1574105eb7db45df5ae4aa70a1">custom_gcode_sets_temperature</a>(gcode, 104, 109, include_g10, temp_by_gcode)) {</div>
<div class="line"><span class="lineno"> 2539</span>        <span class="comment">// Set the extruder temperature at m_writer, but throw away the generated G-code as it will be written with the custom G-code.</span></div>
<div class="line"><span class="lineno"> 2540</span>        <span class="keywordtype">int</span> temp = print.config().nozzle_temperature_initial_layer.get_at(first_printing_extruder_id);</div>
<div class="line"><span class="lineno"> 2541</span>        <span class="keywordflow">if</span> (temp_by_gcode &gt;= 0 &amp;&amp; temp_by_gcode &lt; 1000)</div>
<div class="line"><span class="lineno"> 2542</span>            temp = temp_by_gcode;</div>
<div class="line"><span class="lineno"> 2543</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a216ebb59191fee7974e2f92c810ab34a">set_temperature</a>(temp, wait, first_printing_extruder_id);</div>
<div class="line"><span class="lineno"> 2544</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2545</span>        <span class="comment">// Custom G-code does not set the extruder temperature. Do it now.</span></div>
<div class="line"><span class="lineno"> 2546</span>        <span class="keywordflow">if</span> (print.config().single_extruder_multi_material.value) {</div>
<div class="line"><span class="lineno"> 2547</span>            <span class="comment">// Set temperature of the first printing extruder only.</span></div>
<div class="line"><span class="lineno"> 2548</span>            <span class="keywordtype">int</span> temp = print.config().nozzle_temperature_initial_layer.get_at(first_printing_extruder_id);</div>
<div class="line"><span class="lineno"> 2549</span>            <span class="keywordflow">if</span> (temp &gt; 0)</div>
<div class="line"><span class="lineno"> 2550</span>                file.write(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a216ebb59191fee7974e2f92c810ab34a">set_temperature</a>(temp, wait, first_printing_extruder_id));</div>
<div class="line"><span class="lineno"> 2551</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2552</span>            <span class="comment">// Set temperatures of all the printing extruders.</span></div>
<div class="line"><span class="lineno"> 2553</span>            <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> tool_id : print.extruders()) {</div>
<div class="line"><span class="lineno"> 2554</span>                <span class="keywordtype">int</span> temp = print.config().nozzle_temperature_initial_layer.get_at(tool_id);</div>
<div class="line"><span class="lineno"> 2555</span>                <span class="keywordflow">if</span> (print.config().ooze_prevention.value)</div>
<div class="line"><span class="lineno"> 2556</span>                    temp += print.config().standby_temperature_delta.value;</div>
<div class="line"><span class="lineno"> 2557</span>                <span class="keywordflow">if</span> (temp &gt; 0)</div>
<div class="line"><span class="lineno"> 2558</span>                    file.write(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a216ebb59191fee7974e2f92c810ab34a">set_temperature</a>(temp, wait, tool_id));</div>
<div class="line"><span class="lineno"> 2559</span>            }</div>
<div class="line"><span class="lineno"> 2560</span>        }</div>
<div class="line"><span class="lineno"> 2561</span>    }</div>
<div class="line"><span class="lineno"> 2562</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_a216ebb59191fee7974e2f92c810ab34a"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a216ebb59191fee7974e2f92c810ab34a">Slic3r::GCodeWriter::set_temperature</a></div><div class="ttdeci">std::string set_temperature(unsigned int temperature, bool wait=false, int tool=-1) const</div><div class="ttdef"><b>Definition</b> GCodeWriter.cpp:85</div></div>
<div class="ttc" id="anamespace_slic3r_html_a02d66b5053fbce6319e225982b3c5a90a708a4abd4ba3c421e40a5a0525ebbb51"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a02d66b5053fbce6319e225982b3c5a90a708a4abd4ba3c421e40a5a0525ebbb51">Slic3r::gcfRepRapFirmware</a></div><div class="ttdeci">@ gcfRepRapFirmware</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:35</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00740">Slic3r::Print::config()</a>, <a class="el" href="../../#l02385">Slic3r::custom_gcode_sets_temperature()</a>, <a class="el" href="../../#l00390">Slic3r::Print::extruders()</a>, <a class="el" href="../../#l00035">Slic3r::gcfRepRapFirmware</a>, and <a class="el" href="../../#l00268">Slic3r::GCode::GCodeOutputStream::write()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>.</p>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_ad26de7a6470f710e55063e5ddd3ee86d_cgraph.svg" width="100%" height="516"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_ad26de7a6470f710e55063e5ddd3ee86d_icgraph.svg" width="551" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a70ab5d10c313544c2b21570695f06485" name="a70ab5d10c313544c2b21570695f06485"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70ab5d10c313544c2b21570695f06485">&#9670;&#160;</a></span>append_full_config()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::GCode::append_full_config </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d5/d8f/class_slic3r_1_1_print.html">Print</a> &amp;&#160;</td>
          <td class="paramname"><em>print</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>str</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3506</span>{</div>
<div class="line"><span class="lineno"> 3507</span>    <span class="keyword">const</span> DynamicPrintConfig &amp;cfg = print.full_print_config();</div>
<div class="line"><span class="lineno"> 3508</span>    <span class="comment">// Sorted list of config keys, which shall not be stored into the G-code. Initializer list.</span></div>
<div class="line"><span class="lineno"> 3509</span>    <span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keyword">auto</span> banned_keys = {</div>
<div class="line"><span class="lineno"> 3510</span>        <span class="stringliteral">&quot;compatible_printers&quot;</span>sv,</div>
<div class="line"><span class="lineno"> 3511</span>        <span class="stringliteral">&quot;compatible_prints&quot;</span>sv</div>
<div class="line"><span class="lineno"> 3512</span>    };</div>
<div class="line"><span class="lineno"> 3513</span>    assert(std::is_sorted(banned_keys.begin(), banned_keys.end()));</div>
<div class="line"><span class="lineno"> 3514</span>    <span class="keyword">auto</span> is_banned = [](<span class="keyword">const</span> std::string &amp;<a class="code hl_enumvalue" href="../../dc/df0/namespacenlohmann_1_1detail.html#a59e696b1dad6d0d99c172ac4518c2042a3c6e0b8a9c15224a8228b9a98ca1531d">key</a>) {</div>
<div class="line"><span class="lineno"> 3515</span>        <span class="keywordflow">return</span> std::binary_search(banned_keys.begin(), banned_keys.end(), key);</div>
<div class="line"><span class="lineno"> 3516</span>    };</div>
<div class="line"><span class="lineno"> 3517</span>    std::ostringstream ss;</div>
<div class="line"><span class="lineno"> 3518</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> std::string&amp; key : cfg.keys()) {</div>
<div class="line"><span class="lineno"> 3519</span>        <span class="keywordflow">if</span> (!is_banned(key) &amp;&amp; !cfg.option(key)-&gt;is_nil()) {</div>
<div class="line"><span class="lineno"> 3520</span>            <span class="keywordflow">if</span> (key == <span class="stringliteral">&quot;wipe_tower_x&quot;</span> || key == <span class="stringliteral">&quot;wipe_tower_y&quot;</span>) {</div>
<div class="line"><span class="lineno"> 3521</span>                ss &lt;&lt; std::fixed &lt;&lt; std::setprecision(3) &lt;&lt; <span class="stringliteral">&quot;; &quot;</span> &lt;&lt; <a class="code hl_enumvalue" href="../../dc/df0/namespacenlohmann_1_1detail.html#a59e696b1dad6d0d99c172ac4518c2042a3c6e0b8a9c15224a8228b9a98ca1531d">key</a> &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#ada0c88e79f3ceffda9c0e403171d475d">ConfigOptionFloats</a>*<span class="keyword">&gt;</span>(cfg.option(key))-&gt;get_at(print.get_plate_index()) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 3522</span>            }</div>
<div class="line"><span class="lineno"> 3523</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3524</span>                ss &lt;&lt; <span class="stringliteral">&quot;; &quot;</span> &lt;&lt; <a class="code hl_enumvalue" href="../../dc/df0/namespacenlohmann_1_1detail.html#a59e696b1dad6d0d99c172ac4518c2042a3c6e0b8a9c15224a8228b9a98ca1531d">key</a> &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; cfg.opt_serialize(key) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 3525</span>        }</div>
<div class="line"><span class="lineno"> 3526</span>    }</div>
<div class="line"><span class="lineno"> 3527</span>    str += ss.str();</div>
<div class="line"><span class="lineno"> 3528</span>}</div>
<div class="ttc" id="anamespacenlohmann_1_1detail_html_a59e696b1dad6d0d99c172ac4518c2042a3c6e0b8a9c15224a8228b9a98ca1531d"><div class="ttname"><a href="../../dc/df0/namespacenlohmann_1_1detail.html#a59e696b1dad6d0d99c172ac4518c2042a3c6e0b8a9c15224a8228b9a98ca1531d">nlohmann::detail::parse_event_t::key</a></div><div class="ttdeci">@ key</div><div class="ttdoc">the parser read a key of a value in an object</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00506">Slic3r::PrintBase::full_print_config()</a>, <a class="el" href="../../#l00514">Slic3r::PrintBase::get_plate_index()</a>, <a class="el" href="../../#l00280">Slic3r::ConfigOption::is_nil()</a>, <a class="el" href="../../#l01578">Slic3r::DynamicConfig::keys()</a>, <a class="el" href="../../#l00505">Slic3r::ConfigBase::opt_serialize()</a>, and <a class="el" href="../../#l02060">Slic3r::ConfigBase::option()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>.</p>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_a70ab5d10c313544c2b21570695f06485_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_a70ab5d10c313544c2b21570695f06485_icgraph.svg" width="562" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a7b877f79ab3624962b83514ec57c5e6d" name="a7b877f79ab3624962b83514ec57c5e6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b877f79ab3624962b83514ec57c5e6d">&#9670;&#160;</a></span>apply_print_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::GCode::apply_print_config </td>
          <td>(</td>
          <td class="paramtype">const PrintConfig &amp;&#160;</td>
          <td class="paramname"><em>print_config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3499</span>{</div>
<div class="line"><span class="lineno"> 3500</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a0d9068f6a16f55b700fb8efb28aa141c">apply_print_config</a>(print_config);</div>
<div class="line"><span class="lineno"> 3501</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.apply(print_config);</div>
<div class="line"><span class="lineno"> 3502</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a3ad6163c48d2f6ccc67aaa7c609bef12">m_scaled_resolution</a> = scaled&lt;double&gt;(print_config.resolution.value);</div>
<div class="line"><span class="lineno"> 3503</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a3ad6163c48d2f6ccc67aaa7c609bef12"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a3ad6163c48d2f6ccc67aaa7c609bef12">Slic3r::GCode::m_scaled_resolution</a></div><div class="ttdeci">double m_scaled_resolution</div><div class="ttdef"><b>Definition</b> GCode.hpp:431</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_a0d9068f6a16f55b700fb8efb28aa141c"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a0d9068f6a16f55b700fb8efb28aa141c">Slic3r::GCodeWriter::apply_print_config</a></div><div class="ttdeci">void apply_print_config(const PrintConfig &amp;print_config)</div><div class="ttdef"><b>Definition</b> GCodeWriter.cpp:21</div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>.</p>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_a7b877f79ab3624962b83514ec57c5e6d_icgraph.svg" width="550" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ac3a355ee318e2ae0abd866a8cc2b74c6" name="ac3a355ee318e2ae0abd866a8cc2b74c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3a355ee318e2ae0abd866a8cc2b74c6">&#9670;&#160;</a></span>change_layer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string Slic3r::GCode::change_layer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/db8/namespace_slic3r.html#a2ac5c755948c74f5f5f975acd5057fe9">coordf_t</a>&#160;</td>
          <td class="paramname"><em>print_z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>lazy_raise</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3571</span>{</div>
<div class="line"><span class="lineno"> 3572</span>    std::string <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a>;</div>
<div class="line"><span class="lineno"> 3573</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#afa528044bae428d5df6df25b4fe44516">m_layer_count</a> &gt; 0)</div>
<div class="line"><span class="lineno"> 3574</span>        <span class="comment">// Increment a progress bar indicator.</span></div>
<div class="line"><span class="lineno"> 3575</span>        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#acdb4af43a7de1eb5306916d49ece48a6">update_progress</a>(++ <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a3388b4f3b94c005c8b6c64b1ba9b105d">m_layer_index</a>, <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#afa528044bae428d5df6df25b4fe44516">m_layer_count</a>);</div>
<div class="line"><span class="lineno"> 3576</span>    <span class="comment">//BBS</span></div>
<div class="line"><span class="lineno"> 3577</span>    <span class="comment">//coordf_t z = print_z + m_config.z_offset.value;  // in unscaled coordinates</span></div>
<div class="line"><span class="lineno"> 3578</span>    <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a95c875c81df33d788132374e2b57c6c1">coordf_t</a> z = print_z;  <span class="comment">// in unscaled coordinates</span></div>
<div class="line"><span class="lineno"> 3579</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="../../df/d40/_g_code_8cpp.html#a2dec0e9fe2fb1c9e3862bc3fd4b2d911">EXTRUDER_CONFIG</a>(retract_when_changing_layer) &amp;&amp; <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a3de2d3b2dd0b6c75aff17f81558f844a">will_move_z</a>(z)) {</div>
<div class="line"><span class="lineno"> 3580</span>        <a class="code hl_enumeration" href="../../de/db8/namespace_slic3r.html#a65af44fb00b6bb6bdda9775762b39569">LiftType</a> lift_type = this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2f5e825b0be31d58b7b5d28c3446df5b">to_lift_type</a>(<a class="code hl_enumeration" href="../../de/db8/namespace_slic3r.html#a36eff5dabc254e08593a3f3963b56adb">ZHopType</a>(<a class="code hl_define" href="../../df/d40/_g_code_8cpp.html#a2dec0e9fe2fb1c9e3862bc3fd4b2d911">EXTRUDER_CONFIG</a>(z_hop_types)));</div>
<div class="line"><span class="lineno"> 3581</span>        <span class="comment">//BBS: force to use SpiralLift when change layer if lift type is auto</span></div>
<div class="line"><span class="lineno"> 3582</span>        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a058728ea49ef66a4b1e7ca9ac361a3ae">retract</a>(<span class="keyword">false</span>, <span class="keyword">false</span>, <a class="code hl_enumeration" href="../../de/db8/namespace_slic3r.html#a36eff5dabc254e08593a3f3963b56adb">ZHopType</a>(<a class="code hl_define" href="../../df/d40/_g_code_8cpp.html#a2dec0e9fe2fb1c9e3862bc3fd4b2d911">EXTRUDER_CONFIG</a>(z_hop_types)) == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a36eff5dabc254e08593a3f3963b56adba9905a65409a0c04acd35bc6042434a11">ZHopType::zhtAuto</a> ? <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a65af44fb00b6bb6bdda9775762b39569a763d32b709205d9b87f5d8dd16c5e7b8">LiftType::SpiralLift</a> : lift_type);</div>
<div class="line"><span class="lineno"> 3583</span>    }</div>
<div class="line"><span class="lineno"> 3584</span>    </div>
<div class="line"><span class="lineno"> 3585</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#ae25537c5912061af6fbee6f4cbcc9066">add_object_change_labels</a>(gcode);</div>
<div class="line"><span class="lineno"> 3586</span> </div>
<div class="line"><span class="lineno"> 3587</span>    <span class="keywordflow">if</span> (!lazy_raise) {</div>
<div class="line"><span class="lineno"> 3588</span>        std::ostringstream comment;</div>
<div class="line"><span class="lineno"> 3589</span>        comment &lt;&lt; <span class="stringliteral">&quot;move to next layer (&quot;</span> &lt;&lt; <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a3388b4f3b94c005c8b6c64b1ba9b105d">m_layer_index</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><span class="lineno"> 3590</span>        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#ad0008f46affc37f57e6bcb84404aeac7">travel_to_z</a>(z, comment.str());</div>
<div class="line"><span class="lineno"> 3591</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3592</span>        <span class="comment">//BBS: set m_need_change_layer_lift_z to be true so that z lift can be done in travel_to() function</span></div>
<div class="line"><span class="lineno"> 3593</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ac941272774cc4dbab332f22d1141f627">m_need_change_layer_lift_z</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3594</span>    }</div>
<div class="line"><span class="lineno"> 3595</span> </div>
<div class="line"><span class="lineno"> 3596</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a6876e5572d5a2139e24b13432e54beb2">m_nominal_z</a> = print_z;</div>
<div class="line"><span class="lineno"> 3597</span> </div>
<div class="line"><span class="lineno"> 3598</span>    <span class="comment">// forget last wiping path as wiping after raising Z is pointless</span></div>
<div class="line"><span class="lineno"> 3599</span>    <span class="comment">// BBS. Dont forget wiping path to reduce stringing.</span></div>
<div class="line"><span class="lineno"> 3600</span>    <span class="comment">//m_wipe.reset_path();</span></div>
<div class="line"><span class="lineno"> 3601</span> </div>
<div class="line"><span class="lineno"> 3602</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a>;</div>
<div class="line"><span class="lineno"> 3603</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a2f5e825b0be31d58b7b5d28c3446df5b"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2f5e825b0be31d58b7b5d28c3446df5b">Slic3r::GCode::to_lift_type</a></div><div class="ttdeci">LiftType to_lift_type(ZHopType z_hop_types)</div><div class="ttdef"><b>Definition</b> GCode.cpp:4526</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_a3de2d3b2dd0b6c75aff17f81558f844a"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a3de2d3b2dd0b6c75aff17f81558f844a">Slic3r::GCodeWriter::will_move_z</a></div><div class="ttdeci">bool will_move_z(double z) const</div><div class="ttdef"><b>Definition</b> GCodeWriter.cpp:530</div></div>
<div class="ttc" id="anamespace_slic3r_html_a36eff5dabc254e08593a3f3963b56adb"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a36eff5dabc254e08593a3f3963b56adb">Slic3r::ZHopType</a></div><div class="ttdeci">ZHopType</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:214</div></div>
<div class="ttc" id="anamespace_slic3r_html_a36eff5dabc254e08593a3f3963b56adba9905a65409a0c04acd35bc6042434a11"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a36eff5dabc254e08593a3f3963b56adba9905a65409a0c04acd35bc6042434a11">Slic3r::zhtAuto</a></div><div class="ttdeci">@ zhtAuto</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:215</div></div>
<div class="ttc" id="anamespace_slic3r_html_a65af44fb00b6bb6bdda9775762b39569"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a65af44fb00b6bb6bdda9775762b39569">Slic3r::LiftType</a></div><div class="ttdeci">LiftType</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:132</div></div>
<div class="ttc" id="anamespace_slic3r_html_a65af44fb00b6bb6bdda9775762b39569a763d32b709205d9b87f5d8dd16c5e7b8"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a65af44fb00b6bb6bdda9775762b39569a763d32b709205d9b87f5d8dd16c5e7b8">Slic3r::SpiralLift</a></div><div class="ttdeci">@ SpiralLift</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:134</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00767">EXTRUDER_CONFIG</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00753">Slic3r::WipeTowerIntegration::finalize()</a>.</p>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_ac3a355ee318e2ae0abd866a8cc2b74c6_icgraph.svg" width="400" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a2aa88a937a12e7e923de6bc93835c1e3" name="a2aa88a937a12e7e923de6bc93835c1e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2aa88a937a12e7e923de6bc93835c1e3">&#9670;&#160;</a></span>check_placeholder_parser_failed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::GCode::check_placeholder_parser_failed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2219</span>{</div>
<div class="line"><span class="lineno"> 2220</span>    <span class="keywordflow">if</span> (! <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a20286f6e3447ab45f5ec08e04d510645">m_placeholder_parser_failed_templates</a>.empty()) {</div>
<div class="line"><span class="lineno"> 2221</span>        <span class="comment">// G-code export proceeded, but some of the PlaceholderParser substitutions failed.</span></div>
<div class="line"><span class="lineno"> 2222</span>        std::string msg = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab28c13d286b2d1767d7c63b020ebd042">Slic3r::format</a>(<a class="code hl_define" href="../../db/d59/3mf_8cpp.html#afe73ea6f8e3b24ddb79e9508c56956bd">_</a>(<a class="code hl_define" href="../../d5/db8/_extrusion_entity_8cpp.html#a3948ef94e164df6b50c4a9d12ba60eb5">L</a>(<span class="stringliteral">&quot;Failed to generate gcode for invalid custom G-code.\n\n&quot;</span>)));</div>
<div class="line"><span class="lineno"> 2223</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;name_and_error : <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a20286f6e3447ab45f5ec08e04d510645">m_placeholder_parser_failed_templates</a>)</div>
<div class="line"><span class="lineno"> 2224</span>            msg += name_and_error.first + <span class="stringliteral">&quot; &quot;</span> + name_and_error.second + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 2225</span>        msg += <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab28c13d286b2d1767d7c63b020ebd042">Slic3r::format</a>(<a class="code hl_define" href="../../db/d59/3mf_8cpp.html#afe73ea6f8e3b24ddb79e9508c56956bd">_</a>(<a class="code hl_define" href="../../d5/db8/_extrusion_entity_8cpp.html#a3948ef94e164df6b50c4a9d12ba60eb5">L</a>(<span class="stringliteral">&quot;Please check the custom G-code or use the default custom G-code.&quot;</span>)));</div>
<div class="line"><span class="lineno"> 2226</span>        <span class="keywordflow">throw</span> Slic3r::PlaceholderParserError(msg);</div>
<div class="line"><span class="lineno"> 2227</span>    }</div>
<div class="line"><span class="lineno"> 2228</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a20286f6e3447ab45f5ec08e04d510645"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a20286f6e3447ab45f5ec08e04d510645">Slic3r::GCode::m_placeholder_parser_failed_templates</a></div><div class="ttdeci">std::map&lt; std::string, std::string &gt; m_placeholder_parser_failed_templates</div><div class="ttdef"><b>Definition</b> GCode.hpp:437</div></div>
<div class="ttc" id="anamespace_slic3r_html_ab28c13d286b2d1767d7c63b020ebd042"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#ab28c13d286b2d1767d7c63b020ebd042">Slic3r::format</a></div><div class="ttdeci">std::string format(const char *fmt, TArgs &amp;&amp;... args)</div><div class="ttdef"><b>Definition</b> format.hpp:44</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00273">_</a>, <a class="el" href="../../#l00044">Slic3r::format()</a>, <a class="el" href="../../#l00011">L</a>, and <a class="el" href="../../#l00437">m_placeholder_parser_failed_templates</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01068">do_export()</a>, and <a class="el" href="../../#l02233">process_layers()</a>.</p>
<div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_a2aa88a937a12e7e923de6bc93835c1e3_cgraph.svg" width="531" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_a2aa88a937a12e7e923de6bc93835c1e3_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="af0b1a1a7a5eaf73ebc070ca4d422f7fc" name="af0b1a1a7a5eaf73ebc070ca4d422f7fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0b1a1a7a5eaf73ebc070ca4d422f7fc">&#9670;&#160;</a></span>collect_layers_to_print() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::pair&lt; <a class="el" href="../../de/db8/namespace_slic3r.html#a2ac5c755948c74f5f5f975acd5057fe9">coordf_t</a>, std::vector&lt; <a class="el" href="../../df/d75/struct_slic3r_1_1_g_code_1_1_layer_to_print.html">GCode::LayerToPrint</a> &gt; &gt; &gt; Slic3r::GCode::collect_layers_to_print </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d5/d8f/class_slic3r_1_1_print.html">Print</a> &amp;&#160;</td>
          <td class="paramname"><em>print</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  881</span>{</div>
<div class="line"><span class="lineno">  882</span>    <span class="keyword">struct </span>OrderingItem {</div>
<div class="line"><span class="lineno">  883</span>        <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a95c875c81df33d788132374e2b57c6c1">coordf_t</a>    print_z;</div>
<div class="line"><span class="lineno">  884</span>        <span class="keywordtype">size_t</span>      object_idx;</div>
<div class="line"><span class="lineno">  885</span>        <span class="keywordtype">size_t</span>      layer_idx;</div>
<div class="line"><span class="lineno">  886</span>    };</div>
<div class="line"><span class="lineno">  887</span> </div>
<div class="line"><span class="lineno">  888</span>    std::vector&lt;std::vector&lt;LayerToPrint&gt;&gt;  per_object(print.objects().size(), std::vector&lt;LayerToPrint&gt;());</div>
<div class="line"><span class="lineno">  889</span>    std::vector&lt;OrderingItem&gt;               ordering;</div>
<div class="line"><span class="lineno">  890</span> </div>
<div class="line"><span class="lineno">  891</span>    std::vector&lt;Slic3r::SlicingError&gt; errors;</div>
<div class="line"><span class="lineno">  892</span> </div>
<div class="line"><span class="lineno">  893</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; print.objects().<a class="code hl_variable" href="../../de/d38/lzoconf_8h.html#a809275ccd755fb7b88661d952134b14d">size</a>(); ++i) {</div>
<div class="line"><span class="lineno">  894</span>        <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  895</span>            per_object[i] = <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7f7906e6e56fa2afb0a72943eb04383d">collect_layers_to_print</a>(*print.objects()[i]);</div>
<div class="line"><span class="lineno">  896</span>        } <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code hl_class" href="../../de/da8/class_slic3r_1_1_slicing_error.html">Slic3r::SlicingError</a> &amp;e) {</div>
<div class="line"><span class="lineno">  897</span>            errors.push_back(e);</div>
<div class="line"><span class="lineno">  898</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  899</span>        }</div>
<div class="line"><span class="lineno">  900</span>        OrderingItem ordering_item;</div>
<div class="line"><span class="lineno">  901</span>        ordering_item.object_idx = i;</div>
<div class="line"><span class="lineno">  902</span>        ordering.reserve(ordering.size() + per_object[i].size());</div>
<div class="line"><span class="lineno">  903</span>        <span class="keyword">const</span> LayerToPrint&amp; <a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a9bbafef5b59a31bd6049a3aee20d760b">front</a> = per_object[i].front();</div>
<div class="line"><span class="lineno">  904</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> LayerToPrint&amp; ltp : per_object[i]) {</div>
<div class="line"><span class="lineno">  905</span>            ordering_item.print_z = ltp.print_z();</div>
<div class="line"><span class="lineno">  906</span>            ordering_item.layer_idx = &amp;ltp - &amp;<a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a9bbafef5b59a31bd6049a3aee20d760b">front</a>;</div>
<div class="line"><span class="lineno">  907</span>            ordering.emplace_back(ordering_item);</div>
<div class="line"><span class="lineno">  908</span>        }</div>
<div class="line"><span class="lineno">  909</span>    }</div>
<div class="line"><span class="lineno">  910</span> </div>
<div class="line"><span class="lineno">  911</span>    <span class="keywordflow">if</span> (!errors.empty()) { <span class="keywordflow">throw</span> <a class="code hl_class" href="../../df/dff/class_slic3r_1_1_slicing_errors.html">Slic3r::SlicingErrors</a>(errors); }</div>
<div class="line"><span class="lineno">  912</span> </div>
<div class="line"><span class="lineno">  913</span>    std::sort(ordering.begin(), ordering.end(), [](<span class="keyword">const</span> OrderingItem&amp; oi1, <span class="keyword">const</span> OrderingItem&amp; oi2) { return oi1.print_z &lt; oi2.print_z; });</div>
<div class="line"><span class="lineno">  914</span> </div>
<div class="line"><span class="lineno">  915</span>    std::vector&lt;std::pair&lt;coordf_t, std::vector&lt;LayerToPrint&gt;&gt;&gt; layers_to_print;</div>
<div class="line"><span class="lineno">  916</span> </div>
<div class="line"><span class="lineno">  917</span>    <span class="comment">// Merge numerically very close Z values.</span></div>
<div class="line"><span class="lineno">  918</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; ordering.size();) {</div>
<div class="line"><span class="lineno">  919</span>        <span class="comment">// Find the last layer with roughly the same print_z.</span></div>
<div class="line"><span class="lineno">  920</span>        <span class="keywordtype">size_t</span> j = i + 1;</div>
<div class="line"><span class="lineno">  921</span>        <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a95c875c81df33d788132374e2b57c6c1">coordf_t</a> <a class="code hl_enumvalue" href="../../d2/d1b/stat_8h.html#a6c58d6d683698a3e7886533dc3241ca7acd20ac2e1b2e25e33293516660048674">zmax</a> = ordering[i].print_z + <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>;</div>
<div class="line"><span class="lineno">  922</span>        <span class="keywordflow">for</span> (; j &lt; ordering.size() &amp;&amp; ordering[j].print_z &lt;= <a class="code hl_enumvalue" href="../../d2/d1b/stat_8h.html#a6c58d6d683698a3e7886533dc3241ca7acd20ac2e1b2e25e33293516660048674">zmax</a>; ++j);</div>
<div class="line"><span class="lineno">  923</span>        <span class="comment">// Merge into layers_to_print.</span></div>
<div class="line"><span class="lineno">  924</span>        std::pair&lt;coordf_t, std::vector&lt;LayerToPrint&gt;&gt; merged;</div>
<div class="line"><span class="lineno">  925</span>        <span class="comment">// Assign an average print_z to the set of layers with nearly equal print_z.</span></div>
<div class="line"><span class="lineno">  926</span>        merged.first = 0.5 * (ordering[i].print_z + ordering[j - 1].print_z);</div>
<div class="line"><span class="lineno">  927</span>        merged.second.assign(print.objects().size(), LayerToPrint());</div>
<div class="line"><span class="lineno">  928</span>        <span class="keywordflow">for</span> (; i &lt; j; ++i) {</div>
<div class="line"><span class="lineno">  929</span>            <span class="keyword">const</span> OrderingItem&amp; oi = ordering[i];</div>
<div class="line"><span class="lineno">  930</span>            assert(merged.second[oi.object_idx].layer() == <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">  931</span>            merged.second[oi.object_idx] = std::move(per_object[oi.object_idx][oi.layer_idx]);</div>
<div class="line"><span class="lineno">  932</span>        }</div>
<div class="line"><span class="lineno">  933</span>        layers_to_print.emplace_back(std::move(merged));</div>
<div class="line"><span class="lineno">  934</span>    }</div>
<div class="line"><span class="lineno">  935</span> </div>
<div class="line"><span class="lineno">  936</span>    <span class="keywordflow">return</span> layers_to_print;</div>
<div class="line"><span class="lineno">  937</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_slicing_errors_html"><div class="ttname"><a href="../../df/dff/class_slic3r_1_1_slicing_errors.html">Slic3r::SlicingErrors</a></div><div class="ttdef"><b>Definition</b> Exception.hpp:41</div></div>
<div class="ttc" id="alzoconf_8h_html_a809275ccd755fb7b88661d952134b14d"><div class="ttname"><a href="../../de/d38/lzoconf_8h.html#a809275ccd755fb7b88661d952134b14d">size</a></div><div class="ttdeci">lzo_uint size</div><div class="ttdef"><b>Definition</b> lzoconf.h:378</div></div>
<div class="ttc" id="anamespacelibnest2d_1_1shapelike_html_a9bbafef5b59a31bd6049a3aee20d760b"><div class="ttname"><a href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a9bbafef5b59a31bd6049a3aee20d760b">libnest2d::shapelike::front</a></div><div class="ttdeci">TPoint&lt; P &gt; front(const P &amp;p)</div><div class="ttdef"><b>Definition</b> geometry_traits.hpp:885</div></div>
<div class="ttc" id="astat_8h_html_a6c58d6d683698a3e7886533dc3241ca7acd20ac2e1b2e25e33293516660048674"><div class="ttname"><a href="../../d2/d1b/stat_8h.html#a6c58d6d683698a3e7886533dc3241ca7acd20ac2e1b2e25e33293516660048674">zmax</a></div><div class="ttdeci">@ zmax</div><div class="ttdef"><b>Definition</b> stat.h:347</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00771">collect_layers_to_print()</a>, <a class="el" href="../../#l00052">EPSILON</a>, <a class="el" href="../../#l00743">Slic3r::Print::objects()</a>, <a class="el" href="../../#l00159">Slic3r::ConstVectorOfPtrsAdaptor&lt; T &gt;::size()</a>, <a class="el" href="../../#l00378">size</a>, and <a class="el" href="../../#l00347">zmax</a>.</p>
<div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_af0b1a1a7a5eaf73ebc070ca4d422f7fc_cgraph.svg" width="100%" height="560"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a7f7906e6e56fa2afb0a72943eb04383d" name="a7f7906e6e56fa2afb0a72943eb04383d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f7906e6e56fa2afb0a72943eb04383d">&#9670;&#160;</a></span>collect_layers_to_print() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="../../df/d75/struct_slic3r_1_1_g_code_1_1_layer_to_print.html">GCode::LayerToPrint</a> &gt; Slic3r::GCode::collect_layers_to_print </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> &amp;&#160;</td>
          <td class="paramname"><em>object</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  772</span>{</div>
<div class="line"><span class="lineno">  773</span>    std::vector&lt;GCode::LayerToPrint&gt; layers_to_print;</div>
<div class="line"><span class="lineno">  774</span>    layers_to_print.reserve(<span class="keywordtype">object</span>.layers().<a class="code hl_variable" href="../../de/d38/lzoconf_8h.html#a809275ccd755fb7b88661d952134b14d">size</a>() + <span class="keywordtype">object</span>.support_layers().<a class="code hl_variable" href="../../de/d38/lzoconf_8h.html#a809275ccd755fb7b88661d952134b14d">size</a>());</div>
<div class="line"><span class="lineno">  775</span> </div>
<div class="line"><span class="lineno">  776</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  777</span><span class="comment">    // Calculate a minimum support layer height as a minimum over all extruders, but not smaller than 10um.</span></div>
<div class="line"><span class="lineno">  778</span><span class="comment">    // This is the same logic as in support generator.</span></div>
<div class="line"><span class="lineno">  779</span><span class="comment">    //FIXME should we use the printing extruders instead?</span></div>
<div class="line"><span class="lineno">  780</span><span class="comment">    double gap_over_supports = object.config().support_top_z_distance;</span></div>
<div class="line"><span class="lineno">  781</span><span class="comment">    // FIXME should we test object.config().support_material_synchronize_layers ? Currently the support layers are synchronized with object layers iff soluble supports.</span></div>
<div class="line"><span class="lineno">  782</span><span class="comment">    assert(!object.has_support() || gap_over_supports != 0. || object.config().support_material_synchronize_layers);</span></div>
<div class="line"><span class="lineno">  783</span><span class="comment">    if (gap_over_supports != 0.) {</span></div>
<div class="line"><span class="lineno">  784</span><span class="comment">        gap_over_supports = std::max(0., gap_over_supports);</span></div>
<div class="line"><span class="lineno">  785</span><span class="comment">        // Not a soluble support,</span></div>
<div class="line"><span class="lineno">  786</span><span class="comment">        double support_layer_height_min = 1000000.;</span></div>
<div class="line"><span class="lineno">  787</span><span class="comment">        for (auto lh : object.print()-&gt;config().min_layer_height.values)</span></div>
<div class="line"><span class="lineno">  788</span><span class="comment">            support_layer_height_min = std::min(support_layer_height_min, std::max(0.01, lh));</span></div>
<div class="line"><span class="lineno">  789</span><span class="comment">        gap_over_supports += support_layer_height_min;</span></div>
<div class="line"><span class="lineno">  790</span><span class="comment">    }*/</span></div>
<div class="line"><span class="lineno">  791</span> </div>
<div class="line"><span class="lineno">  792</span>    std::vector&lt;std::pair&lt;double, double&gt;&gt; warning_ranges;</div>
<div class="line"><span class="lineno">  793</span> </div>
<div class="line"><span class="lineno">  794</span>    <span class="comment">// Pair the object layers with the support layers by z.</span></div>
<div class="line"><span class="lineno">  795</span>    <span class="keywordtype">size_t</span> idx_object_layer = 0;</div>
<div class="line"><span class="lineno">  796</span>    <span class="keywordtype">size_t</span> idx_support_layer = 0;</div>
<div class="line"><span class="lineno">  797</span>    <span class="keyword">const</span> LayerToPrint* last_extrusion_layer = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  798</span>    <span class="keywordflow">while</span> (idx_object_layer &lt; <span class="keywordtype">object</span>.layers().<a class="code hl_variable" href="../../de/d38/lzoconf_8h.html#a809275ccd755fb7b88661d952134b14d">size</a>() || idx_support_layer &lt; <span class="keywordtype">object</span>.support_layers().<a class="code hl_variable" href="../../de/d38/lzoconf_8h.html#a809275ccd755fb7b88661d952134b14d">size</a>()) {</div>
<div class="line"><span class="lineno">  799</span>        LayerToPrint layer_to_print;</div>
<div class="line"><span class="lineno">  800</span>        <span class="keywordtype">double</span> print_z_min = std::numeric_limits&lt;double&gt;::max();</div>
<div class="line"><span class="lineno">  801</span>        <span class="keywordflow">if</span> (idx_object_layer &lt; <span class="keywordtype">object</span>.layers().<a class="code hl_variable" href="../../de/d38/lzoconf_8h.html#a809275ccd755fb7b88661d952134b14d">size</a>()) {</div>
<div class="line"><span class="lineno">  802</span>            layer_to_print.object_layer = <span class="keywordtype">object</span>.layers()[idx_object_layer++];</div>
<div class="line"><span class="lineno">  803</span>            print_z_min = std::min(print_z_min, layer_to_print.object_layer-&gt;print_z);</div>
<div class="line"><span class="lineno">  804</span>        }</div>
<div class="line"><span class="lineno">  805</span> </div>
<div class="line"><span class="lineno">  806</span>        <span class="keywordflow">if</span> (idx_support_layer &lt; <span class="keywordtype">object</span>.support_layers().<a class="code hl_variable" href="../../de/d38/lzoconf_8h.html#a809275ccd755fb7b88661d952134b14d">size</a>()) {</div>
<div class="line"><span class="lineno">  807</span>            layer_to_print.support_layer = <span class="keywordtype">object</span>.support_layers()[idx_support_layer++];</div>
<div class="line"><span class="lineno">  808</span>            print_z_min = std::min(print_z_min, layer_to_print.support_layer-&gt;print_z);</div>
<div class="line"><span class="lineno">  809</span>        }</div>
<div class="line"><span class="lineno">  810</span> </div>
<div class="line"><span class="lineno">  811</span>        <span class="keywordflow">if</span> (layer_to_print.object_layer &amp;&amp; layer_to_print.object_layer-&gt;print_z &gt; print_z_min + <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>) {</div>
<div class="line"><span class="lineno">  812</span>            layer_to_print.object_layer = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  813</span>            --idx_object_layer;</div>
<div class="line"><span class="lineno">  814</span>        }</div>
<div class="line"><span class="lineno">  815</span> </div>
<div class="line"><span class="lineno">  816</span>        <span class="keywordflow">if</span> (layer_to_print.support_layer &amp;&amp; layer_to_print.support_layer-&gt;print_z &gt; print_z_min + <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>) {</div>
<div class="line"><span class="lineno">  817</span>            layer_to_print.support_layer = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  818</span>            --idx_support_layer;</div>
<div class="line"><span class="lineno">  819</span>        }</div>
<div class="line"><span class="lineno">  820</span> </div>
<div class="line"><span class="lineno">  821</span>        layer_to_print.original_object = &amp;<a class="code hl_enumvalue" href="../../dc/df0/namespacenlohmann_1_1detail.html#a1ed8fc6239da25abcaf681d30ace4985aa8cfde6331bd59eb2ac96f8911c4b666">object</a>;</div>
<div class="line"><span class="lineno">  822</span>        layers_to_print.push_back(layer_to_print);</div>
<div class="line"><span class="lineno">  823</span> </div>
<div class="line"><span class="lineno">  824</span>        <span class="keywordtype">bool</span> has_extrusions = (layer_to_print.object_layer &amp;&amp; layer_to_print.object_layer-&gt;has_extrusions())</div>
<div class="line"><span class="lineno">  825</span>            || (layer_to_print.support_layer &amp;&amp; layer_to_print.support_layer-&gt;has_extrusions());</div>
<div class="line"><span class="lineno">  826</span> </div>
<div class="line"><span class="lineno">  827</span>        <span class="comment">// Check that there are extrusions on the very first layer. The case with empty</span></div>
<div class="line"><span class="lineno">  828</span>        <span class="comment">// first layer may result in skirt/brim in the air and maybe other issues.</span></div>
<div class="line"><span class="lineno">  829</span>        <span class="keywordflow">if</span> (layers_to_print.size() == 1u) {</div>
<div class="line"><span class="lineno">  830</span>            <span class="keywordflow">if</span> (!has_extrusions)</div>
<div class="line"><span class="lineno">  831</span>                <span class="keywordflow">throw</span> <a class="code hl_class" href="../../de/da8/class_slic3r_1_1_slicing_error.html">Slic3r::SlicingError</a>(<a class="code hl_define" href="../../db/d59/3mf_8cpp.html#afe73ea6f8e3b24ddb79e9508c56956bd">_</a>(<a class="code hl_define" href="../../d5/db8/_extrusion_entity_8cpp.html#a3948ef94e164df6b50c4a9d12ba60eb5">L</a>(<span class="stringliteral">&quot;One object has empty initial layer and can&#39;t be printed. Please Cut the bottom or enable supports.&quot;</span>)), <span class="keywordtype">object</span>.<span class="keywordtype">id</span>().<span class="keywordtype">id</span>);</div>
<div class="line"><span class="lineno">  832</span>        }</div>
<div class="line"><span class="lineno">  833</span> </div>
<div class="line"><span class="lineno">  834</span>        <span class="comment">// In case there are extrusions on this layer, check there is a layer to lay it on.</span></div>
<div class="line"><span class="lineno">  835</span>        <span class="keywordflow">if</span> ((layer_to_print.object_layer &amp;&amp; layer_to_print.object_layer-&gt;has_extrusions())</div>
<div class="line"><span class="lineno">  836</span>            <span class="comment">// Allow empty support layers, as the support generator may produce no extrusions for non-empty support regions.</span></div>
<div class="line"><span class="lineno">  837</span>            || (layer_to_print.support_layer <span class="comment">/* &amp;&amp; layer_to_print.support_layer-&gt;has_extrusions() */</span>)) {</div>
<div class="line"><span class="lineno">  838</span>            <span class="keywordtype">double</span> top_cd = <span class="keywordtype">object</span>.config().support_top_z_distance;</div>
<div class="line"><span class="lineno">  839</span>            <span class="comment">//double bottom_cd = object.config().support_bottom_z_distance == 0. ? top_cd : object.config().support_bottom_z_distance;</span></div>
<div class="line"><span class="lineno">  840</span>            <span class="keywordtype">double</span> bottom_cd = top_cd;</div>
<div class="line"><span class="lineno">  841</span> </div>
<div class="line"><span class="lineno">  842</span>            <span class="keywordtype">double</span> extra_gap = (layer_to_print.support_layer ? bottom_cd : top_cd);</div>
<div class="line"><span class="lineno">  843</span> </div>
<div class="line"><span class="lineno">  844</span>            <span class="comment">// raft contact distance should not trigger any warning</span></div>
<div class="line"><span class="lineno">  845</span>            <span class="keywordflow">if</span>(last_extrusion_layer &amp;&amp; last_extrusion_layer-&gt;support_layer)</div>
<div class="line"><span class="lineno">  846</span>                extra_gap = std::max(extra_gap, <span class="keywordtype">object</span>.<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a>().raft_contact_distance.value);</div>
<div class="line"><span class="lineno">  847</span> </div>
<div class="line"><span class="lineno">  848</span>            <span class="keywordtype">double</span> maximal_print_z = (last_extrusion_layer ? last_extrusion_layer-&gt;print_z() : 0.)</div>
<div class="line"><span class="lineno">  849</span>                + layer_to_print.layer()-&gt;height</div>
<div class="line"><span class="lineno">  850</span>                + std::max(0., extra_gap);</div>
<div class="line"><span class="lineno">  851</span>            <span class="comment">// Negative support_contact_z is not taken into account, it can result in false positives in cases</span></div>
<div class="line"><span class="lineno">  852</span> </div>
<div class="line"><span class="lineno">  853</span>            <span class="keywordflow">if</span> (has_extrusions &amp;&amp; layer_to_print.print_z() &gt; maximal_print_z + 2. * <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>)</div>
<div class="line"><span class="lineno">  854</span>                warning_ranges.emplace_back(std::make_pair((last_extrusion_layer ? last_extrusion_layer-&gt;print_z() : 0.), layers_to_print.<a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a46b7df127ea55a76bc6f42c30a06d0da">back</a>().print_z()));</div>
<div class="line"><span class="lineno">  855</span>        }</div>
<div class="line"><span class="lineno">  856</span>        <span class="comment">// Remember last layer with extrusions.</span></div>
<div class="line"><span class="lineno">  857</span>        <span class="keywordflow">if</span> (has_extrusions)</div>
<div class="line"><span class="lineno">  858</span>            last_extrusion_layer = &amp;layers_to_print.back();</div>
<div class="line"><span class="lineno">  859</span>    }</div>
<div class="line"><span class="lineno">  860</span> </div>
<div class="line"><span class="lineno">  861</span>    <span class="keywordflow">if</span> (! warning_ranges.empty()) {</div>
<div class="line"><span class="lineno">  862</span>        std::string warning;</div>
<div class="line"><span class="lineno">  863</span>        <span class="keywordtype">size_t</span> i = 0;</div>
<div class="line"><span class="lineno">  864</span>        <span class="keywordflow">for</span> (i = 0; i &lt; std::min(warning_ranges.size(), <span class="keywordtype">size_t</span>(5)); ++i)</div>
<div class="line"><span class="lineno">  865</span>            warning += <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab28c13d286b2d1767d7c63b020ebd042">Slic3r::format</a>(<a class="code hl_define" href="../../db/d59/3mf_8cpp.html#afe73ea6f8e3b24ddb79e9508c56956bd">_</a>(<a class="code hl_define" href="../../d5/db8/_extrusion_entity_8cpp.html#a3948ef94e164df6b50c4a9d12ba60eb5">L</a>(<span class="stringliteral">&quot;Object can&#39;t be printed for empty layer between %1% and %2%.&quot;</span>)),</div>
<div class="line"><span class="lineno">  866</span>                                      warning_ranges[i].first, warning_ranges[i].second) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  867</span>        warning += <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab28c13d286b2d1767d7c63b020ebd042">Slic3r::format</a>(<a class="code hl_define" href="../../db/d59/3mf_8cpp.html#afe73ea6f8e3b24ddb79e9508c56956bd">_</a>(<a class="code hl_define" href="../../d5/db8/_extrusion_entity_8cpp.html#a3948ef94e164df6b50c4a9d12ba60eb5">L</a>(<span class="stringliteral">&quot;Object: %1%&quot;</span>)), <span class="keywordtype">object</span>.model_object()-&gt;name) + <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><span class="lineno">  868</span>            + <a class="code hl_define" href="../../db/d59/3mf_8cpp.html#afe73ea6f8e3b24ddb79e9508c56956bd">_</a>(<a class="code hl_define" href="../../d5/db8/_extrusion_entity_8cpp.html#a3948ef94e164df6b50c4a9d12ba60eb5">L</a>(<span class="stringliteral">&quot;Maybe parts of the object at these height are too thin, or the object has faulty mesh&quot;</span>));</div>
<div class="line"><span class="lineno">  869</span> </div>
<div class="line"><span class="lineno">  870</span>        <span class="keyword">const_cast&lt;</span><a class="code hl_friend" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a51c1431f2c30811e53d6c04ddab5fb8e">Print</a>*<span class="keyword">&gt;</span>(<span class="keywordtype">object</span>.print())-&gt;active_step_add_warning(</div>
<div class="line"><span class="lineno">  871</span>            <a class="code hl_enumvalue" href="../../d2/da0/class_slic3r_1_1_print_state_base.html#aa56c022e7e81489a346f4b6ca8b34696a99cd1c61610c76a57cb8d10d6df6b870">PrintStateBase::WarningLevel::CRITICAL</a>, warning, <a class="code hl_enumvalue" href="../../d2/da0/class_slic3r_1_1_print_state_base.html#a3cbe05422b6d94af661a62959944d398a7e9e9acce0e6a48edc50eabe270f29fa">PrintStateBase::SlicingEmptyGcodeLayers</a>);</div>
<div class="line"><span class="lineno">  872</span>    }</div>
<div class="line"><span class="lineno">  873</span> </div>
<div class="line"><span class="lineno">  874</span>    <span class="keywordflow">return</span> layers_to_print;</div>
<div class="line"><span class="lineno">  875</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a51c1431f2c30811e53d6c04ddab5fb8e"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a51c1431f2c30811e53d6c04ddab5fb8e">Slic3r::GCode::Print</a></div><div class="ttdeci">friend class Print</div><div class="ttdef"><b>Definition</b> GCode.hpp:549</div></div>
<div class="ttc" id="aclass_slic3r_1_1_print_state_base_html_a3cbe05422b6d94af661a62959944d398a7e9e9acce0e6a48edc50eabe270f29fa"><div class="ttname"><a href="../../d2/da0/class_slic3r_1_1_print_state_base.html#a3cbe05422b6d94af661a62959944d398a7e9e9acce0e6a48edc50eabe270f29fa">Slic3r::PrintStateBase::SlicingEmptyGcodeLayers</a></div><div class="ttdeci">@ SlicingEmptyGcodeLayers</div><div class="ttdef"><b>Definition</b> PrintBase.hpp:62</div></div>
<div class="ttc" id="aclass_slic3r_1_1_print_state_base_html_aa56c022e7e81489a346f4b6ca8b34696a99cd1c61610c76a57cb8d10d6df6b870"><div class="ttname"><a href="../../d2/da0/class_slic3r_1_1_print_state_base.html#aa56c022e7e81489a346f4b6ca8b34696a99cd1c61610c76a57cb8d10d6df6b870">Slic3r::PrintStateBase::WarningLevel::CRITICAL</a></div><div class="ttdeci">@ CRITICAL</div></div>
<div class="ttc" id="anamespacelibnest2d_1_1shapelike_html_a46b7df127ea55a76bc6f42c30a06d0da"><div class="ttname"><a href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a46b7df127ea55a76bc6f42c30a06d0da">libnest2d::shapelike::back</a></div><div class="ttdeci">TPoint&lt; P &gt; back(const P &amp;p)</div><div class="ttdef"><b>Definition</b> geometry_traits.hpp:886</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00273">_</a>, <a class="el" href="../../#l00185">config()</a>, <a class="el" href="../../d2/da0/class_slic3r_1_1_print_state_base.html#aa56c022e7e81489a346f4b6ca8b34696a99cd1c61610c76a57cb8d10d6df6b870">Slic3r::PrintStateBase::CRITICAL</a>, <a class="el" href="../../#l00052">EPSILON</a>, <a class="el" href="../../#l00044">Slic3r::format()</a>, <a class="el" href="../../#l00191">Slic3r::Layer::has_extrusions()</a>, <a class="el" href="../../#l00277">Slic3r::SupportLayer::has_extrusions()</a>, <a class="el" href="../../#l00132">Slic3r::Layer::height</a>, <a class="el" href="../../#l00011">L</a>, <a class="el" href="../../#l00222">Slic3r::GCode::LayerToPrint::layer()</a>, <a class="el" href="../../#l00219">Slic3r::GCode::LayerToPrint::object_layer</a>, <a class="el" href="../../#l00221">Slic3r::GCode::LayerToPrint::original_object</a>, <a class="el" href="../../#l00237">Slic3r::GCode::LayerToPrint::print_z()</a>, <a class="el" href="../../#l00131">Slic3r::Layer::print_z</a>, <a class="el" href="../../#l00378">size</a>, <a class="el" href="../../#l00062">Slic3r::PrintStateBase::SlicingEmptyGcodeLayers</a>, and <a class="el" href="../../#l00220">Slic3r::GCode::LayerToPrint::support_layer</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>, and <a class="el" href="../../#l00880">collect_layers_to_print()</a>.</p>
<div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_a7f7906e6e56fa2afb0a72943eb04383d_cgraph.svg" width="650" height="347"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_a7f7906e6e56fa2afb0a72943eb04383d_icgraph.svg" width="574" height="118"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ae28a3adcf7e9d41743591a067d1f0d6e" name="ae28a3adcf7e9d41743591a067d1f0d6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae28a3adcf7e9d41743591a067d1f0d6e">&#9670;&#160;</a></span>config()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const FullPrintConfig &amp; Slic3r::GCode::config </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  185</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00428">m_config</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>, <a class="el" href="../../#l00284">Slic3r::OozePrevention::_get_temp()</a>, <a class="el" href="../../#l00380">Slic3r::WipeTowerIntegration::append_tcr()</a>, <a class="el" href="../../#l00771">collect_layers_to_print()</a>, <a class="el" href="../../#l00248">Slic3r::CalibPressureAdvanceLine::generate_test()</a>, <a class="el" href="../../#l00271">Slic3r::CalibPressureAdvanceLine::is_delta()</a>, <a class="el" href="../../#l00700">Slic3r::need_wipe()</a>, <a class="el" href="../../#l00276">Slic3r::OozePrevention::post_toolchange()</a>, <a class="el" href="../../#l00246">Slic3r::OozePrevention::pre_toolchange()</a>, <a class="el" href="../../#l00276">Slic3r::CalibPressureAdvanceLine::print_pa_lines()</a>, <a class="el" href="../../#l00716">Slic3r::WipeTowerIntegration::tool_change()</a>, <a class="el" href="../../#l01121">Slic3r::AvoidCrossingPerimeters::travel_to()</a>, and <a class="el" href="../../#l00291">Slic3r::Wipe::wipe()</a>.</p>
<div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_ae28a3adcf7e9d41743591a067d1f0d6e_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a41ddab6bfd15c1848026271f48485efb" name="a41ddab6bfd15c1848026271f48485efb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41ddab6bfd15c1848026271f48485efb">&#9670;&#160;</a></span>do_export()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::GCode::do_export </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d8f/class_slic3r_1_1_print.html">Print</a> *&#160;</td>
          <td class="paramname"><em>print</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d71/struct_slic3r_1_1_g_code_processor_result.html">GCodeProcessorResult</a> *&#160;</td>
          <td class="paramname"><em>result</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/db8/namespace_slic3r.html#a79187906049e3735014486bf42b0180f">ThumbnailsGeneratorCallback</a>&#160;</td>
          <td class="paramname"><em>thumbnail_cb</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1069</span>{</div>
<div class="line"><span class="lineno"> 1070</span>    <a class="code hl_define" href="../../db/d5a/_shiny_macros_8h.html#a394204bd3adb9dd7a20b9339a22abd1f">PROFILE_CLEAR</a>();</div>
<div class="line"><span class="lineno"> 1071</span> </div>
<div class="line"><span class="lineno"> 1072</span>    <span class="comment">// BBS</span></div>
<div class="line"><span class="lineno"> 1073</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aad1ede23b9581df98d65205c77a675e7">m_curr_print</a> = print;</div>
<div class="line"><span class="lineno"> 1074</span> </div>
<div class="line"><span class="lineno"> 1075</span>    <a class="code hl_variable" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a253f1395c0746947f30e75174d5b5965">GCodeWriter::full_gcode_comment</a> = print-&gt;config().gcode_comments;</div>
<div class="line"><span class="lineno"> 1076</span>    CNumericLocalesSetter locales_setter;</div>
<div class="line"><span class="lineno"> 1077</span> </div>
<div class="line"><span class="lineno"> 1078</span>    <span class="comment">// Does the file exist? If so, we hope that it is still valid.</span></div>
<div class="line"><span class="lineno"> 1079</span>    <span class="keywordflow">if</span> (print-&gt;is_step_done(<a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a64467311ef101236e18bc66eb62db4aaaf306804ccb2520c3772fd54ab4c1a72c">psGCodeExport</a>) &amp;&amp; boost::filesystem::exists(boost::filesystem::path(path)))</div>
<div class="line"><span class="lineno"> 1080</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1081</span> </div>
<div class="line"><span class="lineno"> 1082</span>    BOOST_LOG_TRIVIAL(info) &lt;&lt; boost::format(<span class="stringliteral">&quot;Will export G-code to %1% soon&quot;</span>)%path;</div>
<div class="line"><span class="lineno"> 1083</span>    <a class="code hl_variable" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#ac39e9353f7601dee9f727d76727be7e7">GCodeProcessor::s_IsBBLPrinter</a> = print-&gt;is_BBL_printer();</div>
<div class="line"><span class="lineno"> 1084</span>    print-&gt;set_started(<a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a64467311ef101236e18bc66eb62db4aaaf306804ccb2520c3772fd54ab4c1a72c">psGCodeExport</a>);</div>
<div class="line"><span class="lineno"> 1085</span> </div>
<div class="line"><span class="lineno"> 1086</span>    <span class="comment">// check if any custom gcode contains keywords used by the gcode processor to</span></div>
<div class="line"><span class="lineno"> 1087</span>    <span class="comment">// produce time estimation and gcode toolpaths</span></div>
<div class="line"><span class="lineno"> 1088</span>    std::vector&lt;std::pair&lt;std::string, std::string&gt;&gt; validation_res = <a class="code hl_function" href="../../de/d39/namespace_slic3r_1_1_do_export.html#a40d0376ceedf29d7ed0c848e9d97fdc4">DoExport::validate_custom_gcode</a>(*print);</div>
<div class="line"><span class="lineno"> 1089</span>    <span class="keywordflow">if</span> (!validation_res.empty()) {</div>
<div class="line"><span class="lineno"> 1090</span>        std::string reports;</div>
<div class="line"><span class="lineno"> 1091</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; [source, keyword] : validation_res) {</div>
<div class="line"><span class="lineno"> 1092</span>            reports += source + <span class="stringliteral">&quot;: \&quot;&quot;</span> + keyword + <span class="stringliteral">&quot;\&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1093</span>        }</div>
<div class="line"><span class="lineno"> 1094</span>        <span class="comment">//print-&gt;active_step_add_warning(PrintStateBase::WarningLevel::NON_CRITICAL,</span></div>
<div class="line"><span class="lineno"> 1095</span>        <span class="comment">//    _(L(&quot;In the custom G-code were found reserved keywords:&quot;)) + &quot;\n&quot; +</span></div>
<div class="line"><span class="lineno"> 1096</span>        <span class="comment">//    reports +</span></div>
<div class="line"><span class="lineno"> 1097</span>        <span class="comment">//    _(L(&quot;This may cause problems in g-code visualization and printing time estimation.&quot;)));</span></div>
<div class="line"><span class="lineno"> 1098</span>        std::string temp = <span class="stringliteral">&quot;Dangerous keywords in custom Gcode: &quot;</span> + reports + <span class="stringliteral">&quot;\nThis may cause problems in g-code visualization and printing time estimation.&quot;</span>;</div>
<div class="line"><span class="lineno"> 1099</span>        BOOST_LOG_TRIVIAL(warning) &lt;&lt; temp;</div>
<div class="line"><span class="lineno"> 1100</span>    }</div>
<div class="line"><span class="lineno"> 1101</span> </div>
<div class="line"><span class="lineno"> 1102</span>    BOOST_LOG_TRIVIAL(info) &lt;&lt; <span class="stringliteral">&quot;Exporting G-code...&quot;</span> &lt;&lt; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7bcaee6c88f650fd234f688ae2311ec5">log_memory_info</a>();</div>
<div class="line"><span class="lineno"> 1103</span> </div>
<div class="line"><span class="lineno"> 1104</span>    <span class="comment">// Remove the old g-code if it exists.</span></div>
<div class="line"><span class="lineno"> 1105</span>    boost::nowide::remove(path);</div>
<div class="line"><span class="lineno"> 1106</span> </div>
<div class="line"><span class="lineno"> 1107</span>    fs::path file_path(path);</div>
<div class="line"><span class="lineno"> 1108</span>    fs::path folder = file_path.parent_path();</div>
<div class="line"><span class="lineno"> 1109</span>    <span class="keywordflow">if</span> (!fs::exists(folder)) {</div>
<div class="line"><span class="lineno"> 1110</span>        fs::create_directory(folder);</div>
<div class="line"><span class="lineno"> 1111</span>        BOOST_LOG_TRIVIAL(<a class="code hl_variable" href="../../d5/d8c/xmlrole_8c.html#a2739afc9d7ed13e98e5e0c5b2e1f0428">error</a>) &lt;&lt; <span class="stringliteral">&quot;[WARNING]: the parent path &quot;</span> + folder.string() +<span class="stringliteral">&quot; is not there, create it!&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1112</span>    }</div>
<div class="line"><span class="lineno"> 1113</span> </div>
<div class="line"><span class="lineno"> 1114</span>    std::string path_tmp(path);</div>
<div class="line"><span class="lineno"> 1115</span>    path_tmp += <span class="stringliteral">&quot;.tmp&quot;</span>;</div>
<div class="line"><span class="lineno"> 1116</span> </div>
<div class="line"><span class="lineno"> 1117</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a10970cfca3474859c6a5d52c57f604ac">m_processor</a>.<a class="code hl_function" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#ac74c5f6525193a1bbcd0cbd4c5ced599">initialize</a>(path_tmp);</div>
<div class="line"><span class="lineno"> 1118</span>    GCodeOutputStream file(boost::nowide::fopen(path_tmp.c_str(), <span class="stringliteral">&quot;wb&quot;</span>), <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a10970cfca3474859c6a5d52c57f604ac">m_processor</a>);</div>
<div class="line"><span class="lineno"> 1119</span>    <span class="keywordflow">if</span> (! file.is_open()) {</div>
<div class="line"><span class="lineno"> 1120</span>        BOOST_LOG_TRIVIAL(<a class="code hl_variable" href="../../d5/d8c/xmlrole_8c.html#a2739afc9d7ed13e98e5e0c5b2e1f0428">error</a>) &lt;&lt; std::string(<span class="stringliteral">&quot;G-code export to &quot;</span>) + path + <span class="stringliteral">&quot; failed.\nCannot open the file for writing.\n&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1121</span>        <span class="keywordflow">if</span> (!fs::exists(folder)) {</div>
<div class="line"><span class="lineno"> 1122</span>            <span class="comment">//fs::create_directory(folder);</span></div>
<div class="line"><span class="lineno"> 1123</span>            BOOST_LOG_TRIVIAL(<a class="code hl_variable" href="../../d5/d8c/xmlrole_8c.html#a2739afc9d7ed13e98e5e0c5b2e1f0428">error</a>) &lt;&lt; <span class="stringliteral">&quot;the parent path &quot;</span> + folder.string() +<span class="stringliteral">&quot; is not there!!!&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1124</span>        }</div>
<div class="line"><span class="lineno"> 1125</span>        <span class="keywordflow">throw</span> Slic3r::RuntimeError(std::string(<span class="stringliteral">&quot;G-code export to &quot;</span>) + path + <span class="stringliteral">&quot; failed.\nCannot open the file for writing.\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1126</span>    }</div>
<div class="line"><span class="lineno"> 1127</span> </div>
<div class="line"><span class="lineno"> 1128</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 1129</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a20286f6e3447ab45f5ec08e04d510645">m_placeholder_parser_failed_templates</a>.clear();</div>
<div class="line"><span class="lineno"> 1130</span>        this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad5ac0f44c2121cf8d09cc7fde2dae045">_do_export</a>(*print, file, thumbnail_cb);</div>
<div class="line"><span class="lineno"> 1131</span>        file.flush();</div>
<div class="line"><span class="lineno"> 1132</span>        <span class="keywordflow">if</span> (file.is_error()) {</div>
<div class="line"><span class="lineno"> 1133</span>            file.close();</div>
<div class="line"><span class="lineno"> 1134</span>            boost::nowide::remove(path_tmp.c_str());</div>
<div class="line"><span class="lineno"> 1135</span>            <span class="keywordflow">throw</span> Slic3r::RuntimeError(std::string(<span class="stringliteral">&quot;G-code export to &quot;</span>) + path + <span class="stringliteral">&quot; failed\nIs the disk full?\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1136</span>        }</div>
<div class="line"><span class="lineno"> 1137</span>    } <span class="keywordflow">catch</span> (std::exception &amp; <span class="comment">/* ex */</span>) {</div>
<div class="line"><span class="lineno"> 1138</span>        <span class="comment">// Rethrow on any exception. std::runtime_exception and CanceledException are expected to be thrown.</span></div>
<div class="line"><span class="lineno"> 1139</span>        <span class="comment">// Close and remove the file.</span></div>
<div class="line"><span class="lineno"> 1140</span>        file.close();</div>
<div class="line"><span class="lineno"> 1141</span>        boost::nowide::remove(path_tmp.c_str());</div>
<div class="line"><span class="lineno"> 1142</span>        <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno"> 1143</span>    }</div>
<div class="line"><span class="lineno"> 1144</span>    file.close();</div>
<div class="line"><span class="lineno"> 1145</span> </div>
<div class="line"><span class="lineno"> 1146</span>    <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2aa88a937a12e7e923de6bc93835c1e3">check_placeholder_parser_failed</a>();</div>
<div class="line"><span class="lineno"> 1147</span> </div>
<div class="line"><span class="lineno"> 1148</span>    BOOST_LOG_TRIVIAL(debug) &lt;&lt; <span class="stringliteral">&quot;Start processing gcode, &quot;</span> &lt;&lt; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7bcaee6c88f650fd234f688ae2311ec5">log_memory_info</a>();</div>
<div class="line"><span class="lineno"> 1149</span>    <span class="comment">// Post-process the G-code to update time stamps.</span></div>
<div class="line"><span class="lineno"> 1150</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a10970cfca3474859c6a5d52c57f604ac">m_processor</a>.<a class="code hl_function" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a582a45bcb3d124b8a7e64ff11e28f769">finalize</a>(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1151</span><span class="comment">//    DoExport::update_print_estimated_times_stats(m_processor, print-&gt;m_print_statistics);</span></div>
<div class="line"><span class="lineno"> 1152</span>    <a class="code hl_function" href="../../de/d39/namespace_slic3r_1_1_do_export.html#a61e42c6243925b8e1e7db2db0b96efac">DoExport::update_print_estimated_stats</a>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a10970cfca3474859c6a5d52c57f604ac">m_processor</a>, <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a0143dc1fd9e3306ffd2e2892ad76025d">extruders</a>(), print-&gt;m_print_statistics);</div>
<div class="line"><span class="lineno"> 1153</span>    <span class="keywordflow">if</span> (result != <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno"> 1154</span>        *result = std::move(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a10970cfca3474859c6a5d52c57f604ac">m_processor</a>.<a class="code hl_function" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#ab7553b041b1157e4a3307f64e342edd5">extract_result</a>());</div>
<div class="line"><span class="lineno"> 1155</span>        <span class="comment">// set the filename to the correct value</span></div>
<div class="line"><span class="lineno"> 1156</span>        result-&gt;filename = path;</div>
<div class="line"><span class="lineno"> 1157</span>    }</div>
<div class="line"><span class="lineno"> 1158</span> </div>
<div class="line"><span class="lineno"> 1159</span>    <span class="comment">//BBS: add some log for error output</span></div>
<div class="line"><span class="lineno"> 1160</span>    BOOST_LOG_TRIVIAL(debug) &lt;&lt; boost::format(<span class="stringliteral">&quot;Finished processing gcode to %1% &quot;</span>) % path_tmp;</div>
<div class="line"><span class="lineno"> 1161</span> </div>
<div class="line"><span class="lineno"> 1162</span>    std::error_code ret = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a9ee171048d9ae21bf84f5fa89506bd2b">rename_file</a>(path_tmp, path);</div>
<div class="line"><span class="lineno"> 1163</span>    <span class="keywordflow">if</span> (ret) {</div>
<div class="line"><span class="lineno"> 1164</span>        <span class="keywordflow">throw</span> Slic3r::RuntimeError(</div>
<div class="line"><span class="lineno"> 1165</span>            std::string(<span class="stringliteral">&quot;Failed to rename the output G-code file from &quot;</span>) + path_tmp + <span class="stringliteral">&quot; to &quot;</span> + path + <span class="charliteral">&#39;\n&#39;</span> + <span class="stringliteral">&quot;error code &quot;</span> + ret.message() + <span class="charliteral">&#39;\n&#39;</span> +</div>
<div class="line"><span class="lineno"> 1166</span>            <span class="stringliteral">&quot;Is &quot;</span> + path_tmp + <span class="stringliteral">&quot; locked?&quot;</span> + <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><span class="lineno"> 1167</span>    }</div>
<div class="line"><span class="lineno"> 1168</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1169</span>        BOOST_LOG_TRIVIAL(info) &lt;&lt; boost::format(<span class="stringliteral">&quot;rename_file from %1% to %2% successfully&quot;</span>)% path_tmp % path;</div>
<div class="line"><span class="lineno"> 1170</span>    }</div>
<div class="line"><span class="lineno"> 1171</span> </div>
<div class="line"><span class="lineno"> 1172</span>    BOOST_LOG_TRIVIAL(info) &lt;&lt; <span class="stringliteral">&quot;Exporting G-code finished&quot;</span> &lt;&lt; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7bcaee6c88f650fd234f688ae2311ec5">log_memory_info</a>();</div>
<div class="line"><span class="lineno"> 1173</span>    print-&gt;set_done(<a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a64467311ef101236e18bc66eb62db4aaaf306804ccb2520c3772fd54ab4c1a72c">psGCodeExport</a>);</div>
<div class="line"><span class="lineno"> 1174</span>    </div>
<div class="line"><span class="lineno"> 1175</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a922d730b3489f1dcef6d8b914998bb51">is_BBL_Printer</a>())</div>
<div class="line"><span class="lineno"> 1176</span>        result-&gt;label_object_enabled = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a8073b5c68ecade3632359c884f342f3c">m_enable_exclude_object</a>;</div>
<div class="line"><span class="lineno"> 1177</span> </div>
<div class="line"><span class="lineno"> 1178</span>    <span class="comment">// Write the profiler measurements to file</span></div>
<div class="line"><span class="lineno"> 1179</span>    <a class="code hl_define" href="../../db/d5a/_shiny_macros_8h.html#adc9e857c5db8501d0ed836aa5fd9473a">PROFILE_UPDATE</a>();</div>
<div class="line"><span class="lineno"> 1180</span>    <a class="code hl_define" href="../../db/d5a/_shiny_macros_8h.html#a73603f8d5a18394afc79a1f4302d0045">PROFILE_OUTPUT</a>(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">debug_out_path</a>(<span class="stringliteral">&quot;gcode-export-profile.txt&quot;</span>).c_str());</div>
<div class="line"><span class="lineno"> 1181</span>}</div>
<div class="ttc" id="a_shiny_macros_8h_html_a394204bd3adb9dd7a20b9339a22abd1f"><div class="ttname"><a href="../../db/d5a/_shiny_macros_8h.html#a394204bd3adb9dd7a20b9339a22abd1f">PROFILE_CLEAR</a></div><div class="ttdeci">#define PROFILE_CLEAR()</div><div class="ttdef"><b>Definition</b> ShinyMacros.h:264</div></div>
<div class="ttc" id="a_shiny_macros_8h_html_a73603f8d5a18394afc79a1f4302d0045"><div class="ttname"><a href="../../db/d5a/_shiny_macros_8h.html#a73603f8d5a18394afc79a1f4302d0045">PROFILE_OUTPUT</a></div><div class="ttdeci">#define PROFILE_OUTPUT(x)</div><div class="ttdef"><b>Definition</b> ShinyMacros.h:262</div></div>
<div class="ttc" id="a_shiny_macros_8h_html_adc9e857c5db8501d0ed836aa5fd9473a"><div class="ttname"><a href="../../db/d5a/_shiny_macros_8h.html#adc9e857c5db8501d0ed836aa5fd9473a">PROFILE_UPDATE</a></div><div class="ttdeci">#define PROFILE_UPDATE()</div><div class="ttdef"><b>Definition</b> ShinyMacros.h:259</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a2aa88a937a12e7e923de6bc93835c1e3"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2aa88a937a12e7e923de6bc93835c1e3">Slic3r::GCode::check_placeholder_parser_failed</a></div><div class="ttdeci">void check_placeholder_parser_failed()</div><div class="ttdef"><b>Definition</b> GCode.cpp:2218</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a922d730b3489f1dcef6d8b914998bb51"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a922d730b3489f1dcef6d8b914998bb51">Slic3r::GCode::is_BBL_Printer</a></div><div class="ttdeci">bool is_BBL_Printer()</div><div class="ttdef"><b>Definition</b> GCode.cpp:1061</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_aad1ede23b9581df98d65205c77a675e7"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#aad1ede23b9581df98d65205c77a675e7">Slic3r::GCode::m_curr_print</a></div><div class="ttdeci">Print * m_curr_print</div><div class="ttdef"><b>Definition</b> GCode.hpp:511</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_ad5ac0f44c2121cf8d09cc7fde2dae045"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad5ac0f44c2121cf8d09cc7fde2dae045">Slic3r::GCode::_do_export</a></div><div class="ttdeci">void _do_export(Print &amp;print, GCodeOutputStream &amp;file, ThumbnailsGeneratorCallback thumbnail_cb)</div><div class="ttdef"><b>Definition</b> GCode.cpp:1460</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_processor_html_a582a45bcb3d124b8a7e64ff11e28f769"><div class="ttname"><a href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a582a45bcb3d124b8a7e64ff11e28f769">Slic3r::GCodeProcessor::finalize</a></div><div class="ttdeci">void finalize(bool post_process)</div><div class="ttdef"><b>Definition</b> GCodeProcessor.cpp:1457</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_processor_html_ab7553b041b1157e4a3307f64e342edd5"><div class="ttname"><a href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#ab7553b041b1157e4a3307f64e342edd5">Slic3r::GCodeProcessor::extract_result</a></div><div class="ttdeci">GCodeProcessorResult &amp;&amp; extract_result()</div><div class="ttdef"><b>Definition</b> GCodeProcessor.hpp:714</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_processor_html_ac39e9353f7601dee9f727d76727be7e7"><div class="ttname"><a href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#ac39e9353f7601dee9f727d76727be7e7">Slic3r::GCodeProcessor::s_IsBBLPrinter</a></div><div class="ttdeci">static bool s_IsBBLPrinter</div><div class="ttdef"><b>Definition</b> GCodeProcessor.hpp:274</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_processor_html_ac74c5f6525193a1bbcd0cbd4c5ced599"><div class="ttname"><a href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#ac74c5f6525193a1bbcd0cbd4c5ced599">Slic3r::GCodeProcessor::initialize</a></div><div class="ttdeci">void initialize(const std::string &amp;filename)</div><div class="ttdef"><b>Definition</b> GCodeProcessor.cpp:1434</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_do_export_html_a40d0376ceedf29d7ed0c848e9d97fdc4"><div class="ttname"><a href="../../de/d39/namespace_slic3r_1_1_do_export.html#a40d0376ceedf29d7ed0c848e9d97fdc4">Slic3r::DoExport::validate_custom_gcode</a></div><div class="ttdeci">static std::vector&lt; std::pair&lt; std::string, std::string &gt; &gt; validate_custom_gcode(const Print &amp;print)</div><div class="ttdef"><b>Definition</b> GCode.cpp:1005</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_do_export_html_a61e42c6243925b8e1e7db2db0b96efac"><div class="ttname"><a href="../../de/d39/namespace_slic3r_1_1_do_export.html#a61e42c6243925b8e1e7db2db0b96efac">Slic3r::DoExport::update_print_estimated_stats</a></div><div class="ttdeci">static void update_print_estimated_stats(const GCodeProcessor &amp;processor, const std::vector&lt; Extruder &gt; &amp;extruders, PrintStatistics &amp;print_statistics)</div><div class="ttdef"><b>Definition</b> GCode.cpp:949</div></div>
<div class="ttc" id="anamespace_slic3r_html_a1d1423286c406123371c37ceada9ebae"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">Slic3r::debug_out_path</a></div><div class="ttdeci">std::string debug_out_path(const char *name,...)</div><div class="ttdef"><b>Definition</b> utils.cpp:278</div></div>
<div class="ttc" id="anamespace_slic3r_html_a64467311ef101236e18bc66eb62db4aaaf306804ccb2520c3772fd54ab4c1a72c"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a64467311ef101236e18bc66eb62db4aaaf306804ccb2520c3772fd54ab4c1a72c">Slic3r::psGCodeExport</a></div><div class="ttdeci">@ psGCodeExport</div><div class="ttdef"><b>Definition</b> Print.hpp:83</div></div>
<div class="ttc" id="anamespace_slic3r_html_a7bcaee6c88f650fd234f688ae2311ec5"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a7bcaee6c88f650fd234f688ae2311ec5">Slic3r::log_memory_info</a></div><div class="ttdeci">std::string log_memory_info(bool ignore_loglevel)</div><div class="ttdef"><b>Definition</b> utils.cpp:1262</div></div>
<div class="ttc" id="anamespace_slic3r_html_a9ee171048d9ae21bf84f5fa89506bd2b"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a9ee171048d9ae21bf84f5fa89506bd2b">Slic3r::rename_file</a></div><div class="ttdeci">std::error_code rename_file(const std::string &amp;from, const std::string &amp;to)</div><div class="ttdef"><b>Definition</b> utils.cpp:591</div></div>
<div class="ttc" id="axmlrole_8c_html_a2739afc9d7ed13e98e5e0c5b2e1f0428"><div class="ttname"><a href="../../d5/d8c/xmlrole_8c.html#a2739afc9d7ed13e98e5e0c5b2e1f0428">error</a></div><div class="ttdeci">static PROLOG_HANDLER error</div><div class="ttdef"><b>Definition</b> xmlrole.c:109</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l01460">_do_export()</a>, <a class="el" href="../../#l02218">check_placeholder_parser_failed()</a>, <a class="el" href="../../#l03881">Slic3r::GCode::GCodeOutputStream::close()</a>, <a class="el" href="../../#l00740">Slic3r::Print::config()</a>, <a class="el" href="../../#l00278">Slic3r::debug_out_path()</a>, <a class="el" href="../../#l00109">error</a>, <a class="el" href="../../#l00714">Slic3r::GCodeProcessor::extract_result()</a>, <a class="el" href="../../#l00036">Slic3r::GCodeWriter::extruders()</a>, <a class="el" href="../../#l00170">Slic3r::GCodeProcessorResult::filename</a>, <a class="el" href="../../#l01457">Slic3r::GCodeProcessor::finalize()</a>, <a class="el" href="../../#l03876">Slic3r::GCode::GCodeOutputStream::flush()</a>, <a class="el" href="../../#l00104">Slic3r::GCodeWriter::full_gcode_comment</a>, <a class="el" href="../../#l01434">Slic3r::GCodeProcessor::initialize()</a>, <a class="el" href="../../#l01061">is_BBL_Printer()</a>, <a class="el" href="../../#l00818">Slic3r::Print::is_BBL_printer()</a>, <a class="el" href="../../#l03871">Slic3r::GCode::GCodeOutputStream::is_error()</a>, <a class="el" href="../../#l00261">Slic3r::GCode::GCodeOutputStream::is_open()</a>, <a class="el" href="../../#l00712">Slic3r::Print::is_step_done()</a>, <a class="el" href="../../#l00181">Slic3r::GCodeProcessorResult::label_object_enabled</a>, <a class="el" href="../../#l01262">Slic3r::log_memory_info()</a>, <a class="el" href="../../#l00511">m_curr_print</a>, <a class="el" href="../../#l00448">m_enable_exclude_object</a>, <a class="el" href="../../#l00437">m_placeholder_parser_failed_templates</a>, <a class="el" href="../../#l00874">Slic3r::Print::m_print_statistics</a>, <a class="el" href="../../#l00505">m_processor</a>, <a class="el" href="../../#l00432">m_writer</a>, <a class="el" href="../../#l00264">PROFILE_CLEAR</a>, <a class="el" href="../../#l00262">PROFILE_OUTPUT</a>, <a class="el" href="../../#l00259">PROFILE_UPDATE</a>, <a class="el" href="../../#l00083">Slic3r::psGCodeExport</a>, <a class="el" href="../../#l00591">Slic3r::rename_file()</a>, <a class="el" href="../../#l00274">Slic3r::GCodeProcessor::s_IsBBLPrinter</a>, <a class="el" href="../../#l00587">Slic3r::PrintBaseWithState&lt; PrintStepEnum, COUNT &gt;::set_done()</a>, <a class="el" href="../../#l00586">Slic3r::PrintBaseWithState&lt; PrintStepEnum, COUNT &gt;::set_started()</a>, <a class="el" href="../../#l00949">Slic3r::DoExport::update_print_estimated_stats()</a>, and <a class="el" href="../../#l01005">Slic3r::DoExport::validate_custom_gcode()</a>.</p>
<div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_a41ddab6bfd15c1848026271f48485efb_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a42a4dcb03a407aa797547aef7e5ae979" name="a42a4dcb03a407aa797547aef7e5ae979"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42a4dcb03a407aa797547aef7e5ae979">&#9670;&#160;</a></span>enable_cooling_markers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::GCode::enable_cooling_markers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  194</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a03533ee19695dc118af85304f49c752f">m_enable_cooling_markers</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00446">m_enable_cooling_markers</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00291">Slic3r::Wipe::wipe()</a>.</p>
<div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_a42a4dcb03a407aa797547aef7e5ae979_icgraph.svg" width="336" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a999e940fc9198432b7a120451d246b6f" name="a999e940fc9198432b7a120451d246b6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a999e940fc9198432b7a120451d246b6f">&#9670;&#160;</a></span>extrude_entity()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string Slic3r::GCode::extrude_entity </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../de/d7c/class_slic3r_1_1_extrusion_entity.html">ExtrusionEntity</a> &amp;&#160;</td>
          <td class="paramname"><em>entity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>description</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>speed</em> = <code>-1.</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3763</span>{</div>
<div class="line"><span class="lineno"> 3764</span>    <span class="keywordflow">if</span> (<span class="keyword">const</span> ExtrusionPath* path = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span>ExtrusionPath*<span class="keyword">&gt;</span>(&amp;entity))</div>
<div class="line"><span class="lineno"> 3765</span>        <span class="keywordflow">return</span> this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2305ebf68b102db066b7f1bf60ca8977">extrude_path</a>(*path, description, speed);</div>
<div class="line"><span class="lineno"> 3766</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> ExtrusionMultiPath* multipath = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span>ExtrusionMultiPath*<span class="keyword">&gt;</span>(&amp;entity))</div>
<div class="line"><span class="lineno"> 3767</span>        <span class="keywordflow">return</span> this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2658e85cf988801f658cc55900392fd1">extrude_multi_path</a>(*multipath, description, speed);</div>
<div class="line"><span class="lineno"> 3768</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> ExtrusionLoop* loop = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span>ExtrusionLoop*<span class="keyword">&gt;</span>(&amp;entity))</div>
<div class="line"><span class="lineno"> 3769</span>        <span class="keywordflow">return</span> this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae0bdb9f5adcd41e1415f5f47f783586c">extrude_loop</a>(*loop, description, speed);</div>
<div class="line"><span class="lineno"> 3770</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3771</span>        <span class="keywordflow">throw</span> Slic3r::InvalidArgument(<span class="stringliteral">&quot;Invalid argument supplied to extrude()&quot;</span>);</div>
<div class="line"><span class="lineno"> 3772</span>    <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno"> 3773</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a2305ebf68b102db066b7f1bf60ca8977"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2305ebf68b102db066b7f1bf60ca8977">Slic3r::GCode::extrude_path</a></div><div class="ttdeci">std::string extrude_path(ExtrusionPath path, std::string description=&quot;&quot;, double speed=-1.)</div><div class="ttdef"><b>Definition</b> GCode.cpp:3775</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a2658e85cf988801f658cc55900392fd1"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2658e85cf988801f658cc55900392fd1">Slic3r::GCode::extrude_multi_path</a></div><div class="ttdeci">std::string extrude_multi_path(ExtrusionMultiPath multipath, std::string description=&quot;&quot;, double speed=-1.)</div><div class="ttdef"><b>Definition</b> GCode.cpp:3738</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_ae0bdb9f5adcd41e1415f5f47f783586c"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae0bdb9f5adcd41e1415f5f47f783586c">Slic3r::GCode::extrude_loop</a></div><div class="ttdeci">std::string extrude_loop(ExtrusionLoop loop, std::string description, double speed=-1.)</div><div class="ttdef"><b>Definition</b> GCode.cpp:3630</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5f44a133b4c530ddec9d2904c8c66c6e" name="a5f44a133b4c530ddec9d2904c8c66c6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f44a133b4c530ddec9d2904c8c66c6e">&#9670;&#160;</a></span>extrude_infill()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string Slic3r::GCode::extrude_infill </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d5/d8f/class_slic3r_1_1_print.html">Print</a> &amp;&#160;</td>
          <td class="paramname"><em>print</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="../../db/dad/struct_slic3r_1_1_g_code_1_1_object_by_extruder_1_1_island_1_1_region.html">ObjectByExtruder::Island::Region</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>by_region</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>ironing</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3803</span>{</div>
<div class="line"><span class="lineno"> 3804</span>    std::string      <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a>;</div>
<div class="line"><span class="lineno"> 3805</span>    <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#aa2aadfc8d6bec8ef8e416bb12f0b464b">ExtrusionEntitiesPtr</a> extrusions;</div>
<div class="line"><span class="lineno"> 3806</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>*          extrusion_name = ironing ? <span class="stringliteral">&quot;ironing&quot;</span> : <span class="stringliteral">&quot;infill&quot;</span>;</div>
<div class="line"><span class="lineno"> 3807</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> ObjectByExtruder::Island::Region &amp;region : by_region)</div>
<div class="line"><span class="lineno"> 3808</span>        if (! region.infills.<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a83fc268888773d5c0f886fc2e54b8c64">empty</a>()) {</div>
<div class="line"><span class="lineno"> 3809</span>            extrusions.clear();</div>
<div class="line"><span class="lineno"> 3810</span>            extrusions.reserve(region.infills.size());</div>
<div class="line"><span class="lineno"> 3811</span>            <span class="keywordflow">for</span> (ExtrusionEntity *ee : region.infills)</div>
<div class="line"><span class="lineno"> 3812</span>                if ((ee-&gt;role() == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6ae18150a7edaed0a61320a34928a1c747">erIroning</a>) == ironing)</div>
<div class="line"><span class="lineno"> 3813</span>                    extrusions.emplace_back(ee);</div>
<div class="line"><span class="lineno"> 3814</span>            <span class="keywordflow">if</span> (! extrusions.empty()) {</div>
<div class="line"><span class="lineno"> 3815</span>                <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.apply(print.get_print_region(&amp;region - &amp;by_region.front()).config());</div>
<div class="line"><span class="lineno"> 3816</span>                <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1c1d6d919ed0051c0d788b1009427306">chain_and_reorder_extrusion_entities</a>(extrusions, &amp;<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a5b7aecf69aa0fce6b42cd1d6b5792e1a">m_last_pos</a>);</div>
<div class="line"><span class="lineno"> 3817</span>                <span class="keywordflow">for</span> (<span class="keyword">const</span> ExtrusionEntity *fill : extrusions) {</div>
<div class="line"><span class="lineno"> 3818</span>                    <span class="keyword">auto</span> *eec = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span>ExtrusionEntityCollection*<span class="keyword">&gt;</span>(fill);</div>
<div class="line"><span class="lineno"> 3819</span>                    <span class="keywordflow">if</span> (eec) {</div>
<div class="line"><span class="lineno"> 3820</span>                        <span class="keywordflow">for</span> (ExtrusionEntity *ee : eec-&gt;chained_path_from(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a5b7aecf69aa0fce6b42cd1d6b5792e1a">m_last_pos</a>).entities)</div>
<div class="line"><span class="lineno"> 3821</span>                            <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a999e940fc9198432b7a120451d246b6f">extrude_entity</a>(*ee, extrusion_name);</div>
<div class="line"><span class="lineno"> 3822</span>                    } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3823</span>                        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a999e940fc9198432b7a120451d246b6f">extrude_entity</a>(*fill, extrusion_name);</div>
<div class="line"><span class="lineno"> 3824</span>                }</div>
<div class="line"><span class="lineno"> 3825</span>            }</div>
<div class="line"><span class="lineno"> 3826</span>        }</div>
<div class="line"><span class="lineno"> 3827</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a>;</div>
<div class="line"><span class="lineno"> 3828</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a999e940fc9198432b7a120451d246b6f"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a999e940fc9198432b7a120451d246b6f">Slic3r::GCode::extrude_entity</a></div><div class="ttdeci">std::string extrude_entity(const ExtrusionEntity &amp;entity, std::string description=&quot;&quot;, double speed=-1.)</div><div class="ttdef"><b>Definition</b> GCode.cpp:3762</div></div>
<div class="ttc" id="anamespace_slic3r_html_a1c1d6d919ed0051c0d788b1009427306"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a1c1d6d919ed0051c0d788b1009427306">Slic3r::chain_and_reorder_extrusion_entities</a></div><div class="ttdeci">void chain_and_reorder_extrusion_entities(std::vector&lt; ExtrusionEntity * &gt; &amp;entities, const Point *start_near)</div><div class="ttdef"><b>Definition</b> ShortestPath.cpp:1031</div></div>
<div class="ttc" id="anamespace_slic3r_html_a83fc268888773d5c0f886fc2e54b8c64"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a83fc268888773d5c0f886fc2e54b8c64">Slic3r::empty</a></div><div class="ttdeci">bool empty(const BoundingBoxBase&lt; VT &gt; &amp;bb)</div><div class="ttdef"><b>Definition</b> BoundingBox.hpp:241</div></div>
<div class="ttc" id="anamespace_slic3r_html_aa2aadfc8d6bec8ef8e416bb12f0b464b"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#aa2aadfc8d6bec8ef8e416bb12f0b464b">Slic3r::ExtrusionEntitiesPtr</a></div><div class="ttdeci">std::vector&lt; ExtrusionEntity * &gt; ExtrusionEntitiesPtr</div><div class="ttdef"><b>Definition</b> ExtrusionEntity.hpp:142</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l01031">Slic3r::chain_and_reorder_extrusion_entities()</a>, <a class="el" href="../../#l00111">Slic3r::PrintRegion::config()</a>, <a class="el" href="../../#l00029">Slic3r::erIroning</a>, and <a class="el" href="../../#l00786">Slic3r::Print::get_print_region()</a>.</p>
<div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_a5f44a133b4c530ddec9d2904c8c66c6e_cgraph.svg" width="100%" height="520"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ae0bdb9f5adcd41e1415f5f47f783586c" name="ae0bdb9f5adcd41e1415f5f47f783586c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0bdb9f5adcd41e1415f5f47f783586c">&#9670;&#160;</a></span>extrude_loop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string Slic3r::GCode::extrude_loop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d50/class_slic3r_1_1_extrusion_loop.html">ExtrusionLoop</a>&#160;</td>
          <td class="paramname"><em>loop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>description</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>speed</em> = <code>-1.</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3631</span>{</div>
<div class="line"><span class="lineno"> 3632</span>    <span class="comment">// get a copy; don&#39;t modify the orientation of the original loop object otherwise</span></div>
<div class="line"><span class="lineno"> 3633</span>    <span class="comment">// next copies (if any) would not detect the correct orientation</span></div>
<div class="line"><span class="lineno"> 3634</span> </div>
<div class="line"><span class="lineno"> 3635</span>    <span class="comment">// extrude all loops ccw</span></div>
<div class="line"><span class="lineno"> 3636</span>    <span class="keywordtype">bool</span> was_clockwise = <a class="code hl_function" href="../../dc/d25/namespaceigl.html#abc05369371ed7349991ab46a6d19870a">loop</a>.make_counter_clockwise();</div>
<div class="line"><span class="lineno"> 3637</span> </div>
<div class="line"><span class="lineno"> 3638</span>    <span class="comment">// find the point of the loop that is closest to the current extruder position</span></div>
<div class="line"><span class="lineno"> 3639</span>    <span class="comment">// or randomize if requested</span></div>
<div class="line"><span class="lineno"> 3640</span>    <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a935d5bd6724a00bd0de46fbedb581786">last_pos</a> = this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a935d5bd6724a00bd0de46fbedb581786">last_pos</a>();</div>
<div class="line"><span class="lineno"> 3641</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.spiral_mode &amp;&amp; description == <span class="stringliteral">&quot;perimeter&quot;</span>) {</div>
<div class="line"><span class="lineno"> 3642</span>        assert(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7d8c6148ecc0ecaaf9597bad4ed26083">m_layer</a> != <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno"> 3643</span>        <span class="keywordtype">bool</span> is_outer_wall_first = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.wall_infill_order == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#ad9ddebbad7d13169769ccfaa24935505acf3c4dbd45d0533e8d86a94ed12a8962">WallInfillOrder::OuterInnerInfill</a></div>
<div class="line"><span class="lineno"> 3644</span>                                || <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.wall_infill_order == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#ad9ddebbad7d13169769ccfaa24935505a7ef9980105d37ca4a5cc002d81da2fb9">WallInfillOrder::InfillOuterInner</a></div>
<div class="line"><span class="lineno"> 3645</span>                                || <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.wall_infill_order == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#ad9ddebbad7d13169769ccfaa24935505a0d019c79553a8e721ee3655f857706eb">WallInfillOrder::InnerOuterInnerInfill</a>;</div>
<div class="line"><span class="lineno"> 3646</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#adeede141933a8492102e63526cf6157d">m_seam_placer</a>.<a class="code hl_function" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a882c75c34a1c517a2793cc7727e40a30">place_seam</a>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7d8c6148ecc0ecaaf9597bad4ed26083">m_layer</a>, loop, is_outer_wall_first, this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a935d5bd6724a00bd0de46fbedb581786">last_pos</a>());</div>
<div class="line"><span class="lineno"> 3647</span>    } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3648</span>        <a class="code hl_function" href="../../dc/d25/namespaceigl.html#abc05369371ed7349991ab46a6d19870a">loop</a>.split_at(<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a935d5bd6724a00bd0de46fbedb581786">last_pos</a>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 3649</span> </div>
<div class="line"><span class="lineno"> 3650</span>    <span class="comment">// clip the path to avoid the extruder to get exactly on the first point of the loop;</span></div>
<div class="line"><span class="lineno"> 3651</span>    <span class="comment">// if polyline was shorter than the clipping distance we&#39;d get a null polyline, so</span></div>
<div class="line"><span class="lineno"> 3652</span>    <span class="comment">// we discard it in that case</span></div>
<div class="line"><span class="lineno"> 3653</span>    <span class="keywordtype">double</span> clip_length = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a6d0382a520e8c1ff4be5924a8444d76c">m_enable_loop_clipping</a> ?</div>
<div class="line"><span class="lineno"> 3654</span>    <a class="code hl_define" href="../../dd/d47/libslic3r_8h.html#a5e7dd5d14b7e7bb8f1dab0fd4fa3e0f2">scale_</a>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.seam_gap.get_abs_value(<a class="code hl_define" href="../../df/d40/_g_code_8cpp.html#a2dec0e9fe2fb1c9e3862bc3fd4b2d911">EXTRUDER_CONFIG</a>(nozzle_diameter))) : 0;</div>
<div class="line"><span class="lineno"> 3655</span> </div>
<div class="line"><span class="lineno"> 3656</span>    <span class="comment">// get paths</span></div>
<div class="line"><span class="lineno"> 3657</span>    <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a2f0fe99ef6107bc0c3dc4c4bacce29c2">ExtrusionPaths</a> paths;</div>
<div class="line"><span class="lineno"> 3658</span>    <a class="code hl_function" href="../../dc/d25/namespaceigl.html#abc05369371ed7349991ab46a6d19870a">loop</a>.clip_end(clip_length, &amp;paths);</div>
<div class="line"><span class="lineno"> 3659</span>    <span class="keywordflow">if</span> (paths.empty()) <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno"> 3660</span> </div>
<div class="line"><span class="lineno"> 3661</span>    <span class="comment">// SoftFever: check loop lenght for small perimeter. </span></div>
<div class="line"><span class="lineno"> 3662</span>    <span class="keywordtype">double</span> small_peri_speed = -1;</div>
<div class="line"><span class="lineno"> 3663</span>    <span class="keywordflow">if</span> (speed == -1 &amp;&amp; <a class="code hl_function" href="../../dc/d25/namespaceigl.html#abc05369371ed7349991ab46a6d19870a">loop</a>.length() &lt;= <a class="code hl_define" href="../../dd/d47/libslic3r_8h.html#aa38c78b80488ee064f677bf5f1fc60c5">SMALL_PERIMETER_LENGTH</a>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.small_perimeter_threshold.value))</div>
<div class="line"><span class="lineno"> 3664</span>        small_peri_speed = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.small_perimeter_speed.get_abs_value(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.outer_wall_speed);</div>
<div class="line"><span class="lineno"> 3665</span> </div>
<div class="line"><span class="lineno"> 3666</span>    <span class="comment">// extrude along the path</span></div>
<div class="line"><span class="lineno"> 3667</span>    std::string <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a>;</div>
<div class="line"><span class="lineno"> 3668</span>    <span class="keywordtype">bool</span> is_small_peri = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3669</span>    <span class="keywordflow">for</span> (ExtrusionPaths::iterator path = paths.begin(); path != paths.end(); ++path) {</div>
<div class="line"><span class="lineno"> 3670</span><span class="comment">//    description += ExtrusionLoop::role_to_string(loop.loop_role());</span></div>
<div class="line"><span class="lineno"> 3671</span><span class="comment">//    description += ExtrusionEntity::role_to_string(path-&gt;role);</span></div>
<div class="line"><span class="lineno"> 3672</span>        <span class="comment">// don&#39;t apply small perimeter setting for overhangs/bridges/non-perimeters</span></div>
<div class="line"><span class="lineno"> 3673</span>        is_small_peri = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a784249b30e7f6d5bcc431b8db8106ed0">is_perimeter</a>(path-&gt;role()) &amp;&amp; !<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a5df3c439676e1479c1a0c7a679617cba">is_bridge</a>(path-&gt;role()) &amp;&amp; small_peri_speed &gt; 0 &amp;&amp; (path-&gt;get_overhang_degree() == 0 || path-&gt;get_overhang_degree() &gt; 5);</div>
<div class="line"><span class="lineno"> 3674</span>        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ab5898ee27f28f0f3f8ea23390fc67de0">_extrude</a>(*path, description, is_small_peri ? small_peri_speed : speed);</div>
<div class="line"><span class="lineno"> 3675</span>    }</div>
<div class="line"><span class="lineno"> 3676</span> </div>
<div class="line"><span class="lineno"> 3677</span>    <span class="comment">// BBS</span></div>
<div class="line"><span class="lineno"> 3678</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acd8bb57f4b518c46420f329ce755da31">m_wipe</a>.<a class="code hl_variable" href="../../df/d82/class_slic3r_1_1_wipe.html#a8f352a04cdfc7195f33a6011714bce5c">enable</a>) {</div>
<div class="line"><span class="lineno"> 3679</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acd8bb57f4b518c46420f329ce755da31">m_wipe</a>.<a class="code hl_variable" href="../../df/d82/class_slic3r_1_1_wipe.html#ad658cc53ba64891fe7bf86379fe39ad0">path</a> = Polyline();</div>
<div class="line"><span class="lineno"> 3680</span>        <span class="keywordflow">for</span> (ExtrusionPath &amp;path : paths) {</div>
<div class="line"><span class="lineno"> 3681</span>            <span class="comment">//BBS: Don&#39;t need to save duplicated point into wipe path</span></div>
<div class="line"><span class="lineno"> 3682</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acd8bb57f4b518c46420f329ce755da31">m_wipe</a>.<a class="code hl_variable" href="../../df/d82/class_slic3r_1_1_wipe.html#ad658cc53ba64891fe7bf86379fe39ad0">path</a>.<a class="code hl_function" href="../../d7/dd1/class_slic3r_1_1_multi_point.html#aba6057e668b1b0afa59df15e3bdaa6d7">empty</a>() &amp;&amp; !path.empty() &amp;&amp;</div>
<div class="line"><span class="lineno"> 3683</span>                <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acd8bb57f4b518c46420f329ce755da31">m_wipe</a>.<a class="code hl_variable" href="../../df/d82/class_slic3r_1_1_wipe.html#ad658cc53ba64891fe7bf86379fe39ad0">path</a>.<a class="code hl_function" href="../../d6/de0/class_slic3r_1_1_polyline.html#a6b7133b8ca7045b949922173fb257571">last_point</a>() == path.first_point())</div>
<div class="line"><span class="lineno"> 3684</span>                <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acd8bb57f4b518c46420f329ce755da31">m_wipe</a>.<a class="code hl_variable" href="../../df/d82/class_slic3r_1_1_wipe.html#ad658cc53ba64891fe7bf86379fe39ad0">path</a>.<a class="code hl_function" href="../../d6/de0/class_slic3r_1_1_polyline.html#adfb3235f458978fd92bae54d4aca686f">append</a>(path.polyline.points.begin() + 1, path.polyline.points.end());</div>
<div class="line"><span class="lineno"> 3685</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3686</span>                <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acd8bb57f4b518c46420f329ce755da31">m_wipe</a>.<a class="code hl_variable" href="../../df/d82/class_slic3r_1_1_wipe.html#ad658cc53ba64891fe7bf86379fe39ad0">path</a>.<a class="code hl_function" href="../../d6/de0/class_slic3r_1_1_polyline.html#adfb3235f458978fd92bae54d4aca686f">append</a>(path.polyline);  <span class="comment">// TODO: don&#39;t limit wipe to last path</span></div>
<div class="line"><span class="lineno"> 3687</span>        }</div>
<div class="line"><span class="lineno"> 3688</span>    }</div>
<div class="line"><span class="lineno"> 3689</span> </div>
<div class="line"><span class="lineno"> 3690</span>    <span class="comment">// make a little move inwards before leaving loop</span></div>
<div class="line"><span class="lineno"> 3691</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.wipe_on_loops.value &amp;&amp; paths.back().role() == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a2a39cf7d4bc3b5fab08dedbf4e6ed20a">erExternalPerimeter</a> &amp;&amp; <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7d8c6148ecc0ecaaf9597bad4ed26083">m_layer</a> != <a class="code hl_define" href="../../db/dc9/_shiny_prereqs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.wall_loops.value &gt; 1 &amp;&amp; paths.front().size() &gt;= 2 &amp;&amp; paths.back().polyline.points.size() &gt;= 3) {</div>
<div class="line"><span class="lineno"> 3692</span>        <span class="comment">// detect angle between last and first segment</span></div>
<div class="line"><span class="lineno"> 3693</span>        <span class="comment">// the side depends on the original winding order of the polygon (left for contours, right for holes)</span></div>
<div class="line"><span class="lineno"> 3694</span>        <span class="comment">//FIXME improve the algorithm in case the loop is tiny.</span></div>
<div class="line"><span class="lineno"> 3695</span>        <span class="comment">//FIXME improve the algorithm in case the loop is split into segments with a low number of points (see the Point b query).</span></div>
<div class="line"><span class="lineno"> 3696</span>        <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a> = paths.front().polyline.points[1];  <span class="comment">// second point</span></div>
<div class="line"><span class="lineno"> 3697</span>        <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a> = *(paths.back().polyline.points.end()-3);       <span class="comment">// second to last point</span></div>
<div class="line"><span class="lineno"> 3698</span>        <span class="keywordflow">if</span> (was_clockwise) {</div>
<div class="line"><span class="lineno"> 3699</span>            <span class="comment">// swap points</span></div>
<div class="line"><span class="lineno"> 3700</span>            <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a> = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a>; <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a> = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>; <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a> = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>;</div>
<div class="line"><span class="lineno"> 3701</span> </div>
<div class="line"><span class="lineno"> 3702</span>    <span class="comment">//    double angle = paths.front().first_point().ccw_angle(a, b) / 3;</span></div>
<div class="line"><span class="lineno"> 3703</span> </div>
<div class="line"><span class="lineno"> 3704</span>    <span class="comment">//    // turn left if contour, turn right if hole</span></div>
<div class="line"><span class="lineno"> 3705</span>    <span class="comment">//    if (was_clockwise) angle *= -1;</span></div>
<div class="line"><span class="lineno"> 3706</span> </div>
<div class="line"><span class="lineno"> 3707</span>        }</div>
<div class="line"><span class="lineno"> 3708</span> </div>
<div class="line"><span class="lineno"> 3709</span>        <span class="keywordtype">double</span> <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7927d0ca1b31b8f9284ea268b11d27d5">angle</a> = paths.front().first_point().ccw_angle(a, b) / 3;</div>
<div class="line"><span class="lineno"> 3710</span> </div>
<div class="line"><span class="lineno"> 3711</span>        <span class="comment">// turn left if contour, turn right if hole</span></div>
<div class="line"><span class="lineno"> 3712</span>        <span class="keywordflow">if</span> (was_clockwise) <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7927d0ca1b31b8f9284ea268b11d27d5">angle</a> *= -1;</div>
<div class="line"><span class="lineno"> 3713</span> </div>
<div class="line"><span class="lineno"> 3714</span>        <span class="comment">// create the destination point along the first segment and rotate it</span></div>
<div class="line"><span class="lineno"> 3715</span>        <span class="comment">// we make sure we don&#39;t exceed the segment length because we don&#39;t know</span></div>
<div class="line"><span class="lineno"> 3716</span>        <span class="comment">// the rotation of the second segment so we might cross the object boundary</span></div>
<div class="line"><span class="lineno"> 3717</span>        <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a>  p1 = paths.front().polyline.points.front().cast&lt;<span class="keywordtype">double</span>&gt;();</div>
<div class="line"><span class="lineno"> 3718</span>        <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a>  p2 = paths.front().polyline.points[1].cast&lt;<span class="keywordtype">double</span>&gt;();</div>
<div class="line"><span class="lineno"> 3719</span>        <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a>  v  = p2 - p1;</div>
<div class="line"><span class="lineno"> 3720</span>        <span class="keywordtype">double</span> nd = <a class="code hl_define" href="../../dd/d47/libslic3r_8h.html#a5e7dd5d14b7e7bb8f1dab0fd4fa3e0f2">scale_</a>(<a class="code hl_define" href="../../df/d40/_g_code_8cpp.html#a2dec0e9fe2fb1c9e3862bc3fd4b2d911">EXTRUDER_CONFIG</a>(nozzle_diameter));</div>
<div class="line"><span class="lineno"> 3721</span>        <span class="keywordtype">double</span> <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1e045f56a994b8cd4a5b203626cd8272">l2</a> = v.squaredNorm();</div>
<div class="line"><span class="lineno"> 3722</span>        <span class="comment">// Shift by no more than a nozzle diameter.</span></div>
<div class="line"><span class="lineno"> 3723</span>        <span class="comment">//FIXME Hiding the seams will not work nicely for very densely discretized contours!</span></div>
<div class="line"><span class="lineno"> 3724</span>        <span class="comment">//BBS. shorten the travel distant before the wipe path</span></div>
<div class="line"><span class="lineno"> 3725</span>        <span class="keywordtype">double</span> threshold = 0.2;</div>
<div class="line"><span class="lineno"> 3726</span>        <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a>  pt = (p1 + v * threshold).cast&lt;coord_t&gt;();</div>
<div class="line"><span class="lineno"> 3727</span>        <span class="keywordflow">if</span> (nd * nd &lt; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1e045f56a994b8cd4a5b203626cd8272">l2</a>)</div>
<div class="line"><span class="lineno"> 3728</span>            pt = (p1 + threshold * v * (nd / <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1e045f56a994b8cd4a5b203626cd8272">l2</a>))).cast&lt;<a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&gt;();</div>
<div class="line"><span class="lineno"> 3729</span>        <span class="comment">//Point pt = ((nd * nd &gt;= l2) ? (p1+v*0.4): (p1 + 0.2 * v * (nd / sqrt(l2)))).cast&lt;coord_t&gt;();</span></div>
<div class="line"><span class="lineno"> 3730</span>        pt.rotate(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7927d0ca1b31b8f9284ea268b11d27d5">angle</a>, paths.front().polyline.points.front());</div>
<div class="line"><span class="lineno"> 3731</span>        <span class="comment">// generate the travel move</span></div>
<div class="line"><span class="lineno"> 3732</span>        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a6f4047bafbb6187785ad1f9fbec8cc2d">extrude_to_xy</a>(this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae69c3d88b0093b87f42cb2053dd52129">point_to_gcode</a>(pt), 0,<span class="stringliteral">&quot;move inwards before travel&quot;</span>,<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 3733</span>    }</div>
<div class="line"><span class="lineno"> 3734</span> </div>
<div class="line"><span class="lineno"> 3735</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a>;</div>
<div class="line"><span class="lineno"> 3736</span>}</div>
<div class="ttc" id="a_array_cwise_unary_ops_8h_html_a656b9217a2fcb6de59dc8d1eb3079cc7"><div class="ttname"><a href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a></div><div class="ttdeci">EIGEN_DEVICE_FUNC const SqrtReturnType sqrt() const</div><div class="ttdef"><b>Definition</b> ArrayCwiseUnaryOps.h:152</div></div>
<div class="ttc" id="a_shiny_prereqs_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../db/dc9/_shiny_prereqs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition</b> ShinyPrereqs.h:42</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a935d5bd6724a00bd0de46fbedb581786"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a935d5bd6724a00bd0de46fbedb581786">Slic3r::GCode::last_pos</a></div><div class="ttdeci">const Point &amp; last_pos() const</div><div class="ttdef"><b>Definition</b> GCode.hpp:181</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_ab5898ee27f28f0f3f8ea23390fc67de0"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#ab5898ee27f28f0f3f8ea23390fc67de0">Slic3r::GCode::_extrude</a></div><div class="ttdeci">std::string _extrude(const ExtrusionPath &amp;path, std::string description=&quot;&quot;, double speed=-1)</div><div class="ttdef"><b>Definition</b> GCode.cpp:3947</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_acd8bb57f4b518c46420f329ce755da31"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#acd8bb57f4b518c46420f329ce755da31">Slic3r::GCode::m_wipe</a></div><div class="ttdeci">Wipe m_wipe</div><div class="ttdef"><b>Definition</b> GCode.hpp:439</div></div>
<div class="ttc" id="aclass_slic3r_1_1_multi_point_html_aba6057e668b1b0afa59df15e3bdaa6d7"><div class="ttname"><a href="../../d7/dd1/class_slic3r_1_1_multi_point.html#aba6057e668b1b0afa59df15e3bdaa6d7">Slic3r::MultiPoint::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition</b> MultiPoint.hpp:42</div></div>
<div class="ttc" id="aclass_slic3r_1_1_polyline_html_a6b7133b8ca7045b949922173fb257571"><div class="ttname"><a href="../../d6/de0/class_slic3r_1_1_polyline.html#a6b7133b8ca7045b949922173fb257571">Slic3r::Polyline::last_point</a></div><div class="ttdeci">const Point &amp; last_point() const override</div><div class="ttdef"><b>Definition</b> Polyline.hpp:105</div></div>
<div class="ttc" id="aclass_slic3r_1_1_polyline_html_adfb3235f458978fd92bae54d4aca686f"><div class="ttname"><a href="../../d6/de0/class_slic3r_1_1_polyline.html#adfb3235f458978fd92bae54d4aca686f">Slic3r::Polyline::append</a></div><div class="ttdeci">void append(const Point &amp;point)</div><div class="ttdef"><b>Definition</b> Polyline.hpp:59</div></div>
<div class="ttc" id="aclass_slic3r_1_1_seam_placer_html_a882c75c34a1c517a2793cc7727e40a30"><div class="ttname"><a href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a882c75c34a1c517a2793cc7727e40a30">Slic3r::SeamPlacer::place_seam</a></div><div class="ttdeci">void place_seam(const Layer *layer, ExtrusionLoop &amp;loop, bool external_first, const Point &amp;last_pos) const</div><div class="ttdef"><b>Definition</b> SeamPlacer.cpp:1486</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_html_a8f352a04cdfc7195f33a6011714bce5c"><div class="ttname"><a href="../../df/d82/class_slic3r_1_1_wipe.html#a8f352a04cdfc7195f33a6011714bce5c">Slic3r::Wipe::enable</a></div><div class="ttdeci">bool enable</div><div class="ttdef"><b>Definition</b> GCode.hpp:58</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_html_ad658cc53ba64891fe7bf86379fe39ad0"><div class="ttname"><a href="../../df/d82/class_slic3r_1_1_wipe.html#ad658cc53ba64891fe7bf86379fe39ad0">Slic3r::Wipe::path</a></div><div class="ttdeci">Polyline path</div><div class="ttdef"><b>Definition</b> GCode.hpp:59</div></div>
<div class="ttc" id="alibslic3r_8h_html_a5e7dd5d14b7e7bb8f1dab0fd4fa3e0f2"><div class="ttname"><a href="../../dd/d47/libslic3r_8h.html#a5e7dd5d14b7e7bb8f1dab0fd4fa3e0f2">scale_</a></div><div class="ttdeci">#define scale_(val)</div><div class="ttdef"><b>Definition</b> libslic3r.h:81</div></div>
<div class="ttc" id="alibslic3r_8h_html_a8a7f69c27280e7542b2d1fd979af4545"><div class="ttname"><a href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a></div><div class="ttdeci">int32_t coord_t</div><div class="ttdef"><b>Definition</b> libslic3r.h:40</div></div>
<div class="ttc" id="alibslic3r_8h_html_aa38c78b80488ee064f677bf5f1fc60c5"><div class="ttname"><a href="../../dd/d47/libslic3r_8h.html#aa38c78b80488ee064f677bf5f1fc60c5">SMALL_PERIMETER_LENGTH</a></div><div class="ttdeci">#define SMALL_PERIMETER_LENGTH(LENGTH)</div><div class="ttdef"><b>Definition</b> libslic3r.h:73</div></div>
<div class="ttc" id="anamespace_slic3r_html_a1e045f56a994b8cd4a5b203626cd8272"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a1e045f56a994b8cd4a5b203626cd8272">Slic3r::l2</a></div><div class="ttdeci">T l2(const boost::geometry::model::d2::point_xy&lt; T &gt; &amp;v)</div><div class="ttdef"><b>Definition</b> ExtrusionSimulator.cpp:166</div></div>
<div class="ttc" id="anamespace_slic3r_html_a2f0fe99ef6107bc0c3dc4c4bacce29c2"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a2f0fe99ef6107bc0c3dc4c4bacce29c2">Slic3r::ExtrusionPaths</a></div><div class="ttdeci">std::vector&lt; ExtrusionPath &gt; ExtrusionPaths</div><div class="ttdef"><b>Definition</b> ExtrusionEntity.hpp:301</div></div>
<div class="ttc" id="anamespace_slic3r_html_a7927d0ca1b31b8f9284ea268b11d27d5"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a7927d0ca1b31b8f9284ea268b11d27d5">Slic3r::angle</a></div><div class="ttdeci">double angle(const Eigen::MatrixBase&lt; Derived &gt; &amp;v1, const Eigen::MatrixBase&lt; Derived2 &gt; &amp;v2)</div><div class="ttdef"><b>Definition</b> Point.hpp:101</div></div>
<div class="ttc" id="anamespace_slic3r_html_ad9ddebbad7d13169769ccfaa24935505a0d019c79553a8e721ee3655f857706eb"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#ad9ddebbad7d13169769ccfaa24935505a0d019c79553a8e721ee3655f857706eb">Slic3r::WallInfillOrder::InnerOuterInnerInfill</a></div><div class="ttdeci">@ InnerOuterInnerInfill</div></div>
<div class="ttc" id="anamespace_slic3r_html_ad9ddebbad7d13169769ccfaa24935505a7ef9980105d37ca4a5cc002d81da2fb9"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#ad9ddebbad7d13169769ccfaa24935505a7ef9980105d37ca4a5cc002d81da2fb9">Slic3r::WallInfillOrder::InfillOuterInner</a></div><div class="ttdeci">@ InfillOuterInner</div></div>
<div class="ttc" id="anamespace_slic3r_html_ad9ddebbad7d13169769ccfaa24935505acf3c4dbd45d0533e8d86a94ed12a8962"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#ad9ddebbad7d13169769ccfaa24935505acf3c4dbd45d0533e8d86a94ed12a8962">Slic3r::WallInfillOrder::OuterInnerInfill</a></div><div class="ttdeci">@ OuterInnerInfill</div></div>
<div class="ttc" id="anamespaceigl_html_abc05369371ed7349991ab46a6d19870a"><div class="ttname"><a href="../../dc/d25/namespaceigl.html#abc05369371ed7349991ab46a6d19870a">igl::loop</a></div><div class="ttdeci">IGL_INLINE void loop(const int n_verts, const Eigen::PlainObjectBase&lt; DerivedF &gt; &amp;F, Eigen::SparseMatrix&lt; SType &gt; &amp;S, Eigen::PlainObjectBase&lt; DerivedNF &gt; &amp;NF)</div><div class="ttdef"><b>Definition</b> loop.cpp:21</div></div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">marchsq::__impl::SquareTag::a</a></div><div class="ttdeci">@ a</div></div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">marchsq::__impl::SquareTag::c</a></div><div class="ttdeci">@ c</div></div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">marchsq::__impl::SquareTag::b</a></div><div class="ttdeci">@ b</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00101">Slic3r::angle()</a>, <a class="el" href="../../#l00023">Slic3r::erExternalPerimeter</a>, <a class="el" href="../../#l00767">EXTRUDER_CONFIG</a>, <a class="el" href="../../#l00096">Slic3r::is_bridge()</a>, <a class="el" href="../../#l00053">Slic3r::is_perimeter()</a>, <a class="el" href="../../#l00166">Slic3r::l2()</a>, <a class="el" href="../../#l00042">NULL</a>, <a class="el" href="../../#l00180">Slic3r::Point::rotate()</a>, <a class="el" href="../../#l00081">scale_</a>, <a class="el" href="../../#l00073">SMALL_PERIMETER_LENGTH</a>, and <a class="el" href="../../#l00152">sqrt()</a>.</p>
<div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_ae0bdb9f5adcd41e1415f5f47f783586c_cgraph.svg" width="100%" height="513"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a2658e85cf988801f658cc55900392fd1" name="a2658e85cf988801f658cc55900392fd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2658e85cf988801f658cc55900392fd1">&#9670;&#160;</a></span>extrude_multi_path()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string Slic3r::GCode::extrude_multi_path </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/de4/class_slic3r_1_1_extrusion_multi_path.html">ExtrusionMultiPath</a>&#160;</td>
          <td class="paramname"><em>multipath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>description</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>speed</em> = <code>-1.</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3739</span>{</div>
<div class="line"><span class="lineno"> 3740</span>    <span class="comment">// extrude along the path</span></div>
<div class="line"><span class="lineno"> 3741</span>    std::string <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a>;</div>
<div class="line"><span class="lineno"> 3742</span>    <span class="keywordflow">for</span> (ExtrusionPath path : multipath.paths)</div>
<div class="line"><span class="lineno"> 3743</span>        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ab5898ee27f28f0f3f8ea23390fc67de0">_extrude</a>(path, description, speed);</div>
<div class="line"><span class="lineno"> 3744</span> </div>
<div class="line"><span class="lineno"> 3745</span>    <span class="comment">// BBS</span></div>
<div class="line"><span class="lineno"> 3746</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acd8bb57f4b518c46420f329ce755da31">m_wipe</a>.<a class="code hl_variable" href="../../df/d82/class_slic3r_1_1_wipe.html#a8f352a04cdfc7195f33a6011714bce5c">enable</a>) {</div>
<div class="line"><span class="lineno"> 3747</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acd8bb57f4b518c46420f329ce755da31">m_wipe</a>.<a class="code hl_variable" href="../../df/d82/class_slic3r_1_1_wipe.html#ad658cc53ba64891fe7bf86379fe39ad0">path</a> = Polyline();</div>
<div class="line"><span class="lineno"> 3748</span>        <span class="keywordflow">for</span> (ExtrusionPath &amp;path : multipath.paths) {</div>
<div class="line"><span class="lineno"> 3749</span>            <span class="comment">//BBS: Don&#39;t need to save duplicated point into wipe path</span></div>
<div class="line"><span class="lineno"> 3750</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acd8bb57f4b518c46420f329ce755da31">m_wipe</a>.<a class="code hl_variable" href="../../df/d82/class_slic3r_1_1_wipe.html#ad658cc53ba64891fe7bf86379fe39ad0">path</a>.<a class="code hl_function" href="../../d7/dd1/class_slic3r_1_1_multi_point.html#aba6057e668b1b0afa59df15e3bdaa6d7">empty</a>() &amp;&amp; !path.empty() &amp;&amp;</div>
<div class="line"><span class="lineno"> 3751</span>                <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acd8bb57f4b518c46420f329ce755da31">m_wipe</a>.<a class="code hl_variable" href="../../df/d82/class_slic3r_1_1_wipe.html#ad658cc53ba64891fe7bf86379fe39ad0">path</a>.<a class="code hl_function" href="../../d6/de0/class_slic3r_1_1_polyline.html#a6b7133b8ca7045b949922173fb257571">last_point</a>() == path.first_point())</div>
<div class="line"><span class="lineno"> 3752</span>                <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acd8bb57f4b518c46420f329ce755da31">m_wipe</a>.<a class="code hl_variable" href="../../df/d82/class_slic3r_1_1_wipe.html#ad658cc53ba64891fe7bf86379fe39ad0">path</a>.<a class="code hl_function" href="../../d6/de0/class_slic3r_1_1_polyline.html#adfb3235f458978fd92bae54d4aca686f">append</a>(path.polyline.points.begin() + 1, path.polyline.points.end());</div>
<div class="line"><span class="lineno"> 3753</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3754</span>                <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acd8bb57f4b518c46420f329ce755da31">m_wipe</a>.<a class="code hl_variable" href="../../df/d82/class_slic3r_1_1_wipe.html#ad658cc53ba64891fe7bf86379fe39ad0">path</a>.<a class="code hl_function" href="../../d6/de0/class_slic3r_1_1_polyline.html#adfb3235f458978fd92bae54d4aca686f">append</a>(path.polyline); <span class="comment">// TODO: don&#39;t limit wipe to last path</span></div>
<div class="line"><span class="lineno"> 3755</span>        }</div>
<div class="line"><span class="lineno"> 3756</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acd8bb57f4b518c46420f329ce755da31">m_wipe</a>.<a class="code hl_variable" href="../../df/d82/class_slic3r_1_1_wipe.html#ad658cc53ba64891fe7bf86379fe39ad0">path</a>.<a class="code hl_function" href="../../d6/de0/class_slic3r_1_1_polyline.html#a74c453198904df7bbec2f38e12f92205">reverse</a>();</div>
<div class="line"><span class="lineno"> 3757</span>    }</div>
<div class="line"><span class="lineno"> 3758</span> </div>
<div class="line"><span class="lineno"> 3759</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a>;</div>
<div class="line"><span class="lineno"> 3760</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_polyline_html_a74c453198904df7bbec2f38e12f92205"><div class="ttname"><a href="../../d6/de0/class_slic3r_1_1_polyline.html#a74c453198904df7bbec2f38e12f92205">Slic3r::Polyline::reverse</a></div><div class="ttdeci">void reverse()</div><div class="ttdef"><b>Definition</b> Polyline.cpp:34</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00307">Slic3r::ExtrusionMultiPath::paths</a>.</p>

</div>
</div>
<a id="a2305ebf68b102db066b7f1bf60ca8977" name="a2305ebf68b102db066b7f1bf60ca8977"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2305ebf68b102db066b7f1bf60ca8977">&#9670;&#160;</a></span>extrude_path()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string Slic3r::GCode::extrude_path </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/dbc/class_slic3r_1_1_extrusion_path.html">ExtrusionPath</a>&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>description</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>speed</em> = <code>-1.</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3776</span>{</div>
<div class="line"><span class="lineno"> 3777</span><span class="comment">//    description += ExtrusionEntity::role_to_string(path.role());</span></div>
<div class="line"><span class="lineno"> 3778</span>    std::string <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> = this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ab5898ee27f28f0f3f8ea23390fc67de0">_extrude</a>(path, description, speed);</div>
<div class="line"><span class="lineno"> 3779</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acd8bb57f4b518c46420f329ce755da31">m_wipe</a>.<a class="code hl_variable" href="../../df/d82/class_slic3r_1_1_wipe.html#a8f352a04cdfc7195f33a6011714bce5c">enable</a>) {</div>
<div class="line"><span class="lineno"> 3780</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acd8bb57f4b518c46420f329ce755da31">m_wipe</a>.<a class="code hl_variable" href="../../df/d82/class_slic3r_1_1_wipe.html#ad658cc53ba64891fe7bf86379fe39ad0">path</a> = std::move(path.polyline);</div>
<div class="line"><span class="lineno"> 3781</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acd8bb57f4b518c46420f329ce755da31">m_wipe</a>.<a class="code hl_variable" href="../../df/d82/class_slic3r_1_1_wipe.html#ad658cc53ba64891fe7bf86379fe39ad0">path</a>.<a class="code hl_function" href="../../d6/de0/class_slic3r_1_1_polyline.html#a74c453198904df7bbec2f38e12f92205">reverse</a>();</div>
<div class="line"><span class="lineno"> 3782</span>    }</div>
<div class="line"><span class="lineno"> 3783</span> </div>
<div class="line"><span class="lineno"> 3784</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a>;</div>
<div class="line"><span class="lineno"> 3785</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00147">Slic3r::ExtrusionPath::polyline</a>.</p>

</div>
</div>
<a id="a855717504baf9bd14e86f032a0e21e0c" name="a855717504baf9bd14e86f032a0e21e0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a855717504baf9bd14e86f032a0e21e0c">&#9670;&#160;</a></span>extrude_perimeters()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string Slic3r::GCode::extrude_perimeters </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d5/d8f/class_slic3r_1_1_print.html">Print</a> &amp;&#160;</td>
          <td class="paramname"><em>print</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="../../db/dad/struct_slic3r_1_1_g_code_1_1_object_by_extruder_1_1_island_1_1_region.html">ObjectByExtruder::Island::Region</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>by_region</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3789</span>{</div>
<div class="line"><span class="lineno"> 3790</span>    std::string <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a>;</div>
<div class="line"><span class="lineno"> 3791</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> ObjectByExtruder::Island::Region &amp;region : by_region)</div>
<div class="line"><span class="lineno"> 3792</span>        if (! region.perimeters.<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a83fc268888773d5c0f886fc2e54b8c64">empty</a>()) {</div>
<div class="line"><span class="lineno"> 3793</span>            <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.apply(print.get_print_region(&amp;region - &amp;by_region.front()).config());</div>
<div class="line"><span class="lineno"> 3794</span> </div>
<div class="line"><span class="lineno"> 3795</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> ExtrusionEntity* ee : region.perimeters)</div>
<div class="line"><span class="lineno"> 3796</span>                <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a999e940fc9198432b7a120451d246b6f">extrude_entity</a>(*ee, <span class="stringliteral">&quot;perimeter&quot;</span>, -1.);</div>
<div class="line"><span class="lineno"> 3797</span>        }</div>
<div class="line"><span class="lineno"> 3798</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a>;</div>
<div class="line"><span class="lineno"> 3799</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00111">Slic3r::PrintRegion::config()</a>, and <a class="el" href="../../#l00786">Slic3r::Print::get_print_region()</a>.</p>
<div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_a855717504baf9bd14e86f032a0e21e0c_cgraph.svg" width="344" height="118"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ac6e0613456f92543d17bd439371cce0b" name="ac6e0613456f92543d17bd439371cce0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6e0613456f92543d17bd439371cce0b">&#9670;&#160;</a></span>extrude_support()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string Slic3r::GCode::extrude_support </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../dd/d1d/class_slic3r_1_1_extrusion_entity_collection.html">ExtrusionEntityCollection</a> &amp;&#160;</td>
          <td class="paramname"><em>support_fills</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3831</span>{</div>
<div class="line"><span class="lineno"> 3832</span>    <span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *support_label            = <span class="stringliteral">&quot;support material&quot;</span>;</div>
<div class="line"><span class="lineno"> 3833</span>    <span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *support_interface_label  = <span class="stringliteral">&quot;support material interface&quot;</span>;</div>
<div class="line"><span class="lineno"> 3834</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* support_transition_label = <span class="stringliteral">&quot;support transition&quot;</span>;</div>
<div class="line"><span class="lineno"> 3835</span> </div>
<div class="line"><span class="lineno"> 3836</span>    std::string <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a>;</div>
<div class="line"><span class="lineno"> 3837</span>    <span class="keywordflow">if</span> (! support_fills.entities.empty()) {</div>
<div class="line"><span class="lineno"> 3838</span>        <span class="keyword">const</span> <span class="keywordtype">double</span>  support_speed            = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.support_speed.value;</div>
<div class="line"><span class="lineno"> 3839</span>        <span class="keyword">const</span> <span class="keywordtype">double</span>  support_interface_speed  = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.get_abs_value(<span class="stringliteral">&quot;support_interface_speed&quot;</span>);</div>
<div class="line"><span class="lineno"> 3840</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> ExtrusionEntity *ee : support_fills.entities) {</div>
<div class="line"><span class="lineno"> 3841</span>            <a class="code hl_enumeration" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6">ExtrusionRole</a> role = ee-&gt;role();</div>
<div class="line"><span class="lineno"> 3842</span>            assert(role == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a667e5eb77b54b3867d5ddd7474bd2f1a">erSupportMaterial</a> || role == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a54a07a476d1b976ab5ee4f95e80df634">erSupportMaterialInterface</a> || role == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6aca09505cfc31ed63c20afdb3f988271a">erSupportTransition</a>);</div>
<div class="line"><span class="lineno"> 3843</span>            <span class="keyword">const</span> <span class="keywordtype">char</span>* label = (role == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a667e5eb77b54b3867d5ddd7474bd2f1a">erSupportMaterial</a>) ? support_label :</div>
<div class="line"><span class="lineno"> 3844</span>                ((role == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a54a07a476d1b976ab5ee4f95e80df634">erSupportMaterialInterface</a>) ? support_interface_label : support_transition_label);</div>
<div class="line"><span class="lineno"> 3845</span>            <span class="comment">// BBS</span></div>
<div class="line"><span class="lineno"> 3846</span>            <span class="comment">//const double speed = (role == erSupportMaterial) ? support_speed : support_interface_speed;</span></div>
<div class="line"><span class="lineno"> 3847</span>            <span class="keyword">const</span> <span class="keywordtype">double</span> speed = -1.0;</div>
<div class="line"><span class="lineno"> 3848</span>            <span class="keyword">const</span> ExtrusionPath* path = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span>ExtrusionPath*<span class="keyword">&gt;</span>(ee);</div>
<div class="line"><span class="lineno"> 3849</span>            <span class="keyword">const</span> ExtrusionMultiPath* multipath = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span>ExtrusionMultiPath*<span class="keyword">&gt;</span>(ee);</div>
<div class="line"><span class="lineno"> 3850</span>            <span class="keyword">const</span> ExtrusionLoop* <a class="code hl_function" href="../../dc/d25/namespaceigl.html#abc05369371ed7349991ab46a6d19870a">loop</a> = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span>ExtrusionLoop*<span class="keyword">&gt;</span>(ee);</div>
<div class="line"><span class="lineno"> 3851</span>            <span class="keyword">const</span> ExtrusionEntityCollection* collection = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span>ExtrusionEntityCollection*<span class="keyword">&gt;</span>(ee);</div>
<div class="line"><span class="lineno"> 3852</span>            <span class="keywordflow">if</span> (path)</div>
<div class="line"><span class="lineno"> 3853</span>                <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2305ebf68b102db066b7f1bf60ca8977">extrude_path</a>(*path, label, speed);</div>
<div class="line"><span class="lineno"> 3854</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (multipath) {</div>
<div class="line"><span class="lineno"> 3855</span>                <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2658e85cf988801f658cc55900392fd1">extrude_multi_path</a>(*multipath, label, speed);</div>
<div class="line"><span class="lineno"> 3856</span>            }</div>
<div class="line"><span class="lineno"> 3857</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (loop) {</div>
<div class="line"><span class="lineno"> 3858</span>                <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae0bdb9f5adcd41e1415f5f47f783586c">extrude_loop</a>(*loop, label, speed);</div>
<div class="line"><span class="lineno"> 3859</span>            }</div>
<div class="line"><span class="lineno"> 3860</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (collection) {</div>
<div class="line"><span class="lineno"> 3861</span>                <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ac6e0613456f92543d17bd439371cce0b">extrude_support</a>(*collection);</div>
<div class="line"><span class="lineno"> 3862</span>            }</div>
<div class="line"><span class="lineno"> 3863</span>            <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3864</span>                <span class="keywordflow">throw</span> Slic3r::InvalidArgument(<span class="stringliteral">&quot;Unknown extrusion type&quot;</span>);</div>
<div class="line"><span class="lineno"> 3865</span>            }</div>
<div class="line"><span class="lineno"> 3866</span>        }</div>
<div class="line"><span class="lineno"> 3867</span>    }</div>
<div class="line"><span class="lineno"> 3868</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a>;</div>
<div class="line"><span class="lineno"> 3869</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_ac6e0613456f92543d17bd439371cce0b"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#ac6e0613456f92543d17bd439371cce0b">Slic3r::GCode::extrude_support</a></div><div class="ttdeci">std::string extrude_support(const ExtrusionEntityCollection &amp;support_fills)</div><div class="ttdef"><b>Definition</b> GCode.cpp:3830</div></div>
<div class="ttc" id="anamespace_slic3r_html_a6fa3193f46e8c4fc55359a5c124f46e6"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6">Slic3r::ExtrusionRole</a></div><div class="ttdeci">ExtrusionRole</div><div class="ttdef"><b>Definition</b> ExtrusionEntity.hpp:20</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00032">Slic3r::ExtrusionEntityCollection::entities</a>, <a class="el" href="../../#l00035">Slic3r::erSupportMaterial</a>, <a class="el" href="../../#l00036">Slic3r::erSupportMaterialInterface</a>, and <a class="el" href="../../#l00037">Slic3r::erSupportTransition</a>.</p>

</div>
</div>
<a id="abbdebd4b5ba8c690411fd533f4307f63" name="abbdebd4b5ba8c690411fd533f4307f63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbdebd4b5ba8c690411fd533f4307f63">&#9670;&#160;</a></span>gcode_to_point()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> Slic3r::GCode::gcode_to_point </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a> &amp;&#160;</td>
          <td class="paramname"><em>point</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 4968</span>{</div>
<div class="line"><span class="lineno"> 4969</span>    <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a> <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#aa273f3521311564aa64538354a5a5663">extruder_offset</a> = <a class="code hl_define" href="../../df/d40/_g_code_8cpp.html#a2dec0e9fe2fb1c9e3862bc3fd4b2d911">EXTRUDER_CONFIG</a>(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#aa273f3521311564aa64538354a5a5663">extruder_offset</a>);</div>
<div class="line"><span class="lineno"> 4970</span>    <span class="keywordflow">return</span> <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a>(</div>
<div class="line"><span class="lineno"> 4971</span>        <a class="code hl_define" href="../../dd/d47/libslic3r_8h.html#a5e7dd5d14b7e7bb8f1dab0fd4fa3e0f2">scale_</a>(point(0) - <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a63c083e26484e98330f09eb6f6e789b4">m_origin</a>(0) + <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#aa273f3521311564aa64538354a5a5663">extruder_offset</a>(0)),</div>
<div class="line"><span class="lineno"> 4972</span>        <a class="code hl_define" href="../../dd/d47/libslic3r_8h.html#a5e7dd5d14b7e7bb8f1dab0fd4fa3e0f2">scale_</a>(point(1) - <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a63c083e26484e98330f09eb6f6e789b4">m_origin</a>(1) + <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#aa273f3521311564aa64538354a5a5663">extruder_offset</a>(1)));</div>
<div class="line"><span class="lineno"> 4973</span>}</div>
<div class="ttc" id="anamespace_slic3r_html_aa273f3521311564aa64538354a5a5663"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#aa273f3521311564aa64538354a5a5663">Slic3r::extruder_offset</a></div><div class="ttdeci">machine_min_extruding_rate extruder_offset((ConfigOptionBools, reduce_fan_stop_start_freq))((ConfigOptionFloats</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00767">EXTRUDER_CONFIG</a>, <a class="el" href="../../de/db8/namespace_slic3r.html#aa273f3521311564aa64538354a5a5663">Slic3r::extruder_offset()</a>, and <a class="el" href="../../#l00081">scale_</a>.</p>
<div id="dynsection-24" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-24-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-24-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-24-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_abbdebd4b5ba8c690411fd533f4307f63_cgraph.svg" width="355" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ab7079d6608d218b9076cd47554648c8b" name="ab7079d6608d218b9076cd47554648c8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7079d6608d218b9076cd47554648c8b">&#9670;&#160;</a></span>get_bed_temperature()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a> Slic3r::GCode::get_bed_temperature </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>extruder_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>is_first_layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../de/db8/namespace_slic3r.html#a42fa1ebef02a8ad64595c21fcbe5aebc">BedType</a>&#160;</td>
          <td class="paramname"><em>bed_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2495</span>{</div>
<div class="line"><span class="lineno"> 2496</span>    std::string bed_temp_key = is_first_layer ? <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#add642cde3ce315e35df3844e629607c3">get_bed_temp_1st_layer_key</a>(bed_type) : <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1b090225e802a49f0153eb65b651fbd9">get_bed_temp_key</a>(bed_type);</div>
<div class="line"><span class="lineno"> 2497</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a760b7e0ccb84f301b709dd515c3df843">ConfigOptionInts</a>* bed_temp_opt = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.option&lt;<a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a760b7e0ccb84f301b709dd515c3df843">ConfigOptionInts</a>&gt;(bed_temp_key);</div>
<div class="line"><span class="lineno"> 2498</span>    <span class="keywordflow">return</span> bed_temp_opt-&gt;get_at(extruder_id);</div>
<div class="line"><span class="lineno"> 2499</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00434">Slic3r::ConfigOptionVector&lt; T &gt;::get_at()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>.</p>
<div id="dynsection-25" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-25-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-25-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-25-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_ab7079d6608d218b9076cd47554648c8b_cgraph.svg" width="364" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-26" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-26-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-26-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-26-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_ab7079d6608d218b9076cd47554648c8b_icgraph.svg" width="538" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a922d730b3489f1dcef6d8b914998bb51" name="a922d730b3489f1dcef6d8b914998bb51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a922d730b3489f1dcef6d8b914998bb51">&#9670;&#160;</a></span>is_BBL_Printer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::GCode::is_BBL_Printer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1062</span>{</div>
<div class="line"><span class="lineno"> 1063</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aad1ede23b9581df98d65205c77a675e7">m_curr_print</a>)</div>
<div class="line"><span class="lineno"> 1064</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aad1ede23b9581df98d65205c77a675e7">m_curr_print</a>-&gt;<a class="code hl_function" href="../../d5/d8f/class_slic3r_1_1_print.html#af64a0779ef7040a175f7b7b98d433163">is_BBL_printer</a>();</div>
<div class="line"><span class="lineno"> 1065</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1066</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_print_html_af64a0779ef7040a175f7b7b98d433163"><div class="ttname"><a href="../../d5/d8f/class_slic3r_1_1_print.html#af64a0779ef7040a175f7b7b98d433163">Slic3r::Print::is_BBL_printer</a></div><div class="ttdeci">bool &amp; is_BBL_printer()</div><div class="ttdef"><b>Definition</b> Print.hpp:818</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00818">Slic3r::Print::is_BBL_printer()</a>, and <a class="el" href="../../#l00511">m_curr_print</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01068">do_export()</a>.</p>
<div id="dynsection-27" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-27-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-27-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-27-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_a922d730b3489f1dcef6d8b914998bb51_cgraph.svg" width="352" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-28" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-28-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-28-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-28-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_a922d730b3489f1dcef6d8b914998bb51_icgraph.svg" width="380" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a935d5bd6724a00bd0de46fbedb581786" name="a935d5bd6724a00bd0de46fbedb581786"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a935d5bd6724a00bd0de46fbedb581786">&#9670;&#160;</a></span>last_pos()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp; Slic3r::GCode::last_pos </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  181</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a5b7aecf69aa0fce6b42cd1d6b5792e1a">m_last_pos</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00483">m_last_pos</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01121">Slic3r::AvoidCrossingPerimeters::travel_to()</a>, and <a class="el" href="../../#l00291">Slic3r::Wipe::wipe()</a>.</p>
<div id="dynsection-29" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-29-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-29-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-29-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_a935d5bd6724a00bd0de46fbedb581786_icgraph.svg" width="430" height="102"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a105b1e6249c8328f8e12b70d8ac983cb" name="a105b1e6249c8328f8e12b70d8ac983cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a105b1e6249c8328f8e12b70d8ac983cb">&#9670;&#160;</a></span>last_pos_defined()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::GCode::last_pos_defined </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  334</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad0b034df0dd1775d1b0d7b04f7a44c9c">m_last_pos_defined</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00484">m_last_pos_defined</a>.</p>

</div>
</div>
<a id="aefd4abaf0d1c18be14b61558b8d504cd" name="aefd4abaf0d1c18be14b61558b8d504cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefd4abaf0d1c18be14b61558b8d504cd">&#9670;&#160;</a></span>layer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../d1/d68/class_slic3r_1_1_layer.html">Layer</a> * Slic3r::GCode::layer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  186</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7d8c6148ecc0ecaaf9597bad4ed26083">m_layer</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00466">m_layer</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>, <a class="el" href="../../#l00284">Slic3r::OozePrevention::_get_temp()</a>, <a class="el" href="../../#l00700">Slic3r::need_wipe()</a>, <a class="el" href="../../#l02233">process_layers()</a>, and <a class="el" href="../../#l01121">Slic3r::AvoidCrossingPerimeters::travel_to()</a>.</p>
<div id="dynsection-30" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-30-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-30-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-30-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_aefd4abaf0d1c18be14b61558b8d504cd_icgraph.svg" width="100%" height="507"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a5c98ef8ced7012c15ae97a9cf3dfc7e6" name="a5c98ef8ced7012c15ae97a9cf3dfc7e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c98ef8ced7012c15ae97a9cf3dfc7e6">&#9670;&#160;</a></span>layer_count()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a> Slic3r::GCode::layer_count </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  197</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#afa528044bae428d5df6df25b4fe44516">m_layer_count</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00461">m_layer_count</a>.</p>

</div>
</div>
<a id="adce8c2fd712ff6d0b9b1e3c9cfb6195d" name="adce8c2fd712ff6d0b9b1e3c9cfb6195d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adce8c2fd712ff6d0b9b1e3c9cfb6195d">&#9670;&#160;</a></span>layer_id()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a> Slic3r::GCode::layer_id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  527</span>                         {</div>
<div class="line"><span class="lineno">  528</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7d8c6148ecc0ecaaf9597bad4ed26083">m_layer</a> == <span class="keyword">nullptr</span>)</div>
<div class="line"><span class="lineno">  529</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  530</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7d8c6148ecc0ecaaf9597bad4ed26083">m_layer</a>-&gt;<a class="code hl_function" href="../../d1/d68/class_slic3r_1_1_layer.html#a3d031d63fa4b34246ca1b1cbbb66b2fc">id</a>();</div>
<div class="line"><span class="lineno">  531</span>    }</div>
<div class="ttc" id="aclass_slic3r_1_1_layer_html_a3d031d63fa4b34246ca1b1cbbb66b2fc"><div class="ttname"><a href="../../d1/d68/class_slic3r_1_1_layer.html#a3d031d63fa4b34246ca1b1cbbb66b2fc">Slic3r::Layer::id</a></div><div class="ttdeci">size_t id() const</div><div class="ttdef"><b>Definition</b> Layer.hpp:122</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00122">Slic3r::Layer::id()</a>, and <a class="el" href="../../#l00466">m_layer</a>.</p>
<div id="dynsection-31" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-31-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-31-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-31-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_adce8c2fd712ff6d0b9b1e3c9cfb6195d_cgraph.svg" width="328" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ab6491a102ebdf57d9954a879f060868b" name="ab6491a102ebdf57d9954a879f060868b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6491a102ebdf57d9954a879f060868b">&#9670;&#160;</a></span>needs_retraction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::GCode::needs_retraction </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d6/de0/class_slic3r_1_1_polyline.html">Polyline</a> &amp;&#160;</td>
          <td class="paramname"><em>travel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6">ExtrusionRole</a>&#160;</td>
          <td class="paramname"><em>role</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/db8/namespace_slic3r.html#a65af44fb00b6bb6bdda9775762b39569">LiftType</a> &amp;&#160;</td>
          <td class="paramname"><em>lift_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 4542</span>{</div>
<div class="line"><span class="lineno"> 4543</span>    <span class="keywordflow">if</span> (travel.length() &lt; <a class="code hl_define" href="../../dd/d47/libslic3r_8h.html#a5e7dd5d14b7e7bb8f1dab0fd4fa3e0f2">scale_</a>(<a class="code hl_define" href="../../df/d40/_g_code_8cpp.html#a2dec0e9fe2fb1c9e3862bc3fd4b2d911">EXTRUDER_CONFIG</a>(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a35cb1543fa6ea32f23ac2701c3cda00b">retraction_minimum_travel</a>))) {</div>
<div class="line"><span class="lineno"> 4544</span>        <span class="comment">// skip retraction if the move is shorter than the configured threshold</span></div>
<div class="line"><span class="lineno"> 4545</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 4546</span>    }</div>
<div class="line"><span class="lineno"> 4547</span> </div>
<div class="line"><span class="lineno"> 4548</span>    <span class="comment">//BBS: input travel polyline must be in current plate coordinate system</span></div>
<div class="line"><span class="lineno"> 4549</span>    <span class="keyword">auto</span> is_through_overhang = [<span class="keyword">this</span>](<span class="keyword">const</span> Polyline&amp; travel) {</div>
<div class="line"><span class="lineno"> 4550</span>        BoundingBox travel_bbox = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a6e3ba75aef7600dbb0a294a47d88ecb8">get_extents</a>(travel);</div>
<div class="line"><span class="lineno"> 4551</span>        travel_bbox.inflated(1);</div>
<div class="line"><span class="lineno"> 4552</span>        travel_bbox.defined = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4553</span> </div>
<div class="line"><span class="lineno"> 4554</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> protect_z_scaled = <a class="code hl_define" href="../../dd/d47/libslic3r_8h.html#a5e7dd5d14b7e7bb8f1dab0fd4fa3e0f2">scale_</a>(0.4);</div>
<div class="line"><span class="lineno"> 4555</span>        std::pair&lt;float, float&gt; z_range;</div>
<div class="line"><span class="lineno"> 4556</span>        z_range.second = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7d8c6148ecc0ecaaf9597bad4ed26083">m_layer</a> ? <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7d8c6148ecc0ecaaf9597bad4ed26083">m_layer</a>-&gt;<a class="code hl_variable" href="../../d1/d68/class_slic3r_1_1_layer.html#a8918ae15322de198ce6d0632feaac9b4">print_z</a> : 0.f;</div>
<div class="line"><span class="lineno"> 4557</span>        z_range.first = std::max(0.f, z_range.second - protect_z_scaled);</div>
<div class="line"><span class="lineno"> 4558</span>        std::vector&lt;LayerPtrs&gt; layers_of_objects;</div>
<div class="line"><span class="lineno"> 4559</span>        std::vector&lt;BoundingBox&gt; boundingBox_for_objects;</div>
<div class="line"><span class="lineno"> 4560</span>        std::vector&lt;Points&gt; objects_instances_shift;</div>
<div class="line"><span class="lineno"> 4561</span>        std::vector&lt;size_t&gt; idx_of_object_sorted = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aad1ede23b9581df98d65205c77a675e7">m_curr_print</a>-&gt;<a class="code hl_function" href="../../d5/d8f/class_slic3r_1_1_print.html#adc7e8b934b2906acdd05a52eea695242">layers_sorted_for_object</a>(z_range.first, z_range.second, layers_of_objects, boundingBox_for_objects, objects_instances_shift);</div>
<div class="line"><span class="lineno"> 4562</span> </div>
<div class="line"><span class="lineno"> 4563</span>        std::vector&lt;bool&gt; is_layers_of_objects_sorted(layers_of_objects.size(), <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 4564</span> </div>
<div class="line"><span class="lineno"> 4565</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> idx : idx_of_object_sorted) {</div>
<div class="line"><span class="lineno"> 4566</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> &amp; instance_shift : objects_instances_shift[idx]) {</div>
<div class="line"><span class="lineno"> 4567</span>                BoundingBox instance_bbox = boundingBox_for_objects[idx];</div>
<div class="line"><span class="lineno"> 4568</span>                <span class="keywordflow">if</span> (!instance_bbox.defined)  <span class="comment">//BBS: Don&#39;t need to check when bounding box of overhang area is empty(undefined)</span></div>
<div class="line"><span class="lineno"> 4569</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 4570</span> </div>
<div class="line"><span class="lineno"> 4571</span>                instance_bbox.offset(<a class="code hl_define" href="../../dd/d47/libslic3r_8h.html#a5e7dd5d14b7e7bb8f1dab0fd4fa3e0f2">scale_</a>(<a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>));</div>
<div class="line"><span class="lineno"> 4572</span>                instance_bbox.translate(instance_shift.x(), instance_shift.y());</div>
<div class="line"><span class="lineno"> 4573</span>                <span class="keywordflow">if</span> (!instance_bbox.overlap(travel_bbox))</div>
<div class="line"><span class="lineno"> 4574</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 4575</span> </div>
<div class="line"><span class="lineno"> 4576</span>                <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#ae39547681b4c9f15f0d44712cdb01d6a">Polygons</a> temp;</div>
<div class="line"><span class="lineno"> 4577</span>                temp.emplace_back(std::move(instance_bbox.polygon()));</div>
<div class="line"><span class="lineno"> 4578</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#acebc3af95608afde6afc3aae65d00bd0">intersection_pl</a>(travel, temp).<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a83fc268888773d5c0f886fc2e54b8c64">empty</a>())</div>
<div class="line"><span class="lineno"> 4579</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 4580</span> </div>
<div class="line"><span class="lineno"> 4581</span>                <span class="keywordflow">if</span> (!is_layers_of_objects_sorted[idx]) {</div>
<div class="line"><span class="lineno"> 4582</span>                    std::sort(layers_of_objects[idx].<a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a2aeb0374bbb83d0a6452bca14e1bbbda">begin</a>(), layers_of_objects[idx].<a class="code hl_variable" href="../../d2/d86/xmltok__impl_8inc.html#ade76451eec04fdb3da08ae68f8afee41">end</a>(), [](<span class="keyword">auto</span> left, <span class="keyword">auto</span> right) { <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a811882fecd5c7618d7099ebbd39ea254">left</a>-&gt;loverhangs_bbox.area() &gt; <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a7c4f29407893c334a6cb7a87bf045c0d">right</a>-&gt;loverhangs_bbox.area();});</div>
<div class="line"><span class="lineno"> 4583</span>                    is_layers_of_objects_sorted[idx] = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4584</span>                }</div>
<div class="line"><span class="lineno"> 4585</span> </div>
<div class="line"><span class="lineno"> 4586</span>                <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aefd4abaf0d1c18be14b61558b8d504cd">layer</a> : layers_of_objects[idx]) {</div>
<div class="line"><span class="lineno"> 4587</span>                    <span class="keywordflow">for</span> (ExPolygon overhang : <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aefd4abaf0d1c18be14b61558b8d504cd">layer</a>-&gt;loverhangs) {</div>
<div class="line"><span class="lineno"> 4588</span>                        overhang.translate(instance_shift);</div>
<div class="line"><span class="lineno"> 4589</span>                        BoundingBox bbox1 = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a6e3ba75aef7600dbb0a294a47d88ecb8">get_extents</a>(overhang);</div>
<div class="line"><span class="lineno"> 4590</span> </div>
<div class="line"><span class="lineno"> 4591</span>                        <span class="keywordflow">if</span> (!bbox1.overlap(travel_bbox))</div>
<div class="line"><span class="lineno"> 4592</span>                            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 4593</span> </div>
<div class="line"><span class="lineno"> 4594</span>                        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#acebc3af95608afde6afc3aae65d00bd0">intersection_pl</a>(travel, overhang).<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a83fc268888773d5c0f886fc2e54b8c64">empty</a>())</div>
<div class="line"><span class="lineno"> 4595</span>                            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 4596</span> </div>
<div class="line"><span class="lineno"> 4597</span>                        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4598</span>                    }</div>
<div class="line"><span class="lineno"> 4599</span>                }</div>
<div class="line"><span class="lineno"> 4600</span>            }</div>
<div class="line"><span class="lineno"> 4601</span>        }</div>
<div class="line"><span class="lineno"> 4602</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 4603</span>    };</div>
<div class="line"><span class="lineno"> 4604</span> </div>
<div class="line"><span class="lineno"> 4605</span>    <span class="keywordtype">float</span> max_z_hop = 0.f;</div>
<div class="line"><span class="lineno"> 4606</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.z_hop.size(); i++)</div>
<div class="line"><span class="lineno"> 4607</span>        max_z_hop = std::max(max_z_hop, (<span class="keywordtype">float</span>)<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.z_hop.get_at(i));</div>
<div class="line"><span class="lineno"> 4608</span>    <span class="keywordtype">float</span> travel_len_thresh = max_z_hop / <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a0c32a3874bfc5438d11b75c9f40256d1">tan</a>(<a class="code hl_variable" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a77bd8a3f6083c257c0b0768f13525427">GCodeWriter::slope_threshold</a>);</div>
<div class="line"><span class="lineno"> 4609</span>    <span class="keywordtype">float</span> accum_len = 0.f;</div>
<div class="line"><span class="lineno"> 4610</span>    Polyline clipped_travel;</div>
<div class="line"><span class="lineno"> 4611</span> </div>
<div class="line"><span class="lineno"> 4612</span>    clipped_travel.append(Polyline(travel.points[0], travel.points[1]));</div>
<div class="line"><span class="lineno"> 4613</span>    <span class="keywordflow">if</span> (clipped_travel.length() &gt; travel_len_thresh)</div>
<div class="line"><span class="lineno"> 4614</span>        clipped_travel.points.back() = clipped_travel.points.front()+(clipped_travel.points.back() - clipped_travel.points.front()) * (travel_len_thresh / clipped_travel.length());</div>
<div class="line"><span class="lineno"> 4615</span>    <span class="comment">//BBS: translate to current plate coordinate system</span></div>
<div class="line"><span class="lineno"> 4616</span>    clipped_travel.translate(Point::new_scale(<span class="keywordtype">double</span>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a63c083e26484e98330f09eb6f6e789b4">m_origin</a>.x() - <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a0680c6f03c389db5bd95018db626dab9">get_xy_offset</a>().x()), <span class="keywordtype">double</span>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a63c083e26484e98330f09eb6f6e789b4">m_origin</a>.y() - <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a0680c6f03c389db5bd95018db626dab9">get_xy_offset</a>().y())));</div>
<div class="line"><span class="lineno"> 4617</span> </div>
<div class="line"><span class="lineno"> 4618</span>    <span class="comment">//BBS: force to retract when leave from external perimeter for a long travel</span></div>
<div class="line"><span class="lineno"> 4619</span>    <span class="comment">//Better way is judging whether the travel move direction is same with last extrusion move.</span></div>
<div class="line"><span class="lineno"> 4620</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a784249b30e7f6d5bcc431b8db8106ed0">is_perimeter</a>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7f4a6b2a5c2405ec1ac57210e107289c">m_last_processor_extrusion_role</a>) &amp;&amp; <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7f4a6b2a5c2405ec1ac57210e107289c">m_last_processor_extrusion_role</a> != <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6ae32f98111112cc6b4543d4d6335ff11c">erPerimeter</a>) {</div>
<div class="line"><span class="lineno"> 4621</span>        <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="../../de/db8/namespace_slic3r.html#a36eff5dabc254e08593a3f3963b56adb">ZHopType</a>(<a class="code hl_define" href="../../df/d40/_g_code_8cpp.html#a2dec0e9fe2fb1c9e3862bc3fd4b2d911">EXTRUDER_CONFIG</a>(z_hop_types)) == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a36eff5dabc254e08593a3f3963b56adba9905a65409a0c04acd35bc6042434a11">ZHopType::zhtAuto</a>) {</div>
<div class="line"><span class="lineno"> 4622</span>            lift_type = is_through_overhang(clipped_travel) ? <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a65af44fb00b6bb6bdda9775762b39569a763d32b709205d9b87f5d8dd16c5e7b8">LiftType::SpiralLift</a> : <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a65af44fb00b6bb6bdda9775762b39569a91f94e617eeff2eac1776003c4b48940">LiftType::LazyLift</a>;</div>
<div class="line"><span class="lineno"> 4623</span>        }</div>
<div class="line"><span class="lineno"> 4624</span>        <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4625</span>            lift_type = <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2f5e825b0be31d58b7b5d28c3446df5b">to_lift_type</a>(<a class="code hl_enumeration" href="../../de/db8/namespace_slic3r.html#a36eff5dabc254e08593a3f3963b56adb">ZHopType</a>(<a class="code hl_define" href="../../df/d40/_g_code_8cpp.html#a2dec0e9fe2fb1c9e3862bc3fd4b2d911">EXTRUDER_CONFIG</a>(z_hop_types)));</div>
<div class="line"><span class="lineno"> 4626</span>        }</div>
<div class="line"><span class="lineno"> 4627</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4628</span>    }</div>
<div class="line"><span class="lineno"> 4629</span> </div>
<div class="line"><span class="lineno"> 4630</span>    <span class="keywordflow">if</span> (role == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a667e5eb77b54b3867d5ddd7474bd2f1a">erSupportMaterial</a> || role == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6aca09505cfc31ed63c20afdb3f988271a">erSupportTransition</a>) {</div>
<div class="line"><span class="lineno"> 4631</span>        <span class="keyword">const</span> SupportLayer* support_layer = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span>SupportLayer*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7d8c6148ecc0ecaaf9597bad4ed26083">m_layer</a>);</div>
<div class="line"><span class="lineno"> 4632</span>        <span class="comment">//FIXME support_layer-&gt;support_islands.contains should use some search structure!</span></div>
<div class="line"><span class="lineno"> 4633</span>        <span class="keywordflow">if</span> (support_layer != <a class="code hl_define" href="../../db/dc9/_shiny_prereqs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><span class="lineno"> 4634</span>            <span class="comment">// skip retraction if this is a travel move inside a support material island</span></div>
<div class="line"><span class="lineno"> 4635</span>            <span class="comment">//FIXME not retracting over a long path may cause oozing, which in turn may result in missing material</span></div>
<div class="line"><span class="lineno"> 4636</span>            <span class="comment">// at the end of the extrusion path!</span></div>
<div class="line"><span class="lineno"> 4637</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> ExPolygon&amp; support_island : support_layer-&gt;support_islands)</div>
<div class="line"><span class="lineno"> 4638</span>                if (support_island.<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#acfc9a09a09ef564e917364aebae46df0">contains</a>(travel))</div>
<div class="line"><span class="lineno"> 4639</span>                    <a class="code hl_variable" href="../../d2/d86/xmltok__impl_8inc.html#a0daef2d817750da6dd6df041157e8aba">return</a> false;</div>
<div class="line"><span class="lineno"> 4640</span>        <span class="comment">//reduce the retractions in lightning infills for tree support</span></div>
<div class="line"><span class="lineno"> 4641</span>        <span class="keywordflow">if</span> (support_layer != <a class="code hl_define" href="../../db/dc9/_shiny_prereqs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; support_layer-&gt;support_type==<a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#ad808abcf23a36c0d91e1e7dd0203cb67a412eb2e3894e34c8f81ae22513cf5942">stInnerTree</a>)</div>
<div class="line"><span class="lineno"> 4642</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a58007b1077539ba492d56398b92fea70">area</a> : support_layer-&gt;base_areas)</div>
<div class="line"><span class="lineno"> 4643</span>                if (<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a58007b1077539ba492d56398b92fea70">area</a>.<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#acfc9a09a09ef564e917364aebae46df0">contains</a>(travel))</div>
<div class="line"><span class="lineno"> 4644</span>                    <a class="code hl_variable" href="../../d2/d86/xmltok__impl_8inc.html#a0daef2d817750da6dd6df041157e8aba">return</a> false;</div>
<div class="line"><span class="lineno"> 4645</span>    }</div>
<div class="line"><span class="lineno"> 4646</span>    <span class="comment">//BBS: need retract when long moving to print perimeter to avoid dropping of material</span></div>
<div class="line"><span class="lineno"> 4647</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a784249b30e7f6d5bcc431b8db8106ed0">is_perimeter</a>(role) &amp;&amp; <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.reduce_infill_retraction &amp;&amp; <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7d8c6148ecc0ecaaf9597bad4ed26083">m_layer</a> != <span class="keyword">nullptr</span> &amp;&amp;</div>
<div class="line"><span class="lineno"> 4648</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.sparse_infill_density.value &gt; 0 &amp;&amp; <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a8102ff77109201a7d52e06f95c51fb73">m_retract_when_crossing_perimeters</a>.<a class="code hl_function" href="../../d7/d8f/class_slic3r_1_1_retract_when_crossing_perimeters.html#a884357e3aa8f924988b71abd457a9eff">travel_inside_internal_regions</a>(*<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7d8c6148ecc0ecaaf9597bad4ed26083">m_layer</a>, travel))</div>
<div class="line"><span class="lineno"> 4649</span>        <span class="comment">// Skip retraction if travel is contained in an internal slice *and*</span></div>
<div class="line"><span class="lineno"> 4650</span>        <span class="comment">// internal infill is enabled (so that stringing is entirely not visible).</span></div>
<div class="line"><span class="lineno"> 4651</span>        <span class="comment">//FIXME any_internal_region_slice_contains() is potentionally very slow, it shall test for the bounding boxes first.</span></div>
<div class="line"><span class="lineno"> 4652</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 4653</span> </div>
<div class="line"><span class="lineno"> 4654</span>    <span class="comment">// retract if reduce_infill_retraction is disabled or doesn&#39;t apply when role is perimeter</span></div>
<div class="line"><span class="lineno"> 4655</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="../../de/db8/namespace_slic3r.html#a36eff5dabc254e08593a3f3963b56adb">ZHopType</a>(<a class="code hl_define" href="../../df/d40/_g_code_8cpp.html#a2dec0e9fe2fb1c9e3862bc3fd4b2d911">EXTRUDER_CONFIG</a>(z_hop_types)) == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a36eff5dabc254e08593a3f3963b56adba9905a65409a0c04acd35bc6042434a11">ZHopType::zhtAuto</a>) {</div>
<div class="line"><span class="lineno"> 4656</span>        lift_type = is_through_overhang(clipped_travel) ? <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a65af44fb00b6bb6bdda9775762b39569a763d32b709205d9b87f5d8dd16c5e7b8">LiftType::SpiralLift</a> : <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a65af44fb00b6bb6bdda9775762b39569a91f94e617eeff2eac1776003c4b48940">LiftType::LazyLift</a>;</div>
<div class="line"><span class="lineno"> 4657</span>    }</div>
<div class="line"><span class="lineno"> 4658</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4659</span>        lift_type = <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2f5e825b0be31d58b7b5d28c3446df5b">to_lift_type</a>(<a class="code hl_enumeration" href="../../de/db8/namespace_slic3r.html#a36eff5dabc254e08593a3f3963b56adb">ZHopType</a>(<a class="code hl_define" href="../../df/d40/_g_code_8cpp.html#a2dec0e9fe2fb1c9e3862bc3fd4b2d911">EXTRUDER_CONFIG</a>(z_hop_types)));</div>
<div class="line"><span class="lineno"> 4660</span>    }</div>
<div class="line"><span class="lineno"> 4661</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4662</span>}</div>
<div class="ttc" id="a_array_cwise_unary_ops_8h_html_a0c32a3874bfc5438d11b75c9f40256d1"><div class="ttname"><a href="../../d4/df0/_array_cwise_unary_ops_8h.html#a0c32a3874bfc5438d11b75c9f40256d1">tan</a></div><div class="ttdeci">EIGEN_DEVICE_FUNC const TanReturnType tan() const</div><div class="ttdef"><b>Definition</b> ArrayCwiseUnaryOps.h:234</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a8102ff77109201a7d52e06f95c51fb73"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a8102ff77109201a7d52e06f95c51fb73">Slic3r::GCode::m_retract_when_crossing_perimeters</a></div><div class="ttdeci">RetractWhenCrossingPerimeters m_retract_when_crossing_perimeters</div><div class="ttdef"><b>Definition</b> GCode.hpp:441</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_a77bd8a3f6083c257c0b0768f13525427"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a77bd8a3f6083c257c0b0768f13525427">Slic3r::GCodeWriter::slope_threshold</a></div><div class="ttdeci">static const double slope_threshold</div><div class="ttdef"><b>Definition</b> GCodeWriter.hpp:106</div></div>
<div class="ttc" id="aclass_slic3r_1_1_layer_html_a8918ae15322de198ce6d0632feaac9b4"><div class="ttname"><a href="../../d1/d68/class_slic3r_1_1_layer.html#a8918ae15322de198ce6d0632feaac9b4">Slic3r::Layer::print_z</a></div><div class="ttdeci">coordf_t print_z</div><div class="ttdef"><b>Definition</b> Layer.hpp:131</div></div>
<div class="ttc" id="aclass_slic3r_1_1_print_html_adc7e8b934b2906acdd05a52eea695242"><div class="ttname"><a href="../../d5/d8f/class_slic3r_1_1_print.html#adc7e8b934b2906acdd05a52eea695242">Slic3r::Print::layers_sorted_for_object</a></div><div class="ttdeci">std::vector&lt; size_t &gt; layers_sorted_for_object(float start, float end, std::vector&lt; LayerPtrs &gt; &amp;layers_of_objects, std::vector&lt; BoundingBox &gt; &amp;boundingBox_for_objects, std::vector&lt; Points &gt; &amp;objects_instances_shift)</div><div class="ttdef"><b>Definition</b> Print.cpp:452</div></div>
<div class="ttc" id="aclass_slic3r_1_1_retract_when_crossing_perimeters_html_a884357e3aa8f924988b71abd457a9eff"><div class="ttname"><a href="../../d7/d8f/class_slic3r_1_1_retract_when_crossing_perimeters.html#a884357e3aa8f924988b71abd457a9eff">Slic3r::RetractWhenCrossingPerimeters::travel_inside_internal_regions</a></div><div class="ttdeci">bool travel_inside_internal_regions(const Layer &amp;layer, const Polyline &amp;travel)</div><div class="ttdef"><b>Definition</b> RetractWhenCrossingPerimeters.cpp:9</div></div>
<div class="ttc" id="anamespace_slic3r_html_a35cb1543fa6ea32f23ac2701c3cda00b"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a35cb1543fa6ea32f23ac2701c3cda00b">Slic3r::retraction_minimum_travel</a></div><div class="ttdeci">machine_min_extruding_rate retraction_minimum_travel((ConfigOptionBools, retract_when_changing_layer))((ConfigOptionFloat</div></div>
<div class="ttc" id="anamespace_slic3r_html_a58007b1077539ba492d56398b92fea70"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a58007b1077539ba492d56398b92fea70">Slic3r::area</a></div><div class="ttdeci">double area(const ExPolygon &amp;poly)</div><div class="ttdef"><b>Definition</b> ExPolygon.hpp:470</div></div>
<div class="ttc" id="anamespace_slic3r_html_a65af44fb00b6bb6bdda9775762b39569a91f94e617eeff2eac1776003c4b48940"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a65af44fb00b6bb6bdda9775762b39569a91f94e617eeff2eac1776003c4b48940">Slic3r::LazyLift</a></div><div class="ttdeci">@ LazyLift</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:135</div></div>
<div class="ttc" id="anamespace_slic3r_html_a6e3ba75aef7600dbb0a294a47d88ecb8"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a6e3ba75aef7600dbb0a294a47d88ecb8">Slic3r::get_extents</a></div><div class="ttdeci">BoundingBox get_extents(const ExPolygon &amp;expolygon)</div><div class="ttdef"><b>Definition</b> ExPolygon.cpp:386</div></div>
<div class="ttc" id="anamespace_slic3r_html_acebc3af95608afde6afc3aae65d00bd0"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#acebc3af95608afde6afc3aae65d00bd0">Slic3r::intersection_pl</a></div><div class="ttdeci">Slic3r::Polylines intersection_pl(const Slic3r::Polylines &amp;subject, const Slic3r::Polygon &amp;clip)</div><div class="ttdef"><b>Definition</b> ClipperUtils.cpp:877</div></div>
<div class="ttc" id="anamespace_slic3r_html_acfc9a09a09ef564e917364aebae46df0"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#acfc9a09a09ef564e917364aebae46df0">Slic3r::contains</a></div><div class="ttdeci">bool contains(const ContainerType &amp;c, const ValueType &amp;v)</div><div class="ttdef"><b>Definition</b> libslic3r.h:265</div></div>
<div class="ttc" id="anamespace_slic3r_html_ad808abcf23a36c0d91e1e7dd0203cb67a412eb2e3894e34c8f81ae22513cf5942"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#ad808abcf23a36c0d91e1e7dd0203cb67a412eb2e3894e34c8f81ae22513cf5942">Slic3r::stInnerTree</a></div><div class="ttdeci">@ stInnerTree</div><div class="ttdef"><b>Definition</b> Layer.hpp:259</div></div>
<div class="ttc" id="anamespace_slic3r_html_ae39547681b4c9f15f0d44712cdb01d6a"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#ae39547681b4c9f15f0d44712cdb01d6a">Slic3r::Polygons</a></div><div class="ttdeci">std::vector&lt; Polygon &gt; Polygons</div><div class="ttdef"><b>Definition</b> Polygon.hpp:14</div></div>
<div class="ttc" id="anamespacelibnest2d_1_1shapelike_html_a2aeb0374bbb83d0a6452bca14e1bbbda"><div class="ttname"><a href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a2aeb0374bbb83d0a6452bca14e1bbbda">libnest2d::shapelike::begin</a></div><div class="ttdeci">S::iterator begin(S &amp;sh, const PathTag &amp;)</div><div class="ttdef"><b>Definition</b> geometry_traits.hpp:627</div></div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_ad1b266b182e7c12ec61378819e3785f1a7c4f29407893c334a6cb7a87bf045c0d"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a7c4f29407893c334a6cb7a87bf045c0d">marchsq::__impl::Dir::right</a></div><div class="ttdeci">@ right</div></div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_ad1b266b182e7c12ec61378819e3785f1a811882fecd5c7618d7099ebbd39ea254"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a811882fecd5c7618d7099ebbd39ea254">marchsq::__impl::Dir::left</a></div><div class="ttdeci">@ left</div></div>
<div class="ttc" id="axmltok__impl_8inc_html_a0daef2d817750da6dd6df041157e8aba"><div class="ttname"><a href="../../d2/d86/xmltok__impl_8inc.html#a0daef2d817750da6dd6df041157e8aba">return</a></div><div class="ttdeci">for(;HAS_CHAR(enc, ptr, end);ptr+=MINBPC(enc)) return</div><div class="ttdef"><b>Definition</b> xmltok_impl.inc:1372</div></div>
<div class="ttc" id="axmltok__impl_8inc_html_ade76451eec04fdb3da08ae68f8afee41"><div class="ttname"><a href="../../d2/d86/xmltok__impl_8inc.html#ade76451eec04fdb3da08ae68f8afee41">end</a></div><div class="ttdeci">static int PTRCALL PREFIX(scanPercent)(const ENCODING *enc const char const char * end</div><div class="ttdef"><b>Definition</b> xmltok_impl.inc:881</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00059">Slic3r::Polyline::append()</a>, <a class="el" href="../../#l00273">Slic3r::SupportLayer::base_areas</a>, <a class="el" href="../../#l00018">Slic3r::BoundingBoxBase&lt; PointClass &gt;::defined</a>, <a class="el" href="../../#l00241">Slic3r::empty()</a>, <a class="el" href="../../#l00881">end</a>, <a class="el" href="../../#l00052">EPSILON</a>, <a class="el" href="../../#l00022">Slic3r::erPerimeter</a>, <a class="el" href="../../#l00035">Slic3r::erSupportMaterial</a>, <a class="el" href="../../#l00037">Slic3r::erSupportTransition</a>, <a class="el" href="../../#l00767">EXTRUDER_CONFIG</a>, <a class="el" href="../../#l00386">Slic3r::get_extents()</a>, <a class="el" href="../../#l00211">Slic3r::BoundingBox::inflated()</a>, <a class="el" href="../../#l00877">Slic3r::intersection_pl()</a>, <a class="el" href="../../#l00053">Slic3r::is_perimeter()</a>, <a class="el" href="../../#l00048">Slic3r::MultiPoint::length()</a>, <a class="el" href="../../#l00042">NULL</a>, <a class="el" href="../../#l00206">Slic3r::BoundingBoxBase&lt; PointClass &gt;::offset()</a>, <a class="el" href="../../#l00069">Slic3r::BoundingBoxBase&lt; PointClass &gt;::overlap()</a>, <a class="el" href="../../#l00018">Slic3r::MultiPoint::points</a>, <a class="el" href="../../#l00015">Slic3r::BoundingBox::polygon()</a>, <a class="el" href="../../de/db8/namespace_slic3r.html#a35cb1543fa6ea32f23ac2701c3cda00b">Slic3r::retraction_minimum_travel()</a>, <a class="el" href="../../#l00081">scale_</a>, <a class="el" href="../../#l00259">Slic3r::stInnerTree</a>, <a class="el" href="../../#l00267">Slic3r::SupportLayer::support_islands</a>, <a class="el" href="../../#l00270">Slic3r::SupportLayer::support_type</a>, <a class="el" href="../../#l00234">tan()</a>, <a class="el" href="../../#l00057">Slic3r::BoundingBoxBase&lt; PointClass &gt;::translate()</a>, and <a class="el" href="../../#l00029">Slic3r::MultiPoint::translate()</a>.</p>
<div id="dynsection-32" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-32-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-32-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-32-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_ab6491a102ebdf57d9954a879f060868b_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a147ab3f76f3107c846eb2a48a97e74ea" name="a147ab3f76f3107c846eb2a48a97e74ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a147ab3f76f3107c846eb2a48a97e74ea">&#9670;&#160;</a></span>object_layer_over_raft()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::GCode::object_layer_over_raft </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  533</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a13accc40bdcea1a7bd2e2c2e8ae09af2">m_object_layer_over_raft</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00468">m_object_layer_over_raft</a>.</p>

</div>
</div>
<a id="ae0eab7dd774297f8da8384a066920011" name="ae0eab7dd774297f8da8384a066920011"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0eab7dd774297f8da8384a066920011">&#9670;&#160;</a></span>on_first_layer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::GCode::on_first_layer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  526</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7d8c6148ecc0ecaaf9597bad4ed26083">m_layer</a> != <span class="keyword">nullptr</span> &amp;&amp; <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7d8c6148ecc0ecaaf9597bad4ed26083">m_layer</a>-&gt;<a class="code hl_function" href="../../d1/d68/class_slic3r_1_1_layer.html#a3d031d63fa4b34246ca1b1cbbb66b2fc">id</a>() == 0 &amp;&amp; <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a03f37f7cb0691e122e6181b6891280e2">abs</a>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7d8c6148ecc0ecaaf9597bad4ed26083">m_layer</a>-&gt;<a class="code hl_function" href="../../d1/d68/class_slic3r_1_1_layer.html#abdaf2fa25fbc0bc32cdcd71f53583845">bottom_z</a>()) &lt; <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>; }</div>
<div class="ttc" id="aclass_slic3r_1_1_layer_html_abdaf2fa25fbc0bc32cdcd71f53583845"><div class="ttname"><a href="../../d1/d68/class_slic3r_1_1_layer.html#abdaf2fa25fbc0bc32cdcd71f53583845">Slic3r::Layer::bottom_z</a></div><div class="ttdeci">coordf_t bottom_z() const</div><div class="ttdef"><b>Definition</b> Layer.hpp:133</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00133">Slic3r::Layer::bottom_z()</a>, <a class="el" href="../../#l00052">EPSILON</a>, <a class="el" href="../../#l00122">Slic3r::Layer::id()</a>, and <a class="el" href="../../#l00466">m_layer</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00380">Slic3r::WipeTowerIntegration::append_tcr()</a>.</p>
<div id="dynsection-33" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-33-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-33-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-33-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_ae0eab7dd774297f8da8384a066920011_cgraph.svg" width="370" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-34" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-34-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-34-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-34-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_ae0eab7dd774297f8da8384a066920011_icgraph.svg" width="638" height="183"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a3bae1380df8dfd500cadfb986de661c5" name="a3bae1380df8dfd500cadfb986de661c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bae1380df8dfd500cadfb986de661c5">&#9670;&#160;</a></span>origin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a> &amp; Slic3r::GCode::origin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  178</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a63c083e26484e98330f09eb6f6e789b4">m_origin</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00427">m_origin</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01121">Slic3r::AvoidCrossingPerimeters::travel_to()</a>, and <a class="el" href="../../#l00375">Slic3r::wipe_tower_point_to_object_point()</a>.</p>
<div id="dynsection-35" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-35-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-35-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-35-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_a3bae1380df8dfd500cadfb986de661c5_icgraph.svg" width="100%" height="437"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a9f1bdce4c35a519aae50021a7e2a0ee9" name="a9f1bdce4c35a519aae50021a7e2a0ee9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f1bdce4c35a519aae50021a7e2a0ee9">&#9670;&#160;</a></span>placeholder_parser() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html">PlaceholderParser</a> &amp; Slic3r::GCode::placeholder_parser </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  189</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad74e7798985b999d53045b7ecd19739b">m_placeholder_parser</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00433">m_placeholder_parser</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00380">Slic3r::WipeTowerIntegration::append_tcr()</a>.</p>
<div id="dynsection-36" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-36-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-36-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-36-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_a9f1bdce4c35a519aae50021a7e2a0ee9_icgraph.svg" width="662" height="183"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a61dd5eaf8f1e1394f3ad1a52e43c798d" name="a61dd5eaf8f1e1394f3ad1a52e43c798d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61dd5eaf8f1e1394f3ad1a52e43c798d">&#9670;&#160;</a></span>placeholder_parser() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html">PlaceholderParser</a> &amp; Slic3r::GCode::placeholder_parser </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  190</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad74e7798985b999d53045b7ecd19739b">m_placeholder_parser</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00433">m_placeholder_parser</a>.</p>

</div>
</div>
<a id="a70b6e83de9e549d8405f5b63783ac290" name="a70b6e83de9e549d8405f5b63783ac290"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70b6e83de9e549d8405f5b63783ac290">&#9670;&#160;</a></span>placeholder_parser_process()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string Slic3r::GCode::placeholder_parser_process </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>templ</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>current_extruder_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d5/df0/class_slic3r_1_1_dynamic_config.html">DynamicConfig</a> *&#160;</td>
          <td class="paramname"><em>config_override</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2365</span>{</div>
<div class="line"><span class="lineno"> 2366</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 2367</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad74e7798985b999d53045b7ecd19739b">m_placeholder_parser</a>.<a class="code hl_function" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#a617dc1815994b298cc9cf32ba374f876">process</a>(templ, current_extruder_id, config_override, &amp;<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#adba26559de960021180ecc3a2c66b865">m_placeholder_parser_context</a>);</div>
<div class="line"><span class="lineno"> 2368</span>    } <span class="keywordflow">catch</span> (std::runtime_error &amp;err) {</div>
<div class="line"><span class="lineno"> 2369</span>        <span class="comment">// Collect the names of failed template substitutions for error reporting.</span></div>
<div class="line"><span class="lineno"> 2370</span>        <span class="keyword">auto</span> it = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a20286f6e3447ab45f5ec08e04d510645">m_placeholder_parser_failed_templates</a>.find(name);</div>
<div class="line"><span class="lineno"> 2371</span>        <span class="keywordflow">if</span> (it == <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a20286f6e3447ab45f5ec08e04d510645">m_placeholder_parser_failed_templates</a>.end())</div>
<div class="line"><span class="lineno"> 2372</span>            <span class="comment">// Only if there was no error reported for this template, store the first error message into the map to be reported.</span></div>
<div class="line"><span class="lineno"> 2373</span>            <span class="comment">// We don&#39;t want to collect error message for each and every occurence of a single custom G-code section.</span></div>
<div class="line"><span class="lineno"> 2374</span>            <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a20286f6e3447ab45f5ec08e04d510645">m_placeholder_parser_failed_templates</a>.insert(it, std::make_pair(name, std::string(err.what())));</div>
<div class="line"><span class="lineno"> 2375</span>        <span class="comment">// Insert the macro error message into the G-code.</span></div>
<div class="line"><span class="lineno"> 2376</span>        <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno"> 2377</span>            std::string(<span class="stringliteral">&quot;\n!!!!! Failed to process the custom G-code template &quot;</span>) + name + <span class="stringliteral">&quot;\n&quot;</span> +</div>
<div class="line"><span class="lineno"> 2378</span>            err.what() +</div>
<div class="line"><span class="lineno"> 2379</span>            <span class="stringliteral">&quot;!!!!! End of an error report for the custom G-code template &quot;</span> + name + <span class="stringliteral">&quot;\n\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 2380</span>    }</div>
<div class="line"><span class="lineno"> 2381</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_placeholder_parser_html_a617dc1815994b298cc9cf32ba374f876"><div class="ttname"><a href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#a617dc1815994b298cc9cf32ba374f876">Slic3r::PlaceholderParser::process</a></div><div class="ttdeci">std::string process(const std::string &amp;templ, unsigned int current_extruder_id=0, const DynamicConfig *config_override=nullptr, ContextData *context=nullptr) const</div><div class="ttdef"><b>Definition</b> PlaceholderParser.cpp:1435</div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>, <a class="el" href="../../#l00380">Slic3r::WipeTowerIntegration::append_tcr()</a>, and <a class="el" href="../../#l02645">Slic3r::ProcessLayer::emit_custom_gcode_per_print_z()</a>.</p>
<div id="dynsection-37" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-37-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-37-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-37-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_a70b6e83de9e549d8405f5b63783ac290_icgraph.svg" width="662" height="256"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ae69c3d88b0093b87f42cb2053dd52129" name="ae69c3d88b0093b87f42cb2053dd52129"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae69c3d88b0093b87f42cb2053dd52129">&#9670;&#160;</a></span>point_to_gcode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a> Slic3r::GCode::point_to_gcode </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>point</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 4961</span>{</div>
<div class="line"><span class="lineno"> 4962</span>    <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a> <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#aa273f3521311564aa64538354a5a5663">extruder_offset</a> = <a class="code hl_define" href="../../df/d40/_g_code_8cpp.html#a2dec0e9fe2fb1c9e3862bc3fd4b2d911">EXTRUDER_CONFIG</a>(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#aa273f3521311564aa64538354a5a5663">extruder_offset</a>);</div>
<div class="line"><span class="lineno"> 4963</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab3977853055b1ea40f45a1bbfb78ef36">unscale</a>(point) + <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a63c083e26484e98330f09eb6f6e789b4">m_origin</a> - <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#aa273f3521311564aa64538354a5a5663">extruder_offset</a>;</div>
<div class="line"><span class="lineno"> 4964</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00767">EXTRUDER_CONFIG</a>, <a class="el" href="../../de/db8/namespace_slic3r.html#aa273f3521311564aa64538354a5a5663">Slic3r::extruder_offset()</a>, and <a class="el" href="../../#l00113">Slic3r::unscale()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00291">Slic3r::Wipe::wipe()</a>.</p>
<div id="dynsection-38" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-38-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-38-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-38-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_ae69c3d88b0093b87f42cb2053dd52129_cgraph.svg" width="348" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-39" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-39-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-39-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-39-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_ae69c3d88b0093b87f42cb2053dd52129_icgraph.svg" width="326" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ad040baf0648c9cc3c84c63643143ab98" name="ad040baf0648c9cc3c84c63643143ab98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad040baf0648c9cc3c84c63643143ab98">&#9670;&#160;</a></span>point_to_gcode_quantized()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a> Slic3r::GCode::point_to_gcode_quantized </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>point</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 4976</span>{</div>
<div class="line"><span class="lineno"> 4977</span>    <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a> p = this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae69c3d88b0093b87f42cb2053dd52129">point_to_gcode</a>(point);</div>
<div class="line"><span class="lineno"> 4978</span>    <span class="keywordflow">return</span> { <a class="code hl_function" href="../../d2/d4e/class_slic3r_1_1_g_code_formatter.html#a83ca01972a22d13e852cbd17c02508f6">GCodeFormatter::quantize_xyzf</a>(p.x()), <a class="code hl_function" href="../../d2/d4e/class_slic3r_1_1_g_code_formatter.html#a83ca01972a22d13e852cbd17c02508f6">GCodeFormatter::quantize_xyzf</a>(p.y()) };</div>
<div class="line"><span class="lineno"> 4979</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_formatter_html_a83ca01972a22d13e852cbd17c02508f6"><div class="ttname"><a href="../../d2/d4e/class_slic3r_1_1_g_code_formatter.html#a83ca01972a22d13e852cbd17c02508f6">Slic3r::GCodeFormatter::quantize_xyzf</a></div><div class="ttdeci">static double quantize_xyzf(double v)</div><div class="ttdef"><b>Definition</b> GCodeWriter.hpp:192</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1b9cd040ce1ef5fbc7d0ff2676b3fb50" name="a1b9cd040ce1ef5fbc7d0ff2676b3fb50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b9cd040ce1ef5fbc7d0ff2676b3fb50">&#9670;&#160;</a></span>preamble()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string Slic3r::GCode::preamble </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3556</span>{</div>
<div class="line"><span class="lineno"> 3557</span>    std::string <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a48eee9aa8426351149b13b8398365887">preamble</a>();</div>
<div class="line"><span class="lineno"> 3558</span> </div>
<div class="line"><span class="lineno"> 3559</span>    <span class="comment">/*  Perform a *silent* move to z_offset: we need this to initialize the Z</span></div>
<div class="line"><span class="lineno"> 3560</span><span class="comment">        position of our writer object so that any initial lift taking place</span></div>
<div class="line"><span class="lineno"> 3561</span><span class="comment">        before the first layer change will raise the extruder from the correct</span></div>
<div class="line"><span class="lineno"> 3562</span><span class="comment">        initial Z instead of 0.  */</span></div>
<div class="line"><span class="lineno"> 3563</span>    <span class="comment">//m_writer.travel_to_z(m_config.z_offset.value);</span></div>
<div class="line"><span class="lineno"> 3564</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#ad0008f46affc37f57e6bcb84404aeac7">travel_to_z</a>(0.0);</div>
<div class="line"><span class="lineno"> 3565</span> </div>
<div class="line"><span class="lineno"> 3566</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a>;</div>
<div class="line"><span class="lineno"> 3567</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_a48eee9aa8426351149b13b8398365887"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a48eee9aa8426351149b13b8398365887">Slic3r::GCodeWriter::preamble</a></div><div class="ttdeci">std::string preamble()</div><div class="ttdef"><b>Definition</b> GCodeWriter.cpp:49</div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>.</p>
<div id="dynsection-40" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-40-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-40-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-40-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_a1b9cd040ce1ef5fbc7d0ff2676b3fb50_icgraph.svg" width="572" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a0aa14d5c370dcfa9c9ef3fc656de64cc" name="a0aa14d5c370dcfa9c9ef3fc656de64cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0aa14d5c370dcfa9c9ef3fc656de64cc">&#9670;&#160;</a></span>print_machine_envelope()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::GCode::print_machine_envelope </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/db8/class_slic3r_1_1_g_code_1_1_g_code_output_stream.html">GCodeOutputStream</a> &amp;&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/d8f/class_slic3r_1_1_print.html">Print</a> &amp;&#160;</td>
          <td class="paramname"><em>print</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2450</span>{</div>
<div class="line"><span class="lineno"> 2451</span>    <span class="keyword">const</span> <span class="keyword">auto</span> flavor = print.config().gcode_flavor.value;</div>
<div class="line"><span class="lineno"> 2452</span>    <span class="keywordflow">if</span> (flavor == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a02d66b5053fbce6319e225982b3c5a90a9179b7644f0b607c39456f311df7c313">gcfMarlinLegacy</a> || flavor == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a02d66b5053fbce6319e225982b3c5a90a446f499310eddd96c57cb85695b089ab">gcfMarlinFirmware</a>) {</div>
<div class="line"><span class="lineno"> 2453</span>        <span class="keywordtype">int</span> factor = flavor == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a02d66b5053fbce6319e225982b3c5a90a708a4abd4ba3c421e40a5a0525ebbb51">gcfRepRapFirmware</a> ? 60 : 1; <span class="comment">// RRF M203 and M566 are in mm/min</span></div>
<div class="line"><span class="lineno"> 2454</span>        file.write_format(<span class="stringliteral">&quot;M201 X%d Y%d Z%d E%d\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2455</span>            <span class="keywordtype">int</span>(print.config().machine_max_acceleration_x.values.front() + 0.5),</div>
<div class="line"><span class="lineno"> 2456</span>            <span class="keywordtype">int</span>(print.config().machine_max_acceleration_y.values.front() + 0.5),</div>
<div class="line"><span class="lineno"> 2457</span>            <span class="keywordtype">int</span>(print.config().machine_max_acceleration_z.values.front() + 0.5),</div>
<div class="line"><span class="lineno"> 2458</span>            <span class="keywordtype">int</span>(print.config().machine_max_acceleration_e.values.front() + 0.5));</div>
<div class="line"><span class="lineno"> 2459</span>        file.write_format(<span class="stringliteral">&quot;M203 X%d Y%d Z%d E%d\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2460</span>            <span class="keywordtype">int</span>(print.config().machine_max_speed_x.values.front() * factor + 0.5),</div>
<div class="line"><span class="lineno"> 2461</span>            <span class="keywordtype">int</span>(print.config().machine_max_speed_y.values.front() * factor + 0.5),</div>
<div class="line"><span class="lineno"> 2462</span>            <span class="keywordtype">int</span>(print.config().machine_max_speed_z.values.front() * factor + 0.5),</div>
<div class="line"><span class="lineno"> 2463</span>            <span class="keywordtype">int</span>(print.config().machine_max_speed_e.values.front() * factor + 0.5));</div>
<div class="line"><span class="lineno"> 2464</span> </div>
<div class="line"><span class="lineno"> 2465</span>        <span class="comment">// Now M204 - acceleration. This one is quite hairy thanks to how Marlin guys care about</span></div>
<div class="line"><span class="lineno"> 2466</span>        <span class="comment">// Legacy Marlin should export travel acceleration the same as printing acceleration.</span></div>
<div class="line"><span class="lineno"> 2467</span>        <span class="comment">// MarlinFirmware has the two separated.</span></div>
<div class="line"><span class="lineno"> 2468</span>        <span class="keywordtype">int</span> travel_acc = flavor == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a02d66b5053fbce6319e225982b3c5a90a9179b7644f0b607c39456f311df7c313">gcfMarlinLegacy</a></div>
<div class="line"><span class="lineno"> 2469</span>                       ? <a class="code hl_variable" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>(print.config().machine_max_acceleration_extruding.values.front() + 0.5)</div>
<div class="line"><span class="lineno"> 2470</span>                       : <a class="code hl_variable" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>(print.<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a>().<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ac106fdf63b4ac17a6c1d0554ff97e4ef">machine_max_acceleration_travel</a>.values.<a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a9bbafef5b59a31bd6049a3aee20d760b">front</a>() + 0.5);</div>
<div class="line"><span class="lineno"> 2471</span>        <span class="keywordflow">if</span> (flavor == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a02d66b5053fbce6319e225982b3c5a90a708a4abd4ba3c421e40a5a0525ebbb51">gcfRepRapFirmware</a>)</div>
<div class="line"><span class="lineno"> 2472</span>            file.write_format(<span class="stringliteral">&quot;M204 P%d T%d ; sets acceleration (P, T), mm/sec^2\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2473</span>                <span class="keywordtype">int</span>(print.config().machine_max_acceleration_extruding.values.front() + 0.5),</div>
<div class="line"><span class="lineno"> 2474</span>                travel_acc);</div>
<div class="line"><span class="lineno"> 2475</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2476</span>            file.write_format(<span class="stringliteral">&quot;M204 P%d R%d T%d\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2477</span>                <span class="keywordtype">int</span>(print.config().machine_max_acceleration_extruding.values.front() + 0.5),</div>
<div class="line"><span class="lineno"> 2478</span>                <span class="keywordtype">int</span>(print.config().machine_max_acceleration_retracting.values.front() + 0.5),</div>
<div class="line"><span class="lineno"> 2479</span>                travel_acc);</div>
<div class="line"><span class="lineno"> 2480</span> </div>
<div class="line"><span class="lineno"> 2481</span>        assert(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7fc4c0f61833ab1abb7195cd75463e56">is_decimal_separator_point</a>());</div>
<div class="line"><span class="lineno"> 2482</span>        file.write_format(flavor == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a02d66b5053fbce6319e225982b3c5a90a708a4abd4ba3c421e40a5a0525ebbb51">gcfRepRapFirmware</a></div>
<div class="line"><span class="lineno"> 2483</span>            ? <span class="stringliteral">&quot;M566 X%.2lf Y%.2lf Z%.2lf E%.2lf ; sets the jerk limits, mm/min\n&quot;</span></div>
<div class="line"><span class="lineno"> 2484</span>            : <span class="stringliteral">&quot;M205 X%.2lf Y%.2lf Z%.2lf E%.2lf ; sets the jerk limits, mm/sec\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2485</span>            print.<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a>().machine_max_jerk_x.values.<a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a9bbafef5b59a31bd6049a3aee20d760b">front</a>() * factor,</div>
<div class="line"><span class="lineno"> 2486</span>            print.<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a>().<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab227e18f6b81fb38f116460f8f480dd0">machine_max_jerk_y</a>.values.<a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a9bbafef5b59a31bd6049a3aee20d760b">front</a>() * factor,</div>
<div class="line"><span class="lineno"> 2487</span>            print.<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a>().machine_max_jerk_z.values.<a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a9bbafef5b59a31bd6049a3aee20d760b">front</a>() * factor,</div>
<div class="line"><span class="lineno"> 2488</span>            print.<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a>().<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a92a9e53b2ed9f7e484c701cbacc4f1c9">machine_max_jerk_e</a>.values.<a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a9bbafef5b59a31bd6049a3aee20d760b">front</a>() * factor);</div>
<div class="line"><span class="lineno"> 2489</span> </div>
<div class="line"><span class="lineno"> 2490</span>    }</div>
<div class="line"><span class="lineno"> 2491</span>}</div>
<div class="ttc" id="anamespace_slic3r_html_a92a9e53b2ed9f7e484c701cbacc4f1c9"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a92a9e53b2ed9f7e484c701cbacc4f1c9">Slic3r::machine_max_jerk_e</a></div><div class="ttdeci">machine_max_jerk_e((ConfigOptionFloats, machine_min_travel_rate))((ConfigOptionFloats</div></div>
<div class="ttc" id="anamespace_slic3r_html_ab227e18f6b81fb38f116460f8f480dd0"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#ab227e18f6b81fb38f116460f8f480dd0">Slic3r::machine_max_jerk_y</a></div><div class="ttdeci">machine_max_jerk_y((ConfigOptionFloats, machine_max_jerk_z))((ConfigOptionFloats</div></div>
<div class="ttc" id="anamespace_slic3r_html_ac106fdf63b4ac17a6c1d0554ff97e4ef"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#ac106fdf63b4ac17a6c1d0554ff97e4ef">Slic3r::machine_max_acceleration_travel</a></div><div class="ttdeci">machine_max_acceleration_travel((ConfigOptionFloats, machine_max_jerk_x))((ConfigOptionFloats</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00740">Slic3r::Print::config()</a>, <a class="el" href="../../#l00035">Slic3r::gcfMarlinFirmware</a>, <a class="el" href="../../#l00035">Slic3r::gcfMarlinLegacy</a>, <a class="el" href="../../#l00035">Slic3r::gcfRepRapFirmware</a>, <a class="el" href="../../#l00340">int</a>, <a class="el" href="../../#l00046">Slic3r::is_decimal_separator_point()</a>, and <a class="el" href="../../#l03906">Slic3r::GCode::GCodeOutputStream::write_format()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>.</p>
<div id="dynsection-41" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-41-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-41-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-41-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_a0aa14d5c370dcfa9c9ef3fc656de64cc_cgraph.svg" width="100%" height="425"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-42" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-42-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-42-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-42-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_a0aa14d5c370dcfa9c9ef3fc656de64cc_icgraph.svg" width="544" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="af21d155aeb9662601bf3183370517d50" name="af21d155aeb9662601bf3183370517d50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af21d155aeb9662601bf3183370517d50">&#9670;&#160;</a></span>process_layer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html#de/dad/struct_slic3r_1_1_g_code_1_1_layer_result">GCode::LayerResult</a> Slic3r::GCode::process_layer </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d5/d8f/class_slic3r_1_1_print.html">Print</a> &amp;&#160;</td>
          <td class="paramname"><em>print</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="../../df/d75/struct_slic3r_1_1_g_code_1_1_layer_to_print.html">LayerToPrint</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>layers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../dc/d78/class_slic3r_1_1_layer_tools.html">LayerTools</a> &amp;&#160;</td>
          <td class="paramname"><em>layer_tools</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>last_layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; const <a class="el" href="../../de/d18/struct_slic3r_1_1_print_instance.html">PrintInstance</a> * &gt; *&#160;</td>
          <td class="paramname"><em>ordering</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>single_object_idx</em> = <code>size_t(-1)</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>prime_extruder</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2832</span>{</div>
<div class="line"><span class="lineno"> 2833</span>    assert(! layers.empty());</div>
<div class="line"><span class="lineno"> 2834</span>    <span class="comment">// Either printing all copies of all objects, or just a single copy of a single object.</span></div>
<div class="line"><span class="lineno"> 2835</span>    assert(single_object_instance_idx == <span class="keywordtype">size_t</span>(-1) || layers.size() == 1);</div>
<div class="line"><span class="lineno"> 2836</span> </div>
<div class="line"><span class="lineno"> 2837</span>    <span class="comment">// First object, support and raft layer, if available.</span></div>
<div class="line"><span class="lineno"> 2838</span>    <span class="keyword">const</span> Layer         *object_layer  = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 2839</span>    <span class="keyword">const</span> SupportLayer  *support_layer = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 2840</span>    <span class="keyword">const</span> SupportLayer  *raft_layer    = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 2841</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> LayerToPrint &amp;l : layers) {</div>
<div class="line"><span class="lineno"> 2842</span>        <span class="keywordflow">if</span> (l.object_layer &amp;&amp; ! object_layer)</div>
<div class="line"><span class="lineno"> 2843</span>            object_layer = l.object_layer;</div>
<div class="line"><span class="lineno"> 2844</span>        <span class="keywordflow">if</span> (l.support_layer) {</div>
<div class="line"><span class="lineno"> 2845</span>            <span class="keywordflow">if</span> (! support_layer)</div>
<div class="line"><span class="lineno"> 2846</span>                support_layer = l.support_layer;</div>
<div class="line"><span class="lineno"> 2847</span>            <span class="keywordflow">if</span> (! raft_layer &amp;&amp; support_layer-&gt;id() &lt; support_layer-&gt;object()-&gt;slicing_parameters().raft_layers())</div>
<div class="line"><span class="lineno"> 2848</span>                raft_layer = support_layer;</div>
<div class="line"><span class="lineno"> 2849</span>        }</div>
<div class="line"><span class="lineno"> 2850</span>    }</div>
<div class="line"><span class="lineno"> 2851</span> </div>
<div class="line"><span class="lineno"> 2852</span>    <span class="keyword">const</span> Layer* layer_ptr = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 2853</span>    <span class="keywordflow">if</span> (object_layer != <span class="keyword">nullptr</span>)</div>
<div class="line"><span class="lineno"> 2854</span>        layer_ptr = object_layer;</div>
<div class="line"><span class="lineno"> 2855</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (support_layer != <span class="keyword">nullptr</span>)</div>
<div class="line"><span class="lineno"> 2856</span>        layer_ptr = support_layer;</div>
<div class="line"><span class="lineno"> 2857</span>    <span class="keyword">const</span> Layer&amp; <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aefd4abaf0d1c18be14b61558b8d504cd">layer</a> = *layer_ptr;</div>
<div class="line"><span class="lineno"> 2858</span>    GCode::LayerResult   result { {}, <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aefd4abaf0d1c18be14b61558b8d504cd">layer</a>.<a class="code hl_function" href="../../d1/d68/class_slic3r_1_1_layer.html#a3d031d63fa4b34246ca1b1cbbb66b2fc">id</a>(), <span class="keyword">false</span>, last_layer };</div>
<div class="line"><span class="lineno"> 2859</span>    <span class="keywordflow">if</span> (layer_tools.extruders.empty())</div>
<div class="line"><span class="lineno"> 2860</span>        <span class="comment">// Nothing to extrude.</span></div>
<div class="line"><span class="lineno"> 2861</span>        <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 2862</span> </div>
<div class="line"><span class="lineno"> 2863</span>    <span class="comment">// Extract 1st object_layer and support_layer of this set of layers with an equal print_z.</span></div>
<div class="line"><span class="lineno"> 2864</span>    <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a95c875c81df33d788132374e2b57c6c1">coordf_t</a>             print_z       = <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aefd4abaf0d1c18be14b61558b8d504cd">layer</a>.<a class="code hl_variable" href="../../d1/d68/class_slic3r_1_1_layer.html#a8918ae15322de198ce6d0632feaac9b4">print_z</a>;</div>
<div class="line"><span class="lineno"> 2865</span>    <span class="comment">//BBS: using layer id to judge whether the layer is first layer is wrong. Because if the normal</span></div>
<div class="line"><span class="lineno"> 2866</span>    <span class="comment">//support is attached above the object, and support layers has independent layer height, then the lowest support</span></div>
<div class="line"><span class="lineno"> 2867</span>    <span class="comment">//interface layer id is 0.</span></div>
<div class="line"><span class="lineno"> 2868</span>    <span class="keywordtype">bool</span>                 first_layer   = (<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aefd4abaf0d1c18be14b61558b8d504cd">layer</a>.<a class="code hl_function" href="../../d1/d68/class_slic3r_1_1_layer.html#a3d031d63fa4b34246ca1b1cbbb66b2fc">id</a>() == 0 &amp;&amp; <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a03f37f7cb0691e122e6181b6891280e2">abs</a>(<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aefd4abaf0d1c18be14b61558b8d504cd">layer</a>.<a class="code hl_function" href="../../d1/d68/class_slic3r_1_1_layer.html#abdaf2fa25fbc0bc32cdcd71f53583845">bottom_z</a>()) &lt; <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>);</div>
<div class="line"><span class="lineno"> 2869</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#aaa28b2e4f597a4c6f3283883135cb5cf">set_is_first_layer</a>(first_layer);</div>
<div class="line"><span class="lineno"> 2870</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>         first_extruder_id = layer_tools.extruders.front();</div>
<div class="line"><span class="lineno"> 2871</span> </div>
<div class="line"><span class="lineno"> 2872</span>    <span class="comment">// Initialize config with the 1st object to be printed at this layer.</span></div>
<div class="line"><span class="lineno"> 2873</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.apply(<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aefd4abaf0d1c18be14b61558b8d504cd">layer</a>.<a class="code hl_function" href="../../d1/d68/class_slic3r_1_1_layer.html#af208f762d74924f88851c152cbc9bd36">object</a>()-&gt;<a class="code hl_function" href="../../de/d87/class_slic3r_1_1_print_object.html#abde3ac4f19e1f9d342423a7643e17266">config</a>(), <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 2874</span> </div>
<div class="line"><span class="lineno"> 2875</span>    <span class="comment">// Check whether it is possible to apply the spiral vase logic for this layer.</span></div>
<div class="line"><span class="lineno"> 2876</span>    <span class="comment">// Just a reminder: A spiral vase mode is allowed for a single object, single material print only.</span></div>
<div class="line"><span class="lineno"> 2877</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a6d0382a520e8c1ff4be5924a8444d76c">m_enable_loop_clipping</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2878</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a8af28e4500c5897a80f5ccc1b6b118a2">m_spiral_vase</a> &amp;&amp; layers.size() == 1 &amp;&amp; support_layer == <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno"> 2879</span>        <span class="keywordtype">bool</span> enable = (<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aefd4abaf0d1c18be14b61558b8d504cd">layer</a>.<a class="code hl_function" href="../../d1/d68/class_slic3r_1_1_layer.html#a3d031d63fa4b34246ca1b1cbbb66b2fc">id</a>() &gt; 0 || !print.has_brim()) &amp;&amp; (<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aefd4abaf0d1c18be14b61558b8d504cd">layer</a>.<a class="code hl_function" href="../../d1/d68/class_slic3r_1_1_layer.html#a3d031d63fa4b34246ca1b1cbbb66b2fc">id</a>() &gt;= (size_t)print.config().skirt_height.value &amp;&amp; ! print.has_infinite_skirt());</div>
<div class="line"><span class="lineno"> 2880</span>        <span class="keywordflow">if</span> (enable) {</div>
<div class="line"><span class="lineno"> 2881</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> LayerRegion *layer_region : <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aefd4abaf0d1c18be14b61558b8d504cd">layer</a>.regions())</div>
<div class="line"><span class="lineno"> 2882</span>                if (size_t(layer_region-&gt;region().<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a>().<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a064fb71453f1269e52a93301da377663">bottom_shell_layers</a>.<a class="code hl_enumvalue" href="../../dc/df0/namespacenlohmann_1_1detail.html#a59e696b1dad6d0d99c172ac4518c2042a2063c1608d6e0baf80249c42e2be5804">value</a>) &gt; <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aefd4abaf0d1c18be14b61558b8d504cd">layer</a>.id() ||</div>
<div class="line"><span class="lineno"> 2883</span>                    layer_region-&gt;perimeters.items_count() &gt; 1u ||</div>
<div class="line"><span class="lineno"> 2884</span>                    layer_region-&gt;fills.items_count() &gt; 0) {</div>
<div class="line"><span class="lineno"> 2885</span>                    enable = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2886</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2887</span>                }</div>
<div class="line"><span class="lineno"> 2888</span>        }</div>
<div class="line"><span class="lineno"> 2889</span>        result.spiral_vase_enable = enable;</div>
<div class="line"><span class="lineno"> 2890</span>        <span class="comment">// If we&#39;re going to apply spiralvase to this layer, disable loop clipping.</span></div>
<div class="line"><span class="lineno"> 2891</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a6d0382a520e8c1ff4be5924a8444d76c">m_enable_loop_clipping</a> = !enable;</div>
<div class="line"><span class="lineno"> 2892</span>    }</div>
<div class="line"><span class="lineno"> 2893</span> </div>
<div class="line"><span class="lineno"> 2894</span>    std::string <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a>;</div>
<div class="line"><span class="lineno"> 2895</span>    assert(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7fc4c0f61833ab1abb7195cd75463e56">is_decimal_separator_point</a>()); <span class="comment">// for the sprintfs</span></div>
<div class="line"><span class="lineno"> 2896</span> </div>
<div class="line"><span class="lineno"> 2897</span>    <span class="comment">// add tag for processor</span></div>
<div class="line"><span class="lineno"> 2898</span>    <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <span class="stringliteral">&quot;;&quot;</span> + <a class="code hl_function" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a44451e44902b601a9885339440174bb2">GCodeProcessor::reserved_tag</a>(<a class="code hl_enumvalue" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a9d0a157d06bdfad05bc6822a9a1c8071a7a3c9b43870d34605c5e1c5de7e12e0f">GCodeProcessor::ETags::Layer_Change</a>) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 2899</span>    <span class="comment">// export layer z</span></div>
<div class="line"><span class="lineno"> 2900</span>    <span class="keywordtype">char</span> buf[64];</div>
<div class="line"><span class="lineno"> 2901</span>    sprintf(buf, print.is_BBL_printer() ? <span class="stringliteral">&quot;; Z_HEIGHT: %g\n&quot;</span> : <span class="stringliteral">&quot;;Z:%g\n&quot;</span>, print_z);</div>
<div class="line"><span class="lineno"> 2902</span>    <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += buf;</div>
<div class="line"><span class="lineno"> 2903</span>    <span class="comment">// export layer height</span></div>
<div class="line"><span class="lineno"> 2904</span>    <span class="keywordtype">float</span> <a class="code hl_function" href="../../d0/d25/namespace_slic3r_1_1arrangement.html#a5b816dd05a95b740ac2194b643ceaacc">height</a> = first_layer ? <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(print_z) : static_cast&lt;float&gt;(print_z) - <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#accca0b22da61853ca952d06c31917235">m_last_layer_z</a>;</div>
<div class="line"><span class="lineno"> 2905</span>    sprintf(buf, <span class="stringliteral">&quot;;%s%g\n&quot;</span>, <a class="code hl_function" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a44451e44902b601a9885339440174bb2">GCodeProcessor::reserved_tag</a>(<a class="code hl_enumvalue" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a9d0a157d06bdfad05bc6822a9a1c8071aeec6c4bdbd339edf8cbea68becb85244">GCodeProcessor::ETags::Height</a>).c_str(), height);</div>
<div class="line"><span class="lineno"> 2906</span>    <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += buf;</div>
<div class="line"><span class="lineno"> 2907</span>    <span class="comment">// update caches</span></div>
<div class="line"><span class="lineno"> 2908</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#accca0b22da61853ca952d06c31917235">m_last_layer_z</a> = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(print_z);</div>
<div class="line"><span class="lineno"> 2909</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2b412ae6847f90bf35264b3ada4aa01c">m_max_layer_z</a>  = std::max(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2b412ae6847f90bf35264b3ada4aa01c">m_max_layer_z</a>, <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#accca0b22da61853ca952d06c31917235">m_last_layer_z</a>);</div>
<div class="line"><span class="lineno"> 2910</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a77216b94b9cba2d6e89710c1bd616674">m_last_height</a> = <a class="code hl_function" href="../../d0/d25/namespace_slic3r_1_1arrangement.html#a5b816dd05a95b740ac2194b643ceaacc">height</a>;</div>
<div class="line"><span class="lineno"> 2911</span> </div>
<div class="line"><span class="lineno"> 2912</span>    <span class="comment">// Set new layer - this will change Z and force a retraction if retract_when_changing_layer is enabled.</span></div>
<div class="line"><span class="lineno"> 2913</span>    <span class="keywordflow">if</span> (! print.config().before_layer_change_gcode.value.empty()) {</div>
<div class="line"><span class="lineno"> 2914</span>        DynamicConfig <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a>;</div>
<div class="line"><span class="lineno"> 2915</span>        <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a>.set_key_value(<span class="stringliteral">&quot;layer_num&quot;</span>,   <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#ac44dc7dc57ca4e75fffcf4b377abfd8b">ConfigOptionInt</a>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a3388b4f3b94c005c8b6c64b1ba9b105d">m_layer_index</a> + 1));</div>
<div class="line"><span class="lineno"> 2916</span>        <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a>.set_key_value(<span class="stringliteral">&quot;layer_z&quot;</span>,     <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(print_z));</div>
<div class="line"><span class="lineno"> 2917</span>        <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a>.set_key_value(<span class="stringliteral">&quot;max_layer_z&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2b412ae6847f90bf35264b3ada4aa01c">m_max_layer_z</a>));</div>
<div class="line"><span class="lineno"> 2918</span>        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a70b6e83de9e549d8405f5b63783ac290">placeholder_parser_process</a>(<span class="stringliteral">&quot;before_layer_change_gcode&quot;</span>,</div>
<div class="line"><span class="lineno"> 2919</span>            print.config().before_layer_change_gcode.value, <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a137976bad3f65c066e5b809944eb34f1">extruder</a>()-&gt;<a class="code hl_function" href="../../d3/dff/class_slic3r_1_1_extruder.html#af77adad3aa6eceb96658f87d95af6770">id</a>(), &amp;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a>)</div>
<div class="line"><span class="lineno"> 2920</span>            + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 2921</span>    }</div>
<div class="line"><span class="lineno"> 2922</span> </div>
<div class="line"><span class="lineno"> 2923</span>    <span class="keywordflow">if</span> (print.calib_mode() == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a10875bb92bba52324eab015888534f9dadeab6e881e2417c67136d139a6edefb0">CalibMode::Calib_PA_Tower</a>) {</div>
<div class="line"><span class="lineno"> 2924</span>        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ade2f4af324da97d5fb8eadca3af5c489">writer</a>().<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a7b6dd3647ab57ee85f929ce434e9542a">set_pressure_advance</a>(print.calib_params().start + <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(print_z) * print.calib_params().step);</div>
<div class="line"><span class="lineno"> 2925</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (print.calib_mode() == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a10875bb92bba52324eab015888534f9da1f3f215db6c2f29d651e4667b4ae4be8">CalibMode::Calib_Temp_Tower</a>) {</div>
<div class="line"><span class="lineno"> 2926</span>        <span class="keyword">auto</span> <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a5ec552d076296fd705739c608edc1580">offset</a> = <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span><span class="keyword">&gt;</span>(print_z / 10.001) * 5;</div>
<div class="line"><span class="lineno"> 2927</span>        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ade2f4af324da97d5fb8eadca3af5c489">writer</a>().<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a216ebb59191fee7974e2f92c810ab34a">set_temperature</a>(print.calib_params().start - <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a5ec552d076296fd705739c608edc1580">offset</a>);</div>
<div class="line"><span class="lineno"> 2928</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (print.calib_mode() == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a10875bb92bba52324eab015888534f9da5d5cb8f453ddda170187b3c4cd5b9731">CalibMode::Calib_VFA_Tower</a>) {</div>
<div class="line"><span class="lineno"> 2929</span>        <span class="keyword">auto</span> _speed = print.calib_params().start + std::floor(print_z / 5.0) * print.calib_params().step;</div>
<div class="line"><span class="lineno"> 2930</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a11c37e89f776408db490f8843d138b03">m_calib_config</a>.<a class="code hl_function" href="../../d5/df0/class_slic3r_1_1_dynamic_config.html#a18d8e56606a5c0359c0084a7d1c77889">set_key_value</a>(<span class="stringliteral">&quot;outer_wall_speed&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(std::round(_speed)));</div>
<div class="line"><span class="lineno"> 2931</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (print.calib_mode() == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a10875bb92bba52324eab015888534f9da12f8c1367ab340ce1257166cfce8cf56">CalibMode::Calib_Vol_speed_Tower</a>) {</div>
<div class="line"><span class="lineno"> 2932</span>        <span class="keyword">auto</span> _speed = print.calib_params().start + print_z * print.calib_params().step;</div>
<div class="line"><span class="lineno"> 2933</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a11c37e89f776408db490f8843d138b03">m_calib_config</a>.<a class="code hl_function" href="../../d5/df0/class_slic3r_1_1_dynamic_config.html#a18d8e56606a5c0359c0084a7d1c77889">set_key_value</a>(<span class="stringliteral">&quot;outer_wall_speed&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(std::round(_speed)));</div>
<div class="line"><span class="lineno"> 2934</span>    }</div>
<div class="line"><span class="lineno"> 2935</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (print.calib_mode() == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a10875bb92bba52324eab015888534f9daa8b1930812a60431741d4a3314ea1ffa">CalibMode::Calib_Retraction_tower</a>) {</div>
<div class="line"><span class="lineno"> 2936</span>        <span class="keyword">auto</span> _length = print.calib_params().start + std::floor(std::max(0.0,print_z-0.4)) * print.calib_params().step;</div>
<div class="line"><span class="lineno"> 2937</span>        DynamicConfig _cfg;</div>
<div class="line"><span class="lineno"> 2938</span>        _cfg.set_key_value(<span class="stringliteral">&quot;retraction_length&quot;</span>, <span class="keyword">new</span> <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#ada0c88e79f3ceffda9c0e403171d475d">ConfigOptionFloats</a>{_length});</div>
<div class="line"><span class="lineno"> 2939</span>        <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ade2f4af324da97d5fb8eadca3af5c489">writer</a>().<a class="code hl_variable" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a489f0a47c20b7b8f40fded7fec0e53ac">config</a>.apply(_cfg);</div>
<div class="line"><span class="lineno"> 2940</span>        sprintf(buf, <span class="stringliteral">&quot;; Calib_Retraction_tower: Z_HEIGHT: %g, length:%g\n&quot;</span>, print_z, _length);</div>
<div class="line"><span class="lineno"> 2941</span>        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += buf;</div>
<div class="line"><span class="lineno"> 2942</span>    }</div>
<div class="line"><span class="lineno"> 2943</span> </div>
<div class="line"><span class="lineno"> 2944</span>    <span class="comment">// BBS: don&#39;t use lazy_raise when enable spiral vase</span></div>
<div class="line"><span class="lineno"> 2945</span>    <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ac3a355ee318e2ae0abd866a8cc2b74c6">change_layer</a>(print_z, !<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a8af28e4500c5897a80f5ccc1b6b118a2">m_spiral_vase</a>);  <span class="comment">// this will increase m_layer_index</span></div>
<div class="line"><span class="lineno"> 2946</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7d8c6148ecc0ecaaf9597bad4ed26083">m_layer</a> = &amp;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aefd4abaf0d1c18be14b61558b8d504cd">layer</a>;</div>
<div class="line"><span class="lineno"> 2947</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a13accc40bdcea1a7bd2e2c2e8ae09af2">m_object_layer_over_raft</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2948</span>    <span class="keywordflow">if</span> (! print.config().layer_change_gcode.value.empty()) {</div>
<div class="line"><span class="lineno"> 2949</span>        DynamicConfig <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a>;</div>
<div class="line"><span class="lineno"> 2950</span>        <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a>.set_key_value(<span class="stringliteral">&quot;layer_num&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#ac44dc7dc57ca4e75fffcf4b377abfd8b">ConfigOptionInt</a>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a3388b4f3b94c005c8b6c64b1ba9b105d">m_layer_index</a>));</div>
<div class="line"><span class="lineno"> 2951</span>        <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a>.set_key_value(<span class="stringliteral">&quot;layer_z&quot;</span>,   <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(print_z));</div>
<div class="line"><span class="lineno"> 2952</span>        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a70b6e83de9e549d8405f5b63783ac290">placeholder_parser_process</a>(<span class="stringliteral">&quot;layer_change_gcode&quot;</span>,</div>
<div class="line"><span class="lineno"> 2953</span>            print.config().layer_change_gcode.value, <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a137976bad3f65c066e5b809944eb34f1">extruder</a>()-&gt;<a class="code hl_function" href="../../d3/dff/class_slic3r_1_1_extruder.html#af77adad3aa6eceb96658f87d95af6770">id</a>(), &amp;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a>)</div>
<div class="line"><span class="lineno"> 2954</span>            + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 2955</span>        <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a>.set_key_value(<span class="stringliteral">&quot;max_layer_z&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2b412ae6847f90bf35264b3ada4aa01c">m_max_layer_z</a>));</div>
<div class="line"><span class="lineno"> 2956</span>    }</div>
<div class="line"><span class="lineno"> 2957</span> </div>
<div class="line"><span class="lineno"> 2958</span>    <span class="comment">//BBS</span></div>
<div class="line"><span class="lineno"> 2959</span>    <span class="keywordflow">if</span> (first_layer) {</div>
<div class="line"><span class="lineno"> 2960</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.default_acceleration.value &gt; 0 &amp;&amp; <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.initial_layer_acceleration.value &gt; 0) {</div>
<div class="line"><span class="lineno"> 2961</span>            <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a32de57050284efca595c97b3c45c440c">set_acceleration</a>((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a3230e10964844c34fb73eaccc84dc8a7">floor</a>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.initial_layer_acceleration.value + 0.5));</div>
<div class="line"><span class="lineno"> 2962</span>        }</div>
<div class="line"><span class="lineno"> 2963</span> </div>
<div class="line"><span class="lineno"> 2964</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.default_jerk.value &gt; 0 &amp;&amp; <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.initial_layer_jerk.value &gt; 0) {</div>
<div class="line"><span class="lineno"> 2965</span>            <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a57729a6fee38d4e9b675c8cf4d693217">set_jerk_xy</a>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.initial_layer_jerk.value);</div>
<div class="line"><span class="lineno"> 2966</span>        }</div>
<div class="line"><span class="lineno"> 2967</span> </div>
<div class="line"><span class="lineno"> 2968</span>    }</div>
<div class="line"><span class="lineno"> 2969</span> </div>
<div class="line"><span class="lineno"> 2970</span>    <span class="keywordflow">if</span> (! first_layer &amp;&amp; ! <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a350d12130fb3e43273f07ef2840db16c">m_second_layer_things_done</a>) {</div>
<div class="line"><span class="lineno"> 2971</span>      <span class="keywordflow">if</span> (print.is_BBL_printer()) {</div>
<div class="line"><span class="lineno"> 2972</span>        <span class="comment">// BBS: open powerlost recovery</span></div>
<div class="line"><span class="lineno"> 2973</span>        {</div>
<div class="line"><span class="lineno"> 2974</span>          <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <span class="stringliteral">&quot;; open powerlost recovery\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 2975</span>          <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <span class="stringliteral">&quot;M1003 S1\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 2976</span>        }</div>
<div class="line"><span class="lineno"> 2977</span>        <span class="comment">// BBS: open first layer inspection at second layer</span></div>
<div class="line"><span class="lineno"> 2978</span>        <span class="keywordflow">if</span> (print.config().scan_first_layer.value) {</div>
<div class="line"><span class="lineno"> 2979</span>          <span class="comment">// BBS: retract first to avoid droping when scan model</span></div>
<div class="line"><span class="lineno"> 2980</span>          <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a058728ea49ef66a4b1e7ca9ac361a3ae">retract</a>();</div>
<div class="line"><span class="lineno"> 2981</span>          gcode += <span class="stringliteral">&quot;M976 S1 P1 ; scan model before printing 2nd layer\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 2982</span>          <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <span class="stringliteral">&quot;M400 P100\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 2983</span>          <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#af816f73f41514944c38bf6b59406b73f">unretract</a>();</div>
<div class="line"><span class="lineno"> 2984</span>        }</div>
<div class="line"><span class="lineno"> 2985</span>      }</div>
<div class="line"><span class="lineno"> 2986</span>      <span class="comment">// BBS:  reset acceleration at sencond layer</span></div>
<div class="line"><span class="lineno"> 2987</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.default_acceleration.value &gt; 0 &amp;&amp; <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.initial_layer_acceleration.value &gt; 0) {</div>
<div class="line"><span class="lineno"> 2988</span>        gcode += <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a32de57050284efca595c97b3c45c440c">set_acceleration</a>((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a3230e10964844c34fb73eaccc84dc8a7">floor</a>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.default_acceleration.value + 0.5));</div>
<div class="line"><span class="lineno"> 2989</span>      }</div>
<div class="line"><span class="lineno"> 2990</span> </div>
<div class="line"><span class="lineno"> 2991</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.default_jerk.value &gt; 0 &amp;&amp; <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.initial_layer_jerk.value &gt; 0) {</div>
<div class="line"><span class="lineno"> 2992</span>        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a57729a6fee38d4e9b675c8cf4d693217">set_jerk_xy</a>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.default_jerk.value);</div>
<div class="line"><span class="lineno"> 2993</span>      }</div>
<div class="line"><span class="lineno"> 2994</span> </div>
<div class="line"><span class="lineno"> 2995</span>        <span class="comment">// Transition from 1st to 2nd layer. Adjust nozzle temperatures as prescribed by the nozzle dependent</span></div>
<div class="line"><span class="lineno"> 2996</span>        <span class="comment">// nozzle_temperature_initial_layer vs. temperature settings.</span></div>
<div class="line"><span class="lineno"> 2997</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> Extruder &amp;extruder : <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.extruders()) {</div>
<div class="line"><span class="lineno"> 2998</span>            <span class="keywordflow">if</span> (print.config().single_extruder_multi_material.value &amp;&amp; extruder.id() != <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a137976bad3f65c066e5b809944eb34f1">extruder</a>()-&gt;<a class="code hl_function" href="../../d3/dff/class_slic3r_1_1_extruder.html#af77adad3aa6eceb96658f87d95af6770">id</a>())</div>
<div class="line"><span class="lineno"> 2999</span>                <span class="comment">// In single extruder multi material mode, set the temperature for the current extruder only.</span></div>
<div class="line"><span class="lineno"> 3000</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3001</span>            <span class="keywordtype">int</span> temperature = print.config().nozzle_temperature.get_at(extruder.id());</div>
<div class="line"><span class="lineno"> 3002</span>            <span class="keywordflow">if</span> (temperature &gt; 0 &amp;&amp; temperature != print.config().nozzle_temperature_initial_layer.get_at(extruder.id()))</div>
<div class="line"><span class="lineno"> 3003</span>                <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a216ebb59191fee7974e2f92c810ab34a">set_temperature</a>(temperature, <span class="keyword">false</span>, extruder.id());</div>
<div class="line"><span class="lineno"> 3004</span>        }</div>
<div class="line"><span class="lineno"> 3005</span> </div>
<div class="line"><span class="lineno"> 3006</span>        <span class="comment">// BBS</span></div>
<div class="line"><span class="lineno"> 3007</span>        <span class="keywordtype">int</span> bed_temp = <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ab7079d6608d218b9076cd47554648c8b">get_bed_temperature</a>(first_extruder_id, <span class="keyword">false</span>, print.config().curr_bed_type);</div>
<div class="line"><span class="lineno"> 3008</span>        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#ab6f58d9e0b3ef4ca296a7d85c916ace0">set_bed_temperature</a>(bed_temp);</div>
<div class="line"><span class="lineno"> 3009</span>        <span class="comment">// Mark the temperature transition from 1st to 2nd layer to be finished.</span></div>
<div class="line"><span class="lineno"> 3010</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a350d12130fb3e43273f07ef2840db16c">m_second_layer_things_done</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3011</span>    }</div>
<div class="line"><span class="lineno"> 3012</span> </div>
<div class="line"><span class="lineno"> 3013</span>    <span class="comment">// Map from extruder ID to &lt;begin, end&gt; index of skirt loops to be extruded with that extruder.</span></div>
<div class="line"><span class="lineno"> 3014</span>    std::map&lt;unsigned int, std::pair&lt;size_t, size_t&gt;&gt; skirt_loops_per_extruder;</div>
<div class="line"><span class="lineno"> 3015</span> </div>
<div class="line"><span class="lineno"> 3016</span>    <span class="keywordflow">if</span> (single_object_instance_idx == <span class="keywordtype">size_t</span>(-1)) {</div>
<div class="line"><span class="lineno"> 3017</span>        <span class="comment">// Normal (non-sequential) print.</span></div>
<div class="line"><span class="lineno"> 3018</span>        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <a class="code hl_function" href="../../da/d79/namespace_slic3r_1_1_process_layer.html#a637129d1bde40a13d75c0e9e2a4557fc">ProcessLayer::emit_custom_gcode_per_print_z</a>(*<span class="keyword">this</span>, layer_tools.custom_gcode, <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a137976bad3f65c066e5b809944eb34f1">extruder</a>()-&gt;<a class="code hl_function" href="../../d3/dff/class_slic3r_1_1_extruder.html#af77adad3aa6eceb96658f87d95af6770">id</a>(), first_extruder_id, print.config());</div>
<div class="line"><span class="lineno"> 3019</span>    }</div>
<div class="line"><span class="lineno"> 3020</span>    <span class="comment">// Extrude skirt at the print_z of the raft layers and normal object layers</span></div>
<div class="line"><span class="lineno"> 3021</span>    <span class="comment">// not at the print_z of the interlaced support material layers.</span></div>
<div class="line"><span class="lineno"> 3022</span>    skirt_loops_per_extruder = first_layer ?</div>
<div class="line"><span class="lineno"> 3023</span>        <a class="code hl_function" href="../../d2/db4/namespace_slic3r_1_1_skirt.html#a9cffc358f321d112082bf7e417560120">Skirt::make_skirt_loops_per_extruder_1st_layer</a>(print, layer_tools, <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a36c95dfce6f8603fc728760037633e45">m_skirt_done</a>) :</div>
<div class="line"><span class="lineno"> 3024</span>        Skirt::<a class="code hl_function" href="../../d2/db4/namespace_slic3r_1_1_skirt.html#a4bcac91ee0731725f47d01ca533f85ae">make_skirt_loops_per_extruder_other_layers</a>(print, layer_tools, <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a36c95dfce6f8603fc728760037633e45">m_skirt_done</a>);</div>
<div class="line"><span class="lineno"> 3025</span> </div>
<div class="line"><span class="lineno"> 3026</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.enable_overhang_speed &amp;&amp; !<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.overhang_speed_classic) {</div>
<div class="line"><span class="lineno"> 3027</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;layer_to_print : layers) {</div>
<div class="line"><span class="lineno"> 3028</span>            <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a8398430e2866a9c8219fca25dbed0cf6">m_extrusion_quality_estimator</a>.<a class="code hl_function" href="../../d5/d3b/class_slic3r_1_1_extrusion_quality_estimator.html#a77518c6a357af98816bafc53e9ea5246">prepare_for_new_layer</a>(layer_to_print.original_object,</div>
<div class="line"><span class="lineno"> 3029</span>                                                                layer_to_print.object_layer);</div>
<div class="line"><span class="lineno"> 3030</span>        }</div>
<div class="line"><span class="lineno"> 3031</span>    }</div>
<div class="line"><span class="lineno"> 3032</span> </div>
<div class="line"><span class="lineno"> 3033</span>    <span class="comment">// Group extrusions by an extruder, then by an object, an island and a region.</span></div>
<div class="line"><span class="lineno"> 3034</span>    std::map&lt;unsigned int, std::vector&lt;ObjectByExtruder&gt;&gt; by_extruder;</div>
<div class="line"><span class="lineno"> 3035</span>    <span class="keywordtype">bool</span> is_anything_overridden = <span class="keyword">const_cast&lt;</span>LayerTools&amp;<span class="keyword">&gt;</span>(layer_tools).wiping_extrusions().is_anything_overridden();</div>
<div class="line"><span class="lineno"> 3036</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> LayerToPrint &amp;layer_to_print : layers) {</div>
<div class="line"><span class="lineno"> 3037</span>        <span class="keywordflow">if</span> (layer_to_print.support_layer != <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno"> 3038</span>            <span class="keyword">const</span> SupportLayer &amp;support_layer = *layer_to_print.support_layer;</div>
<div class="line"><span class="lineno"> 3039</span>            <span class="keyword">const</span> PrintObject&amp; <span class="keywordtype">object</span> = *layer_to_print.original_object;</div>
<div class="line"><span class="lineno"> 3040</span>            <span class="keywordflow">if</span> (! support_layer.support_fills.entities.empty()) {</div>
<div class="line"><span class="lineno"> 3041</span>                <a class="code hl_enumeration" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6">ExtrusionRole</a>   role               = support_layer.support_fills.role();</div>
<div class="line"><span class="lineno"> 3042</span>                <span class="keywordtype">bool</span>            has_support        = role == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a0786a0da8016e68133bca07352f8ff18">erMixed</a> || role == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a667e5eb77b54b3867d5ddd7474bd2f1a">erSupportMaterial</a> || role == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6aca09505cfc31ed63c20afdb3f988271a">erSupportTransition</a>;</div>
<div class="line"><span class="lineno"> 3043</span>                <span class="keywordtype">bool</span>            has_interface      = role == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a0786a0da8016e68133bca07352f8ff18">erMixed</a> || role == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a54a07a476d1b976ab5ee4f95e80df634">erSupportMaterialInterface</a>;</div>
<div class="line"><span class="lineno"> 3044</span>                <span class="comment">// Extruder ID of the support base. -1 if &quot;don&#39;t care&quot;.</span></div>
<div class="line"><span class="lineno"> 3045</span>                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    support_extruder   = <span class="keywordtype">object</span>.config().support_filament.value - 1;</div>
<div class="line"><span class="lineno"> 3046</span>                <span class="comment">// Shall the support be printed with the active extruder, preferably with non-soluble, to avoid tool changes?</span></div>
<div class="line"><span class="lineno"> 3047</span>                <span class="keywordtype">bool</span>            support_dontcare   = <span class="keywordtype">object</span>.config().support_filament.value == 0;</div>
<div class="line"><span class="lineno"> 3048</span>                <span class="comment">// Extruder ID of the support interface. -1 if &quot;don&#39;t care&quot;.</span></div>
<div class="line"><span class="lineno"> 3049</span>                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    interface_extruder = <span class="keywordtype">object</span>.config().support_interface_filament.value - 1;</div>
<div class="line"><span class="lineno"> 3050</span>                <span class="comment">// Shall the support interface be printed with the active extruder, preferably with non-soluble, to avoid tool changes?</span></div>
<div class="line"><span class="lineno"> 3051</span>                <span class="keywordtype">bool</span>            interface_dontcare = <span class="keywordtype">object</span>.config().support_interface_filament.value == 0;</div>
<div class="line"><span class="lineno"> 3052</span> </div>
<div class="line"><span class="lineno"> 3053</span>                <span class="comment">// BBS: apply wiping overridden extruders</span></div>
<div class="line"><span class="lineno"> 3054</span>                WipingExtrusions&amp; wiping_extrusions = <span class="keyword">const_cast&lt;</span>LayerTools&amp;<span class="keyword">&gt;</span>(layer_tools).wiping_extrusions();</div>
<div class="line"><span class="lineno"> 3055</span>                <span class="keywordflow">if</span> (support_dontcare) {</div>
<div class="line"><span class="lineno"> 3056</span>                    <span class="keywordtype">int</span> extruder_override = wiping_extrusions.get_support_extruder_overrides(&amp;<span class="keywordtype">object</span>);</div>
<div class="line"><span class="lineno"> 3057</span>                    <span class="keywordflow">if</span> (extruder_override &gt;= 0) {</div>
<div class="line"><span class="lineno"> 3058</span>                        support_extruder = extruder_override;</div>
<div class="line"><span class="lineno"> 3059</span>                        support_dontcare = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3060</span>                    }</div>
<div class="line"><span class="lineno"> 3061</span>                }</div>
<div class="line"><span class="lineno"> 3062</span> </div>
<div class="line"><span class="lineno"> 3063</span>                <span class="keywordflow">if</span> (interface_dontcare) {</div>
<div class="line"><span class="lineno"> 3064</span>                    <span class="keywordtype">int</span> extruder_override = wiping_extrusions.get_support_interface_extruder_overrides(&amp;<span class="keywordtype">object</span>);</div>
<div class="line"><span class="lineno"> 3065</span>                    <span class="keywordflow">if</span> (extruder_override &gt;= 0) {</div>
<div class="line"><span class="lineno"> 3066</span>                        interface_extruder = extruder_override;</div>
<div class="line"><span class="lineno"> 3067</span>                        interface_dontcare = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3068</span>                    }</div>
<div class="line"><span class="lineno"> 3069</span>                }</div>
<div class="line"><span class="lineno"> 3070</span> </div>
<div class="line"><span class="lineno"> 3071</span>                <span class="comment">// BBS: try to print support base with a filament other than interface filament</span></div>
<div class="line"><span class="lineno"> 3072</span>                <span class="keywordflow">if</span> (support_dontcare &amp;&amp; !interface_dontcare) {</div>
<div class="line"><span class="lineno"> 3073</span>                    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dontcare_extruder = first_extruder_id;</div>
<div class="line"><span class="lineno"> 3074</span>                    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> extruder_id : layer_tools.extruders) {</div>
<div class="line"><span class="lineno"> 3075</span>                        <span class="keywordflow">if</span> (print.config().filament_soluble.get_at(extruder_id))</div>
<div class="line"><span class="lineno"> 3076</span>                            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3077</span> </div>
<div class="line"><span class="lineno"> 3078</span>                        <span class="keywordflow">if</span> (extruder_id == interface_extruder)</div>
<div class="line"><span class="lineno"> 3079</span>                            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3080</span> </div>
<div class="line"><span class="lineno"> 3081</span>                        dontcare_extruder = extruder_id;</div>
<div class="line"><span class="lineno"> 3082</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3083</span>                    }</div>
<div class="line"><span class="lineno"> 3084</span> </div>
<div class="line"><span class="lineno"> 3085</span>                    <span class="keywordflow">if</span> (support_dontcare)</div>
<div class="line"><span class="lineno"> 3086</span>                        support_extruder = dontcare_extruder;</div>
<div class="line"><span class="lineno"> 3087</span>                }</div>
<div class="line"><span class="lineno"> 3088</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (support_dontcare || interface_dontcare) {</div>
<div class="line"><span class="lineno"> 3089</span>                    <span class="comment">// Some support will be printed with &quot;don&#39;t care&quot; material, preferably non-soluble.</span></div>
<div class="line"><span class="lineno"> 3090</span>                    <span class="comment">// Is the current extruder assigned a soluble filament?</span></div>
<div class="line"><span class="lineno"> 3091</span>                    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dontcare_extruder = first_extruder_id;</div>
<div class="line"><span class="lineno"> 3092</span>                    <span class="keywordflow">if</span> (print.config().filament_soluble.get_at(dontcare_extruder)) {</div>
<div class="line"><span class="lineno"> 3093</span>                        <span class="comment">// The last extruder printed on the previous layer extrudes soluble filament.</span></div>
<div class="line"><span class="lineno"> 3094</span>                        <span class="comment">// Try to find a non-soluble extruder on the same layer.</span></div>
<div class="line"><span class="lineno"> 3095</span>                        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> extruder_id : layer_tools.extruders)</div>
<div class="line"><span class="lineno"> 3096</span>                            if (! print.<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a>().filament_soluble.get_at(extruder_id)) {</div>
<div class="line"><span class="lineno"> 3097</span>                                dontcare_extruder = extruder_id;</div>
<div class="line"><span class="lineno"> 3098</span>                                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3099</span>                            }</div>
<div class="line"><span class="lineno"> 3100</span>                    }</div>
<div class="line"><span class="lineno"> 3101</span>                    <span class="keywordflow">if</span> (support_dontcare)</div>
<div class="line"><span class="lineno"> 3102</span>                        support_extruder = dontcare_extruder;</div>
<div class="line"><span class="lineno"> 3103</span>                    <span class="keywordflow">if</span> (interface_dontcare)</div>
<div class="line"><span class="lineno"> 3104</span>                        interface_extruder = dontcare_extruder;</div>
<div class="line"><span class="lineno"> 3105</span>                }</div>
<div class="line"><span class="lineno"> 3106</span>                <span class="comment">// Both the support and the support interface are printed with the same extruder, therefore</span></div>
<div class="line"><span class="lineno"> 3107</span>                <span class="comment">// the interface may be interleaved with the support base.</span></div>
<div class="line"><span class="lineno"> 3108</span>                <span class="keywordtype">bool</span> single_extruder = ! has_support || support_extruder == interface_extruder;</div>
<div class="line"><span class="lineno"> 3109</span>                <span class="comment">// Assign an extruder to the base.</span></div>
<div class="line"><span class="lineno"> 3110</span>                ObjectByExtruder &amp;obj = <a class="code hl_friend" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a5bba8f81516a94aaf1a581b7d9c2a4f5">object_by_extruder</a>(by_extruder, has_support ? support_extruder : interface_extruder, &amp;layer_to_print - layers.data(), layers.<a class="code hl_variable" href="../../de/d38/lzoconf_8h.html#a809275ccd755fb7b88661d952134b14d">size</a>());</div>
<div class="line"><span class="lineno"> 3111</span>                obj.<a class="code hl_variable" href="../../dc/d6c/struct_slic3r_1_1_g_code_1_1_object_by_extruder.html#a43568ef7b5334ee777c0b16009099a8f">support</a> = &amp;support_layer.support_fills;</div>
<div class="line"><span class="lineno"> 3112</span>                obj.support_extrusion_role = single_extruder ? <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a0786a0da8016e68133bca07352f8ff18">erMixed</a> : <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a667e5eb77b54b3867d5ddd7474bd2f1a">erSupportMaterial</a>;</div>
<div class="line"><span class="lineno"> 3113</span>                <span class="keywordflow">if</span> (! single_extruder &amp;&amp; has_interface) {</div>
<div class="line"><span class="lineno"> 3114</span>                    ObjectByExtruder &amp;obj_interface = <a class="code hl_friend" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a5bba8f81516a94aaf1a581b7d9c2a4f5">object_by_extruder</a>(by_extruder, interface_extruder, &amp;layer_to_print - layers.data(), layers.size());</div>
<div class="line"><span class="lineno"> 3115</span>                    obj_interface.support = &amp;support_layer.support_fills;</div>
<div class="line"><span class="lineno"> 3116</span>                    obj_interface.support_extrusion_role = <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a54a07a476d1b976ab5ee4f95e80df634">erSupportMaterialInterface</a>;</div>
<div class="line"><span class="lineno"> 3117</span>                }</div>
<div class="line"><span class="lineno"> 3118</span>            }</div>
<div class="line"><span class="lineno"> 3119</span>        }</div>
<div class="line"><span class="lineno"> 3120</span> </div>
<div class="line"><span class="lineno"> 3121</span>        <span class="keywordflow">if</span> (layer_to_print.object_layer != <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno"> 3122</span>            <span class="keyword">const</span> Layer &amp;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aefd4abaf0d1c18be14b61558b8d504cd">layer</a> = *layer_to_print.object_layer;</div>
<div class="line"><span class="lineno"> 3123</span>            <span class="comment">// We now define a strategy for building perimeters and fills. The separation</span></div>
<div class="line"><span class="lineno"> 3124</span>            <span class="comment">// between regions doesn&#39;t matter in terms of printing order, as we follow</span></div>
<div class="line"><span class="lineno"> 3125</span>            <span class="comment">// another logic instead:</span></div>
<div class="line"><span class="lineno"> 3126</span>            <span class="comment">// - we group all extrusions by extruder so that we minimize toolchanges</span></div>
<div class="line"><span class="lineno"> 3127</span>            <span class="comment">// - we start from the last used extruder</span></div>
<div class="line"><span class="lineno"> 3128</span>            <span class="comment">// - for each extruder, we group extrusions by island</span></div>
<div class="line"><span class="lineno"> 3129</span>            <span class="comment">// - for each island, we extrude perimeters first, unless user set the infill_first</span></div>
<div class="line"><span class="lineno"> 3130</span>            <span class="comment">//   option</span></div>
<div class="line"><span class="lineno"> 3131</span>            <span class="comment">// (Still, we have to keep track of regions because we need to apply their config)</span></div>
<div class="line"><span class="lineno"> 3132</span>            <span class="keywordtype">size_t</span> n_slices = <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aefd4abaf0d1c18be14b61558b8d504cd">layer</a>.<a class="code hl_variable" href="../../d1/d68/class_slic3r_1_1_layer.html#a3052da5e28b9b358d43ad43d7e9173ed">lslices</a>.size();</div>
<div class="line"><span class="lineno"> 3133</span>            <span class="keyword">const</span> std::vector&lt;BoundingBox&gt; &amp;layer_surface_bboxes = <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aefd4abaf0d1c18be14b61558b8d504cd">layer</a>.<a class="code hl_variable" href="../../d1/d68/class_slic3r_1_1_layer.html#aa67fead42e259dbe6b09d0f011fa5e0b">lslices_bboxes</a>;</div>
<div class="line"><span class="lineno"> 3134</span>            <span class="comment">// Traverse the slices in an increasing order of bounding box size, so that the islands inside another islands are tested first,</span></div>
<div class="line"><span class="lineno"> 3135</span>            <span class="comment">// so we can just test a point inside ExPolygon::contour and we may skip testing the holes.</span></div>
<div class="line"><span class="lineno"> 3136</span>            std::vector&lt;size_t&gt; slices_test_order;</div>
<div class="line"><span class="lineno"> 3137</span>            slices_test_order.reserve(n_slices);</div>
<div class="line"><span class="lineno"> 3138</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; n_slices; ++ i)</div>
<div class="line"><span class="lineno"> 3139</span>                slices_test_order.emplace_back(i);</div>
<div class="line"><span class="lineno"> 3140</span>            std::sort(slices_test_order.begin(), slices_test_order.end(), [&amp;layer_surface_bboxes](<span class="keywordtype">size_t</span> i, <span class="keywordtype">size_t</span> j) {</div>
<div class="line"><span class="lineno"> 3141</span>                const Vec2d s1 = layer_surface_bboxes[i].size().cast&lt;double&gt;();</div>
<div class="line"><span class="lineno"> 3142</span>                const Vec2d s2 = layer_surface_bboxes[j].size().cast&lt;double&gt;();</div>
<div class="line"><span class="lineno"> 3143</span>                return s1.x() * s1.y() &lt; s2.x() * s2.y();</div>
<div class="line"><span class="lineno"> 3144</span>            });</div>
<div class="line"><span class="lineno"> 3145</span>            <span class="keyword">auto</span> point_inside_surface = [&amp;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aefd4abaf0d1c18be14b61558b8d504cd">layer</a>, &amp;layer_surface_bboxes](<span class="keyword">const</span> <span class="keywordtype">size_t</span> i, <span class="keyword">const</span> <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> &amp;point) {</div>
<div class="line"><span class="lineno"> 3146</span>                <span class="keyword">const</span> BoundingBox &amp;bbox = layer_surface_bboxes[i];</div>
<div class="line"><span class="lineno"> 3147</span>                <span class="keywordflow">return</span> point(0) &gt;= bbox.min(0) &amp;&amp; point(0) &lt; bbox.max(0) &amp;&amp;</div>
<div class="line"><span class="lineno"> 3148</span>                       point(1) &gt;= bbox.min(1) &amp;&amp; point(1) &lt; bbox.max(1) &amp;&amp;</div>
<div class="line"><span class="lineno"> 3149</span>                       <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aefd4abaf0d1c18be14b61558b8d504cd">layer</a>.<a class="code hl_variable" href="../../d1/d68/class_slic3r_1_1_layer.html#a3052da5e28b9b358d43ad43d7e9173ed">lslices</a>[i].contour.contains(point);</div>
<div class="line"><span class="lineno"> 3150</span>            };</div>
<div class="line"><span class="lineno"> 3151</span> </div>
<div class="line"><span class="lineno"> 3152</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> region_id = 0; region_id &lt; <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aefd4abaf0d1c18be14b61558b8d504cd">layer</a>.<a class="code hl_function" href="../../d1/d68/class_slic3r_1_1_layer.html#ae52da1c445544553caa1055192076441">regions</a>().<a class="code hl_variable" href="../../de/d38/lzoconf_8h.html#a809275ccd755fb7b88661d952134b14d">size</a>(); ++ region_id) {</div>
<div class="line"><span class="lineno"> 3153</span>                <span class="keyword">const</span> LayerRegion *layerm = <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aefd4abaf0d1c18be14b61558b8d504cd">layer</a>.<a class="code hl_function" href="../../d1/d68/class_slic3r_1_1_layer.html#ae52da1c445544553caa1055192076441">regions</a>()[region_id];</div>
<div class="line"><span class="lineno"> 3154</span>                <span class="keywordflow">if</span> (layerm == <span class="keyword">nullptr</span>)</div>
<div class="line"><span class="lineno"> 3155</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3156</span>                <span class="comment">// PrintObjects own the PrintRegions, thus the pointer to PrintRegion would be unique to a PrintObject, they would not</span></div>
<div class="line"><span class="lineno"> 3157</span>                <span class="comment">// identify the content of PrintRegion accross the whole print uniquely. Translate to a Print specific PrintRegion.</span></div>
<div class="line"><span class="lineno"> 3158</span>                <span class="keyword">const</span> PrintRegion &amp;region = print.get_print_region(layerm-&gt;region().print_region_id());</div>
<div class="line"><span class="lineno"> 3159</span> </div>
<div class="line"><span class="lineno"> 3160</span>                <span class="comment">// Now we must process perimeters and infills and create islands of extrusions in by_region std::map.</span></div>
<div class="line"><span class="lineno"> 3161</span>                <span class="comment">// It is also necessary to save which extrusions are part of MM wiping and which are not.</span></div>
<div class="line"><span class="lineno"> 3162</span>                <span class="comment">// The process is almost the same for perimeters and infills - we will do it in a cycle that repeats twice:</span></div>
<div class="line"><span class="lineno"> 3163</span>                std::vector&lt;unsigned int&gt; printing_extruders;</div>
<div class="line"><span class="lineno"> 3164</span>                <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_enumeration" href="../../db/dad/struct_slic3r_1_1_g_code_1_1_object_by_extruder_1_1_island_1_1_region.html#ad6df2d653adb9311b3cd91302f1d06d1">ObjectByExtruder::Island::Region::Type</a> entity_type : { <a class="code hl_enumvalue" href="../../db/dad/struct_slic3r_1_1_g_code_1_1_object_by_extruder_1_1_island_1_1_region.html#ad6df2d653adb9311b3cd91302f1d06d1a2f4018a2a630484a9316c15055b4344e">ObjectByExtruder::Island::Region::INFILL</a>, <a class="code hl_enumvalue" href="../../db/dad/struct_slic3r_1_1_g_code_1_1_object_by_extruder_1_1_island_1_1_region.html#ad6df2d653adb9311b3cd91302f1d06d1a1a0d4c859815b50bdf316faf9e204566">ObjectByExtruder::Island::Region::PERIMETERS</a> }) {</div>
<div class="line"><span class="lineno"> 3165</span>                    <span class="keywordflow">for</span> (<span class="keyword">const</span> ExtrusionEntity *ee : (entity_type == ObjectByExtruder::Island::Region::<a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a161494105514ff0285e7dc0411f2a394a89d67db501367bcbf751f1d9227e5bdb">INFILL</a>) ? layerm-&gt;fills.entities : layerm-&gt;perimeters.entities) {</div>
<div class="line"><span class="lineno"> 3166</span>                        <span class="comment">// extrusions represents infill or perimeter extrusions of a single island.</span></div>
<div class="line"><span class="lineno"> 3167</span>                        assert(<span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span>ExtrusionEntityCollection*<span class="keyword">&gt;</span>(ee) != <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno"> 3168</span>                        <span class="keyword">const</span> <span class="keyword">auto</span> *extrusions = <span class="keyword">static_cast&lt;</span><span class="keyword">const </span>ExtrusionEntityCollection*<span class="keyword">&gt;</span>(ee);</div>
<div class="line"><span class="lineno"> 3169</span>                        <span class="keywordflow">if</span> (extrusions-&gt;entities.empty()) <span class="comment">// This shouldn&#39;t happen but first_point() would fail.</span></div>
<div class="line"><span class="lineno"> 3170</span>                            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3171</span> </div>
<div class="line"><span class="lineno"> 3172</span>                        <span class="comment">// This extrusion is part of certain Region, which tells us which extruder should be used for it:</span></div>
<div class="line"><span class="lineno"> 3173</span>                        <span class="keywordtype">int</span> correct_extruder_id = layer_tools.extruder(*extrusions, region);</div>
<div class="line"><span class="lineno"> 3174</span> </div>
<div class="line"><span class="lineno"> 3175</span>                        <span class="comment">// Let&#39;s recover vector of extruder overrides:</span></div>
<div class="line"><span class="lineno"> 3176</span>                        <span class="keyword">const</span> <a class="code hl_typedef" href="../../d7/da2/class_slic3r_1_1_wiping_extrusions.html#af39d2ffe6a5a444b71148c79782d9c0f">WipingExtrusions::ExtruderPerCopy</a> *entity_overrides = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 3177</span>                        <span class="keywordflow">if</span> (! layer_tools.has_extruder(correct_extruder_id)) {</div>
<div class="line"><span class="lineno"> 3178</span>                            <span class="comment">// this entity is not overridden, but its extruder is not in layer_tools - we&#39;ll print it</span></div>
<div class="line"><span class="lineno"> 3179</span>                            <span class="comment">// by last extruder on this layer (could happen e.g. when a wiping object is taller than others - dontcare extruders are eradicated from layer_tools)</span></div>
<div class="line"><span class="lineno"> 3180</span>                            correct_extruder_id = layer_tools.extruders.back();</div>
<div class="line"><span class="lineno"> 3181</span>                        }</div>
<div class="line"><span class="lineno"> 3182</span>                        printing_extruders.clear();</div>
<div class="line"><span class="lineno"> 3183</span>                        <span class="keywordflow">if</span> (is_anything_overridden) {</div>
<div class="line"><span class="lineno"> 3184</span>                            entity_overrides = <span class="keyword">const_cast&lt;</span>LayerTools&amp;<span class="keyword">&gt;</span>(layer_tools).wiping_extrusions().get_extruder_overrides(extrusions, layer_to_print.original_object, correct_extruder_id, layer_to_print.object()-&gt;instances().size());</div>
<div class="line"><span class="lineno"> 3185</span>                            <span class="keywordflow">if</span> (entity_overrides == <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno"> 3186</span>                                printing_extruders.emplace_back(correct_extruder_id);</div>
<div class="line"><span class="lineno"> 3187</span>                            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3188</span>                                printing_extruders.reserve(entity_overrides-&gt;size());</div>
<div class="line"><span class="lineno"> 3189</span>                                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> extruder : *entity_overrides)</div>
<div class="line"><span class="lineno"> 3190</span>                                    printing_extruders.emplace_back(extruder &gt;= 0 ?</div>
<div class="line"><span class="lineno"> 3191</span>                                        <span class="comment">// at least one copy is overridden to use this extruder</span></div>
<div class="line"><span class="lineno"> 3192</span>                                        extruder :</div>
<div class="line"><span class="lineno"> 3193</span>                                        <span class="comment">// at least one copy would normally be printed with this extruder (see get_extruder_overrides function for explanation)</span></div>
<div class="line"><span class="lineno"> 3194</span>                                        static_cast&lt;unsigned <a class="code hl_variable" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&gt;(- extruder - 1));</div>
<div class="line"><span class="lineno"> 3195</span>                                <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#aa3af3ee03fdd2fbda072bbea6de1f8fc">Slic3r::sort_remove_duplicates</a>(printing_extruders);</div>
<div class="line"><span class="lineno"> 3196</span>                            }</div>
<div class="line"><span class="lineno"> 3197</span>                        } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3198</span>                            printing_extruders.emplace_back(correct_extruder_id);</div>
<div class="line"><span class="lineno"> 3199</span> </div>
<div class="line"><span class="lineno"> 3200</span>                        <span class="comment">// Now we must add this extrusion into the by_extruder map, once for each extruder that will print it:</span></div>
<div class="line"><span class="lineno"> 3201</span>                        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> extruder : printing_extruders)</div>
<div class="line"><span class="lineno"> 3202</span>                        {</div>
<div class="line"><span class="lineno"> 3203</span>                            std::vector&lt;ObjectByExtruder::Island&gt; &amp;islands = <a class="code hl_friend" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a1cf8c910158be8938061cc19519ceec1">object_islands_by_extruder</a>(</div>
<div class="line"><span class="lineno"> 3204</span>                                by_extruder,</div>
<div class="line"><span class="lineno"> 3205</span>                                extruder,</div>
<div class="line"><span class="lineno"> 3206</span>                                &amp;layer_to_print - layers.data(),</div>
<div class="line"><span class="lineno"> 3207</span>                                layers.size(), n_slices+1);</div>
<div class="line"><span class="lineno"> 3208</span>                            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt;= n_slices; ++ i) {</div>
<div class="line"><span class="lineno"> 3209</span>                                <span class="keywordtype">bool</span>   last = i == n_slices;</div>
<div class="line"><span class="lineno"> 3210</span>                                <span class="keywordtype">size_t</span> island_idx = last ? n_slices : slices_test_order[i];</div>
<div class="line"><span class="lineno"> 3211</span>                                <span class="keywordflow">if</span> (<span class="comment">// extrusions-&gt;first_point does not fit inside any slice</span></div>
<div class="line"><span class="lineno"> 3212</span>                                    last ||</div>
<div class="line"><span class="lineno"> 3213</span>                                    <span class="comment">// extrusions-&gt;first_point fits inside ith slice</span></div>
<div class="line"><span class="lineno"> 3214</span>                                    point_inside_surface(island_idx, extrusions-&gt;first_point())) {</div>
<div class="line"><span class="lineno"> 3215</span>                                    <span class="keywordflow">if</span> (islands[island_idx].by_region.empty())</div>
<div class="line"><span class="lineno"> 3216</span>                                        islands[island_idx].by_region.assign(print.num_print_regions(), ObjectByExtruder::Island::Region());</div>
<div class="line"><span class="lineno"> 3217</span>                                    islands[island_idx].by_region[region.print_region_id()].append(entity_type, extrusions, entity_overrides);</div>
<div class="line"><span class="lineno"> 3218</span>                                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3219</span>                                }</div>
<div class="line"><span class="lineno"> 3220</span>                            }</div>
<div class="line"><span class="lineno"> 3221</span>                        }</div>
<div class="line"><span class="lineno"> 3222</span>                    }</div>
<div class="line"><span class="lineno"> 3223</span>                }</div>
<div class="line"><span class="lineno"> 3224</span>            } <span class="comment">// for regions</span></div>
<div class="line"><span class="lineno"> 3225</span>        }</div>
<div class="line"><span class="lineno"> 3226</span>    } <span class="comment">// for objects</span></div>
<div class="line"><span class="lineno"> 3227</span> </div>
<div class="line"><span class="lineno"> 3228</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a0514b8d6797f3f08c810b05b0fc8949f">m_wipe_tower</a>)</div>
<div class="line"><span class="lineno"> 3229</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a0514b8d6797f3f08c810b05b0fc8949f">m_wipe_tower</a>-&gt;set_is_first_print(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 3230</span> </div>
<div class="line"><span class="lineno"> 3231</span>    <span class="comment">// Extrude the skirt, brim, support, perimeters, infill ordered by the extruders.</span></div>
<div class="line"><span class="lineno"> 3232</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> extruder_id : layer_tools.extruders)</div>
<div class="line"><span class="lineno"> 3233</span>    {</div>
<div class="line"><span class="lineno"> 3234</span>        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += (layer_tools.has_wipe_tower &amp;&amp; <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a0514b8d6797f3f08c810b05b0fc8949f">m_wipe_tower</a>) ?</div>
<div class="line"><span class="lineno"> 3235</span>            <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a0514b8d6797f3f08c810b05b0fc8949f">m_wipe_tower</a>-&gt;tool_change(*<span class="keyword">this</span>, extruder_id, extruder_id == layer_tools.extruders.back()) :</div>
<div class="line"><span class="lineno"> 3236</span>            this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a17e6b9621f765ee22ac0cc4eaf9ca1c7">set_extruder</a>(extruder_id, print_z);</div>
<div class="line"><span class="lineno"> 3237</span> </div>
<div class="line"><span class="lineno"> 3238</span>        <span class="comment">// let analyzer tag generator aware of a role type change</span></div>
<div class="line"><span class="lineno"> 3239</span>        <span class="keywordflow">if</span> (layer_tools.has_wipe_tower &amp;&amp; <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a0514b8d6797f3f08c810b05b0fc8949f">m_wipe_tower</a>)</div>
<div class="line"><span class="lineno"> 3240</span>            <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7f4a6b2a5c2405ec1ac57210e107289c">m_last_processor_extrusion_role</a> = <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a7d25aa5d5ddc2d07b7bb31d62f90df3c">erWipeTower</a>;</div>
<div class="line"><span class="lineno"> 3241</span> </div>
<div class="line"><span class="lineno"> 3242</span>        <span class="keywordflow">if</span> (<span class="keyword">auto</span> loops_it = skirt_loops_per_extruder.find(extruder_id); loops_it != skirt_loops_per_extruder.end()) {</div>
<div class="line"><span class="lineno"> 3243</span>            <span class="keyword">const</span> std::pair&lt;size_t, size_t&gt; loops = loops_it-&gt;second;</div>
<div class="line"><span class="lineno"> 3244</span>            this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a659974d95788b7195e7a45e45115565d">set_origin</a>(0., 0.);</div>
<div class="line"><span class="lineno"> 3245</span>            <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#adb8be36b92178a4ce09801d0204d6af5">m_avoid_crossing_perimeters</a>.<a class="code hl_function" href="../../dc/d4e/class_slic3r_1_1_avoid_crossing_perimeters.html#a2387f9166a85348de63d53e257b79f5e">use_external_mp</a>();</div>
<div class="line"><span class="lineno"> 3246</span>            Flow layer_skirt_flow = print.skirt_flow().with_height(<span class="keywordtype">float</span>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a36c95dfce6f8603fc728760037633e45">m_skirt_done</a>.back() - (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a36c95dfce6f8603fc728760037633e45">m_skirt_done</a>.size() == 1 ? 0. : <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a36c95dfce6f8603fc728760037633e45">m_skirt_done</a>[<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a36c95dfce6f8603fc728760037633e45">m_skirt_done</a>.<a class="code hl_variable" href="../../de/d38/lzoconf_8h.html#a809275ccd755fb7b88661d952134b14d">size</a>() - 2])));</div>
<div class="line"><span class="lineno"> 3247</span>            <span class="keywordtype">double</span> mm3_per_mm = layer_skirt_flow.mm3_per_mm();</div>
<div class="line"><span class="lineno"> 3248</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = loops.first; i &lt; loops.second; ++i) {</div>
<div class="line"><span class="lineno"> 3249</span>                <span class="comment">// Adjust flow according to this layer&#39;s layer height.</span></div>
<div class="line"><span class="lineno"> 3250</span>                ExtrusionLoop <a class="code hl_function" href="../../dc/d25/namespaceigl.html#abc05369371ed7349991ab46a6d19870a">loop</a> = *<span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span>ExtrusionLoop*<span class="keyword">&gt;</span>(print.skirt().entities[i]);</div>
<div class="line"><span class="lineno"> 3251</span>                <span class="keywordflow">for</span> (ExtrusionPath &amp;path : <a class="code hl_function" href="../../dc/d25/namespaceigl.html#abc05369371ed7349991ab46a6d19870a">loop</a>.paths) {</div>
<div class="line"><span class="lineno"> 3252</span>                    path.height = layer_skirt_flow.height();</div>
<div class="line"><span class="lineno"> 3253</span>                    path.mm3_per_mm = mm3_per_mm;</div>
<div class="line"><span class="lineno"> 3254</span>                }</div>
<div class="line"><span class="lineno"> 3255</span>                <span class="comment">//FIXME using the support_speed of the 1st object printed.</span></div>
<div class="line"><span class="lineno"> 3256</span>                <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae0bdb9f5adcd41e1415f5f47f783586c">extrude_loop</a>(loop, <span class="stringliteral">&quot;skirt&quot;</span>, <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.support_speed.value);</div>
<div class="line"><span class="lineno"> 3257</span>            }</div>
<div class="line"><span class="lineno"> 3258</span>            <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#adb8be36b92178a4ce09801d0204d6af5">m_avoid_crossing_perimeters</a>.<a class="code hl_function" href="../../dc/d4e/class_slic3r_1_1_avoid_crossing_perimeters.html#a2387f9166a85348de63d53e257b79f5e">use_external_mp</a>(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 3259</span>            <span class="comment">// Allow a straight travel move to the first object point if this is the first layer (but don&#39;t in next layers).</span></div>
<div class="line"><span class="lineno"> 3260</span>            <span class="keywordflow">if</span> (first_layer &amp;&amp; loops.first == 0)</div>
<div class="line"><span class="lineno"> 3261</span>                <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#adb8be36b92178a4ce09801d0204d6af5">m_avoid_crossing_perimeters</a>.<a class="code hl_function" href="../../dc/d4e/class_slic3r_1_1_avoid_crossing_perimeters.html#aa8f41e1fbb3a3bc86717bb8de8a19a71">disable_once</a>();</div>
<div class="line"><span class="lineno"> 3262</span>        }</div>
<div class="line"><span class="lineno"> 3263</span> </div>
<div class="line"><span class="lineno"> 3264</span>        <span class="keyword">auto</span> objects_by_extruder_it = by_extruder.find(extruder_id);</div>
<div class="line"><span class="lineno"> 3265</span>        <span class="keywordflow">if</span> (objects_by_extruder_it == by_extruder.end())</div>
<div class="line"><span class="lineno"> 3266</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3267</span> </div>
<div class="line"><span class="lineno"> 3268</span>        <span class="comment">// BBS: ordering instances by extruder</span></div>
<div class="line"><span class="lineno"> 3269</span>        std::vector&lt;InstanceToPrint&gt; instances_to_print;</div>
<div class="line"><span class="lineno"> 3270</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a5b3413fe6626ad3476b3d68f578634d9">has_prime_tower</a> = print.config().enable_prime_tower</div>
<div class="line"><span class="lineno"> 3271</span>            &amp;&amp; print.extruders().size() &gt; 1</div>
<div class="line"><span class="lineno"> 3272</span>            &amp;&amp; (print.config().print_sequence == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a815252509829bfcfc450d786ecccdfeaab02e54098d821a31909c69e604052d7c">PrintSequence::ByLayer</a></div>
<div class="line"><span class="lineno"> 3273</span>                || (print.config().print_sequence == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a815252509829bfcfc450d786ecccdfeaa40ab71bcc2705c597aad9a50ffd8eaec">PrintSequence::ByObject</a> &amp;&amp; print.objects().size() == 1));</div>
<div class="line"><span class="lineno"> 3274</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a5b3413fe6626ad3476b3d68f578634d9">has_prime_tower</a>) {</div>
<div class="line"><span class="lineno"> 3275</span>            <span class="keywordtype">int</span> plate_idx = print.get_plate_index();</div>
<div class="line"><span class="lineno"> 3276</span>            <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> wt_pos(print.config().wipe_tower_x.get_at(plate_idx), print.config().wipe_tower_y.get_at(plate_idx));</div>
<div class="line"><span class="lineno"> 3277</span> </div>
<div class="line"><span class="lineno"> 3278</span>            std::vector&lt;GCode::ObjectByExtruder&gt;&amp; objects_by_extruder = objects_by_extruder_it-&gt;second;</div>
<div class="line"><span class="lineno"> 3279</span>            std::vector&lt;const PrintObject*&gt; print_objects;</div>
<div class="line"><span class="lineno"> 3280</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> obj_idx = 0; obj_idx &lt; objects_by_extruder.size(); obj_idx++) {</div>
<div class="line"><span class="lineno"> 3281</span>                <span class="keyword">auto</span>&amp; <a class="code hl_friend" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a5bba8f81516a94aaf1a581b7d9c2a4f5">object_by_extruder</a> = objects_by_extruder[obj_idx];</div>
<div class="line"><span class="lineno"> 3282</span>                <span class="keywordflow">if</span> (<a class="code hl_friend" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a5bba8f81516a94aaf1a581b7d9c2a4f5">object_by_extruder</a>.<a class="code hl_variable" href="../../dc/d6c/struct_slic3r_1_1_g_code_1_1_object_by_extruder.html#aa98f196721185596825bd6901a62901f">islands</a>.empty() &amp;&amp; (<a class="code hl_friend" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a5bba8f81516a94aaf1a581b7d9c2a4f5">object_by_extruder</a>.<a class="code hl_variable" href="../../dc/d6c/struct_slic3r_1_1_g_code_1_1_object_by_extruder.html#a43568ef7b5334ee777c0b16009099a8f">support</a> == <span class="keyword">nullptr</span> || <a class="code hl_friend" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a5bba8f81516a94aaf1a581b7d9c2a4f5">object_by_extruder</a>.<a class="code hl_variable" href="../../dc/d6c/struct_slic3r_1_1_g_code_1_1_object_by_extruder.html#a43568ef7b5334ee777c0b16009099a8f">support</a>-&gt;<a class="code hl_function" href="../../dd/d1d/class_slic3r_1_1_extrusion_entity_collection.html#a289ff400bde7aff105ac0c8336fe16a1">empty</a>()))</div>
<div class="line"><span class="lineno"> 3283</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3284</span> </div>
<div class="line"><span class="lineno"> 3285</span>                print_objects.push_back(print.get_object(obj_idx));</div>
<div class="line"><span class="lineno"> 3286</span>            }</div>
<div class="line"><span class="lineno"> 3287</span> </div>
<div class="line"><span class="lineno"> 3288</span>            std::vector&lt;const PrintInstance*&gt; new_ordering = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a42825440f600a23bd1cd8f6427fcb912">chain_print_object_instances</a>(print_objects, &amp;wt_pos);</div>
<div class="line"><span class="lineno"> 3289</span>            std::reverse(new_ordering.begin(), new_ordering.end());</div>
<div class="line"><span class="lineno"> 3290</span>            instances_to_print = <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a9c34d1224cd3ca1e6abc1080d2b4157a">sort_print_object_instances</a>(objects_by_extruder_it-&gt;second, layers, &amp;new_ordering, single_object_instance_idx);</div>
<div class="line"><span class="lineno"> 3291</span>        }</div>
<div class="line"><span class="lineno"> 3292</span>        <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3293</span>            instances_to_print = <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a9c34d1224cd3ca1e6abc1080d2b4157a">sort_print_object_instances</a>(objects_by_extruder_it-&gt;second, layers, ordering, single_object_instance_idx);</div>
<div class="line"><span class="lineno"> 3294</span>        }</div>
<div class="line"><span class="lineno"> 3295</span> </div>
<div class="line"><span class="lineno"> 3296</span>        <span class="comment">// BBS</span></div>
<div class="line"><span class="lineno"> 3297</span>        <span class="keywordflow">if</span> (print.config().print_sequence == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a815252509829bfcfc450d786ecccdfeaa40ab71bcc2705c597aad9a50ffd8eaec">PrintSequence::ByObject</a> &amp;&amp; prime_extruder &amp;&amp; first_layer &amp;&amp; extruder_id == first_extruder_id) {</div>
<div class="line"><span class="lineno"> 3298</span>            <span class="keywordflow">for</span> (InstanceToPrint&amp; instance_to_print : instances_to_print) {</div>
<div class="line"><span class="lineno"> 3299</span>                <span class="keywordflow">if</span> (this-&gt;<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a6f4b674d8ebba097b1dbc67262ace858">m_objSupportsWithBrim</a>.find(instance_to_print.print_object.id()) != this-&gt;m_objSupportsWithBrim.end() &amp;&amp;</div>
<div class="line"><span class="lineno"> 3300</span>                    print.m_supportBrimMap.at(instance_to_print.print_object.id()).entities.size() &gt; 0)</div>
<div class="line"><span class="lineno"> 3301</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3302</span> </div>
<div class="line"><span class="lineno"> 3303</span>                <span class="keywordflow">if</span> (this-&gt;<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a55c1a36fa083f45789738e732b7e8f51">m_objsWithBrim</a>.find(instance_to_print.print_object.id()) != this-&gt;m_objsWithBrim.end() &amp;&amp;</div>
<div class="line"><span class="lineno"> 3304</span>                    print.m_brimMap.at(instance_to_print.print_object.id()).entities.size() &gt; 0)</div>
<div class="line"><span class="lineno"> 3305</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3306</span> </div>
<div class="line"><span class="lineno"> 3307</span>                <span class="keyword">const</span> <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a>&amp; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a5ec552d076296fd705739c608edc1580">offset</a> = instance_to_print.print_object.instances()[instance_to_print.instance_id].shift;</div>
<div class="line"><span class="lineno"> 3308</span>                <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a659974d95788b7195e7a45e45115565d">set_origin</a>(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab29c118b6283d273408c9700d78ae564">unscaled</a>(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a5ec552d076296fd705739c608edc1580">offset</a>));</div>
<div class="line"><span class="lineno"> 3309</span>                <span class="keywordflow">for</span> (ExtrusionEntity* ee : <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aefd4abaf0d1c18be14b61558b8d504cd">layer</a>.<a class="code hl_enumvalue" href="../../dc/df0/namespacenlohmann_1_1detail.html#a1ed8fc6239da25abcaf681d30ace4985aa8cfde6331bd59eb2ac96f8911c4b666">object</a>()-&gt;object_skirt().entities)</div>
<div class="line"><span class="lineno"> 3310</span>                    <span class="comment">//FIXME using the support_speed of the 1st object printed.</span></div>
<div class="line"><span class="lineno"> 3311</span>                    <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a999e940fc9198432b7a120451d246b6f">extrude_entity</a>(*ee, <span class="stringliteral">&quot;skirt&quot;</span>, <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.support_speed.<a class="code hl_enumvalue" href="../../dc/df0/namespacenlohmann_1_1detail.html#a59e696b1dad6d0d99c172ac4518c2042a2063c1608d6e0baf80249c42e2be5804">value</a>);</div>
<div class="line"><span class="lineno"> 3312</span>            }</div>
<div class="line"><span class="lineno"> 3313</span>        }</div>
<div class="line"><span class="lineno"> 3314</span> </div>
<div class="line"><span class="lineno"> 3315</span>        <span class="comment">// We are almost ready to print. However, we must go through all the objects twice to print the the overridden extrusions first (infill/perimeter wiping feature):</span></div>
<div class="line"><span class="lineno"> 3316</span>        std::vector&lt;ObjectByExtruder::Island::Region&gt; by_region_per_copy_cache;</div>
<div class="line"><span class="lineno"> 3317</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> print_wipe_extrusions = is_anything_overridden; print_wipe_extrusions&gt;=0; --print_wipe_extrusions) {</div>
<div class="line"><span class="lineno"> 3318</span>            <span class="keywordflow">if</span> (is_anything_overridden &amp;&amp; print_wipe_extrusions == 0)</div>
<div class="line"><span class="lineno"> 3319</span>                <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a>+=<span class="stringliteral">&quot;; PURGING FINISHED\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 3320</span>            <span class="keywordflow">for</span> (InstanceToPrint &amp;instance_to_print : instances_to_print) {</div>
<div class="line"><span class="lineno"> 3321</span>                <span class="keyword">const</span> <span class="keyword">auto</span>&amp; inst = instance_to_print.print_object.instances()[instance_to_print.instance_id];</div>
<div class="line"><span class="lineno"> 3322</span>                <span class="keyword">const</span> LayerToPrint &amp;layer_to_print = layers[instance_to_print.layer_id];</div>
<div class="line"><span class="lineno"> 3323</span>                <span class="comment">// To control print speed of the 1st object layer printed over raft interface.</span></div>
<div class="line"><span class="lineno"> 3324</span>                <span class="keywordtype">bool</span> <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a147ab3f76f3107c846eb2a48a97e74ea">object_layer_over_raft</a> = layer_to_print.object_layer &amp;&amp; layer_to_print.object_layer-&gt;id() &gt; 0 &amp;&amp;</div>
<div class="line"><span class="lineno"> 3325</span>                    instance_to_print.print_object.slicing_parameters().raft_layers() == layer_to_print.object_layer-&gt;id();</div>
<div class="line"><span class="lineno"> 3326</span>                <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.apply(instance_to_print.print_object.config(), <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 3327</span>                <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7d8c6148ecc0ecaaf9597bad4ed26083">m_layer</a> = layer_to_print.layer();</div>
<div class="line"><span class="lineno"> 3328</span>                <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a13accc40bdcea1a7bd2e2c2e8ae09af2">m_object_layer_over_raft</a> = <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a147ab3f76f3107c846eb2a48a97e74ea">object_layer_over_raft</a>;</div>
<div class="line"><span class="lineno"> 3329</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.reduce_crossing_wall)</div>
<div class="line"><span class="lineno"> 3330</span>                    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#adb8be36b92178a4ce09801d0204d6af5">m_avoid_crossing_perimeters</a>.<a class="code hl_function" href="../../dc/d4e/class_slic3r_1_1_avoid_crossing_perimeters.html#a1470b84fffb76ce14b244a4141b543e9">init_layer</a>(*<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7d8c6148ecc0ecaaf9597bad4ed26083">m_layer</a>);</div>
<div class="line"><span class="lineno"> 3331</span> </div>
<div class="line"><span class="lineno"> 3332</span>                <span class="keywordflow">if</span> (this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a>().gcode_label_objects) {</div>
<div class="line"><span class="lineno"> 3333</span>                    <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += std::string(<span class="stringliteral">&quot;; printing object &quot;</span>) + instance_to_print.print_object.model_object()-&gt;name +</div>
<div class="line"><span class="lineno"> 3334</span>                             <span class="stringliteral">&quot; id:&quot;</span> + std::to_string(instance_to_print.print_object.get_id()) + <span class="stringliteral">&quot; copy &quot;</span> +</div>
<div class="line"><span class="lineno"> 3335</span>                             std::to_string(inst.id) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 3336</span>                }</div>
<div class="line"><span class="lineno"> 3337</span>                <span class="comment">// exclude objects</span></div>
<div class="line"><span class="lineno"> 3338</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a8073b5c68ecade3632359c884f342f3c">m_enable_exclude_object</a>) {</div>
<div class="line"><span class="lineno"> 3339</span>                    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a922d730b3489f1dcef6d8b914998bb51">is_BBL_Printer</a>()) {</div>
<div class="line"><span class="lineno"> 3340</span>                        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a86b46569c5b3e2a671c8877edd0733c1">set_object_start_str</a>(</div>
<div class="line"><span class="lineno"> 3341</span>                            std::string(<span class="stringliteral">&quot;; start printing object, unique label id: &quot;</span>) +</div>
<div class="line"><span class="lineno"> 3342</span>                            std::to_string(instance_to_print.label_object_id) + <span class="stringliteral">&quot;\n&quot;</span> + <span class="stringliteral">&quot;M624 &quot;</span> +</div>
<div class="line"><span class="lineno"> 3343</span>                            <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a00f245d70e13592ac58559bd6779899e">_encode_label_ids_to_base64</a>({instance_to_print.label_object_id}) + <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 3344</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (print.config().gcode_flavor.value == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a02d66b5053fbce6319e225982b3c5a90a4b6801e5d5c460886aee95250b34bc8e">gcfKlipper</a>) {</div>
<div class="line"><span class="lineno"> 3345</span>                        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a86b46569c5b3e2a671c8877edd0733c1">set_object_start_str</a>(std::string(<span class="stringliteral">&quot;EXCLUDE_OBJECT_START NAME=&quot;</span>) +</div>
<div class="line"><span class="lineno"> 3346</span>                                                      <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a355611ad05df70bbe9435a103f0a254d">get_instance_name</a>(&amp;instance_to_print.print_object, inst.id) +</div>
<div class="line"><span class="lineno"> 3347</span>                                                      <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 3348</span>                    }</div>
<div class="line"><span class="lineno"> 3349</span>                }</div>
<div class="line"><span class="lineno"> 3350</span> </div>
<div class="line"><span class="lineno"> 3351</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.enable_overhang_speed &amp;&amp; !<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.overhang_speed_classic)</div>
<div class="line"><span class="lineno"> 3352</span>                    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a8398430e2866a9c8219fca25dbed0cf6">m_extrusion_quality_estimator</a>.<a class="code hl_function" href="../../d5/d3b/class_slic3r_1_1_extrusion_quality_estimator.html#a336591cd00cd0ba76ff5bc43f8cfb2f2">set_current_object</a>(&amp;instance_to_print.print_object);</div>
<div class="line"><span class="lineno"> 3353</span> </div>
<div class="line"><span class="lineno"> 3354</span>                <span class="comment">// When starting a new object, use the external motion planner for the first travel move.</span></div>
<div class="line"><span class="lineno"> 3355</span>                <span class="keyword">const</span> <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> &amp;<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a5ec552d076296fd705739c608edc1580">offset</a> = instance_to_print.print_object.instances()[instance_to_print.instance_id].shift;</div>
<div class="line"><span class="lineno"> 3356</span>                std::pair&lt;const PrintObject*, Point&gt; this_object_copy(&amp;instance_to_print.print_object, <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a5ec552d076296fd705739c608edc1580">offset</a>);</div>
<div class="line"><span class="lineno"> 3357</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a93ff505eea9402b75d8c8f5230af12b9">m_last_obj_copy</a> != this_object_copy)</div>
<div class="line"><span class="lineno"> 3358</span>                    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#adb8be36b92178a4ce09801d0204d6af5">m_avoid_crossing_perimeters</a>.<a class="code hl_function" href="../../dc/d4e/class_slic3r_1_1_avoid_crossing_perimeters.html#a025753e1a877d53bd068ad39aa889afd">use_external_mp_once</a>();</div>
<div class="line"><span class="lineno"> 3359</span>                <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a93ff505eea9402b75d8c8f5230af12b9">m_last_obj_copy</a> = this_object_copy;</div>
<div class="line"><span class="lineno"> 3360</span>                this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a659974d95788b7195e7a45e45115565d">set_origin</a>(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab3977853055b1ea40f45a1bbfb78ef36">unscale</a>(offset));</div>
<div class="line"><span class="lineno"> 3361</span>                <span class="keywordflow">if</span> (instance_to_print.object_by_extruder.support != <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno"> 3362</span>                    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7d8c6148ecc0ecaaf9597bad4ed26083">m_layer</a> = layers[instance_to_print.layer_id].support_layer;</div>
<div class="line"><span class="lineno"> 3363</span>                    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a13accc40bdcea1a7bd2e2c2e8ae09af2">m_object_layer_over_raft</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3364</span> </div>
<div class="line"><span class="lineno"> 3365</span>                    <span class="comment">//BBS: print supports&#39; brims first</span></div>
<div class="line"><span class="lineno"> 3366</span>                    <span class="keywordflow">if</span> (this-&gt;<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a6f4b674d8ebba097b1dbc67262ace858">m_objSupportsWithBrim</a>.find(instance_to_print.print_object.id()) != this-&gt;m_objSupportsWithBrim.end() &amp;&amp; !print_wipe_extrusions) {</div>
<div class="line"><span class="lineno"> 3367</span>                        this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a659974d95788b7195e7a45e45115565d">set_origin</a>(0., 0.);</div>
<div class="line"><span class="lineno"> 3368</span>                        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#adb8be36b92178a4ce09801d0204d6af5">m_avoid_crossing_perimeters</a>.<a class="code hl_function" href="../../dc/d4e/class_slic3r_1_1_avoid_crossing_perimeters.html#a2387f9166a85348de63d53e257b79f5e">use_external_mp</a>();</div>
<div class="line"><span class="lineno"> 3369</span>                        <span class="keywordflow">for</span> (<span class="keyword">const</span> ExtrusionEntity* ee : print.m_supportBrimMap.at(instance_to_print.print_object.id()).entities) {</div>
<div class="line"><span class="lineno"> 3370</span>                            <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a999e940fc9198432b7a120451d246b6f">extrude_entity</a>(*ee, <span class="stringliteral">&quot;brim&quot;</span>, <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.support_speed.value);</div>
<div class="line"><span class="lineno"> 3371</span>                        }</div>
<div class="line"><span class="lineno"> 3372</span>                        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#adb8be36b92178a4ce09801d0204d6af5">m_avoid_crossing_perimeters</a>.<a class="code hl_function" href="../../dc/d4e/class_slic3r_1_1_avoid_crossing_perimeters.html#a2387f9166a85348de63d53e257b79f5e">use_external_mp</a>(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 3373</span>                        <span class="comment">// Allow a straight travel move to the first object point.</span></div>
<div class="line"><span class="lineno"> 3374</span>                        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#adb8be36b92178a4ce09801d0204d6af5">m_avoid_crossing_perimeters</a>.<a class="code hl_function" href="../../dc/d4e/class_slic3r_1_1_avoid_crossing_perimeters.html#aa8f41e1fbb3a3bc86717bb8de8a19a71">disable_once</a>();</div>
<div class="line"><span class="lineno"> 3375</span>                        this-&gt;<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a6f4b674d8ebba097b1dbc67262ace858">m_objSupportsWithBrim</a>.erase(instance_to_print.print_object.id());</div>
<div class="line"><span class="lineno"> 3376</span>                    }</div>
<div class="line"><span class="lineno"> 3377</span>                    <span class="comment">// When starting a new object, use the external motion planner for the first travel move.</span></div>
<div class="line"><span class="lineno"> 3378</span>                    <span class="keyword">const</span> <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a>&amp; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a5ec552d076296fd705739c608edc1580">offset</a> = instance_to_print.print_object.instances()[instance_to_print.instance_id].shift;</div>
<div class="line"><span class="lineno"> 3379</span>                    std::pair&lt;const PrintObject*, Point&gt; this_object_copy(&amp;instance_to_print.print_object, <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a5ec552d076296fd705739c608edc1580">offset</a>);</div>
<div class="line"><span class="lineno"> 3380</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a93ff505eea9402b75d8c8f5230af12b9">m_last_obj_copy</a> != this_object_copy)</div>
<div class="line"><span class="lineno"> 3381</span>                        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#adb8be36b92178a4ce09801d0204d6af5">m_avoid_crossing_perimeters</a>.<a class="code hl_function" href="../../dc/d4e/class_slic3r_1_1_avoid_crossing_perimeters.html#a025753e1a877d53bd068ad39aa889afd">use_external_mp_once</a>();</div>
<div class="line"><span class="lineno"> 3382</span>                    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a93ff505eea9402b75d8c8f5230af12b9">m_last_obj_copy</a> = this_object_copy;</div>
<div class="line"><span class="lineno"> 3383</span>                    this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a659974d95788b7195e7a45e45115565d">set_origin</a>(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab3977853055b1ea40f45a1bbfb78ef36">unscale</a>(offset));</div>
<div class="line"><span class="lineno"> 3384</span>                    ExtrusionEntityCollection support_eec;</div>
<div class="line"><span class="lineno"> 3385</span> </div>
<div class="line"><span class="lineno"> 3386</span>                    <span class="comment">// BBS</span></div>
<div class="line"><span class="lineno"> 3387</span>                    WipingExtrusions&amp; wiping_extrusions = <span class="keyword">const_cast&lt;</span>LayerTools&amp;<span class="keyword">&gt;</span>(layer_tools).wiping_extrusions();</div>
<div class="line"><span class="lineno"> 3388</span>                    <span class="keywordtype">bool</span> support_overridden = wiping_extrusions.is_support_overridden(layer_to_print.original_object);</div>
<div class="line"><span class="lineno"> 3389</span>                    <span class="keywordtype">bool</span> support_intf_overridden = wiping_extrusions.is_support_interface_overridden(layer_to_print.original_object);</div>
<div class="line"><span class="lineno"> 3390</span> </div>
<div class="line"><span class="lineno"> 3391</span>                    <a class="code hl_enumeration" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6">ExtrusionRole</a> support_extrusion_role = instance_to_print.object_by_extruder.support_extrusion_role;</div>
<div class="line"><span class="lineno"> 3392</span>                    <span class="keywordtype">bool</span> is_overridden = support_extrusion_role == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a54a07a476d1b976ab5ee4f95e80df634">erSupportMaterialInterface</a> ? support_intf_overridden : support_overridden;</div>
<div class="line"><span class="lineno"> 3393</span>                    <span class="keywordflow">if</span> (is_overridden == (print_wipe_extrusions != 0))</div>
<div class="line"><span class="lineno"> 3394</span>                        gcode += this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ac6e0613456f92543d17bd439371cce0b">extrude_support</a>(</div>
<div class="line"><span class="lineno"> 3395</span>                            <span class="comment">// support_extrusion_role is erSupportMaterial, erSupportTransition, erSupportMaterialInterface or erMixed for all extrusion paths.</span></div>
<div class="line"><span class="lineno"> 3396</span>                            instance_to_print.object_by_extruder.support-&gt;chained_path_from(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a5b7aecf69aa0fce6b42cd1d6b5792e1a">m_last_pos</a>, support_extrusion_role));</div>
<div class="line"><span class="lineno"> 3397</span> </div>
<div class="line"><span class="lineno"> 3398</span>                    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a7d8c6148ecc0ecaaf9597bad4ed26083">m_layer</a> = layer_to_print.layer();</div>
<div class="line"><span class="lineno"> 3399</span>                    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a13accc40bdcea1a7bd2e2c2e8ae09af2">m_object_layer_over_raft</a> = <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a147ab3f76f3107c846eb2a48a97e74ea">object_layer_over_raft</a>;</div>
<div class="line"><span class="lineno"> 3400</span>                }</div>
<div class="line"><span class="lineno"> 3401</span>                <span class="comment">//FIXME order islands?</span></div>
<div class="line"><span class="lineno"> 3402</span>                <span class="comment">// Sequential tool path ordering of multiple parts within the same object, aka. perimeter tracking (#5511)</span></div>
<div class="line"><span class="lineno"> 3403</span>                <span class="keywordflow">for</span> (ObjectByExtruder::Island &amp;island : instance_to_print.<a class="code hl_friend" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a5bba8f81516a94aaf1a581b7d9c2a4f5">object_by_extruder</a>.islands) {</div>
<div class="line"><span class="lineno"> 3404</span>                    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; by_region_specific = is_anything_overridden ? island.by_region_per_copy(by_region_per_copy_cache, <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span><span class="keyword">&gt;</span>(instance_to_print.instance_id), extruder_id, print_wipe_extrusions != 0) : island.by_region;</div>
<div class="line"><span class="lineno"> 3405</span>                    <span class="comment">//BBS: add brim by obj by extruder</span></div>
<div class="line"><span class="lineno"> 3406</span>                    <span class="keywordflow">if</span> (this-&gt;<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a55c1a36fa083f45789738e732b7e8f51">m_objsWithBrim</a>.find(instance_to_print.print_object.id()) != this-&gt;m_objsWithBrim.end() &amp;&amp; !print_wipe_extrusions) {</div>
<div class="line"><span class="lineno"> 3407</span>                        this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a659974d95788b7195e7a45e45115565d">set_origin</a>(0., 0.);</div>
<div class="line"><span class="lineno"> 3408</span>                        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#adb8be36b92178a4ce09801d0204d6af5">m_avoid_crossing_perimeters</a>.<a class="code hl_function" href="../../dc/d4e/class_slic3r_1_1_avoid_crossing_perimeters.html#a2387f9166a85348de63d53e257b79f5e">use_external_mp</a>();</div>
<div class="line"><span class="lineno"> 3409</span>                        <span class="keywordflow">for</span> (<span class="keyword">const</span> ExtrusionEntity* ee : print.m_brimMap.at(instance_to_print.print_object.id()).entities) {</div>
<div class="line"><span class="lineno"> 3410</span>                            <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a999e940fc9198432b7a120451d246b6f">extrude_entity</a>(*ee, <span class="stringliteral">&quot;brim&quot;</span>, <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.support_speed.value);</div>
<div class="line"><span class="lineno"> 3411</span>                        }</div>
<div class="line"><span class="lineno"> 3412</span>                        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#adb8be36b92178a4ce09801d0204d6af5">m_avoid_crossing_perimeters</a>.<a class="code hl_function" href="../../dc/d4e/class_slic3r_1_1_avoid_crossing_perimeters.html#a2387f9166a85348de63d53e257b79f5e">use_external_mp</a>(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 3413</span>                        <span class="comment">// Allow a straight travel move to the first object point.</span></div>
<div class="line"><span class="lineno"> 3414</span>                        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#adb8be36b92178a4ce09801d0204d6af5">m_avoid_crossing_perimeters</a>.<a class="code hl_function" href="../../dc/d4e/class_slic3r_1_1_avoid_crossing_perimeters.html#aa8f41e1fbb3a3bc86717bb8de8a19a71">disable_once</a>();</div>
<div class="line"><span class="lineno"> 3415</span>                        this-&gt;<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a55c1a36fa083f45789738e732b7e8f51">m_objsWithBrim</a>.erase(instance_to_print.print_object.id());</div>
<div class="line"><span class="lineno"> 3416</span>                    }</div>
<div class="line"><span class="lineno"> 3417</span>                    <span class="comment">// When starting a new object, use the external motion planner for the first travel move.</span></div>
<div class="line"><span class="lineno"> 3418</span>                    <span class="keyword">const</span> <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a>&amp; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a5ec552d076296fd705739c608edc1580">offset</a> = instance_to_print.print_object.instances()[instance_to_print.instance_id].shift;</div>
<div class="line"><span class="lineno"> 3419</span>                    std::pair&lt;const PrintObject*, Point&gt; this_object_copy(&amp;instance_to_print.print_object, <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a5ec552d076296fd705739c608edc1580">offset</a>);</div>
<div class="line"><span class="lineno"> 3420</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a93ff505eea9402b75d8c8f5230af12b9">m_last_obj_copy</a> != this_object_copy)</div>
<div class="line"><span class="lineno"> 3421</span>                        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#adb8be36b92178a4ce09801d0204d6af5">m_avoid_crossing_perimeters</a>.<a class="code hl_function" href="../../dc/d4e/class_slic3r_1_1_avoid_crossing_perimeters.html#a025753e1a877d53bd068ad39aa889afd">use_external_mp_once</a>();</div>
<div class="line"><span class="lineno"> 3422</span>                    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a93ff505eea9402b75d8c8f5230af12b9">m_last_obj_copy</a> = this_object_copy;</div>
<div class="line"><span class="lineno"> 3423</span>                    this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a659974d95788b7195e7a45e45115565d">set_origin</a>(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab3977853055b1ea40f45a1bbfb78ef36">unscale</a>(offset));</div>
<div class="line"><span class="lineno"> 3424</span>                    <span class="comment">//FIXME the following code prints regions in the order they are defined, the path is not optimized in any way.</span></div>
<div class="line"><span class="lineno"> 3425</span>                    <span class="keywordtype">bool</span> is_infill_first = print.default_region_config().wall_infill_order == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#ad9ddebbad7d13169769ccfaa24935505aad81dc719ffaebd84cca5c0e326133c8">WallInfillOrder::InfillInnerOuter</a> ||</div>
<div class="line"><span class="lineno"> 3426</span>                                           print.default_region_config().wall_infill_order == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#ad9ddebbad7d13169769ccfaa24935505a7ef9980105d37ca4a5cc002d81da2fb9">WallInfillOrder::InfillOuterInner</a>;</div>
<div class="line"><span class="lineno"> 3427</span>                    <span class="comment">//BBS: for first layer, we always print wall firstly to get better bed adhesive force</span></div>
<div class="line"><span class="lineno"> 3428</span>                    <span class="comment">//This behaviour is same with cura</span></div>
<div class="line"><span class="lineno"> 3429</span>                    <span class="keywordflow">if</span> (is_infill_first &amp;&amp; !first_layer) {</div>
<div class="line"><span class="lineno"> 3430</span>                        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a5f44a133b4c530ddec9d2904c8c66c6e">extrude_infill</a>(print, by_region_specific, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 3431</span>                        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a855717504baf9bd14e86f032a0e21e0c">extrude_perimeters</a>(print, by_region_specific);</div>
<div class="line"><span class="lineno"> 3432</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3433</span>                        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a855717504baf9bd14e86f032a0e21e0c">extrude_perimeters</a>(print, by_region_specific);</div>
<div class="line"><span class="lineno"> 3434</span>                        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a5f44a133b4c530ddec9d2904c8c66c6e">extrude_infill</a>(print,by_region_specific, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 3435</span>                    }</div>
<div class="line"><span class="lineno"> 3436</span>                    <span class="comment">// ironing</span></div>
<div class="line"><span class="lineno"> 3437</span>                    <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a5f44a133b4c530ddec9d2904c8c66c6e">extrude_infill</a>(print,by_region_specific, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 3438</span>                }</div>
<div class="line"><span class="lineno"> 3439</span> </div>
<div class="line"><span class="lineno"> 3440</span>                <span class="keywordflow">if</span> (this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a>().gcode_label_objects) {</div>
<div class="line"><span class="lineno"> 3441</span>                    <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += std::string(<span class="stringliteral">&quot;; stop printing object &quot;</span>) +</div>
<div class="line"><span class="lineno"> 3442</span>                             instance_to_print.print_object.model_object()-&gt;name +</div>
<div class="line"><span class="lineno"> 3443</span>                             <span class="stringliteral">&quot; id:&quot;</span> + std::to_string(instance_to_print.print_object.get_id()) + <span class="stringliteral">&quot; copy &quot;</span> +</div>
<div class="line"><span class="lineno"> 3444</span>                             std::to_string(inst.id) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 3445</span>                }</div>
<div class="line"><span class="lineno"> 3446</span>                <span class="comment">// exclude objects</span></div>
<div class="line"><span class="lineno"> 3447</span>                <span class="comment">// Don&#39;t set m_gcode_label_objects_end if you don&#39;t had to write the m_gcode_label_objects_start.</span></div>
<div class="line"><span class="lineno"> 3448</span>                <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#aeea7ce4e9b241e205916ba042398a4fb">is_object_start_str_empty</a>()) {</div>
<div class="line"><span class="lineno"> 3449</span>                    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a86b46569c5b3e2a671c8877edd0733c1">set_object_start_str</a>(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno"> 3450</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a8073b5c68ecade3632359c884f342f3c">m_enable_exclude_object</a>) {</div>
<div class="line"><span class="lineno"> 3451</span>                    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a922d730b3489f1dcef6d8b914998bb51">is_BBL_Printer</a>()) {</div>
<div class="line"><span class="lineno"> 3452</span>                        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a1cd1a9906822885f076155c4530662b0">set_object_end_str</a>(std::string(<span class="stringliteral">&quot;; stop printing object, unique label id: &quot;</span>) +</div>
<div class="line"><span class="lineno"> 3453</span>                                                    std::to_string(instance_to_print.label_object_id) + <span class="stringliteral">&quot;\n&quot;</span> +</div>
<div class="line"><span class="lineno"> 3454</span>                                                    <span class="stringliteral">&quot;M625\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 3455</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (print.config().gcode_flavor.value == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a02d66b5053fbce6319e225982b3c5a90a4b6801e5d5c460886aee95250b34bc8e">gcfKlipper</a>) {</div>
<div class="line"><span class="lineno"> 3456</span>                        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a1cd1a9906822885f076155c4530662b0">set_object_end_str</a>(std::string(<span class="stringliteral">&quot;EXCLUDE_OBJECT_END NAME=&quot;</span>) +</div>
<div class="line"><span class="lineno"> 3457</span>                                                    <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a355611ad05df70bbe9435a103f0a254d">get_instance_name</a>(&amp;instance_to_print.print_object, inst.id) + <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 3458</span>                    }</div>
<div class="line"><span class="lineno"> 3459</span>                }</div>
<div class="line"><span class="lineno"> 3460</span>            }</div>
<div class="line"><span class="lineno"> 3461</span>        }</div>
<div class="line"><span class="lineno"> 3462</span>    }</div>
<div class="line"><span class="lineno"> 3463</span> </div>
<div class="line"><span class="lineno"> 3464</span><span class="preprocessor">#if 0</span></div>
<div class="line"><span class="lineno"> 3465</span>    <span class="comment">// Apply spiral vase post-processing if this layer contains suitable geometry</span></div>
<div class="line"><span class="lineno"> 3466</span>    <span class="comment">// (we must feed all the G-code into the post-processor, including the first</span></div>
<div class="line"><span class="lineno"> 3467</span>    <span class="comment">// bottom non-spiral layers otherwise it will mess with positions)</span></div>
<div class="line"><span class="lineno"> 3468</span>    <span class="comment">// we apply spiral vase at this stage because it requires a full layer.</span></div>
<div class="line"><span class="lineno"> 3469</span>    <span class="comment">// Just a reminder: A spiral vase mode is allowed for a single object per layer, single material print only.</span></div>
<div class="line"><span class="lineno"> 3470</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a8af28e4500c5897a80f5ccc1b6b118a2">m_spiral_vase</a>)</div>
<div class="line"><span class="lineno"> 3471</span>        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a8af28e4500c5897a80f5ccc1b6b118a2">m_spiral_vase</a>-&gt;process_layer(std::move(gcode));</div>
<div class="line"><span class="lineno"> 3472</span> </div>
<div class="line"><span class="lineno"> 3473</span>    <span class="comment">// Apply cooling logic; this may alter speeds.</span></div>
<div class="line"><span class="lineno"> 3474</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae7defbc83aafbbea7c9ae7a0ca4c8fef">m_cooling_buffer</a>)</div>
<div class="line"><span class="lineno"> 3475</span>        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae7defbc83aafbbea7c9ae7a0ca4c8fef">m_cooling_buffer</a>-&gt;process_layer(std::move(gcode), <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aefd4abaf0d1c18be14b61558b8d504cd">layer</a>.<a class="code hl_function" href="../../d1/d68/class_slic3r_1_1_layer.html#a3d031d63fa4b34246ca1b1cbbb66b2fc">id</a>(),</div>
<div class="line"><span class="lineno"> 3476</span>            <span class="comment">// Flush the cooling buffer at each object layer or possibly at the last layer, even if it contains just supports (This should not happen).</span></div>
<div class="line"><span class="lineno"> 3477</span>            object_layer || last_layer);</div>
<div class="line"><span class="lineno"> 3478</span> </div>
<div class="line"><span class="lineno"> 3479</span><span class="preprocessor">#ifdef HAS_PRESSURE_EQUALIZER</span></div>
<div class="line"><span class="lineno"> 3480</span>    <span class="comment">// Apply pressure equalization if enabled;</span></div>
<div class="line"><span class="lineno"> 3481</span>    <span class="comment">// printf(&quot;G-code before filter:\n%s\n&quot;, gcode.c_str());</span></div>
<div class="line"><span class="lineno"> 3482</span>    <span class="keywordflow">if</span> (m_pressure_equalizer)</div>
<div class="line"><span class="lineno"> 3483</span>        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> = m_pressure_equalizer-&gt;process(<a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a>.c_str(), <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 3484</span>    <span class="comment">// printf(&quot;G-code after filter:\n%s\n&quot;, out.c_str());</span></div>
<div class="line"><span class="lineno"> 3485</span><span class="preprocessor">#endif </span><span class="comment">/* HAS_PRESSURE_EQUALIZER */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno"> 3486</span> </div>
<div class="line"><span class="lineno"> 3487</span>    file.write(gcode);</div>
<div class="line"><span class="lineno"> 3488</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 3489</span> </div>
<div class="line"><span class="lineno"> 3490</span>    BOOST_LOG_TRIVIAL(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a06b86e5331aac1c640f8f7f40d798175">trace</a>) &lt;&lt; <span class="stringliteral">&quot;Exported layer &quot;</span> &lt;&lt; <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aefd4abaf0d1c18be14b61558b8d504cd">layer</a>.<a class="code hl_function" href="../../d1/d68/class_slic3r_1_1_layer.html#a3d031d63fa4b34246ca1b1cbbb66b2fc">id</a>() &lt;&lt; <span class="stringliteral">&quot; print_z &quot;</span> &lt;&lt; print_z &lt;&lt;</div>
<div class="line"><span class="lineno"> 3491</span>    <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7bcaee6c88f650fd234f688ae2311ec5">log_memory_info</a>();</div>
<div class="line"><span class="lineno"> 3492</span> </div>
<div class="line"><span class="lineno"> 3493</span>    result.gcode = std::move(gcode);</div>
<div class="line"><span class="lineno"> 3494</span>    result.cooling_buffer_flush = object_layer || raft_layer || last_layer;</div>
<div class="line"><span class="lineno"> 3495</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 3496</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_avoid_crossing_perimeters_html_a1470b84fffb76ce14b244a4141b543e9"><div class="ttname"><a href="../../dc/d4e/class_slic3r_1_1_avoid_crossing_perimeters.html#a1470b84fffb76ce14b244a4141b543e9">Slic3r::AvoidCrossingPerimeters::init_layer</a></div><div class="ttdeci">void init_layer(const Layer &amp;layer)</div><div class="ttdef"><b>Definition</b> AvoidCrossingPerimeters.cpp:1196</div></div>
<div class="ttc" id="aclass_slic3r_1_1_avoid_crossing_perimeters_html_a2387f9166a85348de63d53e257b79f5e"><div class="ttname"><a href="../../dc/d4e/class_slic3r_1_1_avoid_crossing_perimeters.html#a2387f9166a85348de63d53e257b79f5e">Slic3r::AvoidCrossingPerimeters::use_external_mp</a></div><div class="ttdeci">void use_external_mp(bool use=true)</div><div class="ttdef"><b>Definition</b> AvoidCrossingPerimeters.hpp:19</div></div>
<div class="ttc" id="aclass_slic3r_1_1_dynamic_config_html_a18d8e56606a5c0359c0084a7d1c77889"><div class="ttname"><a href="../../d5/df0/class_slic3r_1_1_dynamic_config.html#a18d8e56606a5c0359c0084a7d1c77889">Slic3r::DynamicConfig::set_key_value</a></div><div class="ttdeci">bool set_key_value(const std::string &amp;opt_key, ConfigOption *opt)</div><div class="ttdef"><b>Definition</b> Config.hpp:2289</div></div>
<div class="ttc" id="aclass_slic3r_1_1_extrusion_entity_collection_html_a289ff400bde7aff105ac0c8336fe16a1"><div class="ttname"><a href="../../dd/d1d/class_slic3r_1_1_extrusion_entity_collection.html#a289ff400bde7aff105ac0c8336fe16a1">Slic3r::ExtrusionEntityCollection::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition</b> ExtrusionEntityCollection.hpp:67</div></div>
<div class="ttc" id="aclass_slic3r_1_1_extrusion_quality_estimator_html_a336591cd00cd0ba76ff5bc43f8cfb2f2"><div class="ttname"><a href="../../d5/d3b/class_slic3r_1_1_extrusion_quality_estimator.html#a336591cd00cd0ba76ff5bc43f8cfb2f2">Slic3r::ExtrusionQualityEstimator::set_current_object</a></div><div class="ttdeci">void set_current_object(const PrintObject *object)</div><div class="ttdef"><b>Definition</b> ExtrusionProcessor.hpp:251</div></div>
<div class="ttc" id="aclass_slic3r_1_1_extrusion_quality_estimator_html_a77518c6a357af98816bafc53e9ea5246"><div class="ttname"><a href="../../d5/d3b/class_slic3r_1_1_extrusion_quality_estimator.html#a77518c6a357af98816bafc53e9ea5246">Slic3r::ExtrusionQualityEstimator::prepare_for_new_layer</a></div><div class="ttdeci">void prepare_for_new_layer(const PrintObject *obj, const Layer *layer)</div><div class="ttdef"><b>Definition</b> ExtrusionProcessor.hpp:253</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a00f245d70e13592ac58559bd6779899e"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a00f245d70e13592ac58559bd6779899e">Slic3r::GCode::_encode_label_ids_to_base64</a></div><div class="ttdeci">std::string _encode_label_ids_to_base64(std::vector&lt; size_t &gt; ids)</div><div class="ttdef"><b>Definition</b> GCode.cpp:4413</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a1cf8c910158be8938061cc19519ceec1"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a1cf8c910158be8938061cc19519ceec1">Slic3r::GCode::object_islands_by_extruder</a></div><div class="ttdeci">friend std::vector&lt; ObjectByExtruder::Island &gt; &amp; object_islands_by_extruder(std::map&lt; unsigned int, std::vector&lt; ObjectByExtruder &gt; &gt; &amp;by_extruder, unsigned int extruder_id, size_t object_idx, size_t num_objects, size_t num_islands)</div><div class="ttdef"><b>Definition</b> GCode.cpp:2576</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a36c95dfce6f8603fc728760037633e45"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a36c95dfce6f8603fc728760037633e45">Slic3r::GCode::m_skirt_done</a></div><div class="ttdeci">std::vector&lt; coordf_t &gt; m_skirt_done</div><div class="ttdef"><b>Definition</b> GCode.hpp:494</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a5bba8f81516a94aaf1a581b7d9c2a4f5"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a5bba8f81516a94aaf1a581b7d9c2a4f5">Slic3r::GCode::object_by_extruder</a></div><div class="ttdeci">friend ObjectByExtruder &amp; object_by_extruder(std::map&lt; unsigned int, std::vector&lt; ObjectByExtruder &gt; &gt; &amp;by_extruder, unsigned int extruder_id, size_t object_idx, size_t num_objects)</div><div class="ttdef"><b>Definition</b> GCode.cpp:2564</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a5f44a133b4c530ddec9d2904c8c66c6e"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a5f44a133b4c530ddec9d2904c8c66c6e">Slic3r::GCode::extrude_infill</a></div><div class="ttdeci">std::string extrude_infill(const Print &amp;print, const std::vector&lt; ObjectByExtruder::Island::Region &gt; &amp;by_region, bool ironing)</div><div class="ttdef"><b>Definition</b> GCode.cpp:3802</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a855717504baf9bd14e86f032a0e21e0c"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a855717504baf9bd14e86f032a0e21e0c">Slic3r::GCode::extrude_perimeters</a></div><div class="ttdeci">std::string extrude_perimeters(const Print &amp;print, const std::vector&lt; ObjectByExtruder::Island::Region &gt; &amp;by_region)</div><div class="ttdef"><b>Definition</b> GCode.cpp:3788</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_a9c34d1224cd3ca1e6abc1080d2b4157a"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#a9c34d1224cd3ca1e6abc1080d2b4157a">Slic3r::GCode::sort_print_object_instances</a></div><div class="ttdeci">std::vector&lt; InstanceToPrint &gt; sort_print_object_instances(std::vector&lt; ObjectByExtruder &gt; &amp;objects_by_extruder, const std::vector&lt; LayerToPrint &gt; &amp;layers, const std::vector&lt; const PrintInstance * &gt; *ordering, const size_t single_object_instance_idx)</div><div class="ttdef"><b>Definition</b> GCode.cpp:2589</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_ac3a355ee318e2ae0abd866a8cc2b74c6"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#ac3a355ee318e2ae0abd866a8cc2b74c6">Slic3r::GCode::change_layer</a></div><div class="ttdeci">std::string change_layer(coordf_t print_z, bool lazy_raise=false)</div><div class="ttdef"><b>Definition</b> GCode.cpp:3570</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_processor_html_a9d0a157d06bdfad05bc6822a9a1c8071a7a3c9b43870d34605c5e1c5de7e12e0f"><div class="ttname"><a href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#a9d0a157d06bdfad05bc6822a9a1c8071a7a3c9b43870d34605c5e1c5de7e12e0f">Slic3r::GCodeProcessor::ETags::Layer_Change</a></div><div class="ttdeci">@ Layer_Change</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_a1cd1a9906822885f076155c4530662b0"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a1cd1a9906822885f076155c4530662b0">Slic3r::GCodeWriter::set_object_end_str</a></div><div class="ttdeci">void set_object_end_str(std::string end_string)</div><div class="ttdef"><b>Definition</b> GCodeWriter.hpp:94</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_a489f0a47c20b7b8f40fded7fec0e53ac"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a489f0a47c20b7b8f40fded7fec0e53ac">Slic3r::GCodeWriter::config</a></div><div class="ttdeci">GCodeConfig config</div><div class="ttdef"><b>Definition</b> GCodeWriter.hpp:16</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_a7b6dd3647ab57ee85f929ce434e9542a"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a7b6dd3647ab57ee85f929ce434e9542a">Slic3r::GCodeWriter::set_pressure_advance</a></div><div class="ttdeci">std::string set_pressure_advance(double pa) const</div><div class="ttdef"><b>Definition</b> GCodeWriter.cpp:223</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_a86b46569c5b3e2a671c8877edd0733c1"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a86b46569c5b3e2a671c8877edd0733c1">Slic3r::GCodeWriter::set_object_start_str</a></div><div class="ttdeci">void set_object_start_str(std::string start_string)</div><div class="ttdef"><b>Definition</b> GCodeWriter.hpp:92</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_aaa28b2e4f597a4c6f3283883135cb5cf"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#aaa28b2e4f597a4c6f3283883135cb5cf">Slic3r::GCodeWriter::set_is_first_layer</a></div><div class="ttdeci">void set_is_first_layer(bool bval)</div><div class="ttdef"><b>Definition</b> GCodeWriter.hpp:110</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_aeea7ce4e9b241e205916ba042398a4fb"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#aeea7ce4e9b241e205916ba042398a4fb">Slic3r::GCodeWriter::is_object_start_str_empty</a></div><div class="ttdeci">bool is_object_start_str_empty()</div><div class="ttdef"><b>Definition</b> GCodeWriter.hpp:93</div></div>
<div class="ttc" id="aclass_slic3r_1_1_layer_html_a3052da5e28b9b358d43ad43d7e9173ed"><div class="ttname"><a href="../../d1/d68/class_slic3r_1_1_layer.html#a3052da5e28b9b358d43ad43d7e9173ed">Slic3r::Layer::lslices</a></div><div class="ttdeci">ExPolygons lslices</div><div class="ttdef"><b>Definition</b> Layer.hpp:148</div></div>
<div class="ttc" id="aclass_slic3r_1_1_layer_html_aa67fead42e259dbe6b09d0f011fa5e0b"><div class="ttname"><a href="../../d1/d68/class_slic3r_1_1_layer.html#aa67fead42e259dbe6b09d0f011fa5e0b">Slic3r::Layer::lslices_bboxes</a></div><div class="ttdeci">std::vector&lt; BoundingBox &gt; lslices_bboxes</div><div class="ttdef"><b>Definition</b> Layer.hpp:149</div></div>
<div class="ttc" id="aclass_slic3r_1_1_layer_html_ae52da1c445544553caa1055192076441"><div class="ttname"><a href="../../d1/d68/class_slic3r_1_1_layer.html#ae52da1c445544553caa1055192076441">Slic3r::Layer::regions</a></div><div class="ttdeci">const LayerRegionPtrs &amp; regions() const</div><div class="ttdef"><b>Definition</b> Layer.hpp:158</div></div>
<div class="ttc" id="aclass_slic3r_1_1_layer_html_af208f762d74924f88851c152cbc9bd36"><div class="ttname"><a href="../../d1/d68/class_slic3r_1_1_layer.html#af208f762d74924f88851c152cbc9bd36">Slic3r::Layer::object</a></div><div class="ttdeci">PrintObject * object()</div><div class="ttdef"><b>Definition</b> Layer.hpp:124</div></div>
<div class="ttc" id="aclass_slic3r_1_1_print_object_html_abde3ac4f19e1f9d342423a7643e17266"><div class="ttname"><a href="../../de/d87/class_slic3r_1_1_print_object.html#abde3ac4f19e1f9d342423a7643e17266">Slic3r::PrintObject::config</a></div><div class="ttdeci">const PrintObjectConfig &amp; config() const</div><div class="ttdef"><b>Definition</b> Print.hpp:299</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wiping_extrusions_html_af39d2ffe6a5a444b71148c79782d9c0f"><div class="ttname"><a href="../../d7/da2/class_slic3r_1_1_wiping_extrusions.html#af39d2ffe6a5a444b71148c79782d9c0f">Slic3r::WipingExtrusions::ExtruderPerCopy</a></div><div class="ttdeci">boost::container::small_vector&lt; int32_t, 3 &gt; ExtruderPerCopy</div><div class="ttdef"><b>Definition</b> ToolOrdering.hpp:31</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_process_layer_html_a637129d1bde40a13d75c0e9e2a4557fc"><div class="ttname"><a href="../../da/d79/namespace_slic3r_1_1_process_layer.html#a637129d1bde40a13d75c0e9e2a4557fc">Slic3r::ProcessLayer::emit_custom_gcode_per_print_z</a></div><div class="ttdeci">static std::string emit_custom_gcode_per_print_z(GCode &amp;gcodegen, const CustomGCode::Item *custom_gcode, unsigned int current_extruder_id, unsigned int first_extruder_id, const PrintConfig &amp;config)</div><div class="ttdef"><b>Definition</b> GCode.cpp:2645</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_skirt_html_a4bcac91ee0731725f47d01ca533f85ae"><div class="ttname"><a href="../../d2/db4/namespace_slic3r_1_1_skirt.html#a4bcac91ee0731725f47d01ca533f85ae">Slic3r::Skirt::make_skirt_loops_per_extruder_other_layers</a></div><div class="ttdeci">static std::map&lt; unsigned int, std::pair&lt; size_t, size_t &gt; &gt; make_skirt_loops_per_extruder_other_layers(const Print &amp;print, const LayerTools &amp;layer_tools, std::vector&lt; coordf_t &gt; &amp;skirt_done)</div><div class="ttdef"><b>Definition</b> GCode.cpp:2768</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_skirt_html_a9cffc358f321d112082bf7e417560120"><div class="ttname"><a href="../../d2/db4/namespace_slic3r_1_1_skirt.html#a9cffc358f321d112082bf7e417560120">Slic3r::Skirt::make_skirt_loops_per_extruder_1st_layer</a></div><div class="ttdeci">static std::map&lt; unsigned int, std::pair&lt; size_t, size_t &gt; &gt; make_skirt_loops_per_extruder_1st_layer(const Print &amp;print, const LayerTools &amp;layer_tools, std::vector&lt; coordf_t &gt; &amp;skirt_done)</div><div class="ttdef"><b>Definition</b> GCode.cpp:2750</div></div>
<div class="ttc" id="anamespace_slic3r_1_1arrangement_html_a5b816dd05a95b740ac2194b643ceaacc"><div class="ttname"><a href="../../d0/d25/namespace_slic3r_1_1arrangement.html#a5b816dd05a95b740ac2194b643ceaacc">Slic3r::arrangement::height</a></div><div class="ttdeci">coord_t height(const BoundingBox &amp;box)</div><div class="ttdef"><b>Definition</b> Arrange.cpp:794</div></div>
<div class="ttc" id="anamespace_slic3r_html_a064fb71453f1269e52a93301da377663"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a064fb71453f1269e52a93301da377663">Slic3r::bottom_shell_layers</a></div><div class="ttdeci">bottom_shell_layers((ConfigOptionFloat, bottom_shell_thickness))((ConfigOptionFloat</div></div>
<div class="ttc" id="anamespace_slic3r_html_a06b86e5331aac1c640f8f7f40d798175"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a06b86e5331aac1c640f8f7f40d798175">Slic3r::trace</a></div><div class="ttdeci">void trace(unsigned int level, const char *message)</div><div class="ttdef"><b>Definition</b> utils.cpp:172</div></div>
<div class="ttc" id="anamespace_slic3r_html_a10875bb92bba52324eab015888534f9da12f8c1367ab340ce1257166cfce8cf56"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a10875bb92bba52324eab015888534f9da12f8c1367ab340ce1257166cfce8cf56">Slic3r::CalibMode::Calib_Vol_speed_Tower</a></div><div class="ttdeci">@ Calib_Vol_speed_Tower</div></div>
<div class="ttc" id="anamespace_slic3r_html_a10875bb92bba52324eab015888534f9da1f3f215db6c2f29d651e4667b4ae4be8"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a10875bb92bba52324eab015888534f9da1f3f215db6c2f29d651e4667b4ae4be8">Slic3r::CalibMode::Calib_Temp_Tower</a></div><div class="ttdeci">@ Calib_Temp_Tower</div></div>
<div class="ttc" id="anamespace_slic3r_html_a10875bb92bba52324eab015888534f9da5d5cb8f453ddda170187b3c4cd5b9731"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a10875bb92bba52324eab015888534f9da5d5cb8f453ddda170187b3c4cd5b9731">Slic3r::CalibMode::Calib_VFA_Tower</a></div><div class="ttdeci">@ Calib_VFA_Tower</div></div>
<div class="ttc" id="anamespace_slic3r_html_a10875bb92bba52324eab015888534f9daa8b1930812a60431741d4a3314ea1ffa"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a10875bb92bba52324eab015888534f9daa8b1930812a60431741d4a3314ea1ffa">Slic3r::CalibMode::Calib_Retraction_tower</a></div><div class="ttdeci">@ Calib_Retraction_tower</div></div>
<div class="ttc" id="anamespace_slic3r_html_a10875bb92bba52324eab015888534f9dadeab6e881e2417c67136d139a6edefb0"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a10875bb92bba52324eab015888534f9dadeab6e881e2417c67136d139a6edefb0">Slic3r::CalibMode::Calib_PA_Tower</a></div><div class="ttdeci">@ Calib_PA_Tower</div></div>
<div class="ttc" id="anamespace_slic3r_html_a161494105514ff0285e7dc0411f2a394a89d67db501367bcbf751f1d9227e5bdb"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a161494105514ff0285e7dc0411f2a394a89d67db501367bcbf751f1d9227e5bdb">Slic3r::ExtrusionLayersType::INFILL</a></div><div class="ttdeci">@ INFILL</div></div>
<div class="ttc" id="anamespace_slic3r_html_a355611ad05df70bbe9435a103f0a254d"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a355611ad05df70bbe9435a103f0a254d">Slic3r::get_instance_name</a></div><div class="ttdeci">std::string get_instance_name(const PrintObject *object, size_t inst_id)</div><div class="ttdef"><b>Definition</b> GCode.cpp:2802</div></div>
<div class="ttc" id="anamespace_slic3r_html_a5b3413fe6626ad3476b3d68f578634d9"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a5b3413fe6626ad3476b3d68f578634d9">Slic3r::has_prime_tower</a></div><div class="ttdeci">machine_min_extruding_rate has_prime_tower((ConfigOptionFloat, nozzle_volume))((ConfigOptionPoints</div></div>
<div class="ttc" id="anamespace_slic3r_html_a5ec552d076296fd705739c608edc1580"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a5ec552d076296fd705739c608edc1580">Slic3r::offset</a></div><div class="ttdeci">Slic3r::Polygons offset(const Slic3r::Polygon &amp;polygon, const float delta, ClipperLib::JoinType joinType, double miterLimit)</div><div class="ttdef"><b>Definition</b> ClipperUtils.cpp:404</div></div>
<div class="ttc" id="anamespace_slic3r_html_a6fa3193f46e8c4fc55359a5c124f46e6a0786a0da8016e68133bca07352f8ff18"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6a0786a0da8016e68133bca07352f8ff18">Slic3r::erMixed</a></div><div class="ttdeci">@ erMixed</div><div class="ttdef"><b>Definition</b> ExtrusionEntity.hpp:41</div></div>
<div class="ttc" id="anamespace_slic3r_html_a815252509829bfcfc450d786ecccdfeaab02e54098d821a31909c69e604052d7c"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a815252509829bfcfc450d786ecccdfeaab02e54098d821a31909c69e604052d7c">Slic3r::PrintSequence::ByLayer</a></div><div class="ttdeci">@ ByLayer</div></div>
<div class="ttc" id="anamespace_slic3r_html_aa3af3ee03fdd2fbda072bbea6de1f8fc"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#aa3af3ee03fdd2fbda072bbea6de1f8fc">Slic3r::sort_remove_duplicates</a></div><div class="ttdeci">void sort_remove_duplicates(std::vector&lt; T &gt; &amp;vec)</div><div class="ttdef"><b>Definition</b> libslic3r.h:206</div></div>
<div class="ttc" id="anamespace_slic3r_html_ab29c118b6283d273408c9700d78ae564"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#ab29c118b6283d273408c9700d78ae564">Slic3r::unscaled</a></div><div class="ttdeci">constexpr Eigen::Matrix&lt; Tout, 2, EigenArgs... &gt; unscaled(const Slic3r::ClipperLib::IntPoint &amp;v) noexcept</div><div class="ttdef"><b>Definition</b> Arrange.cpp:55</div></div>
<div class="ttc" id="anamespace_slic3r_html_ad9ddebbad7d13169769ccfaa24935505aad81dc719ffaebd84cca5c0e326133c8"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#ad9ddebbad7d13169769ccfaa24935505aad81dc719ffaebd84cca5c0e326133c8">Slic3r::WallInfillOrder::InfillInnerOuter</a></div><div class="ttdeci">@ InfillInnerOuter</div></div>
<div class="ttc" id="anamespacenlohmann_1_1detail_html_a59e696b1dad6d0d99c172ac4518c2042a2063c1608d6e0baf80249c42e2be5804"><div class="ttname"><a href="../../dc/df0/namespacenlohmann_1_1detail.html#a59e696b1dad6d0d99c172ac4518c2042a2063c1608d6e0baf80249c42e2be5804">nlohmann::detail::parse_event_t::value</a></div><div class="ttdeci">@ value</div><div class="ttdoc">the parser finished reading a JSON value</div></div>
<div class="ttc" id="astruct_slic3r_1_1_g_code_1_1_object_by_extruder_1_1_island_1_1_region_html_ad6df2d653adb9311b3cd91302f1d06d1"><div class="ttname"><a href="../../db/dad/struct_slic3r_1_1_g_code_1_1_object_by_extruder_1_1_island_1_1_region.html#ad6df2d653adb9311b3cd91302f1d06d1">Slic3r::GCode::ObjectByExtruder::Island::Region::Type</a></div><div class="ttdeci">Type</div><div class="ttdef"><b>Definition</b> GCode.hpp:366</div></div>
<div class="ttc" id="astruct_slic3r_1_1_g_code_1_1_object_by_extruder_1_1_island_1_1_region_html_ad6df2d653adb9311b3cd91302f1d06d1a1a0d4c859815b50bdf316faf9e204566"><div class="ttname"><a href="../../db/dad/struct_slic3r_1_1_g_code_1_1_object_by_extruder_1_1_island_1_1_region.html#ad6df2d653adb9311b3cd91302f1d06d1a1a0d4c859815b50bdf316faf9e204566">Slic3r::GCode::ObjectByExtruder::Island::Region::PERIMETERS</a></div><div class="ttdeci">@ PERIMETERS</div><div class="ttdef"><b>Definition</b> GCode.hpp:367</div></div>
<div class="ttc" id="astruct_slic3r_1_1_g_code_1_1_object_by_extruder_1_1_island_1_1_region_html_ad6df2d653adb9311b3cd91302f1d06d1a2f4018a2a630484a9316c15055b4344e"><div class="ttname"><a href="../../db/dad/struct_slic3r_1_1_g_code_1_1_object_by_extruder_1_1_island_1_1_region.html#ad6df2d653adb9311b3cd91302f1d06d1a2f4018a2a630484a9316c15055b4344e">Slic3r::GCode::ObjectByExtruder::Island::Region::INFILL</a></div><div class="ttdeci">@ INFILL</div><div class="ttdef"><b>Definition</b> GCode.hpp:368</div></div>
<div class="ttc" id="astruct_slic3r_1_1_g_code_1_1_object_by_extruder_html_a43568ef7b5334ee777c0b16009099a8f"><div class="ttname"><a href="../../dc/d6c/struct_slic3r_1_1_g_code_1_1_object_by_extruder.html#a43568ef7b5334ee777c0b16009099a8f">Slic3r::GCode::ObjectByExtruder::support</a></div><div class="ttdeci">const ExtrusionEntityCollection * support</div><div class="ttdef"><b>Definition</b> GCode.hpp:350</div></div>
<div class="ttc" id="astruct_slic3r_1_1_g_code_1_1_object_by_extruder_html_aa98f196721185596825bd6901a62901f"><div class="ttname"><a href="../../dc/d6c/struct_slic3r_1_1_g_code_1_1_object_by_extruder.html#aa98f196721185596825bd6901a62901f">Slic3r::GCode::ObjectByExtruder::islands</a></div><div class="ttdeci">std::vector&lt; Island &gt; islands</div><div class="ttdef"><b>Definition</b> GCode.hpp:381</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00133">Slic3r::Layer::bottom_z()</a>, <a class="el" href="../../#l00820">Slic3r::Print::calib_mode()</a>, <a class="el" href="../../#l00823">Slic3r::Print::calib_params()</a>, <a class="el" href="../../#l01978">Slic3r::chain_print_object_instances()</a>, <a class="el" href="../../#l00299">Slic3r::PrintObject::config()</a>, <a class="el" href="../../#l00740">Slic3r::Print::config()</a>, <a class="el" href="../../#l00134">Slic3r::LayerTools::custom_gcode</a>, <a class="el" href="../../#l00742">Slic3r::Print::default_region_config()</a>, <a class="el" href="../../#l00067">Slic3r::ExtrusionEntityCollection::empty()</a>, <a class="el" href="../../#l00032">Slic3r::ExtrusionEntityCollection::entities</a>, <a class="el" href="../../#l00052">EPSILON</a>, <a class="el" href="../../#l00041">Slic3r::erMixed</a>, <a class="el" href="../../#l00035">Slic3r::erSupportMaterial</a>, <a class="el" href="../../#l00036">Slic3r::erSupportMaterialInterface</a>, <a class="el" href="../../#l00037">Slic3r::erSupportTransition</a>, <a class="el" href="../../#l00038">Slic3r::erWipeTower</a>, <a class="el" href="../../#l00038">Slic3r::CustomGCode::Item::extruder</a>, <a class="el" href="../../#l00094">Slic3r::LayerTools::extruder()</a>, <a class="el" href="../../#l00118">Slic3r::LayerTools::extruders</a>, <a class="el" href="../../#l00390">Slic3r::Print::extruders()</a>, <a class="el" href="../../#l00071">Slic3r::LayerRegion::fills</a>, <a class="el" href="../../#l00388">floor()</a>, <a class="el" href="../../#l00035">Slic3r::gcfKlipper</a>, <a class="el" href="../../#l02802">Slic3r::get_instance_name()</a>, <a class="el" href="../../#l00744">Slic3r::Print::get_object()</a>, <a class="el" href="../../#l00514">Slic3r::PrintBase::get_plate_index()</a>, <a class="el" href="../../#l00786">Slic3r::Print::get_print_region()</a>, <a class="el" href="../../#l01161">Slic3r::WipingExtrusions::get_support_extruder_overrides()</a>, <a class="el" href="../../#l01170">Slic3r::WipingExtrusions::get_support_interface_extruder_overrides()</a>, <a class="el" href="../../#l00446">Slic3r::Print::has_brim()</a>, <a class="el" href="../../#l00105">Slic3r::LayerTools::has_extruder()</a>, <a class="el" href="../../#l00436">Slic3r::Print::has_infinite_skirt()</a>, <a class="el" href="../../de/db8/namespace_slic3r.html#a5b3413fe6626ad3476b3d68f578634d9">Slic3r::has_prime_tower()</a>, <a class="el" href="../../#l00128">Slic3r::LayerTools::has_wipe_tower</a>, <a class="el" href="../../#l00065">Slic3r::Flow::height()</a>, <a class="el" href="../../#l00122">Slic3r::Layer::id()</a>, <a class="el" href="../../#l00818">Slic3r::Print::is_BBL_printer()</a>, <a class="el" href="../../#l00046">Slic3r::is_decimal_separator_point()</a>, <a class="el" href="../../#l00063">Slic3r::WipingExtrusions::is_support_interface_overridden()</a>, <a class="el" href="../../#l00059">Slic3r::WipingExtrusions::is_support_overridden()</a>, <a class="el" href="../../#l00381">Slic3r::GCode::ObjectByExtruder::islands</a>, <a class="el" href="../../#l00222">Slic3r::GCode::LayerToPrint::layer()</a>, <a class="el" href="../../#l01262">Slic3r::log_memory_info()</a>, <a class="el" href="../../#l00148">Slic3r::Layer::lslices</a>, <a class="el" href="../../#l00149">Slic3r::Layer::lslices_bboxes</a>, <a class="el" href="../../#l00859">Slic3r::Print::m_brimMap</a>, <a class="el" href="../../#l00860">Slic3r::Print::m_supportBrimMap</a>, <a class="el" href="../../#l00017">Slic3r::BoundingBoxBase&lt; PointClass &gt;::max</a>, <a class="el" href="../../#l00016">Slic3r::BoundingBoxBase&lt; PointClass &gt;::min</a>, <a class="el" href="../../#l00201">Slic3r::Flow::mm3_per_mm()</a>, <a class="el" href="../../#l00785">Slic3r::Print::num_print_regions()</a>, <a class="el" href="../../#l00124">Slic3r::Layer::object()</a>, <a class="el" href="../../#l02564">Slic3r::object_by_extruder()</a>, <a class="el" href="../../#l02576">Slic3r::object_islands_by_extruder()</a>, <a class="el" href="../../#l00219">Slic3r::GCode::LayerToPrint::object_layer</a>, <a class="el" href="../../#l00345">Slic3r::PrintObject::object_skirt()</a>, <a class="el" href="../../#l00743">Slic3r::Print::objects()</a>, <a class="el" href="../../#l00221">Slic3r::GCode::LayerToPrint::original_object</a>, <a class="el" href="../../#l00067">Slic3r::LayerRegion::perimeters</a>, <a class="el" href="../../#l00114">Slic3r::PrintRegion::print_region_id()</a>, <a class="el" href="../../#l00131">Slic3r::Layer::print_z</a>, <a class="el" href="../../#l00039">Slic3r::SlicingParameters::raft_layers()</a>, <a class="el" href="../../#l00033">Slic3r::LayerRegion::region()</a>, <a class="el" href="../../#l00158">Slic3r::Layer::regions()</a>, <a class="el" href="../../#l00050">Slic3r::ExtrusionEntityCollection::role()</a>, <a class="el" href="../../#l02289">Slic3r::DynamicConfig::set_key_value()</a>, <a class="el" href="../../#l00159">Slic3r::ConstVectorOfPtrsAdaptor&lt; T &gt;::size()</a>, <a class="el" href="../../#l00378">size</a>, <a class="el" href="../../#l00765">Slic3r::Print::skirt()</a>, <a class="el" href="../../#l01348">Slic3r::Print::skirt_flow()</a>, <a class="el" href="../../#l00395">Slic3r::PrintObject::slicing_parameters()</a>, <a class="el" href="../../#l00206">Slic3r::sort_remove_duplicates()</a>, <a class="el" href="../../#l00023">Slic3r::Calib_Params::start</a>, <a class="el" href="../../#l00023">Slic3r::Calib_Params::step</a>, <a class="el" href="../../#l00350">Slic3r::GCode::ObjectByExtruder::support</a>, <a class="el" href="../../#l00352">Slic3r::GCode::ObjectByExtruder::support_extrusion_role</a>, <a class="el" href="../../#l00269">Slic3r::SupportLayer::support_fills</a>, <a class="el" href="../../#l00172">Slic3r::trace()</a>, <a class="el" href="../../#l00113">Slic3r::unscale()</a>, <a class="el" href="../../#l00055">Slic3r::unscaled()</a>, and <a class="el" href="../../#l00089">Slic3r::Flow::with_height()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l02233">process_layers()</a>.</p>
<div id="dynsection-43" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-43-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-43-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-43-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_af21d155aeb9662601bf3183370517d50_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a5972afc9f6c50f533adaa58259a12b47" name="a5972afc9f6c50f533adaa58259a12b47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5972afc9f6c50f533adaa58259a12b47">&#9670;&#160;</a></span>process_layers() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::GCode::process_layers </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d5/d8f/class_slic3r_1_1_print.html">Print</a> &amp;&#160;</td>
          <td class="paramname"><em>print</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d7/db7/class_slic3r_1_1_tool_ordering.html">ToolOrdering</a> &amp;&#160;</td>
          <td class="paramname"><em>tool_ordering</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; const <a class="el" href="../../de/d18/struct_slic3r_1_1_print_instance.html">PrintInstance</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>print_object_instances_ordering</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::pair&lt; <a class="el" href="../../de/db8/namespace_slic3r.html#a2ac5c755948c74f5f5f975acd5057fe9">coordf_t</a>, std::vector&lt; <a class="el" href="../../df/d75/struct_slic3r_1_1_g_code_1_1_layer_to_print.html">LayerToPrint</a> &gt; &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>layers_to_print</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/db8/class_slic3r_1_1_g_code_1_1_g_code_output_stream.html">GCodeOutputStream</a> &amp;&#160;</td>
          <td class="paramname"><em>output_stream</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2239</span>{</div>
<div class="line"><span class="lineno"> 2240</span>    <span class="comment">// The pipeline is variable: The vase mode filter is optional.</span></div>
<div class="line"><span class="lineno"> 2241</span>    <span class="keywordtype">size_t</span> layer_to_print_idx = 0;</div>
<div class="line"><span class="lineno"> 2242</span>    <span class="keyword">const</span> <span class="keyword">auto</span> generator = tbb::make_filter&lt;void, GCode::LayerResult&gt;(slic3r_tbb_filtermode::serial_in_order,</div>
<div class="line"><span class="lineno"> 2243</span>        [<span class="keyword">this</span>, &amp;print, &amp;tool_ordering, &amp;print_object_instances_ordering, &amp;layers_to_print, &amp;layer_to_print_idx](tbb::flow_control&amp; fc) -&gt; GCode::LayerResult {</div>
<div class="line"><span class="lineno"> 2244</span>            <span class="keywordflow">if</span> (layer_to_print_idx == layers_to_print.size()) {</div>
<div class="line"><span class="lineno"> 2245</span>                fc.stop();</div>
<div class="line"><span class="lineno"> 2246</span>                return {};</div>
<div class="line"><span class="lineno"> 2247</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2248</span>                <span class="keyword">const</span> std::pair&lt;coordf_t, std::vector&lt;LayerToPrint&gt;&gt;&amp; <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aefd4abaf0d1c18be14b61558b8d504cd">layer</a> = layers_to_print[layer_to_print_idx++];</div>
<div class="line"><span class="lineno"> 2249</span>                <span class="keyword">const</span> LayerTools&amp; layer_tools = tool_ordering.tools_for_layer(<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aefd4abaf0d1c18be14b61558b8d504cd">layer</a>.first);</div>
<div class="line"><span class="lineno"> 2250</span>                print.set_status(80, <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab28c13d286b2d1767d7c63b020ebd042">Slic3r::format</a>(<a class="code hl_define" href="../../db/d59/3mf_8cpp.html#afe73ea6f8e3b24ddb79e9508c56956bd">_</a>(<a class="code hl_define" href="../../d5/db8/_extrusion_entity_8cpp.html#a3948ef94e164df6b50c4a9d12ba60eb5">L</a>(<span class="stringliteral">&quot;Generating G-code: layer %1%&quot;</span>)), std::to_string(layer_to_print_idx)));</div>
<div class="line"><span class="lineno"> 2251</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a0514b8d6797f3f08c810b05b0fc8949f">m_wipe_tower</a> &amp;&amp; layer_tools.has_wipe_tower)</div>
<div class="line"><span class="lineno"> 2252</span>                    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a0514b8d6797f3f08c810b05b0fc8949f">m_wipe_tower</a>-&gt;next_layer();</div>
<div class="line"><span class="lineno"> 2253</span>                <span class="comment">//BBS</span></div>
<div class="line"><span class="lineno"> 2254</span>                <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2aa88a937a12e7e923de6bc93835c1e3">check_placeholder_parser_failed</a>();</div>
<div class="line"><span class="lineno"> 2255</span>                print.throw_if_canceled();</div>
<div class="line"><span class="lineno"> 2256</span>                <span class="keywordflow">return</span> this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#af21d155aeb9662601bf3183370517d50">process_layer</a>(print, <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aefd4abaf0d1c18be14b61558b8d504cd">layer</a>.second, layer_tools, &amp;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aefd4abaf0d1c18be14b61558b8d504cd">layer</a> == &amp;layers_to_print.back(), &amp;print_object_instances_ordering, <span class="keywordtype">size_t</span>(-1));</div>
<div class="line"><span class="lineno"> 2257</span>            }</div>
<div class="line"><span class="lineno"> 2258</span>        });</div>
<div class="line"><span class="lineno"> 2259</span>    <span class="keyword">const</span> <span class="keyword">auto</span> spiral_mode = tbb::make_filter&lt;GCode::LayerResult, GCode::LayerResult&gt;(slic3r_tbb_filtermode::serial_in_order,</div>
<div class="line"><span class="lineno"> 2260</span>        [&amp;spiral_mode = *this-&gt;<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a8af28e4500c5897a80f5ccc1b6b118a2">m_spiral_vase</a>.get()](GCode::LayerResult <a class="code hl_variable" href="../../d7/da4/testmini_8c.html#a6355bd7e1f3a9e910ff48e2c374fc62a">in</a>) -&gt; GCode::LayerResult {</div>
<div class="line"><span class="lineno"> 2261</span>            spiral_mode.enable(in.spiral_vase_enable);</div>
<div class="line"><span class="lineno"> 2262</span>            return { spiral_mode.process_layer(std::move(in.gcode)), in.layer_id, in.spiral_vase_enable, in.cooling_buffer_flush };</div>
<div class="line"><span class="lineno"> 2263</span>        });</div>
<div class="line"><span class="lineno"> 2264</span>    <span class="keyword">const</span> <span class="keyword">auto</span> cooling = tbb::make_filter&lt;GCode::LayerResult, std::string&gt;(slic3r_tbb_filtermode::serial_in_order,</div>
<div class="line"><span class="lineno"> 2265</span>        [&amp;cooling_buffer = *this-&gt;<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae7defbc83aafbbea7c9ae7a0ca4c8fef">m_cooling_buffer</a>.get()](GCode::LayerResult <a class="code hl_variable" href="../../d7/da4/testmini_8c.html#a6355bd7e1f3a9e910ff48e2c374fc62a">in</a>) -&gt; std::string {</div>
<div class="line"><span class="lineno"> 2266</span>            return cooling_buffer.process_layer(std::move(in.gcode), in.layer_id, in.cooling_buffer_flush);</div>
<div class="line"><span class="lineno"> 2267</span>        });</div>
<div class="line"><span class="lineno"> 2268</span>    <span class="keyword">const</span> <span class="keyword">auto</span> output = tbb::make_filter&lt;std::string, void&gt;(slic3r_tbb_filtermode::serial_in_order,</div>
<div class="line"><span class="lineno"> 2269</span>        [&amp;output_stream](std::string s) { output_stream.write(s); }</div>
<div class="line"><span class="lineno"> 2270</span>    );</div>
<div class="line"><span class="lineno"> 2271</span> </div>
<div class="line"><span class="lineno"> 2272</span>    <span class="keyword">const</span> <span class="keyword">auto</span> fan_mover = tbb::make_filter&lt;std::string, std::string&gt;(slic3r_tbb_filtermode::serial_in_order,</div>
<div class="line"><span class="lineno"> 2273</span>            [&amp;fan_mover = this-&gt;<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aea409072544589f5bcb13a40b83a5748">m_fan_mover</a>, &amp;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a> = this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a>(), &amp;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ade2f4af324da97d5fb8eadca3af5c489">writer</a> = this-&gt;<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>](std::string <a class="code hl_variable" href="../../d7/da4/testmini_8c.html#a6355bd7e1f3a9e910ff48e2c374fc62a">in</a>)-&gt;std::string {</div>
<div class="line"><span class="lineno"> 2274</span>        CNumericLocalesSetter locales_setter;</div>
<div class="line"><span class="lineno"> 2275</span> </div>
<div class="line"><span class="lineno"> 2276</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a>.fan_speedup_time.value != 0 || <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a>.fan_kickstart.value &gt; 0) {</div>
<div class="line"><span class="lineno"> 2277</span>            if (fan_mover.get() == nullptr)</div>
<div class="line"><span class="lineno"> 2278</span>                fan_mover.reset(new Slic3r::FanMover(</div>
<div class="line"><span class="lineno"> 2279</span>                    writer,</div>
<div class="line"><span class="lineno"> 2280</span>                    std::abs((float)config.fan_speedup_time.value),</div>
<div class="line"><span class="lineno"> 2281</span>                    config.fan_speedup_time.value &gt; 0,</div>
<div class="line"><span class="lineno"> 2282</span>                    config.use_relative_e_distances.value,</div>
<div class="line"><span class="lineno"> 2283</span>                    config.fan_speedup_overhangs.value,</div>
<div class="line"><span class="lineno"> 2284</span>                    (float)config.fan_kickstart.value));</div>
<div class="line"><span class="lineno"> 2285</span>            <span class="comment">//flush as it&#39;s a whole layer</span></div>
<div class="line"><span class="lineno"> 2286</span>            return fan_mover-&gt;process_gcode(in, true);</div>
<div class="line"><span class="lineno"> 2287</span>        }</div>
<div class="line"><span class="lineno"> 2288</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d7/da4/testmini_8c.html#a6355bd7e1f3a9e910ff48e2c374fc62a">in</a>;</div>
<div class="line"><span class="lineno"> 2289</span>    });</div>
<div class="line"><span class="lineno"> 2290</span> </div>
<div class="line"><span class="lineno"> 2291</span>    <span class="comment">// The pipeline elements are joined using const references, thus no copying is performed.</span></div>
<div class="line"><span class="lineno"> 2292</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a8af28e4500c5897a80f5ccc1b6b118a2">m_spiral_vase</a>)</div>
<div class="line"><span class="lineno"> 2293</span>        tbb::parallel_pipeline(12, generator &amp; spiral_mode &amp; cooling &amp; fan_mover &amp; output);</div>
<div class="line"><span class="lineno"> 2294</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2295</span>        tbb::parallel_pipeline(12, generator &amp; cooling &amp; fan_mover &amp; output);</div>
<div class="line"><span class="lineno"> 2296</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_af21d155aeb9662601bf3183370517d50"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#af21d155aeb9662601bf3183370517d50">Slic3r::GCode::process_layer</a></div><div class="ttdeci">LayerResult process_layer(const Print &amp;print, const std::vector&lt; LayerToPrint &gt; &amp;layers, const LayerTools &amp;layer_tools, const bool last_layer, const std::vector&lt; const PrintInstance * &gt; *ordering, const size_t single_object_idx=size_t(-1), const bool prime_extruder=false)</div><div class="ttdef"><b>Definition</b> GCode.cpp:2819</div></div>
<div class="ttc" id="atestmini_8c_html_a6355bd7e1f3a9e910ff48e2c374fc62a"><div class="ttname"><a href="../../d7/da4/testmini_8c.html#a6355bd7e1f3a9e910ff48e2c374fc62a">in</a></div><div class="ttdeci">static unsigned char __LZO_MMODEL in[IN_LEN]</div><div class="ttdef"><b>Definition</b> testmini.c:57</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00273">_</a>, <a class="el" href="../../#l02218">check_placeholder_parser_failed()</a>, <a class="el" href="../../#l00044">Slic3r::format()</a>, <a class="el" href="../../#l00128">Slic3r::LayerTools::has_wipe_tower</a>, <a class="el" href="../../#l00011">L</a>, <a class="el" href="../../#l00186">layer()</a>, <a class="el" href="../../#l00491">m_wipe_tower</a>, <a class="el" href="../../#l02819">process_layer()</a>, <a class="el" href="../../#l00105">Slic3r::PrintBase::set_status()</a>, <a class="el" href="../../#l00540">Slic3r::PrintBase::throw_if_canceled()</a>, and <a class="el" href="../../#l00833">Slic3r::ToolOrdering::tools_for_layer()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>.</p>
<div id="dynsection-44" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-44-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-44-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-44-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_a5972afc9f6c50f533adaa58259a12b47_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-45" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-45-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-45-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-45-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_a5972afc9f6c50f533adaa58259a12b47_icgraph.svg" width="566" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="abff1a3a1482530fc4e8a1d5e8d7d03a0" name="abff1a3a1482530fc4e8a1d5e8d7d03a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abff1a3a1482530fc4e8a1d5e8d7d03a0">&#9670;&#160;</a></span>process_layers() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::GCode::process_layers </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d5/d8f/class_slic3r_1_1_print.html">Print</a> &amp;&#160;</td>
          <td class="paramname"><em>print</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d7/db7/class_slic3r_1_1_tool_ordering.html">ToolOrdering</a> &amp;&#160;</td>
          <td class="paramname"><em>tool_ordering</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../df/d75/struct_slic3r_1_1_g_code_1_1_layer_to_print.html">LayerToPrint</a> &gt;&#160;</td>
          <td class="paramname"><em>layers_to_print</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>single_object_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/db8/class_slic3r_1_1_g_code_1_1_g_code_output_stream.html">GCodeOutputStream</a> &amp;&#160;</td>
          <td class="paramname"><em>output_stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>prime_extruder</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2309</span>{</div>
<div class="line"><span class="lineno"> 2310</span>    <span class="comment">// The pipeline is variable: The vase mode filter is optional.</span></div>
<div class="line"><span class="lineno"> 2311</span>    <span class="keywordtype">size_t</span> layer_to_print_idx = 0;</div>
<div class="line"><span class="lineno"> 2312</span>    <span class="keyword">const</span> <span class="keyword">auto</span> generator = tbb::make_filter&lt;void, GCode::LayerResult&gt;(slic3r_tbb_filtermode::serial_in_order,</div>
<div class="line"><span class="lineno"> 2313</span>        [<span class="keyword">this</span>, &amp;print, &amp;tool_ordering, &amp;layers_to_print, &amp;layer_to_print_idx, single_object_idx, prime_extruder](tbb::flow_control&amp; fc) -&gt; GCode::LayerResult {</div>
<div class="line"><span class="lineno"> 2314</span>            <span class="keywordflow">if</span> (layer_to_print_idx == layers_to_print.size()) {</div>
<div class="line"><span class="lineno"> 2315</span>                fc.stop();</div>
<div class="line"><span class="lineno"> 2316</span>                return {};</div>
<div class="line"><span class="lineno"> 2317</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2318</span>                LayerToPrint &amp;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aefd4abaf0d1c18be14b61558b8d504cd">layer</a> = layers_to_print[layer_to_print_idx ++];</div>
<div class="line"><span class="lineno"> 2319</span>                print.set_status(80, <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab28c13d286b2d1767d7c63b020ebd042">Slic3r::format</a>(<a class="code hl_define" href="../../db/d59/3mf_8cpp.html#afe73ea6f8e3b24ddb79e9508c56956bd">_</a>(<a class="code hl_define" href="../../d5/db8/_extrusion_entity_8cpp.html#a3948ef94e164df6b50c4a9d12ba60eb5">L</a>(<span class="stringliteral">&quot;Generating G-code: layer %1%&quot;</span>)), std::to_string(layer_to_print_idx)));</div>
<div class="line"><span class="lineno"> 2320</span>                <span class="comment">//BBS</span></div>
<div class="line"><span class="lineno"> 2321</span>                <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2aa88a937a12e7e923de6bc93835c1e3">check_placeholder_parser_failed</a>();</div>
<div class="line"><span class="lineno"> 2322</span>                print.throw_if_canceled();</div>
<div class="line"><span class="lineno"> 2323</span>                <span class="keywordflow">return</span> this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#af21d155aeb9662601bf3183370517d50">process_layer</a>(print, { std::move(<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aefd4abaf0d1c18be14b61558b8d504cd">layer</a>) }, tool_ordering.tools_for_layer(<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aefd4abaf0d1c18be14b61558b8d504cd">layer</a>.<a class="code hl_variable" href="../../d1/d68/class_slic3r_1_1_layer.html#a8918ae15322de198ce6d0632feaac9b4">print_z</a>()), &amp;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aefd4abaf0d1c18be14b61558b8d504cd">layer</a> == &amp;layers_to_print.back(), <span class="keyword">nullptr</span>, single_object_idx, prime_extruder);</div>
<div class="line"><span class="lineno"> 2324</span>            }</div>
<div class="line"><span class="lineno"> 2325</span>        });</div>
<div class="line"><span class="lineno"> 2326</span>    <span class="keyword">const</span> <span class="keyword">auto</span> spiral_mode = tbb::make_filter&lt;GCode::LayerResult, GCode::LayerResult&gt;(slic3r_tbb_filtermode::serial_in_order,</div>
<div class="line"><span class="lineno"> 2327</span>        [&amp;spiral_mode = *this-&gt;<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a8af28e4500c5897a80f5ccc1b6b118a2">m_spiral_vase</a>.get()](GCode::LayerResult <a class="code hl_variable" href="../../d7/da4/testmini_8c.html#a6355bd7e1f3a9e910ff48e2c374fc62a">in</a>)-&gt;GCode::LayerResult {</div>
<div class="line"><span class="lineno"> 2328</span>            spiral_mode.enable(in.spiral_vase_enable);</div>
<div class="line"><span class="lineno"> 2329</span>            return { spiral_mode.process_layer(std::move(in.gcode)), in.layer_id, in.spiral_vase_enable, in.cooling_buffer_flush };</div>
<div class="line"><span class="lineno"> 2330</span>        });</div>
<div class="line"><span class="lineno"> 2331</span>    <span class="keyword">const</span> <span class="keyword">auto</span> cooling = tbb::make_filter&lt;GCode::LayerResult, std::string&gt;(slic3r_tbb_filtermode::serial_in_order,</div>
<div class="line"><span class="lineno"> 2332</span>        [&amp;cooling_buffer = *this-&gt;<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae7defbc83aafbbea7c9ae7a0ca4c8fef">m_cooling_buffer</a>.get()](GCode::LayerResult <a class="code hl_variable" href="../../d7/da4/testmini_8c.html#a6355bd7e1f3a9e910ff48e2c374fc62a">in</a>)-&gt;std::string {</div>
<div class="line"><span class="lineno"> 2333</span>            return cooling_buffer.process_layer(std::move(in.gcode), in.layer_id, in.cooling_buffer_flush);</div>
<div class="line"><span class="lineno"> 2334</span>        });</div>
<div class="line"><span class="lineno"> 2335</span>    <span class="keyword">const</span> <span class="keyword">auto</span> output = tbb::make_filter&lt;std::string, void&gt;(slic3r_tbb_filtermode::serial_in_order,</div>
<div class="line"><span class="lineno"> 2336</span>        [&amp;output_stream](std::string s) { output_stream.write(s); }</div>
<div class="line"><span class="lineno"> 2337</span>    );</div>
<div class="line"><span class="lineno"> 2338</span> </div>
<div class="line"><span class="lineno"> 2339</span>    <span class="keyword">const</span> <span class="keyword">auto</span> fan_mover = tbb::make_filter&lt;std::string, std::string&gt;(slic3r_tbb_filtermode::serial_in_order,</div>
<div class="line"><span class="lineno"> 2340</span>        [&amp;fan_mover = this-&gt;<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aea409072544589f5bcb13a40b83a5748">m_fan_mover</a>, &amp;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a> = this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a>(), &amp;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ade2f4af324da97d5fb8eadca3af5c489">writer</a> = this-&gt;<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>](std::string <a class="code hl_variable" href="../../d7/da4/testmini_8c.html#a6355bd7e1f3a9e910ff48e2c374fc62a">in</a>)-&gt;std::string {</div>
<div class="line"><span class="lineno"> 2341</span> </div>
<div class="line"><span class="lineno"> 2342</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a>.fan_speedup_time.value != 0 || <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a>.fan_kickstart.value &gt; 0) {</div>
<div class="line"><span class="lineno"> 2343</span>            if (fan_mover.get() == nullptr)</div>
<div class="line"><span class="lineno"> 2344</span>                fan_mover.reset(new Slic3r::FanMover(</div>
<div class="line"><span class="lineno"> 2345</span>                    writer,</div>
<div class="line"><span class="lineno"> 2346</span>                    std::abs((float)config.fan_speedup_time.value),</div>
<div class="line"><span class="lineno"> 2347</span>                    config.fan_speedup_time.value &gt; 0,</div>
<div class="line"><span class="lineno"> 2348</span>                    config.use_relative_e_distances.value,</div>
<div class="line"><span class="lineno"> 2349</span>                    config.fan_speedup_overhangs.value,</div>
<div class="line"><span class="lineno"> 2350</span>                    (float)config.fan_kickstart.value));</div>
<div class="line"><span class="lineno"> 2351</span>            <span class="comment">//flush as it&#39;s a whole layer</span></div>
<div class="line"><span class="lineno"> 2352</span>            return fan_mover-&gt;process_gcode(in, true);</div>
<div class="line"><span class="lineno"> 2353</span>        }</div>
<div class="line"><span class="lineno"> 2354</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d7/da4/testmini_8c.html#a6355bd7e1f3a9e910ff48e2c374fc62a">in</a>;</div>
<div class="line"><span class="lineno"> 2355</span>    });</div>
<div class="line"><span class="lineno"> 2356</span> </div>
<div class="line"><span class="lineno"> 2357</span>    <span class="comment">// The pipeline elements are joined using const references, thus no copying is performed.</span></div>
<div class="line"><span class="lineno"> 2358</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a8af28e4500c5897a80f5ccc1b6b118a2">m_spiral_vase</a>)</div>
<div class="line"><span class="lineno"> 2359</span>        tbb::parallel_pipeline(12, generator &amp; spiral_mode &amp; cooling &amp; fan_mover &amp; output);</div>
<div class="line"><span class="lineno"> 2360</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2361</span>        tbb::parallel_pipeline(12, generator &amp; cooling &amp; fan_mover &amp; output);</div>
<div class="line"><span class="lineno"> 2362</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00078">_</a>, <a class="el" href="../../#l00044">Slic3r::format()</a>, <a class="el" href="../../#l00077">L</a>, <a class="el" href="../../#l00237">Slic3r::GCode::LayerToPrint::print_z()</a>, <a class="el" href="../../#l00105">Slic3r::PrintBase::set_status()</a>, <a class="el" href="../../#l00540">Slic3r::PrintBase::throw_if_canceled()</a>, and <a class="el" href="../../#l00833">Slic3r::ToolOrdering::tools_for_layer()</a>.</p>
<div id="dynsection-46" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-46-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-46-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-46-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_abff1a3a1482530fc4e8a1d5e8d7d03a0_cgraph.svg" width="598" height="306"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a058728ea49ef66a4b1e7ca9ac361a3ae" name="a058728ea49ef66a4b1e7ca9ac361a3ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a058728ea49ef66a4b1e7ca9ac361a3ae">&#9670;&#160;</a></span>retract()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string Slic3r::GCode::retract </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>toolchange</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_last_retraction</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/db8/namespace_slic3r.html#a65af44fb00b6bb6bdda9775762b39569">LiftType</a>&#160;</td>
          <td class="paramname"><em>lift_type</em> = <code><a class="el" href="../../de/db8/namespace_slic3r.html#a65af44fb00b6bb6bdda9775762b39569a763d32b709205d9b87f5d8dd16c5e7b8">LiftType::SpiralLift</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 4665</span>{</div>
<div class="line"><span class="lineno"> 4666</span>    std::string <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a>;</div>
<div class="line"><span class="lineno"> 4667</span> </div>
<div class="line"><span class="lineno"> 4668</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a137976bad3f65c066e5b809944eb34f1">extruder</a>() == <span class="keyword">nullptr</span>)</div>
<div class="line"><span class="lineno"> 4669</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a>;</div>
<div class="line"><span class="lineno"> 4670</span> </div>
<div class="line"><span class="lineno"> 4671</span>    <span class="comment">// wipe (if it&#39;s enabled for this extruder and we have a stored wipe path and no-zero wipe distance)</span></div>
<div class="line"><span class="lineno"> 4672</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="../../df/d40/_g_code_8cpp.html#a2dec0e9fe2fb1c9e3862bc3fd4b2d911">EXTRUDER_CONFIG</a>(wipe) &amp;&amp; <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acd8bb57f4b518c46420f329ce755da31">m_wipe</a>.<a class="code hl_function" href="../../df/d82/class_slic3r_1_1_wipe.html#ae132906ec10554d7bea59bc46d4b1810">has_path</a>() &amp;&amp; <a class="code hl_define" href="../../dd/d47/libslic3r_8h.html#a5e7dd5d14b7e7bb8f1dab0fd4fa3e0f2">scale_</a>(<a class="code hl_define" href="../../df/d40/_g_code_8cpp.html#a2dec0e9fe2fb1c9e3862bc3fd4b2d911">EXTRUDER_CONFIG</a>(wipe_distance)) &gt; <a class="code hl_define" href="../../dd/d47/libslic3r_8h.html#a57f3510310e75de35abd65c9650b49f7">SCALED_EPSILON</a>) {</div>
<div class="line"><span class="lineno"> 4673</span>        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += toolchange ? <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a9277168f5bf3da2241eedc89492b9c09">retract_for_toolchange</a>(<span class="keyword">true</span>) : <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#abb970ff39fd3fd3c7ada6de4a34f851c">retract</a>(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 4674</span>        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acd8bb57f4b518c46420f329ce755da31">m_wipe</a>.<a class="code hl_function" href="../../df/d82/class_slic3r_1_1_wipe.html#a8158c0e479c8a0d5aef6d56f1bef827a">wipe</a>(*<span class="keyword">this</span>, toolchange, is_last_retraction);</div>
<div class="line"><span class="lineno"> 4675</span>    }</div>
<div class="line"><span class="lineno"> 4676</span> </div>
<div class="line"><span class="lineno"> 4677</span>    <span class="comment">/*  The parent class will decide whether we need to perform an actual retraction</span></div>
<div class="line"><span class="lineno"> 4678</span><span class="comment">        (the extruder might be already retracted fully or partially). We call these</span></div>
<div class="line"><span class="lineno"> 4679</span><span class="comment">        methods even if we performed wipe, since this will ensure the entire retraction</span></div>
<div class="line"><span class="lineno"> 4680</span><span class="comment">        length is honored in case wipe path was too short.  */</span></div>
<div class="line"><span class="lineno"> 4681</span>    <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += toolchange ? <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a9277168f5bf3da2241eedc89492b9c09">retract_for_toolchange</a>() : <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#abb970ff39fd3fd3c7ada6de4a34f851c">retract</a>();</div>
<div class="line"><span class="lineno"> 4682</span> </div>
<div class="line"><span class="lineno"> 4683</span>    <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#ac98fe6c3bb46ab111e09c866c5f85340">reset_e</a>();</div>
<div class="line"><span class="lineno"> 4684</span> </div>
<div class="line"><span class="lineno"> 4685</span>    <span class="comment">// check if should + can lift (roughly from SuperSlicer)</span></div>
<div class="line"><span class="lineno"> 4686</span>    <a class="code hl_enumeration" href="../../de/db8/namespace_slic3r.html#a0bc48754bc1cfbbca668d18a9bd4dd15">RetractLiftEnforceType</a> retract_lift_type = <a class="code hl_enumeration" href="../../de/db8/namespace_slic3r.html#a0bc48754bc1cfbbca668d18a9bd4dd15">RetractLiftEnforceType</a>(<a class="code hl_define" href="../../df/d40/_g_code_8cpp.html#a2dec0e9fe2fb1c9e3862bc3fd4b2d911">EXTRUDER_CONFIG</a>(retract_lift_enforce));</div>
<div class="line"><span class="lineno"> 4687</span> </div>
<div class="line"><span class="lineno"> 4688</span>    <span class="keywordtype">bool</span> needs_lift = toolchange</div>
<div class="line"><span class="lineno"> 4689</span>        || <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a137976bad3f65c066e5b809944eb34f1">extruder</a>()-&gt;<a class="code hl_function" href="../../d3/dff/class_slic3r_1_1_extruder.html#ac2760dd1cd45e760a4e680cf9e15f6ac">retraction_length</a>() &gt; 0</div>
<div class="line"><span class="lineno"> 4690</span>        || <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.use_firmware_retraction;</div>
<div class="line"><span class="lineno"> 4691</span> </div>
<div class="line"><span class="lineno"> 4692</span>    <span class="keywordtype">bool</span> last_fill_extrusion_role_top_infill = (this-&gt;<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aa5955631beed7bbb1339eaaf5ad6f24f">m_last_notgapfill_extrusion_role</a> == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6ac3c1a101706cad2daa9c8a39e6eb5114">ExtrusionRole::erTopSolidInfill</a> || this-&gt;<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#aa5955631beed7bbb1339eaaf5ad6f24f">m_last_notgapfill_extrusion_role</a> == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6ae18150a7edaed0a61320a34928a1c747">ExtrusionRole::erIroning</a>);</div>
<div class="line"><span class="lineno"> 4693</span> </div>
<div class="line"><span class="lineno"> 4694</span>    <span class="comment">// assume we can lift on retraction; conditions left explicit </span></div>
<div class="line"><span class="lineno"> 4695</span>    <span class="keywordtype">bool</span> can_lift = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4696</span> </div>
<div class="line"><span class="lineno"> 4697</span>    <span class="keywordflow">if</span> (retract_lift_type == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a0bc48754bc1cfbbca668d18a9bd4dd15a960dec22138e2cb1329f8aaf15011b0d">RetractLiftEnforceType::rletAllSurfaces</a>) {</div>
<div class="line"><span class="lineno"> 4698</span>        can_lift = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4699</span>    }</div>
<div class="line"><span class="lineno"> 4700</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (this-&gt;<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a3388b4f3b94c005c8b6c64b1ba9b105d">m_layer_index</a> == 0 &amp;&amp; (retract_lift_type == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a0bc48754bc1cfbbca668d18a9bd4dd15a1520d5c4d443478b31794cd67e51dcd2">RetractLiftEnforceType::rletBottomOnly</a> || retract_lift_type == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a0bc48754bc1cfbbca668d18a9bd4dd15adb966e6486cf593b638cefcabe003c81">RetractLiftEnforceType::rletTopAndBottom</a>)) {</div>
<div class="line"><span class="lineno"> 4701</span>        can_lift = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4702</span>    }</div>
<div class="line"><span class="lineno"> 4703</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (retract_lift_type == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a0bc48754bc1cfbbca668d18a9bd4dd15a81b10e5da347c25f5e30499a185d0bf2">RetractLiftEnforceType::rletTopOnly</a> || retract_lift_type == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a0bc48754bc1cfbbca668d18a9bd4dd15adb966e6486cf593b638cefcabe003c81">RetractLiftEnforceType::rletTopAndBottom</a>) {</div>
<div class="line"><span class="lineno"> 4704</span>        can_lift = last_fill_extrusion_role_top_infill;</div>
<div class="line"><span class="lineno"> 4705</span>    }</div>
<div class="line"><span class="lineno"> 4706</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4707</span>        can_lift = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 4708</span>    }</div>
<div class="line"><span class="lineno"> 4709</span> </div>
<div class="line"><span class="lineno"> 4710</span>    <span class="keywordflow">if</span> (needs_lift &amp;&amp; can_lift) {</div>
<div class="line"><span class="lineno"> 4711</span>        <span class="keywordtype">size_t</span> extruder_id = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a137976bad3f65c066e5b809944eb34f1">extruder</a>()-&gt;<a class="code hl_function" href="../../d3/dff/class_slic3r_1_1_extruder.html#af77adad3aa6eceb96658f87d95af6770">id</a>();</div>
<div class="line"><span class="lineno"> 4712</span>        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a255c7fc0ac8623a7799e760275285bdd">lift</a>(!<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a8af28e4500c5897a80f5ccc1b6b118a2">m_spiral_vase</a> ? lift_type : <a class="code hl_enumeration" href="../../de/db8/namespace_slic3r.html#a65af44fb00b6bb6bdda9775762b39569">LiftType</a>::<a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a65af44fb00b6bb6bdda9775762b39569aec67e7929eb75396d5c66f5b9f0ee366">NormalLift</a>);</div>
<div class="line"><span class="lineno"> 4713</span>    }</div>
<div class="line"><span class="lineno"> 4714</span> </div>
<div class="line"><span class="lineno"> 4715</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a>;</div>
<div class="line"><span class="lineno"> 4716</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_extruder_html_ac2760dd1cd45e760a4e680cf9e15f6ac"><div class="ttname"><a href="../../d3/dff/class_slic3r_1_1_extruder.html#ac2760dd1cd45e760a4e680cf9e15f6ac">Slic3r::Extruder::retraction_length</a></div><div class="ttdeci">double retraction_length() const</div><div class="ttdef"><b>Definition</b> Extruder.cpp:147</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_a255c7fc0ac8623a7799e760275285bdd"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a255c7fc0ac8623a7799e760275285bdd">Slic3r::GCodeWriter::lift</a></div><div class="ttdeci">std::string lift(LiftType lift_type=LiftType::NormalLift, bool spiral_vase=false)</div><div class="ttdef"><b>Definition</b> GCodeWriter.cpp:692</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_a9277168f5bf3da2241eedc89492b9c09"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a9277168f5bf3da2241eedc89492b9c09">Slic3r::GCodeWriter::retract_for_toolchange</a></div><div class="ttdeci">std::string retract_for_toolchange(bool before_wipe=false)</div><div class="ttdef"><b>Definition</b> GCodeWriter.cpp:621</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_abb970ff39fd3fd3c7ada6de4a34f851c"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#abb970ff39fd3fd3c7ada6de4a34f851c">Slic3r::GCodeWriter::retract</a></div><div class="ttdeci">std::string retract(bool before_wipe=false)</div><div class="ttdef"><b>Definition</b> GCodeWriter.cpp:610</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_ac98fe6c3bb46ab111e09c866c5f85340"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#ac98fe6c3bb46ab111e09c866c5f85340">Slic3r::GCodeWriter::reset_e</a></div><div class="ttdeci">std::string reset_e(bool force=false)</div><div class="ttdef"><b>Definition</b> GCodeWriter.cpp:245</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_html_a8158c0e479c8a0d5aef6d56f1bef827a"><div class="ttname"><a href="../../df/d82/class_slic3r_1_1_wipe.html#a8158c0e479c8a0d5aef6d56f1bef827a">Slic3r::Wipe::wipe</a></div><div class="ttdeci">std::string wipe(GCode &amp;gcodegen, bool toolchange=false, bool is_last=false)</div><div class="ttdef"><b>Definition</b> GCode.cpp:291</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_html_ae132906ec10554d7bea59bc46d4b1810"><div class="ttname"><a href="../../df/d82/class_slic3r_1_1_wipe.html#ae132906ec10554d7bea59bc46d4b1810">Slic3r::Wipe::has_path</a></div><div class="ttdeci">bool has_path() const</div><div class="ttdef"><b>Definition</b> GCode.hpp:62</div></div>
<div class="ttc" id="alibslic3r_8h_html_a57f3510310e75de35abd65c9650b49f7"><div class="ttname"><a href="../../dd/d47/libslic3r_8h.html#a57f3510310e75de35abd65c9650b49f7">SCALED_EPSILON</a></div><div class="ttdeci">#define SCALED_EPSILON</div><div class="ttdef"><b>Definition</b> libslic3r.h:84</div></div>
<div class="ttc" id="anamespace_slic3r_html_a0bc48754bc1cfbbca668d18a9bd4dd15"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a0bc48754bc1cfbbca668d18a9bd4dd15">Slic3r::RetractLiftEnforceType</a></div><div class="ttdeci">RetractLiftEnforceType</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:222</div></div>
<div class="ttc" id="anamespace_slic3r_html_a0bc48754bc1cfbbca668d18a9bd4dd15a1520d5c4d443478b31794cd67e51dcd2"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a0bc48754bc1cfbbca668d18a9bd4dd15a1520d5c4d443478b31794cd67e51dcd2">Slic3r::rletBottomOnly</a></div><div class="ttdeci">@ rletBottomOnly</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:225</div></div>
<div class="ttc" id="anamespace_slic3r_html_a0bc48754bc1cfbbca668d18a9bd4dd15a81b10e5da347c25f5e30499a185d0bf2"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a0bc48754bc1cfbbca668d18a9bd4dd15a81b10e5da347c25f5e30499a185d0bf2">Slic3r::rletTopOnly</a></div><div class="ttdeci">@ rletTopOnly</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:224</div></div>
<div class="ttc" id="anamespace_slic3r_html_a0bc48754bc1cfbbca668d18a9bd4dd15a960dec22138e2cb1329f8aaf15011b0d"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a0bc48754bc1cfbbca668d18a9bd4dd15a960dec22138e2cb1329f8aaf15011b0d">Slic3r::rletAllSurfaces</a></div><div class="ttdeci">@ rletAllSurfaces</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:223</div></div>
<div class="ttc" id="anamespace_slic3r_html_a0bc48754bc1cfbbca668d18a9bd4dd15adb966e6486cf593b638cefcabe003c81"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a0bc48754bc1cfbbca668d18a9bd4dd15adb966e6486cf593b638cefcabe003c81">Slic3r::rletTopAndBottom</a></div><div class="ttdeci">@ rletTopAndBottom</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:226</div></div>
<div class="ttc" id="anamespace_slic3r_html_a65af44fb00b6bb6bdda9775762b39569aec67e7929eb75396d5c66f5b9f0ee366"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a65af44fb00b6bb6bdda9775762b39569aec67e7929eb75396d5c66f5b9f0ee366">Slic3r::NormalLift</a></div><div class="ttdeci">@ NormalLift</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:133</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00767">EXTRUDER_CONFIG</a>, <a class="el" href="../../#l00081">scale_</a>, and <a class="el" href="../../#l00084">SCALED_EPSILON</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>, and <a class="el" href="../../#l00380">Slic3r::WipeTowerIntegration::append_tcr()</a>.</p>
<div id="dynsection-47" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-47-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-47-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-47-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_a058728ea49ef66a4b1e7ca9ac361a3ae_icgraph.svg" width="632" height="232"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a17e6b9621f765ee22ac0cc4eaf9ca1c7" name="a17e6b9621f765ee22ac0cc4eaf9ca1c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17e6b9621f765ee22ac0cc4eaf9ca1c7">&#9670;&#160;</a></span>set_extruder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string Slic3r::GCode::set_extruder </td>
          <td>(</td>
          <td class="paramtype">unsigned <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>extruder_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>print_z</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 4719</span>{</div>
<div class="line"><span class="lineno"> 4720</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#afbe9a8dd86d4f6902fc6ee21dc66488c">need_toolchange</a>(extruder_id))</div>
<div class="line"><span class="lineno"> 4721</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno"> 4722</span> </div>
<div class="line"><span class="lineno"> 4723</span>    <span class="comment">// if we are running a single-extruder setup, just set the extruder and return nothing</span></div>
<div class="line"><span class="lineno"> 4724</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_variable" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#ae071802e9fb76729dee5727e53e27e9d">multiple_extruders</a>) {</div>
<div class="line"><span class="lineno"> 4725</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad74e7798985b999d53045b7ecd19739b">m_placeholder_parser</a>.<a class="code hl_function" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#a20f5feca1ff118f35a359a16c3ec902e">set</a>(<span class="stringliteral">&quot;current_extruder&quot;</span>, extruder_id);</div>
<div class="line"><span class="lineno"> 4726</span> </div>
<div class="line"><span class="lineno"> 4727</span>        std::string <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a>;</div>
<div class="line"><span class="lineno"> 4728</span>        <span class="comment">// Append the filament start G-code.</span></div>
<div class="line"><span class="lineno"> 4729</span>        <span class="keyword">const</span> std::string &amp;filament_start_gcode = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.filament_start_gcode.get_at(extruder_id);</div>
<div class="line"><span class="lineno"> 4730</span>        <span class="keywordflow">if</span> (! filament_start_gcode.empty()) {</div>
<div class="line"><span class="lineno"> 4731</span>            <span class="comment">// Process the filament_start_gcode for the filament.</span></div>
<div class="line"><span class="lineno"> 4732</span>            <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a70b6e83de9e549d8405f5b63783ac290">placeholder_parser_process</a>(<span class="stringliteral">&quot;filament_start_gcode&quot;</span>, filament_start_gcode, extruder_id);</div>
<div class="line"><span class="lineno"> 4733</span>            <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ae8d6e6e717d5e93e72d97b30431a0f78">check_add_eol</a>(gcode);</div>
<div class="line"><span class="lineno"> 4734</span>        }</div>
<div class="line"><span class="lineno"> 4735</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.enable_pressure_advance.get_at(extruder_id)) {</div>
<div class="line"><span class="lineno"> 4736</span>            <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a7b6dd3647ab57ee85f929ce434e9542a">set_pressure_advance</a>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.pressure_advance.get_at(extruder_id));</div>
<div class="line"><span class="lineno"> 4737</span>        }</div>
<div class="line"><span class="lineno"> 4738</span> </div>
<div class="line"><span class="lineno"> 4739</span>        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a757a9cef6954dfa4e625986e63b757a0">toolchange</a>(extruder_id);</div>
<div class="line"><span class="lineno"> 4740</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a>;</div>
<div class="line"><span class="lineno"> 4741</span>    }</div>
<div class="line"><span class="lineno"> 4742</span> </div>
<div class="line"><span class="lineno"> 4743</span>    <span class="comment">// BBS. Should be placed before retract.</span></div>
<div class="line"><span class="lineno"> 4744</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ab1e1bcd02ddbd7fe92319e61a5959b00">m_toolchange_count</a>++;</div>
<div class="line"><span class="lineno"> 4745</span> </div>
<div class="line"><span class="lineno"> 4746</span>    <span class="comment">// prepend retraction on the current extruder</span></div>
<div class="line"><span class="lineno"> 4747</span>    std::string <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> = this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a058728ea49ef66a4b1e7ca9ac361a3ae">retract</a>(<span class="keyword">true</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 4748</span> </div>
<div class="line"><span class="lineno"> 4749</span>    <span class="comment">// Always reset the extrusion path, even if the tool change retract is set to zero.</span></div>
<div class="line"><span class="lineno"> 4750</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acd8bb57f4b518c46420f329ce755da31">m_wipe</a>.<a class="code hl_function" href="../../df/d82/class_slic3r_1_1_wipe.html#ab6fa990d3bab203e80fe6ce3ec5879bd">reset_path</a>();</div>
<div class="line"><span class="lineno"> 4751</span> </div>
<div class="line"><span class="lineno"> 4752</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a137976bad3f65c066e5b809944eb34f1">extruder</a>() != <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno"> 4753</span>        <span class="comment">// Process the custom filament_end_gcode. set_extruder() is only called if there is no wipe tower</span></div>
<div class="line"><span class="lineno"> 4754</span>        <span class="comment">// so it should not be injected twice.</span></div>
<div class="line"><span class="lineno"> 4755</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>        old_extruder_id     = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a137976bad3f65c066e5b809944eb34f1">extruder</a>()-&gt;<a class="code hl_function" href="../../d3/dff/class_slic3r_1_1_extruder.html#af77adad3aa6eceb96658f87d95af6770">id</a>();</div>
<div class="line"><span class="lineno"> 4756</span>        <span class="keyword">const</span> std::string  &amp;filament_end_gcode  = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.filament_end_gcode.get_at(old_extruder_id);</div>
<div class="line"><span class="lineno"> 4757</span>        <span class="keywordflow">if</span> (! filament_end_gcode.empty()) {</div>
<div class="line"><span class="lineno"> 4758</span>            <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a70b6e83de9e549d8405f5b63783ac290">placeholder_parser_process</a>(<span class="stringliteral">&quot;filament_end_gcode&quot;</span>, filament_end_gcode, old_extruder_id);</div>
<div class="line"><span class="lineno"> 4759</span>            <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ae8d6e6e717d5e93e72d97b30431a0f78">check_add_eol</a>(gcode);</div>
<div class="line"><span class="lineno"> 4760</span>        }</div>
<div class="line"><span class="lineno"> 4761</span>    }</div>
<div class="line"><span class="lineno"> 4762</span> </div>
<div class="line"><span class="lineno"> 4763</span> </div>
<div class="line"><span class="lineno"> 4764</span>    <span class="comment">// If ooze prevention is enabled, park current extruder in the nearest</span></div>
<div class="line"><span class="lineno"> 4765</span>    <span class="comment">// standby point and set it to the standby temperature.</span></div>
<div class="line"><span class="lineno"> 4766</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae7da2bd41bc38cf3750716374a164439">m_ooze_prevention</a>.<a class="code hl_variable" href="../../d2/d9c/class_slic3r_1_1_ooze_prevention.html#a40d572670fe5cf3db04d6ae40e00f895">enable</a> &amp;&amp; <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a137976bad3f65c066e5b809944eb34f1">extruder</a>() != <span class="keyword">nullptr</span>)</div>
<div class="line"><span class="lineno"> 4767</span>        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae7da2bd41bc38cf3750716374a164439">m_ooze_prevention</a>.<a class="code hl_function" href="../../d2/d9c/class_slic3r_1_1_ooze_prevention.html#a3f2c74faf1106ebae4f64d71843b964e">pre_toolchange</a>(*<span class="keyword">this</span>);</div>
<div class="line"><span class="lineno"> 4768</span> </div>
<div class="line"><span class="lineno"> 4769</span>    <span class="comment">// BBS</span></div>
<div class="line"><span class="lineno"> 4770</span>    <span class="keywordtype">float</span> new_retract_length = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.retraction_length.get_at(extruder_id);</div>
<div class="line"><span class="lineno"> 4771</span>    <span class="keywordtype">float</span> new_retract_length_toolchange = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.retract_length_toolchange.get_at(extruder_id);</div>
<div class="line"><span class="lineno"> 4772</span>    <span class="keywordtype">int</span> new_filament_temp = this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae0eab7dd774297f8da8384a066920011">on_first_layer</a>() ? <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.nozzle_temperature_initial_layer.get_at(extruder_id): <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.nozzle_temperature.get_at(extruder_id);</div>
<div class="line"><span class="lineno"> 4773</span>    <span class="comment">// BBS: if print_z == 0 use first layer temperature</span></div>
<div class="line"><span class="lineno"> 4774</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a03f37f7cb0691e122e6181b6891280e2">abs</a>(print_z) &lt; <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>)</div>
<div class="line"><span class="lineno"> 4775</span>        new_filament_temp = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.nozzle_temperature_initial_layer.get_at(extruder_id);</div>
<div class="line"><span class="lineno"> 4776</span> </div>
<div class="line"><span class="lineno"> 4777</span>    <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a6b8e15a6e63fb72a48bc5e49b8a6f6b1">Vec3d</a> nozzle_pos = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#af09d2460aca864d21b7d004b9350dc66">get_position</a>();</div>
<div class="line"><span class="lineno"> 4778</span>    <span class="keywordtype">float</span> old_retract_length, old_retract_length_toolchange, wipe_volume;</div>
<div class="line"><span class="lineno"> 4779</span>    <span class="keywordtype">int</span> old_filament_temp, old_filament_e_feedrate;</div>
<div class="line"><span class="lineno"> 4780</span> </div>
<div class="line"><span class="lineno"> 4781</span>    <span class="keywordtype">float</span> filament_area = float((<a class="code hl_define" href="../../de/ddd/_extrusion_simulator_8cpp.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a> / 4.f) * <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.filament_diameter.get_at(extruder_id), 2));</div>
<div class="line"><span class="lineno"> 4782</span>    <span class="comment">//BBS: add handling for filament change in start gcode</span></div>
<div class="line"><span class="lineno"> 4783</span>    <span class="keywordtype">int</span> previous_extruder_id = -1;</div>
<div class="line"><span class="lineno"> 4784</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a137976bad3f65c066e5b809944eb34f1">extruder</a>() != <span class="keyword">nullptr</span> || <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#abf9eff5169db96af3eb235c0e923b915">m_start_gcode_filament</a> != -1) {</div>
<div class="line"><span class="lineno"> 4785</span>        std::vector&lt;float&gt; flush_matrix(cast&lt;float&gt;(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.flush_volumes_matrix.values));</div>
<div class="line"><span class="lineno"> 4786</span>        <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> number_of_extruders = (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>)(<a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(flush_matrix.size()) + <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>);</div>
<div class="line"><span class="lineno"> 4787</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a137976bad3f65c066e5b809944eb34f1">extruder</a>() != <span class="keyword">nullptr</span>)</div>
<div class="line"><span class="lineno"> 4788</span>            assert(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a137976bad3f65c066e5b809944eb34f1">extruder</a>()-&gt;<a class="code hl_function" href="../../d3/dff/class_slic3r_1_1_extruder.html#af77adad3aa6eceb96658f87d95af6770">id</a>() &lt; number_of_extruders);</div>
<div class="line"><span class="lineno"> 4789</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 4790</span>            assert(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#abf9eff5169db96af3eb235c0e923b915">m_start_gcode_filament</a> &lt; number_of_extruders);</div>
<div class="line"><span class="lineno"> 4791</span> </div>
<div class="line"><span class="lineno"> 4792</span>        previous_extruder_id = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a137976bad3f65c066e5b809944eb34f1">extruder</a>() != <span class="keyword">nullptr</span> ? <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a137976bad3f65c066e5b809944eb34f1">extruder</a>()-&gt;<a class="code hl_function" href="../../d3/dff/class_slic3r_1_1_extruder.html#af77adad3aa6eceb96658f87d95af6770">id</a>() : <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#abf9eff5169db96af3eb235c0e923b915">m_start_gcode_filament</a>;</div>
<div class="line"><span class="lineno"> 4793</span>        old_retract_length = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.retraction_length.get_at(previous_extruder_id);</div>
<div class="line"><span class="lineno"> 4794</span>        old_retract_length_toolchange = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.retract_length_toolchange.get_at(previous_extruder_id);</div>
<div class="line"><span class="lineno"> 4795</span>        old_filament_temp = this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae0eab7dd774297f8da8384a066920011">on_first_layer</a>()? <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.nozzle_temperature_initial_layer.get_at(previous_extruder_id) : <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.nozzle_temperature.get_at(previous_extruder_id);</div>
<div class="line"><span class="lineno"> 4796</span>        wipe_volume = flush_matrix[previous_extruder_id * number_of_extruders + extruder_id];</div>
<div class="line"><span class="lineno"> 4797</span>        wipe_volume *= <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.flush_multiplier;</div>
<div class="line"><span class="lineno"> 4798</span>        old_filament_e_feedrate = (<a class="code hl_variable" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>)(60.0 * <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.filament_max_volumetric_speed.get_at(previous_extruder_id) / filament_area);</div>
<div class="line"><span class="lineno"> 4799</span>        old_filament_e_feedrate = old_filament_e_feedrate == 0 ? 100 : old_filament_e_feedrate;</div>
<div class="line"><span class="lineno"> 4800</span>        <span class="comment">//BBS: must clean m_start_gcode_filament</span></div>
<div class="line"><span class="lineno"> 4801</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#abf9eff5169db96af3eb235c0e923b915">m_start_gcode_filament</a> = -1;</div>
<div class="line"><span class="lineno"> 4802</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4803</span>        old_retract_length = 0.f;</div>
<div class="line"><span class="lineno"> 4804</span>        old_retract_length_toolchange = 0.f;</div>
<div class="line"><span class="lineno"> 4805</span>        old_filament_temp = 0;</div>
<div class="line"><span class="lineno"> 4806</span>        wipe_volume = 0.f;</div>
<div class="line"><span class="lineno"> 4807</span>        old_filament_e_feedrate = 200;</div>
<div class="line"><span class="lineno"> 4808</span>    }</div>
<div class="line"><span class="lineno"> 4809</span>    <span class="keywordtype">float</span> wipe_length = wipe_volume / filament_area;</div>
<div class="line"><span class="lineno"> 4810</span>    <span class="keywordtype">int</span> new_filament_e_feedrate = (<a class="code hl_variable" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>)(60.0 * <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.filament_max_volumetric_speed.get_at(extruder_id) / filament_area);</div>
<div class="line"><span class="lineno"> 4811</span>    new_filament_e_feedrate = new_filament_e_feedrate == 0 ? 100 : new_filament_e_feedrate;</div>
<div class="line"><span class="lineno"> 4812</span> </div>
<div class="line"><span class="lineno"> 4813</span>    DynamicConfig dyn_config;</div>
<div class="line"><span class="lineno"> 4814</span>    dyn_config.set_key_value(<span class="stringliteral">&quot;previous_extruder&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#ac44dc7dc57ca4e75fffcf4b377abfd8b">ConfigOptionInt</a>(previous_extruder_id));</div>
<div class="line"><span class="lineno"> 4815</span>    dyn_config.set_key_value(<span class="stringliteral">&quot;next_extruder&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#ac44dc7dc57ca4e75fffcf4b377abfd8b">ConfigOptionInt</a>((<span class="keywordtype">int</span>)extruder_id));</div>
<div class="line"><span class="lineno"> 4816</span>    dyn_config.set_key_value(<span class="stringliteral">&quot;layer_num&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#ac44dc7dc57ca4e75fffcf4b377abfd8b">ConfigOptionInt</a>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a3388b4f3b94c005c8b6c64b1ba9b105d">m_layer_index</a>));</div>
<div class="line"><span class="lineno"> 4817</span>    dyn_config.set_key_value(<span class="stringliteral">&quot;layer_z&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(print_z));</div>
<div class="line"><span class="lineno"> 4818</span>    dyn_config.set_key_value(<span class="stringliteral">&quot;max_layer_z&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2b412ae6847f90bf35264b3ada4aa01c">m_max_layer_z</a>));</div>
<div class="line"><span class="lineno"> 4819</span>    dyn_config.set_key_value(<span class="stringliteral">&quot;relative_e_axis&quot;</span>, <span class="keyword">new</span> ConfigOptionBool(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.use_relative_e_distances));</div>
<div class="line"><span class="lineno"> 4820</span>    dyn_config.set_key_value(<span class="stringliteral">&quot;toolchange_count&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#ac44dc7dc57ca4e75fffcf4b377abfd8b">ConfigOptionInt</a>((<span class="keywordtype">int</span>)<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ab1e1bcd02ddbd7fe92319e61a5959b00">m_toolchange_count</a>));</div>
<div class="line"><span class="lineno"> 4821</span>    <span class="comment">//BBS: fan speed is useless placeholer now, but we don&#39;t remove it to avoid</span></div>
<div class="line"><span class="lineno"> 4822</span>    <span class="comment">//slicing error in old change_filament_gcode in old 3MF</span></div>
<div class="line"><span class="lineno"> 4823</span>    dyn_config.set_key_value(<span class="stringliteral">&quot;fan_speed&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#ac44dc7dc57ca4e75fffcf4b377abfd8b">ConfigOptionInt</a>((<span class="keywordtype">int</span>)0));</div>
<div class="line"><span class="lineno"> 4824</span>    dyn_config.set_key_value(<span class="stringliteral">&quot;old_retract_length&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(old_retract_length));</div>
<div class="line"><span class="lineno"> 4825</span>    dyn_config.set_key_value(<span class="stringliteral">&quot;new_retract_length&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(new_retract_length));</div>
<div class="line"><span class="lineno"> 4826</span>    dyn_config.set_key_value(<span class="stringliteral">&quot;old_retract_length_toolchange&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(old_retract_length_toolchange));</div>
<div class="line"><span class="lineno"> 4827</span>    dyn_config.set_key_value(<span class="stringliteral">&quot;new_retract_length_toolchange&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(new_retract_length_toolchange));</div>
<div class="line"><span class="lineno"> 4828</span>    dyn_config.set_key_value(<span class="stringliteral">&quot;old_filament_temp&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#ac44dc7dc57ca4e75fffcf4b377abfd8b">ConfigOptionInt</a>(old_filament_temp));</div>
<div class="line"><span class="lineno"> 4829</span>    dyn_config.set_key_value(<span class="stringliteral">&quot;new_filament_temp&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#ac44dc7dc57ca4e75fffcf4b377abfd8b">ConfigOptionInt</a>(new_filament_temp));</div>
<div class="line"><span class="lineno"> 4830</span>    dyn_config.set_key_value(<span class="stringliteral">&quot;x_after_toolchange&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(nozzle_pos(0)));</div>
<div class="line"><span class="lineno"> 4831</span>    dyn_config.set_key_value(<span class="stringliteral">&quot;y_after_toolchange&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(nozzle_pos(1)));</div>
<div class="line"><span class="lineno"> 4832</span>    dyn_config.set_key_value(<span class="stringliteral">&quot;z_after_toolchange&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(nozzle_pos(2)));</div>
<div class="line"><span class="lineno"> 4833</span>    dyn_config.set_key_value(<span class="stringliteral">&quot;first_flush_volume&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(wipe_length / 2.f));</div>
<div class="line"><span class="lineno"> 4834</span>    dyn_config.set_key_value(<span class="stringliteral">&quot;second_flush_volume&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(wipe_length / 2.f));</div>
<div class="line"><span class="lineno"> 4835</span>    dyn_config.set_key_value(<span class="stringliteral">&quot;old_filament_e_feedrate&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#ac44dc7dc57ca4e75fffcf4b377abfd8b">ConfigOptionInt</a>(old_filament_e_feedrate));</div>
<div class="line"><span class="lineno"> 4836</span>    dyn_config.set_key_value(<span class="stringliteral">&quot;new_filament_e_feedrate&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#ac44dc7dc57ca4e75fffcf4b377abfd8b">ConfigOptionInt</a>(new_filament_e_feedrate));</div>
<div class="line"><span class="lineno"> 4837</span>    dyn_config.set_key_value(<span class="stringliteral">&quot;travel_point_1_x&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(<span class="keywordtype">float</span>(<a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#ac4d96e1e2e66db43dc9ef0e718ee32c2">travel_point_1</a>.x())));</div>
<div class="line"><span class="lineno"> 4838</span>    dyn_config.set_key_value(<span class="stringliteral">&quot;travel_point_1_y&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(<span class="keywordtype">float</span>(<a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#ac4d96e1e2e66db43dc9ef0e718ee32c2">travel_point_1</a>.y())));</div>
<div class="line"><span class="lineno"> 4839</span>    dyn_config.set_key_value(<span class="stringliteral">&quot;travel_point_2_x&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(<span class="keywordtype">float</span>(<a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#ab9627c9d229ca43d9efc0d60c4904600">travel_point_2</a>.x())));</div>
<div class="line"><span class="lineno"> 4840</span>    dyn_config.set_key_value(<span class="stringliteral">&quot;travel_point_2_y&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(<span class="keywordtype">float</span>(<a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#ab9627c9d229ca43d9efc0d60c4904600">travel_point_2</a>.y())));</div>
<div class="line"><span class="lineno"> 4841</span>    dyn_config.set_key_value(<span class="stringliteral">&quot;travel_point_3_x&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(<span class="keywordtype">float</span>(<a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#acc7a8f01094a952fc3db6dcfa9349d9a">travel_point_3</a>.x())));</div>
<div class="line"><span class="lineno"> 4842</span>    dyn_config.set_key_value(<span class="stringliteral">&quot;travel_point_3_y&quot;</span>, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(<span class="keywordtype">float</span>(<a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#acc7a8f01094a952fc3db6dcfa9349d9a">travel_point_3</a>.y())));</div>
<div class="line"><span class="lineno"> 4843</span> </div>
<div class="line"><span class="lineno"> 4844</span>    <span class="keywordtype">int</span> flush_count = std::min(<a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#aaa2b8f42e9ed99ca39916b726176c67b">g_max_flush_count</a>, (<span class="keywordtype">int</span>)std::round(wipe_volume / <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a976325415010ecd676f6a8981414fdfb">g_purge_volume_one_time</a>));</div>
<div class="line"><span class="lineno"> 4845</span>    <span class="keywordtype">float</span> flush_unit = wipe_length / flush_count;</div>
<div class="line"><span class="lineno"> 4846</span>    <span class="keywordtype">int</span> flush_idx = 0;</div>
<div class="line"><span class="lineno"> 4847</span>    <span class="keywordflow">for</span> (; flush_idx &lt; flush_count; flush_idx++) {</div>
<div class="line"><span class="lineno"> 4848</span>        <span class="keywordtype">char</span> key_value[64] = { 0 };</div>
<div class="line"><span class="lineno"> 4849</span>        snprintf(key_value, <span class="keyword">sizeof</span>(key_value), <span class="stringliteral">&quot;flush_length_%d&quot;</span>, flush_idx + 1);</div>
<div class="line"><span class="lineno"> 4850</span>        dyn_config.set_key_value(key_value, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(flush_unit));</div>
<div class="line"><span class="lineno"> 4851</span>    }</div>
<div class="line"><span class="lineno"> 4852</span> </div>
<div class="line"><span class="lineno"> 4853</span>    <span class="keywordflow">for</span> (; flush_idx &lt; <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#aaa2b8f42e9ed99ca39916b726176c67b">g_max_flush_count</a>; flush_idx++) {</div>
<div class="line"><span class="lineno"> 4854</span>        <span class="keywordtype">char</span> key_value[64] = { 0 };</div>
<div class="line"><span class="lineno"> 4855</span>        snprintf(key_value, <span class="keyword">sizeof</span>(key_value), <span class="stringliteral">&quot;flush_length_%d&quot;</span>, flush_idx + 1);</div>
<div class="line"><span class="lineno"> 4856</span>        dyn_config.set_key_value(key_value, <span class="keyword">new</span> <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a0480eaf0e409328d67e4cfe7ff5765e6">ConfigOptionFloat</a>(0.f));</div>
<div class="line"><span class="lineno"> 4857</span>    }</div>
<div class="line"><span class="lineno"> 4858</span> </div>
<div class="line"><span class="lineno"> 4859</span>    <span class="comment">// Process the custom change_filament_gcode.</span></div>
<div class="line"><span class="lineno"> 4860</span>    <span class="keyword">const</span> std::string&amp; change_filament_gcode = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.change_filament_gcode.value;</div>
<div class="line"><span class="lineno"> 4861</span>    std::string toolchange_gcode_parsed;</div>
<div class="line"><span class="lineno"> 4862</span>    <span class="keywordflow">if</span> (!change_filament_gcode.empty()) {</div>
<div class="line"><span class="lineno"> 4863</span>        toolchange_gcode_parsed = <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a70b6e83de9e549d8405f5b63783ac290">placeholder_parser_process</a>(<span class="stringliteral">&quot;change_filament_gcode&quot;</span>, change_filament_gcode, extruder_id, &amp;dyn_config);</div>
<div class="line"><span class="lineno"> 4864</span>        <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ae8d6e6e717d5e93e72d97b30431a0f78">check_add_eol</a>(toolchange_gcode_parsed);</div>
<div class="line"><span class="lineno"> 4865</span>        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += toolchange_gcode_parsed;</div>
<div class="line"><span class="lineno"> 4866</span> </div>
<div class="line"><span class="lineno"> 4867</span>        <span class="comment">//BBS</span></div>
<div class="line"><span class="lineno"> 4868</span>        {</div>
<div class="line"><span class="lineno"> 4869</span>            <span class="comment">//BBS: gcode writer doesn&#39;t know where the extruder is and whether fan speed is changed after inserting tool change gcode</span></div>
<div class="line"><span class="lineno"> 4870</span>            <span class="comment">//Set this flag so that normal lift will be used the first time after tool change.</span></div>
<div class="line"><span class="lineno"> 4871</span>            <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <span class="stringliteral">&quot;;_FORCE_RESUME_FAN_SPEED\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 4872</span>            <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#aea4e9f7803f4c249ab2245cec825e4f9">set_current_position_clear</a>(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 4873</span>            <span class="comment">//BBS: check whether custom gcode changes the z position. Update if changed</span></div>
<div class="line"><span class="lineno"> 4874</span>            <span class="keywordtype">double</span> temp_z_after_tool_change;</div>
<div class="line"><span class="lineno"> 4875</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#aa22782dc139d89f8d2049fc2192c4d02">GCodeProcessor::get_last_z_from_gcode</a>(toolchange_gcode_parsed, temp_z_after_tool_change)) {</div>
<div class="line"><span class="lineno"> 4876</span>                <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a6b8e15a6e63fb72a48bc5e49b8a6f6b1">Vec3d</a> <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#a2d49c0885f5562f98fbb19cbe6590d11">pos</a> = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#af09d2460aca864d21b7d004b9350dc66">get_position</a>();</div>
<div class="line"><span class="lineno"> 4877</span>                <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#a2d49c0885f5562f98fbb19cbe6590d11">pos</a>(2) = temp_z_after_tool_change;</div>
<div class="line"><span class="lineno"> 4878</span>                <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#ada6101f13b8cbb7b1887dfd80f1e3f9d">set_position</a>(pos);</div>
<div class="line"><span class="lineno"> 4879</span>            }</div>
<div class="line"><span class="lineno"> 4880</span>        }</div>
<div class="line"><span class="lineno"> 4881</span>    }</div>
<div class="line"><span class="lineno"> 4882</span> </div>
<div class="line"><span class="lineno"> 4883</span>    <span class="comment">// BBS. Reset old extruder E-value.</span></div>
<div class="line"><span class="lineno"> 4884</span>    <span class="comment">// Keep retract length because Custom GCode will guarantee retract length be the same as toolchange</span></div>
<div class="line"><span class="lineno"> 4885</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.single_extruder_multi_material) {</div>
<div class="line"><span class="lineno"> 4886</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#ac98fe6c3bb46ab111e09c866c5f85340">reset_e</a>();</div>
<div class="line"><span class="lineno"> 4887</span>    }</div>
<div class="line"><span class="lineno"> 4888</span> </div>
<div class="line"><span class="lineno"> 4889</span>    <span class="comment">// We inform the writer about what is happening, but we may not use the resulting gcode.</span></div>
<div class="line"><span class="lineno"> 4890</span>    std::string toolchange_command = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a757a9cef6954dfa4e625986e63b757a0">toolchange</a>(extruder_id);</div>
<div class="line"><span class="lineno"> 4891</span>    <span class="keywordflow">if</span> (! <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#afbccd3fe590c185dd6b0ec4953f956d2">custom_gcode_changes_tool</a>(toolchange_gcode_parsed, <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#af2c2a0214476034a66127d5f8384ec77">toolchange_prefix</a>(), extruder_id))</div>
<div class="line"><span class="lineno"> 4892</span>        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += toolchange_command;</div>
<div class="line"><span class="lineno"> 4893</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4894</span>        <span class="comment">// user provided his own toolchange gcode, no need to do anything</span></div>
<div class="line"><span class="lineno"> 4895</span>    }</div>
<div class="line"><span class="lineno"> 4896</span> </div>
<div class="line"><span class="lineno"> 4897</span>    <span class="comment">// Set the temperature if the wipe tower didn&#39;t (not needed for non-single extruder MM)</span></div>
<div class="line"><span class="lineno"> 4898</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.single_extruder_multi_material &amp;&amp; !<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.enable_prime_tower) {</div>
<div class="line"><span class="lineno"> 4899</span>        <span class="keywordtype">int</span> temp = (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a3388b4f3b94c005c8b6c64b1ba9b105d">m_layer_index</a> &lt;= 0 ? <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.nozzle_temperature_initial_layer.get_at(extruder_id) :</div>
<div class="line"><span class="lineno"> 4900</span>                                         <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.nozzle_temperature.get_at(extruder_id));</div>
<div class="line"><span class="lineno"> 4901</span> </div>
<div class="line"><span class="lineno"> 4902</span>        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a216ebb59191fee7974e2f92c810ab34a">set_temperature</a>(temp, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 4903</span>    }</div>
<div class="line"><span class="lineno"> 4904</span> </div>
<div class="line"><span class="lineno"> 4905</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad74e7798985b999d53045b7ecd19739b">m_placeholder_parser</a>.<a class="code hl_function" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#a20f5feca1ff118f35a359a16c3ec902e">set</a>(<span class="stringliteral">&quot;current_extruder&quot;</span>, extruder_id);</div>
<div class="line"><span class="lineno"> 4906</span> </div>
<div class="line"><span class="lineno"> 4907</span>    <span class="comment">// Append the filament start G-code.</span></div>
<div class="line"><span class="lineno"> 4908</span>    <span class="keyword">const</span> std::string &amp;filament_start_gcode = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.filament_start_gcode.get_at(extruder_id);</div>
<div class="line"><span class="lineno"> 4909</span>    <span class="keywordflow">if</span> (! filament_start_gcode.empty()) {</div>
<div class="line"><span class="lineno"> 4910</span>        <span class="comment">// Process the filament_start_gcode for the new filament.</span></div>
<div class="line"><span class="lineno"> 4911</span>        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a70b6e83de9e549d8405f5b63783ac290">placeholder_parser_process</a>(<span class="stringliteral">&quot;filament_start_gcode&quot;</span>, filament_start_gcode, extruder_id);</div>
<div class="line"><span class="lineno"> 4912</span>        <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ae8d6e6e717d5e93e72d97b30431a0f78">check_add_eol</a>(gcode);</div>
<div class="line"><span class="lineno"> 4913</span>    }</div>
<div class="line"><span class="lineno"> 4914</span>    <span class="comment">// Set the new extruder to the operating temperature.</span></div>
<div class="line"><span class="lineno"> 4915</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae7da2bd41bc38cf3750716374a164439">m_ooze_prevention</a>.<a class="code hl_variable" href="../../d2/d9c/class_slic3r_1_1_ooze_prevention.html#a40d572670fe5cf3db04d6ae40e00f895">enable</a>)</div>
<div class="line"><span class="lineno"> 4916</span>        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae7da2bd41bc38cf3750716374a164439">m_ooze_prevention</a>.<a class="code hl_function" href="../../d2/d9c/class_slic3r_1_1_ooze_prevention.html#a106488f9b4c6a1e0eb46d9fbcbd1f8fe">post_toolchange</a>(*<span class="keyword">this</span>);</div>
<div class="line"><span class="lineno"> 4917</span> </div>
<div class="line"><span class="lineno"> 4918</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.enable_pressure_advance.get_at(extruder_id)) {</div>
<div class="line"><span class="lineno"> 4919</span>        <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a7b6dd3647ab57ee85f929ce434e9542a">set_pressure_advance</a>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.pressure_advance.get_at(extruder_id));</div>
<div class="line"><span class="lineno"> 4920</span>    }</div>
<div class="line"><span class="lineno"> 4921</span> </div>
<div class="line"><span class="lineno"> 4922</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a>;</div>
<div class="line"><span class="lineno"> 4923</span>}</div>
<div class="ttc" id="a_extrusion_simulator_8cpp_html_ae71449b1cc6e6250b91f539153a7a0d3"><div class="ttname"><a href="../../de/ddd/_extrusion_simulator_8cpp.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a></div><div class="ttdeci">#define M_PI</div><div class="ttdef"><b>Definition</b> ExtrusionSimulator.cpp:20</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_processor_html_aa22782dc139d89f8d2049fc2192c4d02"><div class="ttname"><a href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#aa22782dc139d89f8d2049fc2192c4d02">Slic3r::GCodeProcessor::get_last_z_from_gcode</a></div><div class="ttdeci">static bool get_last_z_from_gcode(const std::string &amp;gcode_str, double &amp;z)</div><div class="ttdef"><b>Definition</b> GCodeProcessor.cpp:1991</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_a757a9cef6954dfa4e625986e63b757a0"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a757a9cef6954dfa4e625986e63b757a0">Slic3r::GCodeWriter::toolchange</a></div><div class="ttdeci">std::string toolchange(unsigned int extruder_id)</div><div class="ttdef"><b>Definition</b> GCodeWriter.cpp:292</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_ada6101f13b8cbb7b1887dfd80f1e3f9d"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#ada6101f13b8cbb7b1887dfd80f1e3f9d">Slic3r::GCodeWriter::set_position</a></div><div class="ttdeci">void set_position(Vec3d &amp;in)</div><div class="ttdef"><b>Definition</b> GCodeWriter.hpp:79</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_af2c2a0214476034a66127d5f8384ec77"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#af2c2a0214476034a66127d5f8384ec77">Slic3r::GCodeWriter::toolchange_prefix</a></div><div class="ttdeci">std::string toolchange_prefix() const</div><div class="ttdef"><b>Definition</b> GCodeWriter.cpp:286</div></div>
<div class="ttc" id="aclass_slic3r_1_1_ooze_prevention_html_a106488f9b4c6a1e0eb46d9fbcbd1f8fe"><div class="ttname"><a href="../../d2/d9c/class_slic3r_1_1_ooze_prevention.html#a106488f9b4c6a1e0eb46d9fbcbd1f8fe">Slic3r::OozePrevention::post_toolchange</a></div><div class="ttdeci">std::string post_toolchange(GCode &amp;gcodegen)</div><div class="ttdef"><b>Definition</b> GCode.cpp:276</div></div>
<div class="ttc" id="aclass_slic3r_1_1_ooze_prevention_html_a3f2c74faf1106ebae4f64d71843b964e"><div class="ttname"><a href="../../d2/d9c/class_slic3r_1_1_ooze_prevention.html#a3f2c74faf1106ebae4f64d71843b964e">Slic3r::OozePrevention::pre_toolchange</a></div><div class="ttdeci">std::string pre_toolchange(GCode &amp;gcodegen)</div><div class="ttdef"><b>Definition</b> GCode.cpp:246</div></div>
<div class="ttc" id="aclass_slic3r_1_1_ooze_prevention_html_a40d572670fe5cf3db04d6ae40e00f895"><div class="ttname"><a href="../../d2/d9c/class_slic3r_1_1_ooze_prevention.html#a40d572670fe5cf3db04d6ae40e00f895">Slic3r::OozePrevention::enable</a></div><div class="ttdeci">bool enable</div><div class="ttdef"><b>Definition</b> GCode.hpp:45</div></div>
<div class="ttc" id="aclass_slic3r_1_1_wipe_html_ab6fa990d3bab203e80fe6ce3ec5879bd"><div class="ttname"><a href="../../df/d82/class_slic3r_1_1_wipe.html#ab6fa990d3bab203e80fe6ce3ec5879bd">Slic3r::Wipe::reset_path</a></div><div class="ttdeci">void reset_path()</div><div class="ttdef"><b>Definition</b> GCode.hpp:63</div></div>
<div class="ttc" id="anamespace_eigen_1_1half__impl_html_a829ad00a9c93131d5a8342b4ee29d83d"><div class="ttname"><a href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">Eigen::half_impl::pow</a></div><div class="ttdeci">EIGEN_STRONG_INLINE EIGEN_DEVICE_FUNC half pow(const half &amp;a, const half &amp;b)</div><div class="ttdef"><b>Definition</b> Half.h:477</div></div>
<div class="ttc" id="anamespace_slic3r_1_1sla_html_a2d49c0885f5562f98fbb19cbe6590d11"><div class="ttname"><a href="../../d2/d57/namespace_slic3r_1_1sla.html#a2d49c0885f5562f98fbb19cbe6590d11">Slic3r::sla::pos</a></div><div class="ttdeci">Vec3d pos(const Pt &amp;p)</div><div class="ttdef"><b>Definition</b> ReprojectPointsOnMesh.hpp:14</div></div>
<div class="ttc" id="anamespace_slic3r_html_a6b8e15a6e63fb72a48bc5e49b8a6f6b1"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a6b8e15a6e63fb72a48bc5e49b8a6f6b1">Slic3r::Vec3d</a></div><div class="ttdeci">Eigen::Matrix&lt; double, 3, 1, Eigen::DontAlign &gt; Vec3d</div><div class="ttdef"><b>Definition</b> Point.hpp:46</div></div>
<div class="ttc" id="anamespace_slic3r_html_a976325415010ecd676f6a8981414fdfb"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a976325415010ecd676f6a8981414fdfb">Slic3r::g_purge_volume_one_time</a></div><div class="ttdeci">static const float g_purge_volume_one_time</div><div class="ttdef"><b>Definition</b> GCode.cpp:81</div></div>
<div class="ttc" id="anamespace_slic3r_html_aaa2b8f42e9ed99ca39916b726176c67b"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#aaa2b8f42e9ed99ca39916b726176c67b">Slic3r::g_max_flush_count</a></div><div class="ttdeci">static const int g_max_flush_count</div><div class="ttdef"><b>Definition</b> GCode.cpp:82</div></div>
<div class="ttc" id="anamespace_slic3r_html_ae8d6e6e717d5e93e72d97b30431a0f78"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#ae8d6e6e717d5e93e72d97b30431a0f78">Slic3r::check_add_eol</a></div><div class="ttdeci">static void check_add_eol(std::string &amp;gcode)</div><div class="ttdef"><b>Definition</b> GCode.cpp:212</div></div>
<div class="ttc" id="anamespace_slic3r_html_afbccd3fe590c185dd6b0ec4953f956d2"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#afbccd3fe590c185dd6b0ec4953f956d2">Slic3r::custom_gcode_changes_tool</a></div><div class="ttdeci">static bool custom_gcode_changes_tool(const std::string &amp;custom_gcode, const std::string &amp;tch_prefix, unsigned next_extruder)</div><div class="ttdef"><b>Definition</b> GCode.cpp:220</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00212">Slic3r::check_add_eol()</a>, <a class="el" href="../../#l00220">Slic3r::custom_gcode_changes_tool()</a>, <a class="el" href="../../#l00052">EPSILON</a>, <a class="el" href="../../#l00082">Slic3r::g_max_flush_count</a>, <a class="el" href="../../#l00081">Slic3r::g_purge_volume_one_time</a>, <a class="el" href="../../#l00340">int</a>, <a class="el" href="../../#l00020">M_PI</a>, <a class="el" href="../../#l02289">Slic3r::DynamicConfig::set_key_value()</a>, <a class="el" href="../../#l00152">sqrt()</a>, <a class="el" href="../../#l00085">Slic3r::travel_point_1</a>, <a class="el" href="../../#l00086">Slic3r::travel_point_2</a>, and <a class="el" href="../../#l00087">Slic3r::travel_point_3</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>.</p>
<div id="dynsection-48" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-48-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-48-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-48-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_a17e6b9621f765ee22ac0cc4eaf9ca1c7_cgraph.svg" width="340" height="216"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-49" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-49-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-49-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-49-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_a17e6b9621f765ee22ac0cc4eaf9ca1c7_icgraph.svg" width="538" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ac6320878ee4fff4ad7f30400b2bf8da9" name="ac6320878ee4fff4ad7f30400b2bf8da9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6320878ee4fff4ad7f30400b2bf8da9">&#9670;&#160;</a></span>set_extruders()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::GCode::set_extruders </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; unsigned <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>extruder_ids</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3531</span>{</div>
<div class="line"><span class="lineno"> 3532</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a5a4a45504b923d1d23381bea682fac1b">set_extruders</a>(extruder_ids);</div>
<div class="line"><span class="lineno"> 3533</span> </div>
<div class="line"><span class="lineno"> 3534</span>    <span class="comment">// enable wipe path generation if any extruder has wipe enabled</span></div>
<div class="line"><span class="lineno"> 3535</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acd8bb57f4b518c46420f329ce755da31">m_wipe</a>.<a class="code hl_variable" href="../../df/d82/class_slic3r_1_1_wipe.html#a8f352a04cdfc7195f33a6011714bce5c">enable</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3536</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keywordtype">id</span> : extruder_ids)</div>
<div class="line"><span class="lineno"> 3537</span>        if (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.wipe.get_at(id)) {</div>
<div class="line"><span class="lineno"> 3538</span>            <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acd8bb57f4b518c46420f329ce755da31">m_wipe</a>.<a class="code hl_variable" href="../../df/d82/class_slic3r_1_1_wipe.html#a8f352a04cdfc7195f33a6011714bce5c">enable</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3539</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3540</span>        }</div>
<div class="line"><span class="lineno"> 3541</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_a5a4a45504b923d1d23381bea682fac1b"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a5a4a45504b923d1d23381bea682fac1b">Slic3r::GCodeWriter::set_extruders</a></div><div class="ttdeci">void set_extruders(std::vector&lt; unsigned int &gt; extruder_ids)</div><div class="ttdef"><b>Definition</b> GCodeWriter.cpp:35</div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>.</p>
<div id="dynsection-50" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-50-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-50-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-50-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_ac6320878ee4fff4ad7f30400b2bf8da9_icgraph.svg" width="538" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a83b5d516a67989b50dcf5b9f1fb50ca5" name="a83b5d516a67989b50dcf5b9f1fb50ca5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83b5d516a67989b50dcf5b9f1fb50ca5">&#9670;&#160;</a></span>set_gcode_offset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::GCode::set_gcode_offset </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  175</span>{ <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#ae9e5b62ca490a8edbfdc9bcbcf59e620">set_xy_offset</a>(x, y); <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a10970cfca3474859c6a5d52c57f604ac">m_processor</a>.<a class="code hl_function" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#af166655677e90bc3cfdde4c48a6cac96">set_xy_offset</a>(x, y);}</div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_processor_html_af166655677e90bc3cfdde4c48a6cac96"><div class="ttname"><a href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html#af166655677e90bc3cfdde4c48a6cac96">Slic3r::GCodeProcessor::set_xy_offset</a></div><div class="ttdeci">void set_xy_offset(double x, double y)</div><div class="ttdef"><b>Definition</b> GCodeProcessor.hpp:735</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_ae9e5b62ca490a8edbfdc9bcbcf59e620"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#ae9e5b62ca490a8edbfdc9bcbcf59e620">Slic3r::GCodeWriter::set_xy_offset</a></div><div class="ttdeci">void set_xy_offset(double x, double y)</div><div class="ttdef"><b>Definition</b> GCodeWriter.hpp:82</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00505">m_processor</a>, <a class="el" href="../../#l00432">m_writer</a>, <a class="el" href="../../#l00735">Slic3r::GCodeProcessor::set_xy_offset()</a>, and <a class="el" href="../../#l00082">Slic3r::GCodeWriter::set_xy_offset()</a>.</p>
<div id="dynsection-51" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-51-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-51-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-51-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_a83b5d516a67989b50dcf5b9f1fb50ca5_cgraph.svg" width="351" height="118"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a2690c7ccdb7cacc74b2ec148fafb8427" name="a2690c7ccdb7cacc74b2ec148fafb8427"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2690c7ccdb7cacc74b2ec148fafb8427">&#9670;&#160;</a></span>set_last_pos()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::GCode::set_last_pos </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  333</span>{ <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a5b7aecf69aa0fce6b42cd1d6b5792e1a">m_last_pos</a> = <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#a2d49c0885f5562f98fbb19cbe6590d11">pos</a>; <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ad0b034df0dd1775d1b0d7b04f7a44c9c">m_last_pos_defined</a> = <span class="keyword">true</span>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00483">m_last_pos</a>, and <a class="el" href="../../#l00484">m_last_pos_defined</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00380">Slic3r::WipeTowerIntegration::append_tcr()</a>, and <a class="el" href="../../#l00291">Slic3r::Wipe::wipe()</a>.</p>
<div id="dynsection-52" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-52-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-52-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-52-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_a2690c7ccdb7cacc74b2ec148fafb8427_icgraph.svg" width="614" height="183"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a21c5ef0b519fe5f2c2719221884c9a89" name="a21c5ef0b519fe5f2c2719221884c9a89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21c5ef0b519fe5f2c2719221884c9a89">&#9670;&#160;</a></span>set_layer_count()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::GCode::set_layer_count </td>
          <td>(</td>
          <td class="paramtype">unsigned <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  198</span>{ <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#afa528044bae428d5df6df25b4fe44516">m_layer_count</a> = <a class="code hl_enumvalue" href="../../dc/df0/namespacenlohmann_1_1detail.html#a59e696b1dad6d0d99c172ac4518c2042a2063c1608d6e0baf80249c42e2be5804">value</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00461">m_layer_count</a>.</p>

</div>
</div>
<a id="a36b8e2d3b037f153fd3faebc321bc5cb" name="a36b8e2d3b037f153fd3faebc321bc5cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36b8e2d3b037f153fd3faebc321bc5cb">&#9670;&#160;</a></span>set_object_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string Slic3r::GCode::set_object_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d8f/class_slic3r_1_1_print.html">Print</a> *&#160;</td>
          <td class="paramname"><em>print</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 4939</span>                                             {</div>
<div class="line"><span class="lineno"> 4940</span>    std::ostringstream <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a>;</div>
<div class="line"><span class="lineno"> 4941</span>    <span class="keywordtype">size_t</span> object_id = 0;</div>
<div class="line"><span class="lineno"> 4942</span>    <span class="keywordflow">for</span> (PrintObject *<span class="keywordtype">object</span> : print-&gt;objects()) {</div>
<div class="line"><span class="lineno"> 4943</span>        <span class="keywordtype">object</span>-&gt;set_id(object_id++);</div>
<div class="line"><span class="lineno"> 4944</span>        <span class="keywordtype">size_t</span> inst_id = 0;</div>
<div class="line"><span class="lineno"> 4945</span>        <span class="keywordflow">for</span> (PrintInstance &amp;inst : <a class="code hl_enumvalue" href="../../dc/df0/namespacenlohmann_1_1detail.html#a1ed8fc6239da25abcaf681d30ace4985aa8cfde6331bd59eb2ac96f8911c4b666">object</a>-&gt;instances()) {</div>
<div class="line"><span class="lineno"> 4946</span>            inst.id = inst_id++;</div>
<div class="line"><span class="lineno"> 4947</span>            <span class="keywordflow">if</span> (this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae28a3adcf7e9d41743591a067d1f0d6e">config</a>().<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a2faf6c2db3d4dea63097d281b15d402b">exclude_object</a> &amp;&amp; print-&gt;config().gcode_flavor.value == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a02d66b5053fbce6319e225982b3c5a90a4b6801e5d5c460886aee95250b34bc8e">gcfKlipper</a>) {</div>
<div class="line"><span class="lineno"> 4948</span>                <span class="keyword">auto</span> bbox = inst.get_bounding_box();</div>
<div class="line"><span class="lineno"> 4949</span>                <span class="keyword">auto</span> center = print-&gt;translate_to_print_space(<a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a>(bbox.center().x(), bbox.center().y()));</div>
<div class="line"><span class="lineno"> 4950</span>                <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> &lt;&lt; <span class="stringliteral">&quot;EXCLUDE_OBJECT_DEFINE NAME=&quot;</span> &lt;&lt; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a355611ad05df70bbe9435a103f0a254d">get_instance_name</a>(<span class="keywordtype">object</span>, inst) &lt;&lt; <span class="stringliteral">&quot; CENTER=&quot;</span> &lt;&lt; center.x()</div>
<div class="line"><span class="lineno"> 4951</span>                      &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; center.y() &lt;&lt; <span class="stringliteral">&quot; POLYGON=&quot;</span> &lt;&lt; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#abd64516746ab1c5984abf5ae9bf37f3c">polygon_to_string</a>(inst.get_convex_hull_2d(), print)</div>
<div class="line"><span class="lineno"> 4952</span>                      &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 4953</span>            }</div>
<div class="line"><span class="lineno"> 4954</span>        }</div>
<div class="line"><span class="lineno"> 4955</span>    }</div>
<div class="line"><span class="lineno"> 4956</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a>.str();</div>
<div class="line"><span class="lineno"> 4957</span>}</div>
<div class="ttc" id="anamespace_slic3r_html_a2faf6c2db3d4dea63097d281b15d402b"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a2faf6c2db3d4dea63097d281b15d402b">Slic3r::exclude_object</a></div><div class="ttdeci">machine_min_extruding_rate exclude_object((ConfigOptionBool, gcode_comments))((ConfigOptionInt</div></div>
<div class="ttc" id="anamespace_slic3r_html_abd64516746ab1c5984abf5ae9bf37f3c"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#abd64516746ab1c5984abf5ae9bf37f3c">Slic3r::polygon_to_string</a></div><div class="ttdeci">std::string polygon_to_string(const Polygon &amp;polygon, Print *print)</div><div class="ttdef"><b>Definition</b> GCode.cpp:4925</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00740">Slic3r::Print::config()</a>, <a class="el" href="../../#l00035">Slic3r::gcfKlipper</a>, <a class="el" href="../../#l02802">Slic3r::get_instance_name()</a>, <a class="el" href="../../#l00743">Slic3r::Print::objects()</a>, <a class="el" href="../../#l04925">Slic3r::polygon_to_string()</a>, and <a class="el" href="../../#l02086">Slic3r::Print::translate_to_print_space()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>.</p>
<div id="dynsection-53" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-53-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-53-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-53-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_a36b8e2d3b037f153fd3faebc321bc5cb_cgraph.svg" width="559" height="282"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-54" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-54-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-54-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-54-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_a36b8e2d3b037f153fd3faebc321bc5cb_icgraph.svg" width="538" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a20d5b09bf08979ee1ada69686492af6c" name="a20d5b09bf08979ee1ada69686492af6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20d5b09bf08979ee1ada69686492af6c">&#9670;&#160;</a></span>set_origin() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::GCode::set_origin </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../de/db8/namespace_slic3r.html#a2ac5c755948c74f5f5f975acd5057fe9">coordf_t</a>&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../de/db8/namespace_slic3r.html#a2ac5c755948c74f5f5f975acd5057fe9">coordf_t</a>&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  180</span>{ this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a659974d95788b7195e7a45e45115565d">set_origin</a>(<a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a>(x, y)); }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00180">set_origin()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00180">set_origin()</a>.</p>
<div id="dynsection-55" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-55-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-55-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-55-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_a20d5b09bf08979ee1ada69686492af6c_cgraph.svg" width="140" height="76"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-56" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-56-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-56-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-56-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_a20d5b09bf08979ee1ada69686492af6c_icgraph.svg" width="140" height="76"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a659974d95788b7195e7a45e45115565d" name="a659974d95788b7195e7a45e45115565d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a659974d95788b7195e7a45e45115565d">&#9670;&#160;</a></span>set_origin() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::GCode::set_origin </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a> &amp;&#160;</td>
          <td class="paramname"><em>pointf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3544</span>{</div>
<div class="line"><span class="lineno"> 3545</span>    <span class="comment">// if origin increases (goes towards right), last_pos decreases because it goes towards left</span></div>
<div class="line"><span class="lineno"> 3546</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> <a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#ada3f522f4d0923b5179dd463544586a7">translate</a>(</div>
<div class="line"><span class="lineno"> 3547</span>        <a class="code hl_define" href="../../dd/d47/libslic3r_8h.html#a5e7dd5d14b7e7bb8f1dab0fd4fa3e0f2">scale_</a>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a63c083e26484e98330f09eb6f6e789b4">m_origin</a>(0) - pointf(0)),</div>
<div class="line"><span class="lineno"> 3548</span>        <a class="code hl_define" href="../../dd/d47/libslic3r_8h.html#a5e7dd5d14b7e7bb8f1dab0fd4fa3e0f2">scale_</a>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a63c083e26484e98330f09eb6f6e789b4">m_origin</a>(1) - pointf(1))</div>
<div class="line"><span class="lineno"> 3549</span>    );</div>
<div class="line"><span class="lineno"> 3550</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a5b7aecf69aa0fce6b42cd1d6b5792e1a">m_last_pos</a> += <a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#ada3f522f4d0923b5179dd463544586a7">translate</a>;</div>
<div class="line"><span class="lineno"> 3551</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acd8bb57f4b518c46420f329ce755da31">m_wipe</a>.<a class="code hl_variable" href="../../df/d82/class_slic3r_1_1_wipe.html#ad658cc53ba64891fe7bf86379fe39ad0">path</a>.<a class="code hl_function" href="../../d7/dd1/class_slic3r_1_1_multi_point.html#a01b06cd6c66558a8a135a31e833048b9">translate</a>(translate);</div>
<div class="line"><span class="lineno"> 3552</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a63c083e26484e98330f09eb6f6e789b4">m_origin</a> = pointf;</div>
<div class="line"><span class="lineno"> 3553</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_multi_point_html_a01b06cd6c66558a8a135a31e833048b9"><div class="ttname"><a href="../../d7/dd1/class_slic3r_1_1_multi_point.html#a01b06cd6c66558a8a135a31e833048b9">Slic3r::MultiPoint::translate</a></div><div class="ttdeci">void translate(double x, double y)</div><div class="ttdef"><b>Definition</b> MultiPoint.hpp:29</div></div>
<div class="ttc" id="anamespacelibnest2d_1_1shapelike_html_ada3f522f4d0923b5179dd463544586a7"><div class="ttname"><a href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#ada3f522f4d0923b5179dd463544586a7">libnest2d::shapelike::translate</a></div><div class="ttdeci">void translate(Slic3r::ExPolygon &amp;sh, const Slic3r::Point &amp;offs)</div><div class="ttdef"><b>Definition</b> geometries.hpp:241</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00081">scale_</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>.</p>
<div id="dynsection-57" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-57-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-57-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-57-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_a659974d95788b7195e7a45e45115565d_icgraph.svg" width="538" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a9c34d1224cd3ca1e6abc1080d2b4157a" name="a9c34d1224cd3ca1e6abc1080d2b4157a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c34d1224cd3ca1e6abc1080d2b4157a">&#9670;&#160;</a></span>sort_print_object_instances()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="../../dc/d59/struct_slic3r_1_1_g_code_1_1_instance_to_print.html">GCode::InstanceToPrint</a> &gt; Slic3r::GCode::sort_print_object_instances </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../dc/d6c/struct_slic3r_1_1_g_code_1_1_object_by_extruder.html">ObjectByExtruder</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>objects_by_extruder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="../../df/d75/struct_slic3r_1_1_g_code_1_1_layer_to_print.html">LayerToPrint</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>layers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; const <a class="el" href="../../de/d18/struct_slic3r_1_1_print_instance.html">PrintInstance</a> * &gt; *&#160;</td>
          <td class="paramname"><em>ordering</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>single_object_instance_idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2596</span>{</div>
<div class="line"><span class="lineno"> 2597</span>    std::vector&lt;InstanceToPrint&gt; <a class="code hl_variable" href="../../d7/da4/testmini_8c.html#ad9e5eed42092079dea4d90550ff5fcf0">out</a>;</div>
<div class="line"><span class="lineno"> 2598</span> </div>
<div class="line"><span class="lineno"> 2599</span>    <span class="keywordflow">if</span> (ordering == <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno"> 2600</span>        <span class="comment">// Sequential print, single object is being printed.</span></div>
<div class="line"><span class="lineno"> 2601</span>        <span class="keywordflow">for</span> (ObjectByExtruder &amp;<a class="code hl_friend" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a5bba8f81516a94aaf1a581b7d9c2a4f5">object_by_extruder</a> : objects_by_extruder) {</div>
<div class="line"><span class="lineno"> 2602</span>            <span class="keyword">const</span> <span class="keywordtype">size_t</span>       <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#adce8c2fd712ff6d0b9b1e3c9cfb6195d">layer_id</a>     = &amp;<a class="code hl_friend" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a5bba8f81516a94aaf1a581b7d9c2a4f5">object_by_extruder</a> - objects_by_extruder.data();</div>
<div class="line"><span class="lineno"> 2603</span>            <span class="comment">//BBS:add the support of shared print object</span></div>
<div class="line"><span class="lineno"> 2604</span>            <span class="keyword">const</span> PrintObject *print_object = layers[<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#adce8c2fd712ff6d0b9b1e3c9cfb6195d">layer_id</a>].original_object;</div>
<div class="line"><span class="lineno"> 2605</span>            <span class="comment">//const PrintObject *print_object = layers[layer_id].object();</span></div>
<div class="line"><span class="lineno"> 2606</span>            <span class="keywordflow">if</span> (print_object)</div>
<div class="line"><span class="lineno"> 2607</span>                <a class="code hl_variable" href="../../d7/da4/testmini_8c.html#ad9e5eed42092079dea4d90550ff5fcf0">out</a>.emplace_back(<a class="code hl_friend" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a5bba8f81516a94aaf1a581b7d9c2a4f5">object_by_extruder</a>, <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#adce8c2fd712ff6d0b9b1e3c9cfb6195d">layer_id</a>, *print_object, single_object_instance_idx, print_object-&gt;instances()[single_object_instance_idx].model_instance-&gt;get_labeled_id());</div>
<div class="line"><span class="lineno"> 2608</span>        }</div>
<div class="line"><span class="lineno"> 2609</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2610</span>        <span class="comment">// Create mapping from PrintObject* to ObjectByExtruder*.</span></div>
<div class="line"><span class="lineno"> 2611</span>        std::vector&lt;std::pair&lt;const PrintObject*, ObjectByExtruder*&gt;&gt; sorted;</div>
<div class="line"><span class="lineno"> 2612</span>        sorted.reserve(objects_by_extruder.size());</div>
<div class="line"><span class="lineno"> 2613</span>        <span class="keywordflow">for</span> (ObjectByExtruder &amp;<a class="code hl_friend" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a5bba8f81516a94aaf1a581b7d9c2a4f5">object_by_extruder</a> : objects_by_extruder) {</div>
<div class="line"><span class="lineno"> 2614</span>            <span class="keyword">const</span> <span class="keywordtype">size_t</span>       <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#adce8c2fd712ff6d0b9b1e3c9cfb6195d">layer_id</a>     = &amp;<a class="code hl_friend" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a5bba8f81516a94aaf1a581b7d9c2a4f5">object_by_extruder</a> - objects_by_extruder.data();</div>
<div class="line"><span class="lineno"> 2615</span>            <span class="comment">//BBS:add the support of shared print object</span></div>
<div class="line"><span class="lineno"> 2616</span>            <span class="keyword">const</span> PrintObject *print_object = layers[<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#adce8c2fd712ff6d0b9b1e3c9cfb6195d">layer_id</a>].original_object;</div>
<div class="line"><span class="lineno"> 2617</span>            <span class="comment">//const PrintObject *print_object = layers[layer_id].object();</span></div>
<div class="line"><span class="lineno"> 2618</span>            <span class="keywordflow">if</span> (print_object)</div>
<div class="line"><span class="lineno"> 2619</span>                sorted.emplace_back(print_object, &amp;<a class="code hl_friend" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a5bba8f81516a94aaf1a581b7d9c2a4f5">object_by_extruder</a>);</div>
<div class="line"><span class="lineno"> 2620</span>        }</div>
<div class="line"><span class="lineno"> 2621</span>        std::sort(sorted.begin(), sorted.end());</div>
<div class="line"><span class="lineno"> 2622</span> </div>
<div class="line"><span class="lineno"> 2623</span>        <span class="keywordflow">if</span> (! sorted.empty()) {</div>
<div class="line"><span class="lineno"> 2624</span>            <a class="code hl_variable" href="../../d7/da4/testmini_8c.html#ad9e5eed42092079dea4d90550ff5fcf0">out</a>.reserve(sorted.size());</div>
<div class="line"><span class="lineno"> 2625</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> PrintInstance *instance : *ordering) {</div>
<div class="line"><span class="lineno"> 2626</span>                <span class="keyword">const</span> PrintObject &amp;print_object = *instance-&gt;print_object;</div>
<div class="line"><span class="lineno"> 2627</span>                <span class="comment">//BBS:add the support of shared print object</span></div>
<div class="line"><span class="lineno"> 2628</span>                <span class="comment">//const PrintObject* print_obj_ptr = &amp;print_object;</span></div>
<div class="line"><span class="lineno"> 2629</span>                <span class="comment">//if (print_object.get_shared_object())</span></div>
<div class="line"><span class="lineno"> 2630</span>                <span class="comment">//    print_obj_ptr = print_object.get_shared_object();</span></div>
<div class="line"><span class="lineno"> 2631</span>                std::pair&lt;const PrintObject*, ObjectByExtruder*&gt; <a class="code hl_enumvalue" href="../../dc/df0/namespacenlohmann_1_1detail.html#a59e696b1dad6d0d99c172ac4518c2042a3c6e0b8a9c15224a8228b9a98ca1531d">key</a>(&amp;print_object, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno"> 2632</span>                <span class="keyword">auto</span> it = std::lower_bound(sorted.begin(), sorted.end(), key);</div>
<div class="line"><span class="lineno"> 2633</span>                <span class="keywordflow">if</span> (it != sorted.end() &amp;&amp; it-&gt;first == &amp;print_object)</div>
<div class="line"><span class="lineno"> 2634</span>                    <span class="comment">// ObjectByExtruder for this PrintObject was found.</span></div>
<div class="line"><span class="lineno"> 2635</span>                    <a class="code hl_variable" href="../../d7/da4/testmini_8c.html#ad9e5eed42092079dea4d90550ff5fcf0">out</a>.emplace_back(*it-&gt;second, it-&gt;second - objects_by_extruder.data(), print_object, instance - print_object.instances().data(), instance-&gt;model_instance-&gt;get_labeled_id());</div>
<div class="line"><span class="lineno"> 2636</span>            }</div>
<div class="line"><span class="lineno"> 2637</span>        }</div>
<div class="line"><span class="lineno"> 2638</span>    }</div>
<div class="line"><span class="lineno"> 2639</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d7/da4/testmini_8c.html#ad9e5eed42092079dea4d90550ff5fcf0">out</a>;</div>
<div class="line"><span class="lineno"> 2640</span>}</div>
<div class="ttc" id="atestmini_8c_html_ad9e5eed42092079dea4d90550ff5fcf0"><div class="ttname"><a href="../../d7/da4/testmini_8c.html#ad9e5eed42092079dea4d90550ff5fcf0">out</a></div><div class="ttdeci">static unsigned char __LZO_MMODEL out[OUT_LEN]</div><div class="ttdef"><b>Definition</b> testmini.c:58</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00307">Slic3r::PrintObject::instances()</a>, <a class="el" href="../../#l02564">Slic3r::object_by_extruder()</a>, and <a class="el" href="../../#l00058">out</a>.</p>
<div id="dynsection-58" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-58-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-58-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-58-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_a9c34d1224cd3ca1e6abc1080d2b4157a_cgraph.svg" width="390" height="102"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a2f5e825b0be31d58b7b5d28c3446df5b" name="a2f5e825b0be31d58b7b5d28c3446df5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f5e825b0be31d58b7b5d28c3446df5b">&#9670;&#160;</a></span>to_lift_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/db8/namespace_slic3r.html#a65af44fb00b6bb6bdda9775762b39569">LiftType</a> Slic3r::GCode::to_lift_type </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/db8/namespace_slic3r.html#a36eff5dabc254e08593a3f3963b56adb">ZHopType</a>&#160;</td>
          <td class="paramname"><em>z_hop_types</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 4526</span>                                                 {</div>
<div class="line"><span class="lineno"> 4527</span>    <span class="keywordflow">switch</span> (z_hop_types)</div>
<div class="line"><span class="lineno"> 4528</span>    {</div>
<div class="line"><span class="lineno"> 4529</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a36eff5dabc254e08593a3f3963b56adba4db31c0075f867800256fd3a5cf2c2b5">ZHopType::zhtNormal</a>:</div>
<div class="line"><span class="lineno"> 4530</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a65af44fb00b6bb6bdda9775762b39569aec67e7929eb75396d5c66f5b9f0ee366">LiftType::NormalLift</a>;</div>
<div class="line"><span class="lineno"> 4531</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a36eff5dabc254e08593a3f3963b56adba2ae5825a1268d81d1b3abfcf96eec06d">ZHopType::zhtSlope</a>:</div>
<div class="line"><span class="lineno"> 4532</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a65af44fb00b6bb6bdda9775762b39569a91f94e617eeff2eac1776003c4b48940">LiftType::LazyLift</a>;</div>
<div class="line"><span class="lineno"> 4533</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a36eff5dabc254e08593a3f3963b56adbaa66863b5f07015368a3ee07551ca3800">ZHopType::zhtSpiral</a>:</div>
<div class="line"><span class="lineno"> 4534</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a65af44fb00b6bb6bdda9775762b39569a763d32b709205d9b87f5d8dd16c5e7b8">LiftType::SpiralLift</a>;</div>
<div class="line"><span class="lineno"> 4535</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 4536</span>        <span class="comment">// if no corresponding lift type, use normal lift</span></div>
<div class="line"><span class="lineno"> 4537</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a65af44fb00b6bb6bdda9775762b39569aec67e7929eb75396d5c66f5b9f0ee366">LiftType::NormalLift</a>;</div>
<div class="line"><span class="lineno"> 4538</span>    }</div>
<div class="line"><span class="lineno"> 4539</span>};</div>
<div class="ttc" id="anamespace_slic3r_html_a36eff5dabc254e08593a3f3963b56adba2ae5825a1268d81d1b3abfcf96eec06d"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a36eff5dabc254e08593a3f3963b56adba2ae5825a1268d81d1b3abfcf96eec06d">Slic3r::zhtSlope</a></div><div class="ttdeci">@ zhtSlope</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:217</div></div>
<div class="ttc" id="anamespace_slic3r_html_a36eff5dabc254e08593a3f3963b56adba4db31c0075f867800256fd3a5cf2c2b5"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a36eff5dabc254e08593a3f3963b56adba4db31c0075f867800256fd3a5cf2c2b5">Slic3r::zhtNormal</a></div><div class="ttdeci">@ zhtNormal</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:216</div></div>
<div class="ttc" id="anamespace_slic3r_html_a36eff5dabc254e08593a3f3963b56adbaa66863b5f07015368a3ee07551ca3800"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a36eff5dabc254e08593a3f3963b56adbaa66863b5f07015368a3ee07551ca3800">Slic3r::zhtSpiral</a></div><div class="ttdeci">@ zhtSpiral</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:218</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6d246cfdea1c2e9be90f89b59e015ce3" name="a6d246cfdea1c2e9be90f89b59e015ce3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d246cfdea1c2e9be90f89b59e015ce3">&#9670;&#160;</a></span>travel_to()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string Slic3r::GCode::travel_to </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6">ExtrusionRole</a>&#160;</td>
          <td class="paramname"><em>role</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>comment</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 4433</span>{</div>
<div class="line"><span class="lineno"> 4434</span>    <span class="comment">/*  Define the travel move as a line between current position and the taget point.</span></div>
<div class="line"><span class="lineno"> 4435</span><span class="comment">        This is expressed in print coordinates, so it will need to be translated by</span></div>
<div class="line"><span class="lineno"> 4436</span><span class="comment">        this-&gt;origin in order to get G-code coordinates.  */</span></div>
<div class="line"><span class="lineno"> 4437</span>    Polyline travel { this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a935d5bd6724a00bd0de46fbedb581786">last_pos</a>(), point };</div>
<div class="line"><span class="lineno"> 4438</span> </div>
<div class="line"><span class="lineno"> 4439</span>    <span class="comment">// check whether a straight travel move would need retraction</span></div>
<div class="line"><span class="lineno"> 4440</span>    <a class="code hl_enumeration" href="../../de/db8/namespace_slic3r.html#a65af44fb00b6bb6bdda9775762b39569">LiftType</a> lift_type = <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a65af44fb00b6bb6bdda9775762b39569a763d32b709205d9b87f5d8dd16c5e7b8">LiftType::SpiralLift</a>;</div>
<div class="line"><span class="lineno"> 4441</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ab6491a102ebdf57d9954a879f060868b">needs_retraction</a> = this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ab6491a102ebdf57d9954a879f060868b">needs_retraction</a>(travel, role, lift_type);</div>
<div class="line"><span class="lineno"> 4442</span>    <span class="comment">// check whether wipe could be disabled without causing visible stringing</span></div>
<div class="line"><span class="lineno"> 4443</span>    <span class="keywordtype">bool</span> could_be_wipe_disabled       = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 4444</span>    <span class="comment">// Save state of use_external_mp_once for the case that will be needed to call twice m_avoid_crossing_perimeters.travel_to.</span></div>
<div class="line"><span class="lineno"> 4445</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> used_external_mp_once  = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#adb8be36b92178a4ce09801d0204d6af5">m_avoid_crossing_perimeters</a>.<a class="code hl_function" href="../../dc/d4e/class_slic3r_1_1_avoid_crossing_perimeters.html#aa75349cdf9a5947995f437bf86a3c6b7">used_external_mp_once</a>();</div>
<div class="line"><span class="lineno"> 4446</span>    std::string <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a>;</div>
<div class="line"><span class="lineno"> 4447</span> </div>
<div class="line"><span class="lineno"> 4448</span>    <span class="comment">// SoftFever</span></div>
<div class="line"><span class="lineno"> 4449</span>    <span class="keywordflow">if</span> (this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae0eab7dd774297f8da8384a066920011">on_first_layer</a>()) {</div>
<div class="line"><span class="lineno"> 4450</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.default_acceleration.value &gt; 0 &amp;&amp; <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.initial_layer_acceleration.value &gt; 0) {</div>
<div class="line"><span class="lineno"> 4451</span>            gcode += <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a32de57050284efca595c97b3c45c440c">set_acceleration</a>((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a3230e10964844c34fb73eaccc84dc8a7">floor</a>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.initial_layer_acceleration.value + 0.5));</div>
<div class="line"><span class="lineno"> 4452</span>        }</div>
<div class="line"><span class="lineno"> 4453</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.default_jerk.value &gt; 0 &amp;&amp; <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.initial_layer_jerk.value &gt; 0) {</div>
<div class="line"><span class="lineno"> 4454</span>            <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a57729a6fee38d4e9b675c8cf4d693217">set_jerk_xy</a>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.initial_layer_jerk.value);</div>
<div class="line"><span class="lineno"> 4455</span>        }</div>
<div class="line"><span class="lineno"> 4456</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4457</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.default_acceleration.value &gt; 0 &amp;&amp; <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.travel_acceleration.value &gt; 0) {</div>
<div class="line"><span class="lineno"> 4458</span>            <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a32de57050284efca595c97b3c45c440c">set_acceleration</a>((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a3230e10964844c34fb73eaccc84dc8a7">floor</a>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.travel_acceleration.value + 0.5));</div>
<div class="line"><span class="lineno"> 4459</span>        }</div>
<div class="line"><span class="lineno"> 4460</span> </div>
<div class="line"><span class="lineno"> 4461</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.default_jerk.value &gt; 0 &amp;&amp; <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.travel_jerk.value &gt; 0) {</div>
<div class="line"><span class="lineno"> 4462</span>            <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a57729a6fee38d4e9b675c8cf4d693217">set_jerk_xy</a>(<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.travel_jerk.value);</div>
<div class="line"><span class="lineno"> 4463</span>        }</div>
<div class="line"><span class="lineno"> 4464</span>    }</div>
<div class="line"><span class="lineno"> 4465</span>    <span class="comment">// if a retraction would be needed, try to use reduce_crossing_wall to plan a</span></div>
<div class="line"><span class="lineno"> 4466</span>    <span class="comment">// multi-hop travel path inside the configuration space</span></div>
<div class="line"><span class="lineno"> 4467</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ab6491a102ebdf57d9954a879f060868b">needs_retraction</a></div>
<div class="line"><span class="lineno"> 4468</span>        &amp;&amp; <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.reduce_crossing_wall</div>
<div class="line"><span class="lineno"> 4469</span>        &amp;&amp; ! <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#adb8be36b92178a4ce09801d0204d6af5">m_avoid_crossing_perimeters</a>.<a class="code hl_function" href="../../dc/d4e/class_slic3r_1_1_avoid_crossing_perimeters.html#ab30eaf85c614881c7eb5dcd921474104">disabled_once</a>()</div>
<div class="line"><span class="lineno"> 4470</span>        <span class="comment">//BBS: don&#39;t generate detour travel paths when current position is unclear</span></div>
<div class="line"><span class="lineno"> 4471</span>        &amp;&amp; <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a2c82b267f45ee82297c8e3365fbbf341">is_current_position_clear</a>()) {</div>
<div class="line"><span class="lineno"> 4472</span>        travel = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#adb8be36b92178a4ce09801d0204d6af5">m_avoid_crossing_perimeters</a>.<a class="code hl_function" href="../../dc/d4e/class_slic3r_1_1_avoid_crossing_perimeters.html#a5b1c7a85072942cc01b79c36a4b125bf">travel_to</a>(*<span class="keyword">this</span>, point, &amp;could_be_wipe_disabled);</div>
<div class="line"><span class="lineno"> 4473</span>        <span class="comment">// check again whether the new travel path still needs a retraction</span></div>
<div class="line"><span class="lineno"> 4474</span>        <a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ab6491a102ebdf57d9954a879f060868b">needs_retraction</a> = this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ab6491a102ebdf57d9954a879f060868b">needs_retraction</a>(travel, role, lift_type);</div>
<div class="line"><span class="lineno"> 4475</span>        <span class="comment">//if (needs_retraction &amp;&amp; m_layer_index &gt; 1) exit(0);</span></div>
<div class="line"><span class="lineno"> 4476</span>    }</div>
<div class="line"><span class="lineno"> 4477</span> </div>
<div class="line"><span class="lineno"> 4478</span>    <span class="comment">// Re-allow reduce_crossing_wall for the next travel moves</span></div>
<div class="line"><span class="lineno"> 4479</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#adb8be36b92178a4ce09801d0204d6af5">m_avoid_crossing_perimeters</a>.<a class="code hl_function" href="../../dc/d4e/class_slic3r_1_1_avoid_crossing_perimeters.html#a97493a464e12b95b041e21fdde984a33">reset_once_modifiers</a>();</div>
<div class="line"><span class="lineno"> 4480</span> </div>
<div class="line"><span class="lineno"> 4481</span>    <span class="comment">// generate G-code for the travel move</span></div>
<div class="line"><span class="lineno"> 4482</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ab6491a102ebdf57d9954a879f060868b">needs_retraction</a>) {</div>
<div class="line"><span class="lineno"> 4483</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.reduce_crossing_wall &amp;&amp; could_be_wipe_disabled)</div>
<div class="line"><span class="lineno"> 4484</span>            <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acd8bb57f4b518c46420f329ce755da31">m_wipe</a>.<a class="code hl_function" href="../../df/d82/class_slic3r_1_1_wipe.html#ab6fa990d3bab203e80fe6ce3ec5879bd">reset_path</a>();</div>
<div class="line"><span class="lineno"> 4485</span> </div>
<div class="line"><span class="lineno"> 4486</span>        <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> last_post_before_retract = this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a935d5bd6724a00bd0de46fbedb581786">last_pos</a>();</div>
<div class="line"><span class="lineno"> 4487</span>        gcode += this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a058728ea49ef66a4b1e7ca9ac361a3ae">retract</a>(<span class="keyword">false</span>, <span class="keyword">false</span>, lift_type);</div>
<div class="line"><span class="lineno"> 4488</span>        <span class="comment">// When &quot;Wipe while retracting&quot; is enabled, then extruder moves to another position, and travel from this position can cross perimeters.</span></div>
<div class="line"><span class="lineno"> 4489</span>        <span class="comment">// Because of it, it is necessary to call avoid crossing perimeters again with new starting point after calling retraction()</span></div>
<div class="line"><span class="lineno"> 4490</span>        <span class="comment">// FIXME Lukas H.: Try to predict if this second calling of avoid crossing perimeters will be needed or not. It could save computations.</span></div>
<div class="line"><span class="lineno"> 4491</span>        <span class="keywordflow">if</span> (last_post_before_retract != this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a935d5bd6724a00bd0de46fbedb581786">last_pos</a>() &amp;&amp; <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acef5d60eee718c186ba6660c879a0d0f">m_config</a>.reduce_crossing_wall) {</div>
<div class="line"><span class="lineno"> 4492</span>            <span class="comment">// If in the previous call of m_avoid_crossing_perimeters.travel_to was use_external_mp_once set to true restore this value for next call.</span></div>
<div class="line"><span class="lineno"> 4493</span>            <span class="keywordflow">if</span> (used_external_mp_once)</div>
<div class="line"><span class="lineno"> 4494</span>                <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#adb8be36b92178a4ce09801d0204d6af5">m_avoid_crossing_perimeters</a>.<a class="code hl_function" href="../../dc/d4e/class_slic3r_1_1_avoid_crossing_perimeters.html#a025753e1a877d53bd068ad39aa889afd">use_external_mp_once</a>();</div>
<div class="line"><span class="lineno"> 4495</span>            travel = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#adb8be36b92178a4ce09801d0204d6af5">m_avoid_crossing_perimeters</a>.<a class="code hl_function" href="../../dc/d4e/class_slic3r_1_1_avoid_crossing_perimeters.html#a5b1c7a85072942cc01b79c36a4b125bf">travel_to</a>(*<span class="keyword">this</span>, point);</div>
<div class="line"><span class="lineno"> 4496</span>            <span class="comment">// If state of use_external_mp_once was changed reset it to right value.</span></div>
<div class="line"><span class="lineno"> 4497</span>            <span class="keywordflow">if</span> (used_external_mp_once)</div>
<div class="line"><span class="lineno"> 4498</span>                <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#adb8be36b92178a4ce09801d0204d6af5">m_avoid_crossing_perimeters</a>.<a class="code hl_function" href="../../dc/d4e/class_slic3r_1_1_avoid_crossing_perimeters.html#a97493a464e12b95b041e21fdde984a33">reset_once_modifiers</a>();</div>
<div class="line"><span class="lineno"> 4499</span>        }</div>
<div class="line"><span class="lineno"> 4500</span>    } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 4501</span>        <span class="comment">// Reset the wipe path when traveling, so one would not wipe along an old path.</span></div>
<div class="line"><span class="lineno"> 4502</span>        <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#acd8bb57f4b518c46420f329ce755da31">m_wipe</a>.<a class="code hl_function" href="../../df/d82/class_slic3r_1_1_wipe.html#ab6fa990d3bab203e80fe6ce3ec5879bd">reset_path</a>();</div>
<div class="line"><span class="lineno"> 4503</span> </div>
<div class="line"><span class="lineno"> 4504</span>    <span class="comment">// if needed, write the gcode_label_objects_end then gcode_label_objects_start</span></div>
<div class="line"><span class="lineno"> 4505</span>    <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#ae25537c5912061af6fbee6f4cbcc9066">add_object_change_labels</a>(gcode);</div>
<div class="line"><span class="lineno"> 4506</span> </div>
<div class="line"><span class="lineno"> 4507</span>    <span class="comment">// use G1 because we rely on paths being straight (G0 may make round paths)</span></div>
<div class="line"><span class="lineno"> 4508</span>    <span class="keywordflow">if</span> (travel.size() &gt;= 2) {</div>
<div class="line"><span class="lineno"> 4509</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 1; i &lt; travel.size(); ++ i) {</div>
<div class="line"><span class="lineno"> 4510</span>            <span class="comment">// BBS. Process lazy layer change, but don&#39;t do lazy layer change when enable spiral vase</span></div>
<div class="line"><span class="lineno"> 4511</span>            <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a6b8e15a6e63fb72a48bc5e49b8a6f6b1">Vec3d</a> curr_pos = <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#af09d2460aca864d21b7d004b9350dc66">get_position</a>();</div>
<div class="line"><span class="lineno"> 4512</span>            <span class="keywordflow">if</span> (i == 1 &amp;&amp; !<a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a8af28e4500c5897a80f5ccc1b6b118a2">m_spiral_vase</a>) {</div>
<div class="line"><span class="lineno"> 4513</span>                <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a> dest2d = this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae69c3d88b0093b87f42cb2053dd52129">point_to_gcode</a>(travel.points[i]);</div>
<div class="line"><span class="lineno"> 4514</span>                <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a6b8e15a6e63fb72a48bc5e49b8a6f6b1">Vec3d</a> dest3d(dest2d(0), dest2d(1), <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a6876e5572d5a2139e24b13432e54beb2">m_nominal_z</a>);</div>
<div class="line"><span class="lineno"> 4515</span>                <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#aae04a49300bb25f19ee52dbc9e915423">travel_to_xyz</a>(dest3d, comment+<span class="stringliteral">&quot; travel_to_xyz&quot;</span>);</div>
<div class="line"><span class="lineno"> 4516</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4517</span>                <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a> += <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#abff6c5438fa7fbee4ba5843ec7a5e282">travel_to_xy</a>(this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#ae69c3d88b0093b87f42cb2053dd52129">point_to_gcode</a>(travel.points[i]), comment+<span class="stringliteral">&quot; travel_to_xy&quot;</span>);</div>
<div class="line"><span class="lineno"> 4518</span>            }</div>
<div class="line"><span class="lineno"> 4519</span>        }</div>
<div class="line"><span class="lineno"> 4520</span>        this-&gt;<a class="code hl_function" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2690c7ccdb7cacc74b2ec148fafb8427">set_last_pos</a>(travel.points.back());</div>
<div class="line"><span class="lineno"> 4521</span>    }</div>
<div class="line"><span class="lineno"> 4522</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d3/d47/namespace_slic3r_1_1_utils.html#a693333eb28ecfce04af58a08fbb92464a61a8f2c20d6eee4a934018f5ce46fe62">gcode</a>;</div>
<div class="line"><span class="lineno"> 4523</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_avoid_crossing_perimeters_html_a5b1c7a85072942cc01b79c36a4b125bf"><div class="ttname"><a href="../../dc/d4e/class_slic3r_1_1_avoid_crossing_perimeters.html#a5b1c7a85072942cc01b79c36a4b125bf">Slic3r::AvoidCrossingPerimeters::travel_to</a></div><div class="ttdeci">Polyline travel_to(const GCode &amp;gcodegen, const Point &amp;point)</div><div class="ttdef"><b>Definition</b> AvoidCrossingPerimeters.hpp:28</div></div>
<div class="ttc" id="aclass_slic3r_1_1_avoid_crossing_perimeters_html_a97493a464e12b95b041e21fdde984a33"><div class="ttname"><a href="../../dc/d4e/class_slic3r_1_1_avoid_crossing_perimeters.html#a97493a464e12b95b041e21fdde984a33">Slic3r::AvoidCrossingPerimeters::reset_once_modifiers</a></div><div class="ttdeci">void reset_once_modifiers()</div><div class="ttdef"><b>Definition</b> AvoidCrossingPerimeters.hpp:24</div></div>
<div class="ttc" id="aclass_slic3r_1_1_avoid_crossing_perimeters_html_aa75349cdf9a5947995f437bf86a3c6b7"><div class="ttname"><a href="../../dc/d4e/class_slic3r_1_1_avoid_crossing_perimeters.html#aa75349cdf9a5947995f437bf86a3c6b7">Slic3r::AvoidCrossingPerimeters::used_external_mp_once</a></div><div class="ttdeci">bool used_external_mp_once()</div><div class="ttdef"><b>Definition</b> AvoidCrossingPerimeters.hpp:21</div></div>
<div class="ttc" id="aclass_slic3r_1_1_avoid_crossing_perimeters_html_ab30eaf85c614881c7eb5dcd921474104"><div class="ttname"><a href="../../dc/d4e/class_slic3r_1_1_avoid_crossing_perimeters.html#ab30eaf85c614881c7eb5dcd921474104">Slic3r::AvoidCrossingPerimeters::disabled_once</a></div><div class="ttdeci">bool disabled_once() const</div><div class="ttdef"><b>Definition</b> AvoidCrossingPerimeters.hpp:23</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_html_ab6491a102ebdf57d9954a879f060868b"><div class="ttname"><a href="../../dd/dc8/class_slic3r_1_1_g_code.html#ab6491a102ebdf57d9954a879f060868b">Slic3r::GCode::needs_retraction</a></div><div class="ttdeci">bool needs_retraction(const Polyline &amp;travel, ExtrusionRole role, LiftType &amp;lift_type)</div><div class="ttdef"><b>Definition</b> GCode.cpp:4541</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_a2c82b267f45ee82297c8e3365fbbf341"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a2c82b267f45ee82297c8e3365fbbf341">Slic3r::GCodeWriter::is_current_position_clear</a></div><div class="ttdeci">bool is_current_position_clear() const</div><div class="ttdef"><b>Definition</b> GCodeWriter.hpp:102</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_aae04a49300bb25f19ee52dbc9e915423"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#aae04a49300bb25f19ee52dbc9e915423">Slic3r::GCodeWriter::travel_to_xyz</a></div><div class="ttdeci">std::string travel_to_xyz(const Vec3d &amp;point, const std::string &amp;comment=std::string())</div><div class="ttdef"><b>Definition</b> GCodeWriter.cpp:346</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_abff6c5438fa7fbee4ba5843ec7a5e282"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#abff6c5438fa7fbee4ba5843ec7a5e282">Slic3r::GCodeWriter::travel_to_xy</a></div><div class="ttdeci">std::string travel_to_xy(const Vec2d &amp;point, const std::string &amp;comment=std::string())</div><div class="ttdef"><b>Definition</b> GCodeWriter.cpp:327</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00388">floor()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>, and <a class="el" href="../../#l00380">Slic3r::WipeTowerIntegration::append_tcr()</a>.</p>
<div id="dynsection-59" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-59-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-59-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-59-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_a6d246cfdea1c2e9be90f89b59e015ce3_cgraph.svg" width="267" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-60" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-60-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-60-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-60-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_a6d246cfdea1c2e9be90f89b59e015ce3_icgraph.svg" width="646" height="232"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="af816f73f41514944c38bf6b59406b73f" name="af816f73f41514944c38bf6b59406b73f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af816f73f41514944c38bf6b59406b73f">&#9670;&#160;</a></span>unretract()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string Slic3r::GCode::unretract </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  204</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a72c75bc8726961f48c191034585fbb85">unlift</a>() + <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>.<a class="code hl_function" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a905e4b6cac518c660d67243d24a91a17">unretract</a>(); }</div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_a72c75bc8726961f48c191034585fbb85"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a72c75bc8726961f48c191034585fbb85">Slic3r::GCodeWriter::unlift</a></div><div class="ttdeci">std::string unlift()</div><div class="ttdef"><b>Definition</b> GCodeWriter.cpp:716</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_code_writer_html_a905e4b6cac518c660d67243d24a91a17"><div class="ttname"><a href="../../da/d7a/class_slic3r_1_1_g_code_writer.html#a905e4b6cac518c660d67243d24a91a17">Slic3r::GCodeWriter::unretract</a></div><div class="ttdeci">std::string unretract()</div><div class="ttdef"><b>Definition</b> GCodeWriter.cpp:662</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00432">m_writer</a>, <a class="el" href="../../#l00716">Slic3r::GCodeWriter::unlift()</a>, and <a class="el" href="../../#l00662">Slic3r::GCodeWriter::unretract()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00380">Slic3r::WipeTowerIntegration::append_tcr()</a>.</p>
<div id="dynsection-61" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-61-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-61-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-61-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_af816f73f41514944c38bf6b59406b73f_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-62" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-62-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-62-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-62-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_af816f73f41514944c38bf6b59406b73f_icgraph.svg" width="646" height="183"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ade2f4af324da97d5fb8eadca3af5c489" name="ade2f4af324da97d5fb8eadca3af5c489"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade2f4af324da97d5fb8eadca3af5c489">&#9670;&#160;</a></span>writer() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html">GCodeWriter</a> &amp; Slic3r::GCode::writer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  187</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00432">m_writer</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00020">Slic3r::CoolingBuffer::CoolingBuffer()</a>, <a class="el" href="../../#l01460">_do_export()</a>, <a class="el" href="../../#l00284">Slic3r::OozePrevention::_get_temp()</a>, <a class="el" href="../../#l00380">Slic3r::WipeTowerIntegration::append_tcr()</a>, <a class="el" href="../../#l02645">Slic3r::ProcessLayer::emit_custom_gcode_per_print_z()</a>, <a class="el" href="../../#l00753">Slic3r::WipeTowerIntegration::finalize()</a>, <a class="el" href="../../#l00700">Slic3r::need_wipe()</a>, <a class="el" href="../../#l00276">Slic3r::OozePrevention::post_toolchange()</a>, <a class="el" href="../../#l00246">Slic3r::OozePrevention::pre_toolchange()</a>, <a class="el" href="../../#l00276">Slic3r::CalibPressureAdvanceLine::print_pa_lines()</a>, <a class="el" href="../../#l00716">Slic3r::WipeTowerIntegration::tool_change()</a>, and <a class="el" href="../../#l00291">Slic3r::Wipe::wipe()</a>.</p>
<div id="dynsection-63" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-63-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-63-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-63-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/dc8/class_slic3r_1_1_g_code_ade2f4af324da97d5fb8eadca3af5c489_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="af3f12a69a722e7b54c5e3824da616376" name="af3f12a69a722e7b54c5e3824da616376"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3f12a69a722e7b54c5e3824da616376">&#9670;&#160;</a></span>writer() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html">GCodeWriter</a> &amp; Slic3r::GCode::writer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  188</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a2db53cf5bbbd368e1f747a7280aa19a8">m_writer</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00432">m_writer</a>.</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Symbol Documentation</h2>
<a id="a5bba8f81516a94aaf1a581b7d9c2a4f5" name="a5bba8f81516a94aaf1a581b7d9c2a4f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bba8f81516a94aaf1a581b7d9c2a4f5">&#9670;&#160;</a></span>object_by_extruder</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d6c/struct_slic3r_1_1_g_code_1_1_object_by_extruder.html">ObjectByExtruder</a> &amp; object_by_extruder </td>
          <td>(</td>
          <td class="paramtype">std::map&lt; unsigned <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>, std::vector&lt; <a class="el" href="../../dc/d6c/struct_slic3r_1_1_g_code_1_1_object_by_extruder.html">ObjectByExtruder</a> &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>by_extruder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>extruder_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>object_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>num_objects</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2569</span>{</div>
<div class="line"><span class="lineno"> 2570</span>    std::vector&lt;GCode::ObjectByExtruder&gt; &amp;objects_by_extruder = by_extruder[extruder_id];</div>
<div class="line"><span class="lineno"> 2571</span>    <span class="keywordflow">if</span> (objects_by_extruder.empty())</div>
<div class="line"><span class="lineno"> 2572</span>        objects_by_extruder.assign(num_objects, GCode::ObjectByExtruder());</div>
<div class="line"><span class="lineno"> 2573</span>    <span class="keywordflow">return</span> objects_by_extruder[object_idx];</div>
<div class="line"><span class="lineno"> 2574</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1cf8c910158be8938061cc19519ceec1" name="a1cf8c910158be8938061cc19519ceec1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cf8c910158be8938061cc19519ceec1">&#9670;&#160;</a></span>object_islands_by_extruder</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="../../dc/d81/struct_slic3r_1_1_g_code_1_1_object_by_extruder_1_1_island.html">ObjectByExtruder::Island</a> &gt; &amp; object_islands_by_extruder </td>
          <td>(</td>
          <td class="paramtype">std::map&lt; unsigned <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>, std::vector&lt; <a class="el" href="../../dc/d6c/struct_slic3r_1_1_g_code_1_1_object_by_extruder.html">ObjectByExtruder</a> &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>by_extruder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>extruder_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>object_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>num_objects</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>num_islands</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2582</span>{</div>
<div class="line"><span class="lineno"> 2583</span>    std::vector&lt;GCode::ObjectByExtruder::Island&gt; &amp;islands = <a class="code hl_friend" href="../../dd/dc8/class_slic3r_1_1_g_code.html#a5bba8f81516a94aaf1a581b7d9c2a4f5">object_by_extruder</a>(by_extruder, extruder_id, object_idx, num_objects).<a class="code hl_variable" href="../../dc/d6c/struct_slic3r_1_1_g_code_1_1_object_by_extruder.html#aa98f196721185596825bd6901a62901f">islands</a>;</div>
<div class="line"><span class="lineno"> 2584</span>    <span class="keywordflow">if</span> (islands.empty())</div>
<div class="line"><span class="lineno"> 2585</span>        islands.assign(num_islands, GCode::ObjectByExtruder::Island());</div>
<div class="line"><span class="lineno"> 2586</span>    <span class="keywordflow">return</span> islands;</div>
<div class="line"><span class="lineno"> 2587</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a51c1431f2c30811e53d6c04ddab5fb8e" name="a51c1431f2c30811e53d6c04ddab5fb8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51c1431f2c30811e53d6c04ddab5fb8e">&#9670;&#160;</a></span>Print</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="../../d5/d8f/class_slic3r_1_1_print.html">Print</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a232fe20bb61e98eb74a4baa006f56b1e" name="a232fe20bb61e98eb74a4baa006f56b1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a232fe20bb61e98eb74a4baa006f56b1e">&#9670;&#160;</a></span>Wipe</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="../../df/d82/class_slic3r_1_1_wipe.html">Wipe</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a21f2e2845c0a8a161c553d51cc31ffd9" name="a21f2e2845c0a8a161c553d51cc31ffd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21f2e2845c0a8a161c553d51cc31ffd9">&#9670;&#160;</a></span>WipeTowerIntegration</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html">WipeTowerIntegration</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="adb8be36b92178a4ce09801d0204d6af5" name="adb8be36b92178a4ce09801d0204d6af5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb8be36b92178a4ce09801d0204d6af5">&#9670;&#160;</a></span>m_avoid_crossing_perimeters</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d4e/class_slic3r_1_1_avoid_crossing_perimeters.html">AvoidCrossingPerimeters</a> Slic3r::GCode::m_avoid_crossing_perimeters</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>, and <a class="el" href="../../#l00380">Slic3r::WipeTowerIntegration::append_tcr()</a>.</p>

</div>
</div>
<a id="a03f8fb89cf6e89f08314d2d4c770d177" name="a03f8fb89cf6e89f08314d2d4c770d177"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03f8fb89cf6e89f08314d2d4c770d177">&#9670;&#160;</a></span>m_brim_done</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::GCode::m_brim_done</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>.</p>

</div>
</div>
<a id="a11c37e89f776408db490f8843d138b03" name="a11c37e89f776408db490f8843d138b03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11c37e89f776408db490f8843d138b03">&#9670;&#160;</a></span>m_calib_config</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/df0/class_slic3r_1_1_dynamic_config.html">DynamicConfig</a> Slic3r::GCode::m_calib_config</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>.</p>

</div>
</div>
<a id="acef5d60eee718c186ba6660c879a0d0f" name="acef5d60eee718c186ba6660c879a0d0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acef5d60eee718c186ba6660c879a0d0f">&#9670;&#160;</a></span>m_config</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FullPrintConfig Slic3r::GCode::m_config</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>, <a class="el" href="../../#l00380">Slic3r::WipeTowerIntegration::append_tcr()</a>, and <a class="el" href="../../#l00185">config()</a>.</p>

</div>
</div>
<a id="ae7defbc83aafbbea7c9ae7a0ca4c8fef" name="ae7defbc83aafbbea7c9ae7a0ca4c8fef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7defbc83aafbbea7c9ae7a0ca4c8fef">&#9670;&#160;</a></span>m_cooling_buffer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="../../d3/ddb/class_slic3r_1_1_cooling_buffer.html">CoolingBuffer</a>&gt; Slic3r::GCode::m_cooling_buffer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>.</p>

</div>
</div>
<a id="aad1ede23b9581df98d65205c77a675e7" name="aad1ede23b9581df98d65205c77a675e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad1ede23b9581df98d65205c77a675e7">&#9670;&#160;</a></span>m_curr_print</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/d8f/class_slic3r_1_1_print.html">Print</a>* Slic3r::GCode::m_curr_print = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01068">do_export()</a>, and <a class="el" href="../../#l01061">is_BBL_Printer()</a>.</p>

</div>
</div>
<a id="a03533ee19695dc118af85304f49c752f" name="a03533ee19695dc118af85304f49c752f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03533ee19695dc118af85304f49c752f">&#9670;&#160;</a></span>m_enable_cooling_markers</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::GCode::m_enable_cooling_markers</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>, and <a class="el" href="../../#l00194">enable_cooling_markers()</a>.</p>

</div>
</div>
<a id="a8073b5c68ecade3632359c884f342f3c" name="a8073b5c68ecade3632359c884f342f3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8073b5c68ecade3632359c884f342f3c">&#9670;&#160;</a></span>m_enable_exclude_object</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::GCode::m_enable_exclude_object</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>, and <a class="el" href="../../#l01068">do_export()</a>.</p>

</div>
</div>
<a id="a5fdf35b1723c68a5955558aa880ab9b9" name="a5fdf35b1723c68a5955558aa880ab9b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fdf35b1723c68a5955558aa880ab9b9">&#9670;&#160;</a></span>m_enable_extrusion_role_markers</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::GCode::m_enable_extrusion_role_markers</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>.</p>

</div>
</div>
<a id="a6d0382a520e8c1ff4be5924a8444d76c" name="a6d0382a520e8c1ff4be5924a8444d76c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d0382a520e8c1ff4be5924a8444d76c">&#9670;&#160;</a></span>m_enable_loop_clipping</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::GCode::m_enable_loop_clipping</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8398430e2866a9c8219fca25dbed0cf6" name="a8398430e2866a9c8219fca25dbed0cf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8398430e2866a9c8219fca25dbed0cf6">&#9670;&#160;</a></span>m_extrusion_quality_estimator</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/d3b/class_slic3r_1_1_extrusion_quality_estimator.html">ExtrusionQualityEstimator</a> Slic3r::GCode::m_extrusion_quality_estimator</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aea409072544589f5bcb13a40b83a5748" name="aea409072544589f5bcb13a40b83a5748"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea409072544589f5bcb13a40b83a5748">&#9670;&#160;</a></span>m_fan_mover</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="../../df/d41/class_slic3r_1_1_fan_mover.html">FanMover</a>&gt; Slic3r::GCode::m_fan_mover</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>.</p>

</div>
</div>
<a id="ab9d8b02b166044e2f0311fbf566da416" name="ab9d8b02b166044e2f0311fbf566da416"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9d8b02b166044e2f0311fbf566da416">&#9670;&#160;</a></span>m_is_overhang_fan_on</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::GCode::m_is_overhang_fan_on</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>.</p>

</div>
</div>
<a id="ac2af3222a6bc9941043eb2949bc42356" name="ac2af3222a6bc9941043eb2949bc42356"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2af3222a6bc9941043eb2949bc42356">&#9670;&#160;</a></span>m_is_supp_interface_fan_on</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::GCode::m_is_supp_interface_fan_on</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>.</p>

</div>
</div>
<a id="a7cc2e460b5902a6e8c64f064bb87f2ce" name="a7cc2e460b5902a6e8c64f064bb87f2ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cc2e460b5902a6e8c64f064bb87f2ce">&#9670;&#160;</a></span>m_label_objects_ids</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;size_t&gt; Slic3r::GCode::m_label_objects_ids</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>.</p>

</div>
</div>
<a id="a7c86826971245bdbc60cab735c44c3d0" name="a7c86826971245bdbc60cab735c44c3d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c86826971245bdbc60cab735c44c3d0">&#9670;&#160;</a></span>m_last_extrusion_role</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6">ExtrusionRole</a> Slic3r::GCode::m_last_extrusion_role</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a77216b94b9cba2d6e89710c1bd616674" name="a77216b94b9cba2d6e89710c1bd616674"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77216b94b9cba2d6e89710c1bd616674">&#9670;&#160;</a></span>m_last_height</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Slic3r::GCode::m_last_height { 0.0f }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>.</p>

</div>
</div>
<a id="accca0b22da61853ca952d06c31917235" name="accca0b22da61853ca952d06c31917235"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accca0b22da61853ca952d06c31917235">&#9670;&#160;</a></span>m_last_layer_z</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Slic3r::GCode::m_last_layer_z { 0.0f }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>.</p>

</div>
</div>
<a id="aa5955631beed7bbb1339eaaf5ad6f24f" name="aa5955631beed7bbb1339eaaf5ad6f24f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5955631beed7bbb1339eaaf5ad6f24f">&#9670;&#160;</a></span>m_last_notgapfill_extrusion_role</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6">ExtrusionRole</a> Slic3r::GCode::m_last_notgapfill_extrusion_role</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a93ff505eea9402b75d8c8f5230af12b9" name="a93ff505eea9402b75d8c8f5230af12b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93ff505eea9402b75d8c8f5230af12b9">&#9670;&#160;</a></span>m_last_obj_copy</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt;const <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a>*, <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a>&gt; Slic3r::GCode::m_last_obj_copy</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a5b7aecf69aa0fce6b42cd1d6b5792e1a" name="a5b7aecf69aa0fce6b42cd1d6b5792e1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b7aecf69aa0fce6b42cd1d6b5792e1a">&#9670;&#160;</a></span>m_last_pos</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> Slic3r::GCode::m_last_pos</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00181">last_pos()</a>, and <a class="el" href="../../#l00333">set_last_pos()</a>.</p>

</div>
</div>
<a id="ad0b034df0dd1775d1b0d7b04f7a44c9c" name="ad0b034df0dd1775d1b0d7b04f7a44c9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0b034df0dd1775d1b0d7b04f7a44c9c">&#9670;&#160;</a></span>m_last_pos_defined</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::GCode::m_last_pos_defined</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00334">last_pos_defined()</a>, and <a class="el" href="../../#l00333">set_last_pos()</a>.</p>

</div>
</div>
<a id="a7f4a6b2a5c2405ec1ac57210e107289c" name="a7f4a6b2a5c2405ec1ac57210e107289c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f4a6b2a5c2405ec1ac57210e107289c">&#9670;&#160;</a></span>m_last_processor_extrusion_role</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/db8/namespace_slic3r.html#a6fa3193f46e8c4fc55359a5c124f46e6">ExtrusionRole</a> Slic3r::GCode::m_last_processor_extrusion_role</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8a4d8aaca5e07499fd1aca7946bdd817" name="a8a4d8aaca5e07499fd1aca7946bdd817"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a4d8aaca5e07499fd1aca7946bdd817">&#9670;&#160;</a></span>m_last_width</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Slic3r::GCode::m_last_width { 0.0f }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>.</p>

</div>
</div>
<a id="a7d8c6148ecc0ecaaf9597bad4ed26083" name="a7d8c6148ecc0ecaaf9597bad4ed26083"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d8c6148ecc0ecaaf9597bad4ed26083">&#9670;&#160;</a></span>m_layer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../d1/d68/class_slic3r_1_1_layer.html">Layer</a>* Slic3r::GCode::m_layer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00186">layer()</a>, <a class="el" href="../../#l00527">layer_id()</a>, and <a class="el" href="../../#l00526">on_first_layer()</a>.</p>

</div>
</div>
<a id="afa528044bae428d5df6df25b4fe44516" name="afa528044bae428d5df6df25b4fe44516"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa528044bae428d5df6df25b4fe44516">&#9670;&#160;</a></span>m_layer_count</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a> Slic3r::GCode::m_layer_count</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>, <a class="el" href="../../#l00197">layer_count()</a>, and <a class="el" href="../../#l00198">set_layer_count()</a>.</p>

</div>
</div>
<a id="a3388b4f3b94c005c8b6c64b1ba9b105d" name="a3388b4f3b94c005c8b6c64b1ba9b105d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3388b4f3b94c005c8b6c64b1ba9b105d">&#9670;&#160;</a></span>m_layer_index</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a> Slic3r::GCode::m_layer_index</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>, and <a class="el" href="../../#l00380">Slic3r::WipeTowerIntegration::append_tcr()</a>.</p>

</div>
</div>
<a id="a2b412ae6847f90bf35264b3ada4aa01c" name="a2b412ae6847f90bf35264b3ada4aa01c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b412ae6847f90bf35264b3ada4aa01c">&#9670;&#160;</a></span>m_max_layer_z</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Slic3r::GCode::m_max_layer_z { 0.0f }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>, and <a class="el" href="../../#l00380">Slic3r::WipeTowerIntegration::append_tcr()</a>.</p>

</div>
</div>
<a id="ac941272774cc4dbab332f22d1141f627" name="ac941272774cc4dbab332f22d1141f627"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac941272774cc4dbab332f22d1141f627">&#9670;&#160;</a></span>m_need_change_layer_lift_z</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::GCode::m_need_change_layer_lift_z = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6876e5572d5a2139e24b13432e54beb2" name="a6876e5572d5a2139e24b13432e54beb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6876e5572d5a2139e24b13432e54beb2">&#9670;&#160;</a></span>m_nominal_z</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/db8/namespace_slic3r.html#a2ac5c755948c74f5f5f975acd5057fe9">coordf_t</a> Slic3r::GCode::m_nominal_z</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a13accc40bdcea1a7bd2e2c2e8ae09af2" name="a13accc40bdcea1a7bd2e2c2e8ae09af2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13accc40bdcea1a7bd2e2c2e8ae09af2">&#9670;&#160;</a></span>m_object_layer_over_raft</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::GCode::m_object_layer_over_raft</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00533">object_layer_over_raft()</a>.</p>

</div>
</div>
<a id="a6f4b674d8ebba097b1dbc67262ace858" name="a6f4b674d8ebba097b1dbc67262ace858"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f4b674d8ebba097b1dbc67262ace858">&#9670;&#160;</a></span>m_objSupportsWithBrim</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;<a class="el" href="../../d5/dd3/class_slic3r_1_1_object_i_d.html">ObjectID</a>&gt; Slic3r::GCode::m_objSupportsWithBrim</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>.</p>

</div>
</div>
<a id="a55c1a36fa083f45789738e732b7e8f51" name="a55c1a36fa083f45789738e732b7e8f51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55c1a36fa083f45789738e732b7e8f51">&#9670;&#160;</a></span>m_objsWithBrim</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;<a class="el" href="../../d5/dd3/class_slic3r_1_1_object_i_d.html">ObjectID</a>&gt; Slic3r::GCode::m_objsWithBrim</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>.</p>

</div>
</div>
<a id="ae7da2bd41bc38cf3750716374a164439" name="ae7da2bd41bc38cf3750716374a164439"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7da2bd41bc38cf3750716374a164439">&#9670;&#160;</a></span>m_ooze_prevention</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d9c/class_slic3r_1_1_ooze_prevention.html">OozePrevention</a> Slic3r::GCode::m_ooze_prevention</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>.</p>

</div>
</div>
<a id="a63c083e26484e98330f09eb6f6e789b4" name="a63c083e26484e98330f09eb6f6e789b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63c083e26484e98330f09eb6f6e789b4">&#9670;&#160;</a></span>m_origin</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a> Slic3r::GCode::m_origin</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00178">origin()</a>.</p>

</div>
</div>
<a id="ad74e7798985b999d53045b7ecd19739b" name="ad74e7798985b999d53045b7ecd19739b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad74e7798985b999d53045b7ecd19739b">&#9670;&#160;</a></span>m_placeholder_parser</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html">PlaceholderParser</a> Slic3r::GCode::m_placeholder_parser</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>, <a class="el" href="../../#l00189">placeholder_parser()</a>, and <a class="el" href="../../#l00190">placeholder_parser()</a>.</p>

</div>
</div>
<a id="adba26559de960021180ecc3a2c66b865" name="adba26559de960021180ecc3a2c66b865"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adba26559de960021180ecc3a2c66b865">&#9670;&#160;</a></span>m_placeholder_parser_context</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/dec/class_slic3r_1_1_placeholder_parser.html#d7/dee/struct_slic3r_1_1_placeholder_parser_1_1_context_data">PlaceholderParser::ContextData</a> Slic3r::GCode::m_placeholder_parser_context</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>.</p>

</div>
</div>
<a id="a20286f6e3447ab45f5ec08e04d510645" name="a20286f6e3447ab45f5ec08e04d510645"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20286f6e3447ab45f5ec08e04d510645">&#9670;&#160;</a></span>m_placeholder_parser_failed_templates</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, std::string&gt; Slic3r::GCode::m_placeholder_parser_failed_templates</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l02218">check_placeholder_parser_failed()</a>, and <a class="el" href="../../#l01068">do_export()</a>.</p>

</div>
</div>
<a id="a10970cfca3474859c6a5d52c57f604ac" name="a10970cfca3474859c6a5d52c57f604ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10970cfca3474859c6a5d52c57f604ac">&#9670;&#160;</a></span>m_processor</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d9a/class_slic3r_1_1_g_code_processor.html">GCodeProcessor</a> Slic3r::GCode::m_processor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>, <a class="el" href="../../#l01068">do_export()</a>, and <a class="el" href="../../#l00175">set_gcode_offset()</a>.</p>

</div>
</div>
<a id="a8102ff77109201a7d52e06f95c51fb73" name="a8102ff77109201a7d52e06f95c51fb73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8102ff77109201a7d52e06f95c51fb73">&#9670;&#160;</a></span>m_retract_when_crossing_perimeters</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d8f/class_slic3r_1_1_retract_when_crossing_perimeters.html">RetractWhenCrossingPerimeters</a> Slic3r::GCode::m_retract_when_crossing_perimeters</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a3ad6163c48d2f6ccc67aaa7c609bef12" name="a3ad6163c48d2f6ccc67aaa7c609bef12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ad6163c48d2f6ccc67aaa7c609bef12">&#9670;&#160;</a></span>m_scaled_resolution</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double Slic3r::GCode::m_scaled_resolution</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="adeede141933a8492102e63526cf6157d" name="adeede141933a8492102e63526cf6157d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adeede141933a8492102e63526cf6157d">&#9670;&#160;</a></span>m_seam_placer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/de8/class_slic3r_1_1_seam_placer.html">SeamPlacer</a> Slic3r::GCode::m_seam_placer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>.</p>

</div>
</div>
<a id="a350d12130fb3e43273f07ef2840db16c" name="a350d12130fb3e43273f07ef2840db16c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a350d12130fb3e43273f07ef2840db16c">&#9670;&#160;</a></span>m_second_layer_things_done</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::GCode::m_second_layer_things_done</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>.</p>

</div>
</div>
<a id="a14e81582f1eb704b93c5b8b4f049218e" name="a14e81582f1eb704b93c5b8b4f049218e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14e81582f1eb704b93c5b8b4f049218e">&#9670;&#160;</a></span>m_silent_time_estimator_enabled</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::GCode::m_silent_time_estimator_enabled</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>.</p>

</div>
</div>
<a id="a36c95dfce6f8603fc728760037633e45" name="a36c95dfce6f8603fc728760037633e45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36c95dfce6f8603fc728760037633e45">&#9670;&#160;</a></span>m_skirt_done</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../de/db8/namespace_slic3r.html#a2ac5c755948c74f5f5f975acd5057fe9">coordf_t</a>&gt; Slic3r::GCode::m_skirt_done</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8af28e4500c5897a80f5ccc1b6b118a2" name="a8af28e4500c5897a80f5ccc1b6b118a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8af28e4500c5897a80f5ccc1b6b118a2">&#9670;&#160;</a></span>m_spiral_vase</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="../../df/da5/class_slic3r_1_1_spiral_vase.html">SpiralVase</a>&gt; Slic3r::GCode::m_spiral_vase</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>.</p>

</div>
</div>
<a id="abf9eff5169db96af3eb235c0e923b915" name="abf9eff5169db96af3eb235c0e923b915"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf9eff5169db96af3eb235c0e923b915">&#9670;&#160;</a></span>m_start_gcode_filament</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a> Slic3r::GCode::m_start_gcode_filament = -1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>.</p>

</div>
</div>
<a id="ab1e1bcd02ddbd7fe92319e61a5959b00" name="ab1e1bcd02ddbd7fe92319e61a5959b00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1e1bcd02ddbd7fe92319e61a5959b00">&#9670;&#160;</a></span>m_toolchange_count</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="../../de/d38/lzoconf_8h.html#a61569f2965b7a369eb10b6d75d410d11">int</a> Slic3r::GCode::m_toolchange_count</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00380">Slic3r::WipeTowerIntegration::append_tcr()</a>.</p>

</div>
</div>
<a id="acd8bb57f4b518c46420f329ce755da31" name="acd8bb57f4b518c46420f329ce755da31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd8bb57f4b518c46420f329ce755da31">&#9670;&#160;</a></span>m_wipe</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d82/class_slic3r_1_1_wipe.html">Wipe</a> Slic3r::GCode::m_wipe</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00380">Slic3r::WipeTowerIntegration::append_tcr()</a>.</p>

</div>
</div>
<a id="a0514b8d6797f3f08c810b05b0fc8949f" name="a0514b8d6797f3f08c810b05b0fc8949f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0514b8d6797f3f08c810b05b0fc8949f">&#9670;&#160;</a></span>m_wipe_tower</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="../../d0/d4c/class_slic3r_1_1_wipe_tower_integration.html">WipeTowerIntegration</a>&gt; Slic3r::GCode::m_wipe_tower</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>, and <a class="el" href="../../#l02233">process_layers()</a>.</p>

</div>
</div>
<a id="a2db53cf5bbbd368e1f747a7280aa19a8" name="a2db53cf5bbbd368e1f747a7280aa19a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2db53cf5bbbd368e1f747a7280aa19a8">&#9670;&#160;</a></span>m_writer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d7a/class_slic3r_1_1_g_code_writer.html">GCodeWriter</a> Slic3r::GCode::m_writer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01460">_do_export()</a>, <a class="el" href="../../#l00380">Slic3r::WipeTowerIntegration::append_tcr()</a>, <a class="el" href="../../#l01068">do_export()</a>, <a class="el" href="../../#l00175">set_gcode_offset()</a>, <a class="el" href="../../#l00204">unretract()</a>, <a class="el" href="../../#l00187">writer()</a>, and <a class="el" href="../../#l00188">writer()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/libslic3r/<a class="el" href="../../">GCode.hpp</a></li>
<li>src/libslic3r/<a class="el" href="../../">GCode.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../de/db8/namespace_slic3r.html">Slic3r</a></li><li class="navelem"><a class="el" href="../../dd/dc8/class_slic3r_1_1_g_code.html">GCode</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>
</body>
</html>
