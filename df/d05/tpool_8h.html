<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OrcaSlicer: src/mcut/include/mcut/internal/tpool.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../OrcaSlicer_32px.png"/></td>
  <td id="projectalign">
   <div id="projectname">OrcaSlicer<span id="projectnumber">&#160;1.6.3</span>
   </div>
   <div id="projectbrief">OrcaSlicer</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('df/d05/tpool_8h.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">tpool.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;algorithm&gt;</code><br />
<code>#include &lt;atomic&gt;</code><br />
<code>#include &lt;condition_variable&gt;</code><br />
<code>#include &lt;future&gt;</code><br />
<code>#include &lt;memory&gt;</code><br />
<code>#include &lt;mutex&gt;</code><br />
<code>#include &lt;thread&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
<code>#include &lt;stack&gt;</code><br />
<code>#include &lt;functional&gt;</code><br />
<code>#include &lt;list&gt;</code><br />
<code>#include &lt;utility&gt;</code><br />
<code>#include &quot;<a class="el" href="../../">mcut/internal/utils.h</a>&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Include dependency graph for tpool.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d7/dd2/tpool_8h__incl.svg" width="100%" height="449"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</div><div class="textblock"><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> This graph shows which files directly or indirectly include this file:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../de/d14/tpool_8h__dep__incl.svg" width="100%" height="527"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</div>
<p><a href="">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d73/classfunction__wrapper.html">function_wrapper</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d75/structfunction__wrapper_1_1impl__base.html">function_wrapper::impl_base</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dfd/structfunction__wrapper_1_1impl__type.html">function_wrapper::impl_type&lt; F &gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dba/classthread__safe__queue.html">thread_safe_queue&lt; T &gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:d3/da7/structthread__safe__queue_1_1node"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dba/classthread__safe__queue.html#d3/da7/structthread__safe__queue_1_1node">thread_safe_queue&lt; T &gt;::node</a></td></tr>
<tr class="separator:d3/da7/structthread__safe__queue_1_1node"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d79/classjoin__threads.html">join_threads</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dce/classthread__pool.html">thread_pool</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/de5/classbarrier__t.html">barrier_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/db0/classthreadsafe__list.html">threadsafe_list&lt; T &gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d4b/structthreadsafe__list_1_1node.html">threadsafe_list&lt; T &gt;::node</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d6a/structempty__stack.html">empty_stack</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d1d/classthreadsafe__stack.html">threadsafe_stack&lt; T &gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a024f3853091c417a440157aa77ce1b35"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d05/tpool_8h.html#a024f3853091c417a440157aa77ce1b35">get_scheduling_parameters</a> (<a class="el" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> &amp;num_threads, <a class="el" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> &amp;max_threads, <a class="el" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> &amp;block_size, const <a class="el" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="el" href="../../df/db1/math_8h.html#a3a54064875b1b215da4904e90278a089">length</a>, const <a class="el" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> available_threads, const <a class="el" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> min_per_thread=(1&lt;&lt; 10))</td></tr>
<tr class="separator:a024f3853091c417a440157aa77ce1b35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48d2e68725f7691f1422697f4c359827"><td class="memTemplParams" colspan="2">template&lt;typename InputStorageIteratorType , typename OutputStorageType , typename FunctionType &gt; </td></tr>
<tr class="memitem:a48d2e68725f7691f1422697f4c359827"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../df/d05/tpool_8h.html#a48d2e68725f7691f1422697f4c359827">parallel_for</a> (<a class="el" href="../../d3/dce/classthread__pool.html">thread_pool</a> &amp;pool, const InputStorageIteratorType &amp;first, const InputStorageIteratorType &amp;last, FunctionType &amp;task_func, OutputStorageType &amp;master_thread_output, std::vector&lt; std::future&lt; OutputStorageType &gt; &gt; &amp;futures, const <a class="el" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> min_per_thread=(1&lt;&lt; 10))</td></tr>
<tr class="separator:a48d2e68725f7691f1422697f4c359827"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ab0a3fa876aa0aee06a6a335e9a6009"><td class="memTemplParams" colspan="2">template&lt;typename InputStorageIteratorType , typename FunctionType &gt; </td></tr>
<tr class="memitem:a7ab0a3fa876aa0aee06a6a335e9a6009"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../df/d05/tpool_8h.html#a7ab0a3fa876aa0aee06a6a335e9a6009">parallel_for</a> (<a class="el" href="../../d3/dce/classthread__pool.html">thread_pool</a> &amp;pool, const InputStorageIteratorType &amp;first, const InputStorageIteratorType &amp;last, FunctionType &amp;task_func, const <a class="el" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> min_per_thread=(1&lt;&lt; 10))</td></tr>
<tr class="separator:a7ab0a3fa876aa0aee06a6a335e9a6009"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c5da6e6311738b625977d94ac1b1ac9"><td class="memTemplParams" colspan="2">template&lt;typename Iterator &gt; </td></tr>
<tr class="memitem:a4c5da6e6311738b625977d94ac1b1ac9"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../df/d05/tpool_8h.html#a4c5da6e6311738b625977d94ac1b1ac9">partial_sum</a> (Iterator first, Iterator last, Iterator d_first)</td></tr>
<tr class="separator:a4c5da6e6311738b625977d94ac1b1ac9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9eb1c9a323afc4225f4f73a425e74708"><td class="memTemplParams" colspan="2">template&lt;typename Iterator &gt; </td></tr>
<tr class="memitem:a9eb1c9a323afc4225f4f73a425e74708"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../df/d05/tpool_8h.html#a9eb1c9a323afc4225f4f73a425e74708">parallel_partial_sum</a> (<a class="el" href="../../d3/dce/classthread__pool.html">thread_pool</a> &amp;pool, Iterator first, Iterator last)</td></tr>
<tr class="separator:a9eb1c9a323afc4225f4f73a425e74708"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2698c654dc2c006e7787bb607dc689e"><td class="memTemplParams" colspan="2">template&lt;typename Iterator , typename MatchType &gt; </td></tr>
<tr class="memitem:ab2698c654dc2c006e7787bb607dc689e"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../df/d05/tpool_8h.html#ab2698c654dc2c006e7787bb607dc689e">find_element</a> (Iterator begin, Iterator end, MatchType match, std::promise&lt; Iterator &gt; *result, std::atomic&lt; bool &gt; *done_flag)</td></tr>
<tr class="separator:ab2698c654dc2c006e7787bb607dc689e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0d7f29a50b5d594db2b8ee7e4e22f58"><td class="memTemplParams" colspan="2">template&lt;typename Iterator , typename MatchType &gt; </td></tr>
<tr class="memitem:aa0d7f29a50b5d594db2b8ee7e4e22f58"><td class="memTemplItemLeft" align="right" valign="top">Iterator&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../df/d05/tpool_8h.html#aa0d7f29a50b5d594db2b8ee7e4e22f58">parallel_find</a> (<a class="el" href="../../d3/dce/classthread__pool.html">thread_pool</a> &amp;pool, Iterator first, Iterator last, MatchType match)</td></tr>
<tr class="separator:aa0d7f29a50b5d594db2b8ee7e4e22f58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0258f3010657f5556eaa56bb7dad19d7"><td class="memTemplParams" colspan="2">template&lt;typename Iterator , typename KeyType &gt; </td></tr>
<tr class="memitem:a0258f3010657f5556eaa56bb7dad19d7"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../df/d05/tpool_8h.html#a0258f3010657f5556eaa56bb7dad19d7">find_map_element_by_key</a> (Iterator begin, Iterator end, KeyType match, std::promise&lt; Iterator &gt; *result, std::atomic&lt; bool &gt; *done_flag, <a class="el" href="../../da/de5/classbarrier__t.html">barrier_t</a> *barrier_ptr)</td></tr>
<tr class="separator:a0258f3010657f5556eaa56bb7dad19d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3cfa32999d5b05486b216557bab41d3"><td class="memTemplParams" colspan="2">template&lt;typename Iterator , typename KeyType &gt; </td></tr>
<tr class="memitem:ae3cfa32999d5b05486b216557bab41d3"><td class="memTemplItemLeft" align="right" valign="top">Iterator&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../df/d05/tpool_8h.html#ae3cfa32999d5b05486b216557bab41d3">parallel_find_in_map_by_key</a> (<a class="el" href="../../d3/dce/classthread__pool.html">thread_pool</a> &amp;pool, Iterator first, Iterator last, KeyType match)</td></tr>
<tr class="separator:ae3cfa32999d5b05486b216557bab41d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94420cea682a3463530ca1d16ea00f93"><td class="memTemplParams" colspan="2">template&lt;typename Iterator , typename UnaryPredicate &gt; </td></tr>
<tr class="memitem:a94420cea682a3463530ca1d16ea00f93"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../df/d05/tpool_8h.html#a94420cea682a3463530ca1d16ea00f93">find_element_with_pred</a> (Iterator begin, Iterator end, UnaryPredicate pred, std::promise&lt; Iterator &gt; *result, std::atomic&lt; bool &gt; *done_flag, <a class="el" href="../../da/de5/classbarrier__t.html">barrier_t</a> *barrier_ptr)</td></tr>
<tr class="separator:a94420cea682a3463530ca1d16ea00f93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d03b3a593c675f5c23c24158cc01acc"><td class="memTemplParams" colspan="2">template&lt;typename Iterator , class UnaryPredicate &gt; </td></tr>
<tr class="memitem:a7d03b3a593c675f5c23c24158cc01acc"><td class="memTemplItemLeft" align="right" valign="top">Iterator&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../df/d05/tpool_8h.html#a7d03b3a593c675f5c23c24158cc01acc">parallel_find_if</a> (<a class="el" href="../../d3/dce/classthread__pool.html">thread_pool</a> &amp;pool, Iterator first, Iterator last, UnaryPredicate predicate)</td></tr>
<tr class="separator:a7d03b3a593c675f5c23c24158cc01acc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Class Documentation</h2>
<a name="d3/da7/structthread__safe__queue_1_1node" id="d3/da7/structthread__safe__queue_1_1node"></a>
<h2 class="memtitle"><span class="permalink"><a href="#d3/da7/structthread__safe__queue_1_1node">&#9670;&#160;</a></span>thread_safe_queue::node</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct thread_safe_queue::node</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><div class="compoundTemplParams">template&lt;typename T&gt;<br />
struct thread_safe_queue&lt; T &gt;::node</div></div><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Collaboration diagram for thread_safe_queue&lt; T &gt;::node:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/de6/structthread__safe__queue_1_1node__coll__graph.svg" width="315" height="348"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="ac652e6876b44a2f97b527f0884fc365e" name="ac652e6876b44a2f97b527f0884fc365e"></a>shared_ptr&lt; T &gt;</td>
<td class="fieldname">
data</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a4b6a8b47c7de440175fa7f842444a4b4" name="a4b6a8b47c7de440175fa7f842444a4b4"></a>unique_ptr&lt; <a class="el" href="../../d7/dba/classthread__safe__queue.html#d3/da7/structthread__safe__queue_1_1node">node</a> &gt;</td>
<td class="fieldname">
next</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab2698c654dc2c006e7787bb607dc689e" name="ab2698c654dc2c006e7787bb607dc689e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2698c654dc2c006e7787bb607dc689e">&#9670;&#160;</a></span>find_element()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Iterator , typename MatchType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> find_element </td>
          <td>(</td>
          <td class="paramtype">Iterator&#160;</td>
          <td class="paramname"><em>begin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Iterator&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MatchType&#160;</td>
          <td class="paramname"><em>match</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::promise&lt; Iterator &gt; *&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::atomic&lt; bool &gt; *&#160;</td>
          <td class="paramname"><em>done_flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  638</span>{</div>
<div class="line"><span class="lineno">  639</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  640</span>        <span class="keywordflow">for</span> (; (<a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a2aeb0374bbb83d0a6452bca14e1bbbda">begin</a> != <a class="code hl_variable" href="../../d2/d86/xmltok__impl_8inc.html#ade76451eec04fdb3da08ae68f8afee41">end</a>) &amp;&amp; !done_flag-&gt;load(); ++<a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a2aeb0374bbb83d0a6452bca14e1bbbda">begin</a>) {</div>
<div class="line"><span class="lineno">  641</span>            <span class="keywordflow">if</span> (*begin == match) {</div>
<div class="line"><span class="lineno">  642</span>                result-&gt;set_value(begin);</div>
<div class="line"><span class="lineno">  643</span>                done_flag-&gt;store(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  644</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  645</span>            }</div>
<div class="line"><span class="lineno">  646</span>        }</div>
<div class="line"><span class="lineno">  647</span>    } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno">  648</span>        <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  649</span>            result-&gt;set_exception(std::current_exception());</div>
<div class="line"><span class="lineno">  650</span>            done_flag-&gt;store(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  651</span>        } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno">  652</span>        }</div>
<div class="line"><span class="lineno">  653</span>    }</div>
<div class="line"><span class="lineno">  654</span>}</div>
<div class="ttc" id="anamespacelibnest2d_1_1shapelike_html_a2aeb0374bbb83d0a6452bca14e1bbbda"><div class="ttname"><a href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a2aeb0374bbb83d0a6452bca14e1bbbda">libnest2d::shapelike::begin</a></div><div class="ttdeci">S::iterator begin(S &amp;sh, const PathTag &amp;)</div><div class="ttdef"><b>Definition</b> geometry_traits.hpp:627</div></div>
<div class="ttc" id="axmltok__impl_8inc_html_ade76451eec04fdb3da08ae68f8afee41"><div class="ttname"><a href="../../d2/d86/xmltok__impl_8inc.html#ade76451eec04fdb3da08ae68f8afee41">end</a></div><div class="ttdeci">static int PTRCALL PREFIX(scanPercent)(const ENCODING *enc const char const char * end</div><div class="ttdef"><b>Definition</b> xmltok_impl.inc:881</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00881">end</a>.</p>

</div>
</div>
<a id="a94420cea682a3463530ca1d16ea00f93" name="a94420cea682a3463530ca1d16ea00f93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94420cea682a3463530ca1d16ea00f93">&#9670;&#160;</a></span>find_element_with_pred()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Iterator , typename UnaryPredicate &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> find_element_with_pred </td>
          <td>(</td>
          <td class="paramtype">Iterator&#160;</td>
          <td class="paramname"><em>begin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Iterator&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UnaryPredicate&#160;</td>
          <td class="paramname"><em>pred</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::promise&lt; Iterator &gt; *&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::atomic&lt; bool &gt; *&#160;</td>
          <td class="paramname"><em>done_flag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/de5/classbarrier__t.html">barrier_t</a> *&#160;</td>
          <td class="paramname"><em>barrier_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  791</span>{</div>
<div class="line"><span class="lineno">  792</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  793</span>        <span class="keywordflow">for</span> (; (<a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a2aeb0374bbb83d0a6452bca14e1bbbda">begin</a> != <a class="code hl_variable" href="../../d2/d86/xmltok__impl_8inc.html#ade76451eec04fdb3da08ae68f8afee41">end</a>) &amp;&amp; !done_flag-&gt;load(); ++<a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a2aeb0374bbb83d0a6452bca14e1bbbda">begin</a>) {</div>
<div class="line"><span class="lineno">  794</span>            <span class="keyword">const</span> <span class="keywordtype">bool</span> found = pred(*begin);</div>
<div class="line"><span class="lineno">  795</span>            <span class="keywordflow">if</span> (found) {</div>
<div class="line"><span class="lineno">  796</span>                result-&gt;set_value(begin);</div>
<div class="line"><span class="lineno">  797</span>                done_flag-&gt;store(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  798</span>                <span class="keywordflow">break</span>; <span class="comment">// return;</span></div>
<div class="line"><span class="lineno">  799</span>            }</div>
<div class="line"><span class="lineno">  800</span>        }</div>
<div class="line"><span class="lineno">  801</span>    } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno">  802</span>        <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  803</span>            result-&gt;set_exception(std::current_exception());</div>
<div class="line"><span class="lineno">  804</span>            done_flag-&gt;store(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  805</span>        } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno">  806</span>        }</div>
<div class="line"><span class="lineno">  807</span>    }</div>
<div class="line"><span class="lineno">  808</span>    barrier_ptr-&gt;<a class="code hl_function" href="../../da/de5/classbarrier__t.html#a4db069a259615ffbe97651d745eaff00">wait</a>();</div>
<div class="line"><span class="lineno">  809</span>}</div>
<div class="ttc" id="aclassbarrier__t_html_a4db069a259615ffbe97651d745eaff00"><div class="ttname"><a href="../../da/de5/classbarrier__t.html#a4db069a259615ffbe97651d745eaff00">barrier_t::wait</a></div><div class="ttdeci">void wait()</div><div class="ttdef"><b>Definition</b> tpool.h:392</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00881">end</a>, and <a class="el" href="../../#l00392">barrier_t::wait()</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/d05/tpool_8h_a94420cea682a3463530ca1d16ea00f93_cgraph.svg" width="318" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a0258f3010657f5556eaa56bb7dad19d7" name="a0258f3010657f5556eaa56bb7dad19d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0258f3010657f5556eaa56bb7dad19d7">&#9670;&#160;</a></span>find_map_element_by_key()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Iterator , typename KeyType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> find_map_element_by_key </td>
          <td>(</td>
          <td class="paramtype">Iterator&#160;</td>
          <td class="paramname"><em>begin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Iterator&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">KeyType&#160;</td>
          <td class="paramname"><em>match</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::promise&lt; Iterator &gt; *&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::atomic&lt; bool &gt; *&#160;</td>
          <td class="paramname"><em>done_flag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/de5/classbarrier__t.html">barrier_t</a> *&#160;</td>
          <td class="paramname"><em>barrier_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  711</span>{</div>
<div class="line"><span class="lineno">  712</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  713</span>        <span class="keywordflow">for</span> (; (<a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a2aeb0374bbb83d0a6452bca14e1bbbda">begin</a> != <a class="code hl_variable" href="../../d2/d86/xmltok__impl_8inc.html#ade76451eec04fdb3da08ae68f8afee41">end</a>) &amp;&amp; !done_flag-&gt;load(); ++<a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a2aeb0374bbb83d0a6452bca14e1bbbda">begin</a>) {</div>
<div class="line"><span class="lineno">  714</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a2aeb0374bbb83d0a6452bca14e1bbbda">begin</a>-&gt;first == match) {</div>
<div class="line"><span class="lineno">  715</span>                result-&gt;set_value(begin);</div>
<div class="line"><span class="lineno">  716</span>                done_flag-&gt;store(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  717</span>                <span class="keywordflow">break</span>; <span class="comment">// return;</span></div>
<div class="line"><span class="lineno">  718</span>            }</div>
<div class="line"><span class="lineno">  719</span>        }</div>
<div class="line"><span class="lineno">  720</span>    } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno">  721</span>        <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  722</span>            result-&gt;set_exception(std::current_exception());</div>
<div class="line"><span class="lineno">  723</span>            done_flag-&gt;store(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  724</span>        } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno">  725</span>        }</div>
<div class="line"><span class="lineno">  726</span>    }</div>
<div class="line"><span class="lineno">  727</span>    barrier_ptr-&gt;<a class="code hl_function" href="../../da/de5/classbarrier__t.html#a4db069a259615ffbe97651d745eaff00">wait</a>();</div>
<div class="line"><span class="lineno">  728</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00881">end</a>, and <a class="el" href="../../#l00392">barrier_t::wait()</a>.</p>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/d05/tpool_8h_a0258f3010657f5556eaa56bb7dad19d7_cgraph.svg" width="336" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a024f3853091c417a440157aa77ce1b35" name="a024f3853091c417a440157aa77ce1b35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a024f3853091c417a440157aa77ce1b35">&#9670;&#160;</a></span>get_scheduling_parameters()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> get_scheduling_parameters </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> &amp;&#160;</td>
          <td class="paramname"><em>num_threads</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> &amp;&#160;</td>
          <td class="paramname"><em>max_threads</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> &amp;&#160;</td>
          <td class="paramname"><em>block_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td>
          <td class="paramname"><em>available_threads</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td>
          <td class="paramname"><em>min_per_thread</em> = <code>(1&#160;&lt;&lt;&#160;10)</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  354</span>{</div>
<div class="line"><span class="lineno">  355</span>    <span class="comment">// maximum possible number of threads that can be scheduled to perform the task.</span></div>
<div class="line"><span class="lineno">  356</span>    max_threads = (<a class="code hl_function" href="../../df/db1/math_8h.html#a3a54064875b1b215da4904e90278a089">length</a> + min_per_thread - 1) / min_per_thread;</div>
<div class="line"><span class="lineno">  357</span> </div>
<div class="line"><span class="lineno">  358</span>    <span class="comment">// the number of thread that will actually do some computation (including master)</span></div>
<div class="line"><span class="lineno">  359</span>    num_threads = std::min(available_threads != 0 ? available_threads : 2, max_threads);</div>
<div class="line"><span class="lineno">  360</span> </div>
<div class="line"><span class="lineno">  361</span>    <span class="comment">// the size of each block of elements assigned to a thread (note: last thread,</span></div>
<div class="line"><span class="lineno">  362</span>    <span class="comment">// which is the master thread might have less)</span></div>
<div class="line"><span class="lineno">  363</span>    block_size = <a class="code hl_function" href="../../df/db1/math_8h.html#a3a54064875b1b215da4904e90278a089">length</a> / num_threads;</div>
<div class="line"><span class="lineno">  364</span> </div>
<div class="line"><span class="lineno">  365</span>    <span class="comment">// printf(&quot;max_threads=%u num_threads=%u block_size=%u\n&quot;, max_threads, num_threads, block_size);</span></div>
<div class="line"><span class="lineno">  366</span> </div>
<div class="line"><span class="lineno">  367</span>    <span class="keywordflow">if</span> (num_threads == 0 || num_threads &gt; available_threads) {</div>
<div class="line"><span class="lineno">  368</span>        <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;invalid number of threads (&quot;</span> + std::to_string(num_threads) + <span class="stringliteral">&quot;)&quot;</span>);</div>
<div class="line"><span class="lineno">  369</span>    }</div>
<div class="line"><span class="lineno">  370</span> </div>
<div class="line"><span class="lineno">  371</span>    <span class="keywordflow">if</span> (max_threads == 0) {</div>
<div class="line"><span class="lineno">  372</span>        <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;invalid maximum posible number of threads (&quot;</span> + std::to_string(max_threads) + <span class="stringliteral">&quot;)&quot;</span>);</div>
<div class="line"><span class="lineno">  373</span>    }</div>
<div class="line"><span class="lineno">  374</span> </div>
<div class="line"><span class="lineno">  375</span>    <span class="keywordflow">if</span> (block_size == 0) {</div>
<div class="line"><span class="lineno">  376</span>        <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;invalid work block-size per thread (&quot;</span> + std::to_string(block_size) + <span class="stringliteral">&quot;)&quot;</span>);</div>
<div class="line"><span class="lineno">  377</span>    }</div>
<div class="line"><span class="lineno">  378</span>}</div>
<div class="ttc" id="amath_8h_html_a3a54064875b1b215da4904e90278a089"><div class="ttname"><a href="../../df/db1/math_8h.html#a3a54064875b1b215da4904e90278a089">length</a></div><div class="ttdeci">double length(const vector_type &amp;v)</div><div class="ttdef"><b>Definition</b> math.h:474</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00474">length()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01797">get_connected_component_data_impl_detail()</a>, <a class="el" href="../../#l00657">parallel_find()</a>, <a class="el" href="../../#l00812">parallel_find_if()</a>, <a class="el" href="../../#l00731">parallel_find_in_map_by_key()</a>, <a class="el" href="../../#l00461">parallel_for()</a>, <a class="el" href="../../#l00406">parallel_for()</a>, and <a class="el" href="../../#l00538">parallel_partial_sum()</a>.</p>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/d05/tpool_8h_a024f3853091c417a440157aa77ce1b35_cgraph.svg" width="591" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../df/d05/tpool_8h_a024f3853091c417a440157aa77ce1b35_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aa0d7f29a50b5d594db2b8ee7e4e22f58" name="aa0d7f29a50b5d594db2b8ee7e4e22f58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0d7f29a50b5d594db2b8ee7e4e22f58">&#9670;&#160;</a></span>parallel_find()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Iterator , typename MatchType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">Iterator parallel_find </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/dce/classthread__pool.html">thread_pool</a> &amp;&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Iterator&#160;</td>
          <td class="paramname"><em>first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Iterator&#160;</td>
          <td class="paramname"><em>last</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MatchType&#160;</td>
          <td class="paramname"><em>match</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  658</span>{</div>
<div class="line"><span class="lineno">  659</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keyword">const</span> <a class="code hl_function" href="../../df/db1/math_8h.html#a3a54064875b1b215da4904e90278a089">length</a> = <a class="code hl_function" href="../../d8/dcc/namespacestd.html#af4bc231d061945eb59dbba98a117ece9">std::distance</a>(first, last);</div>
<div class="line"><span class="lineno">  660</span> </div>
<div class="line"><span class="lineno">  661</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../df/db1/math_8h.html#a3a54064875b1b215da4904e90278a089">length</a>)</div>
<div class="line"><span class="lineno">  662</span>        <span class="keywordflow">return</span> last;</div>
<div class="line"><span class="lineno">  663</span> </div>
<div class="line"><span class="lineno">  664</span>    <a class="code hl_typedef" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> max_threads = 0;</div>
<div class="line"><span class="lineno">  665</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> available_threads = pool.<a class="code hl_function" href="../../d3/dce/classthread__pool.html#a731854a1dec41386e233847a55c74737">get_num_threads</a>() + 1; <span class="comment">// workers and master (+1)</span></div>
<div class="line"><span class="lineno">  666</span>    <a class="code hl_typedef" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> num_threads = 0;</div>
<div class="line"><span class="lineno">  667</span>    <a class="code hl_typedef" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> block_size = 0;</div>
<div class="line"><span class="lineno">  668</span> </div>
<div class="line"><span class="lineno">  669</span>    <a class="code hl_function" href="../../df/d05/tpool_8h.html#a024f3853091c417a440157aa77ce1b35">get_scheduling_parameters</a>(</div>
<div class="line"><span class="lineno">  670</span>        num_threads,</div>
<div class="line"><span class="lineno">  671</span>        max_threads,</div>
<div class="line"><span class="lineno">  672</span>        block_size,</div>
<div class="line"><span class="lineno">  673</span>        <a class="code hl_function" href="../../df/db1/math_8h.html#a3a54064875b1b215da4904e90278a089">length</a>,</div>
<div class="line"><span class="lineno">  674</span>        available_threads);</div>
<div class="line"><span class="lineno">  675</span> </div>
<div class="line"><span class="lineno">  676</span>    std::promise&lt;Iterator&gt; result;</div>
<div class="line"><span class="lineno">  677</span>    std::atomic&lt;bool&gt; done_flag(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  678</span>    std::vector&lt;std::future&lt;void&gt;&gt; futures;</div>
<div class="line"><span class="lineno">  679</span>    futures.resize(num_threads - 1);</div>
<div class="line"><span class="lineno">  680</span> </div>
<div class="line"><span class="lineno">  681</span>    {</div>
<div class="line"><span class="lineno">  682</span>        <a class="code hl_typedef" href="../../d4/d48/namespaceigl_1_1copyleft_1_1cgal_1_1points__inside__component__helper.html#a04be202f8066daf006ce3981bb515084">Iterator</a> block_start = first;</div>
<div class="line"><span class="lineno">  683</span>        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> i = 0; i &lt; (num_threads - 1); ++i) {</div>
<div class="line"><span class="lineno">  684</span>            <a class="code hl_typedef" href="../../d4/d48/namespaceigl_1_1copyleft_1_1cgal_1_1points__inside__component__helper.html#a04be202f8066daf006ce3981bb515084">Iterator</a> block_end = block_start;</div>
<div class="line"><span class="lineno">  685</span>            std::advance(block_end, block_size);</div>
<div class="line"><span class="lineno">  686</span> </div>
<div class="line"><span class="lineno">  687</span>            <span class="comment">// find_element()&quot; handles all synchronisation</span></div>
<div class="line"><span class="lineno">  688</span>            futures[i] = pool.<a class="code hl_function" href="../../d3/dce/classthread__pool.html#a105646fee998f77c07a00d47966cd570">submit</a>(i,</div>
<div class="line"><span class="lineno">  689</span>                [&amp;result, &amp;done_flag, block_start, block_end, &amp;match]() {</div>
<div class="line"><span class="lineno">  690</span>                    find_element&lt;Iterator, MatchType&gt;,</div>
<div class="line"><span class="lineno">  691</span>                        block_start, block_end, match,</div>
<div class="line"><span class="lineno">  692</span>                        &amp;result, &amp;done_flag;</div>
<div class="line"><span class="lineno">  693</span>                });</div>
<div class="line"><span class="lineno">  694</span>            block_start = block_end;</div>
<div class="line"><span class="lineno">  695</span>        }</div>
<div class="line"><span class="lineno">  696</span>        find_element&lt;Iterator, MatchType&gt;(block_start, last, match, &amp;result, &amp;done_flag);</div>
<div class="line"><span class="lineno">  697</span>    }</div>
<div class="line"><span class="lineno">  698</span>    <span class="keywordflow">if</span> (!done_flag.load()) {</div>
<div class="line"><span class="lineno">  699</span>        <span class="keywordflow">return</span> last; <span class="comment">// if nothing found (by any thread), return &quot;end&quot;</span></div>
<div class="line"><span class="lineno">  700</span>    }</div>
<div class="line"><span class="lineno">  701</span>    <span class="keywordflow">return</span> result.get_future().get();</div>
<div class="line"><span class="lineno">  702</span>}</div>
<div class="ttc" id="a_shiny_prereqs_8h_html_a435d1572bf3f880d55459d9805097f62"><div class="ttname"><a href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></div><div class="ttdeci">unsigned int uint32_t</div><div class="ttdef"><b>Definition</b> ShinyPrereqs.h:120</div></div>
<div class="ttc" id="aclassthread__pool_html_a105646fee998f77c07a00d47966cd570"><div class="ttname"><a href="../../d3/dce/classthread__pool.html#a105646fee998f77c07a00d47966cd570">thread_pool::submit</a></div><div class="ttdeci">std::future&lt; typename std::result_of&lt; FunctionType()&gt;::type &gt; submit(uint32_t worker_thread_id, FunctionType f)</div><div class="ttdef"><b>Definition</b> tpool.h:317</div></div>
<div class="ttc" id="aclassthread__pool_html_a731854a1dec41386e233847a55c74737"><div class="ttname"><a href="../../d3/dce/classthread__pool.html#a731854a1dec41386e233847a55c74737">thread_pool::get_num_threads</a></div><div class="ttdeci">size_t get_num_threads() const</div><div class="ttdef"><b>Definition</b> tpool.h:329</div></div>
<div class="ttc" id="anamespaceigl_1_1copyleft_1_1cgal_1_1points__inside__component__helper_html_a04be202f8066daf006ce3981bb515084"><div class="ttname"><a href="../../d4/d48/namespaceigl_1_1copyleft_1_1cgal_1_1points__inside__component__helper.html#a04be202f8066daf006ce3981bb515084">igl::copyleft::cgal::points_inside_component_helper::Iterator</a></div><div class="ttdeci">std::vector&lt; Triangle &gt;::iterator Iterator</div><div class="ttdef"><b>Definition</b> points_inside_component.cpp:35</div></div>
<div class="ttc" id="anamespacestd_html_af4bc231d061945eb59dbba98a117ece9"><div class="ttname"><a href="../../d8/dcc/namespacestd.html#af4bc231d061945eb59dbba98a117ece9">std::distance</a></div><div class="ttdeci">edge_array_iterator_t::difference_type distance(edge_array_iterator_t first, edge_array_iterator_t last)</div><div class="ttdef"><b>Definition</b> hmesh.h:582</div></div>
<div class="ttc" id="atpool_8h_html_a024f3853091c417a440157aa77ce1b35"><div class="ttname"><a href="../../df/d05/tpool_8h.html#a024f3853091c417a440157aa77ce1b35">get_scheduling_parameters</a></div><div class="ttdeci">static void get_scheduling_parameters(uint32_t &amp;num_threads, uint32_t &amp;max_threads, uint32_t &amp;block_size, const uint32_t length, const uint32_t available_threads, const uint32_t min_per_thread=(1&lt;&lt; 10))</div><div class="ttdef"><b>Definition</b> tpool.h:340</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00582">std::distance()</a>, <a class="el" href="../../#l00329">thread_pool::get_num_threads()</a>, <a class="el" href="../../#l00340">get_scheduling_parameters()</a>, <a class="el" href="../../#l00474">length()</a>, and <a class="el" href="../../#l00317">thread_pool::submit()</a>.</p>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../df/d05/tpool_8h_aa0d7f29a50b5d594db2b8ee7e4e22f58_cgraph.svg" width="100%" height="514"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a7d03b3a593c675f5c23c24158cc01acc" name="a7d03b3a593c675f5c23c24158cc01acc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d03b3a593c675f5c23c24158cc01acc">&#9670;&#160;</a></span>parallel_find_if()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Iterator , class UnaryPredicate &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">Iterator parallel_find_if </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/dce/classthread__pool.html">thread_pool</a> &amp;&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Iterator&#160;</td>
          <td class="paramname"><em>first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Iterator&#160;</td>
          <td class="paramname"><em>last</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UnaryPredicate&#160;</td>
          <td class="paramname"><em>predicate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  813</span>{</div>
<div class="line"><span class="lineno">  814</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keyword">const</span> <a class="code hl_function" href="../../df/db1/math_8h.html#a3a54064875b1b215da4904e90278a089">length</a> = <a class="code hl_function" href="../../d8/dcc/namespacestd.html#af4bc231d061945eb59dbba98a117ece9">std::distance</a>(first, last);</div>
<div class="line"><span class="lineno">  815</span> </div>
<div class="line"><span class="lineno">  816</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../df/db1/math_8h.html#a3a54064875b1b215da4904e90278a089">length</a>)</div>
<div class="line"><span class="lineno">  817</span>        <span class="keywordflow">return</span> last;</div>
<div class="line"><span class="lineno">  818</span> </div>
<div class="line"><span class="lineno">  819</span>    <a class="code hl_typedef" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> max_threads = 0;</div>
<div class="line"><span class="lineno">  820</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> available_threads = pool.<a class="code hl_function" href="../../d3/dce/classthread__pool.html#a731854a1dec41386e233847a55c74737">get_num_threads</a>() + 1; <span class="comment">// workers and master (+1)</span></div>
<div class="line"><span class="lineno">  821</span>    <a class="code hl_typedef" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> num_threads = 0;</div>
<div class="line"><span class="lineno">  822</span>    <a class="code hl_typedef" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> block_size = 0;</div>
<div class="line"><span class="lineno">  823</span> </div>
<div class="line"><span class="lineno">  824</span>    <a class="code hl_function" href="../../df/d05/tpool_8h.html#a024f3853091c417a440157aa77ce1b35">get_scheduling_parameters</a>(</div>
<div class="line"><span class="lineno">  825</span>        num_threads,</div>
<div class="line"><span class="lineno">  826</span>        max_threads,</div>
<div class="line"><span class="lineno">  827</span>        block_size,</div>
<div class="line"><span class="lineno">  828</span>        <a class="code hl_function" href="../../df/db1/math_8h.html#a3a54064875b1b215da4904e90278a089">length</a>,</div>
<div class="line"><span class="lineno">  829</span>        available_threads);</div>
<div class="line"><span class="lineno">  830</span> </div>
<div class="line"><span class="lineno">  831</span>    <a class="code hl_class" href="../../da/de5/classbarrier__t.html">barrier_t</a> barrier(num_threads);</div>
<div class="line"><span class="lineno">  832</span> </div>
<div class="line"><span class="lineno">  833</span>    std::promise&lt;Iterator&gt; result;</div>
<div class="line"><span class="lineno">  834</span>    std::atomic&lt;bool&gt; done_flag(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  835</span>    std::vector&lt;std::future&lt;void&gt;&gt; futures;</div>
<div class="line"><span class="lineno">  836</span>    futures.resize(num_threads - 1);</div>
<div class="line"><span class="lineno">  837</span> </div>
<div class="line"><span class="lineno">  838</span>    <a class="code hl_typedef" href="../../d4/d48/namespaceigl_1_1copyleft_1_1cgal_1_1points__inside__component__helper.html#a04be202f8066daf006ce3981bb515084">Iterator</a> block_start = first;</div>
<div class="line"><span class="lineno">  839</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> i = 0; i &lt; (num_threads - 1); ++i) {</div>
<div class="line"><span class="lineno">  840</span>        <a class="code hl_typedef" href="../../d4/d48/namespaceigl_1_1copyleft_1_1cgal_1_1points__inside__component__helper.html#a04be202f8066daf006ce3981bb515084">Iterator</a> block_end = block_start;</div>
<div class="line"><span class="lineno">  841</span>        std::advance(block_end, block_size);</div>
<div class="line"><span class="lineno">  842</span> </div>
<div class="line"><span class="lineno">  843</span>        <span class="comment">// barrier handles all synchronisation</span></div>
<div class="line"><span class="lineno">  844</span>        futures[i] = pool.<a class="code hl_function" href="../../d3/dce/classthread__pool.html#a105646fee998f77c07a00d47966cd570">submit</a>(i,</div>
<div class="line"><span class="lineno">  845</span>            [&amp;result, &amp;done_flag, block_start, block_end, &amp;predicate, &amp;barrier]() {</div>
<div class="line"><span class="lineno">  846</span>                find_element_with_pred&lt;Iterator, UnaryPredicate&gt;(</div>
<div class="line"><span class="lineno">  847</span>                    block_start, block_end, predicate,</div>
<div class="line"><span class="lineno">  848</span>                    &amp;result, &amp;done_flag, &amp;barrier);</div>
<div class="line"><span class="lineno">  849</span>            });</div>
<div class="line"><span class="lineno">  850</span>        block_start = block_end;</div>
<div class="line"><span class="lineno">  851</span>    }</div>
<div class="line"><span class="lineno">  852</span>    find_element_with_pred&lt;Iterator, UnaryPredicate&gt;(block_start, last, predicate, &amp;result, &amp;done_flag, &amp;barrier);</div>
<div class="line"><span class="lineno">  853</span> </div>
<div class="line"><span class="lineno">  854</span>    <span class="keywordflow">if</span> (!done_flag.load()) {</div>
<div class="line"><span class="lineno">  855</span>        <span class="keywordflow">return</span> last; <span class="comment">// if nothing found (by any thread), return &quot;end&quot;</span></div>
<div class="line"><span class="lineno">  856</span>    }</div>
<div class="line"><span class="lineno">  857</span>    <span class="keywordflow">return</span> result.get_future().get();</div>
<div class="line"><span class="lineno">  858</span>}</div>
<div class="ttc" id="aclassbarrier__t_html"><div class="ttname"><a href="../../da/de5/classbarrier__t.html">barrier_t</a></div><div class="ttdef"><b>Definition</b> tpool.h:380</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00582">std::distance()</a>, <a class="el" href="../../#l00329">thread_pool::get_num_threads()</a>, <a class="el" href="../../#l00340">get_scheduling_parameters()</a>, <a class="el" href="../../#l00474">length()</a>, and <a class="el" href="../../#l00317">thread_pool::submit()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01484">mesh_is_closed()</a>.</p>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../df/d05/tpool_8h_a7d03b3a593c675f5c23c24158cc01acc_cgraph.svg" width="100%" height="514"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/d05/tpool_8h_a7d03b3a593c675f5c23c24158cc01acc_icgraph.svg" width="510" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ae3cfa32999d5b05486b216557bab41d3" name="ae3cfa32999d5b05486b216557bab41d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3cfa32999d5b05486b216557bab41d3">&#9670;&#160;</a></span>parallel_find_in_map_by_key()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Iterator , typename KeyType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">Iterator parallel_find_in_map_by_key </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/dce/classthread__pool.html">thread_pool</a> &amp;&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Iterator&#160;</td>
          <td class="paramname"><em>first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Iterator&#160;</td>
          <td class="paramname"><em>last</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">KeyType&#160;</td>
          <td class="paramname"><em>match</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  732</span>{</div>
<div class="line"><span class="lineno">  733</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keyword">const</span> <a class="code hl_function" href="../../df/db1/math_8h.html#a3a54064875b1b215da4904e90278a089">length</a> = <a class="code hl_function" href="../../d8/dcc/namespacestd.html#af4bc231d061945eb59dbba98a117ece9">std::distance</a>(first, last);</div>
<div class="line"><span class="lineno">  734</span> </div>
<div class="line"><span class="lineno">  735</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../df/db1/math_8h.html#a3a54064875b1b215da4904e90278a089">length</a>)</div>
<div class="line"><span class="lineno">  736</span>        <span class="keywordflow">return</span> last;</div>
<div class="line"><span class="lineno">  737</span> </div>
<div class="line"><span class="lineno">  738</span>    <a class="code hl_typedef" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> max_threads = 0;</div>
<div class="line"><span class="lineno">  739</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> available_threads = pool.<a class="code hl_function" href="../../d3/dce/classthread__pool.html#a731854a1dec41386e233847a55c74737">get_num_threads</a>() + 1; <span class="comment">// workers and master (+1)</span></div>
<div class="line"><span class="lineno">  740</span>    <a class="code hl_typedef" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> num_threads = 0;</div>
<div class="line"><span class="lineno">  741</span>    <a class="code hl_typedef" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> block_size = 0;</div>
<div class="line"><span class="lineno">  742</span> </div>
<div class="line"><span class="lineno">  743</span>    <a class="code hl_function" href="../../df/d05/tpool_8h.html#a024f3853091c417a440157aa77ce1b35">get_scheduling_parameters</a>(</div>
<div class="line"><span class="lineno">  744</span>        num_threads,</div>
<div class="line"><span class="lineno">  745</span>        max_threads,</div>
<div class="line"><span class="lineno">  746</span>        block_size,</div>
<div class="line"><span class="lineno">  747</span>        <a class="code hl_function" href="../../df/db1/math_8h.html#a3a54064875b1b215da4904e90278a089">length</a>,</div>
<div class="line"><span class="lineno">  748</span>        available_threads);</div>
<div class="line"><span class="lineno">  749</span> </div>
<div class="line"><span class="lineno">  750</span>    <a class="code hl_class" href="../../da/de5/classbarrier__t.html">barrier_t</a> barrier(num_threads);</div>
<div class="line"><span class="lineno">  751</span> </div>
<div class="line"><span class="lineno">  752</span>    std::promise&lt;Iterator&gt; result;</div>
<div class="line"><span class="lineno">  753</span>    std::atomic&lt;bool&gt; done_flag(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  754</span> </div>
<div class="line"><span class="lineno">  755</span>    {</div>
<div class="line"><span class="lineno">  756</span>        std::vector&lt;std::future&lt;void&gt;&gt; futures;</div>
<div class="line"><span class="lineno">  757</span>        futures.resize(num_threads - 1);</div>
<div class="line"><span class="lineno">  758</span> </div>
<div class="line"><span class="lineno">  759</span>        <a class="code hl_typedef" href="../../d4/d48/namespaceigl_1_1copyleft_1_1cgal_1_1points__inside__component__helper.html#a04be202f8066daf006ce3981bb515084">Iterator</a> block_start = first;</div>
<div class="line"><span class="lineno">  760</span>        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> i = 0; i &lt; (num_threads - 1); ++i) {</div>
<div class="line"><span class="lineno">  761</span>            <a class="code hl_typedef" href="../../d4/d48/namespaceigl_1_1copyleft_1_1cgal_1_1points__inside__component__helper.html#a04be202f8066daf006ce3981bb515084">Iterator</a> block_end = block_start;</div>
<div class="line"><span class="lineno">  762</span>            std::advance(block_end, block_size);</div>
<div class="line"><span class="lineno">  763</span> </div>
<div class="line"><span class="lineno">  764</span>            futures[i] = pool.<a class="code hl_function" href="../../d3/dce/classthread__pool.html#a105646fee998f77c07a00d47966cd570">submit</a>(i,</div>
<div class="line"><span class="lineno">  765</span>                [&amp;result, &amp;done_flag, block_start, block_end, &amp;match, &amp;barrier]() {</div>
<div class="line"><span class="lineno">  766</span>                    find_map_element_by_key&lt;Iterator, KeyType&gt;(</div>
<div class="line"><span class="lineno">  767</span>                        block_start, block_end, match,</div>
<div class="line"><span class="lineno">  768</span>                        &amp;result, &amp;done_flag, &amp;barrier);</div>
<div class="line"><span class="lineno">  769</span>                });</div>
<div class="line"><span class="lineno">  770</span>            block_start = block_end;</div>
<div class="line"><span class="lineno">  771</span>        }</div>
<div class="line"><span class="lineno">  772</span>        find_map_element_by_key&lt;Iterator, KeyType&gt;(block_start, last, match, &amp;result, &amp;done_flag, &amp;barrier);</div>
<div class="line"><span class="lineno">  773</span> </div>
<div class="line"><span class="lineno">  774</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> i = 0; i &lt; (<a class="code hl_typedef" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)futures.size(); ++i) {</div>
<div class="line"><span class="lineno">  775</span>            futures[i].wait();</div>
<div class="line"><span class="lineno">  776</span>        }</div>
<div class="line"><span class="lineno">  777</span>    }</div>
<div class="line"><span class="lineno">  778</span> </div>
<div class="line"><span class="lineno">  779</span>    <span class="keywordflow">if</span> (!done_flag.load()) {</div>
<div class="line"><span class="lineno">  780</span>        <span class="keywordflow">return</span> last; <span class="comment">// if nothing found (by any thread), return &quot;end&quot;</span></div>
<div class="line"><span class="lineno">  781</span>    }</div>
<div class="line"><span class="lineno">  782</span>    <span class="keywordflow">return</span> result.get_future().get();</div>
<div class="line"><span class="lineno">  783</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00582">std::distance()</a>, <a class="el" href="../../#l00329">thread_pool::get_num_threads()</a>, <a class="el" href="../../#l00340">get_scheduling_parameters()</a>, <a class="el" href="../../#l00474">length()</a>, and <a class="el" href="../../#l00317">thread_pool::submit()</a>.</p>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../df/d05/tpool_8h_ae3cfa32999d5b05486b216557bab41d3_cgraph.svg" width="100%" height="514"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a7ab0a3fa876aa0aee06a6a335e9a6009" name="a7ab0a3fa876aa0aee06a6a335e9a6009"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ab0a3fa876aa0aee06a6a335e9a6009">&#9670;&#160;</a></span>parallel_for() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename InputStorageIteratorType , typename FunctionType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> parallel_for </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/dce/classthread__pool.html">thread_pool</a> &amp;&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const InputStorageIteratorType &amp;&#160;</td>
          <td class="paramname"><em>first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const InputStorageIteratorType &amp;&#160;</td>
          <td class="paramname"><em>last</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FunctionType &amp;&#160;</td>
          <td class="paramname"><em>task_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td>
          <td class="paramname"><em>min_per_thread</em> = <code>(1&#160;&lt;&lt;&#160;10)</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  473</span>{</div>
<div class="line"><span class="lineno">  474</span>    <a class="code hl_typedef" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <span class="keyword">const</span> length_ = <a class="code hl_function" href="../../d8/dcc/namespacestd.html#af4bc231d061945eb59dbba98a117ece9">std::distance</a>(first, last);</div>
<div class="line"><span class="lineno">  475</span> </div>
<div class="line"><span class="lineno">  476</span>    <a class="code hl_define" href="../../d5/d60/utils_8h.html#a192a6876488933a545c507187414de46">MCUT_ASSERT</a>(length_ != 0);</div>
<div class="line"><span class="lineno">  477</span> </div>
<div class="line"><span class="lineno">  478</span>    <a class="code hl_typedef" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> block_size;</div>
<div class="line"><span class="lineno">  479</span> </div>
<div class="line"><span class="lineno">  480</span>    <a class="code hl_typedef" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> max_threads = 0;</div>
<div class="line"><span class="lineno">  481</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> available_threads = pool.<a class="code hl_function" href="../../d3/dce/classthread__pool.html#a731854a1dec41386e233847a55c74737">get_num_threads</a>() + 1; <span class="comment">// workers and master (+1)</span></div>
<div class="line"><span class="lineno">  482</span>    <a class="code hl_typedef" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> num_threads = 0;</div>
<div class="line"><span class="lineno">  483</span> </div>
<div class="line"><span class="lineno">  484</span>    <a class="code hl_function" href="../../df/d05/tpool_8h.html#a024f3853091c417a440157aa77ce1b35">get_scheduling_parameters</a>(</div>
<div class="line"><span class="lineno">  485</span>        num_threads,</div>
<div class="line"><span class="lineno">  486</span>        max_threads,</div>
<div class="line"><span class="lineno">  487</span>        block_size,</div>
<div class="line"><span class="lineno">  488</span>        length_,</div>
<div class="line"><span class="lineno">  489</span>        available_threads,</div>
<div class="line"><span class="lineno">  490</span>        min_per_thread);</div>
<div class="line"><span class="lineno">  491</span> </div>
<div class="line"><span class="lineno">  492</span>    std::vector&lt;std::future&lt;void&gt;&gt; futures;</div>
<div class="line"><span class="lineno">  493</span>    futures.resize(num_threads - 1);</div>
<div class="line"><span class="lineno">  494</span>    InputStorageIteratorType block_start = first;</div>
<div class="line"><span class="lineno">  495</span> </div>
<div class="line"><span class="lineno">  496</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> i = 0; i &lt; (num_threads - 1); ++i) {</div>
<div class="line"><span class="lineno">  497</span>        InputStorageIteratorType block_end = block_start;</div>
<div class="line"><span class="lineno">  498</span> </div>
<div class="line"><span class="lineno">  499</span>        std::advance(block_end, block_size);</div>
<div class="line"><span class="lineno">  500</span> </div>
<div class="line"><span class="lineno">  501</span>        futures[i] = pool.<a class="code hl_function" href="../../d3/dce/classthread__pool.html#a105646fee998f77c07a00d47966cd570">submit</a>(i,</div>
<div class="line"><span class="lineno">  502</span>            [&amp;, block_start, block_end]() {</div>
<div class="line"><span class="lineno">  503</span>                task_func(block_start, block_end);</div>
<div class="line"><span class="lineno">  504</span>            });</div>
<div class="line"><span class="lineno">  505</span> </div>
<div class="line"><span class="lineno">  506</span>        block_start = block_end;</div>
<div class="line"><span class="lineno">  507</span>    }</div>
<div class="line"><span class="lineno">  508</span> </div>
<div class="line"><span class="lineno">  509</span>    task_func(block_start, last); <span class="comment">// master thread work</span></div>
<div class="line"><span class="lineno">  510</span> </div>
<div class="line"><span class="lineno">  511</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> i = 0; i &lt; (<a class="code hl_typedef" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)futures.size(); ++i) {</div>
<div class="line"><span class="lineno">  512</span>        futures[i].wait();</div>
<div class="line"><span class="lineno">  513</span>    }</div>
<div class="line"><span class="lineno">  514</span>}</div>
<div class="ttc" id="autils_8h_html_a192a6876488933a545c507187414de46"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a192a6876488933a545c507187414de46">MCUT_ASSERT</a></div><div class="ttdeci">#define MCUT_ASSERT(a)</div><div class="ttdef"><b>Definition</b> utils.h:62</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00582">std::distance()</a>, <a class="el" href="../../#l00329">thread_pool::get_num_threads()</a>, <a class="el" href="../../#l00340">get_scheduling_parameters()</a>, <a class="el" href="../../#l00062">MCUT_ASSERT</a>, and <a class="el" href="../../#l00317">thread_pool::submit()</a>.</p>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../df/d05/tpool_8h_a7ab0a3fa876aa0aee06a6a335e9a6009_cgraph.svg" width="100%" height="489"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a48d2e68725f7691f1422697f4c359827" name="a48d2e68725f7691f1422697f4c359827"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48d2e68725f7691f1422697f4c359827">&#9670;&#160;</a></span>parallel_for() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename InputStorageIteratorType , typename OutputStorageType , typename FunctionType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> parallel_for </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/dce/classthread__pool.html">thread_pool</a> &amp;&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const InputStorageIteratorType &amp;&#160;</td>
          <td class="paramname"><em>first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const InputStorageIteratorType &amp;&#160;</td>
          <td class="paramname"><em>last</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FunctionType &amp;&#160;</td>
          <td class="paramname"><em>task_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OutputStorageType &amp;&#160;</td>
          <td class="paramname"><em>master_thread_output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::future&lt; OutputStorageType &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>futures</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td>
          <td class="paramname"><em>min_per_thread</em> = <code>(1&#160;&lt;&lt;&#160;10)</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  423</span>{</div>
<div class="line"><span class="lineno">  424</span>    <a class="code hl_typedef" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <span class="keyword">const</span> length_ = <a class="code hl_function" href="../../d8/dcc/namespacestd.html#af4bc231d061945eb59dbba98a117ece9">std::distance</a>(first, last);</div>
<div class="line"><span class="lineno">  425</span> </div>
<div class="line"><span class="lineno">  426</span>    <a class="code hl_define" href="../../d5/d60/utils_8h.html#a192a6876488933a545c507187414de46">MCUT_ASSERT</a>(length_ != 0);</div>
<div class="line"><span class="lineno">  427</span>    <a class="code hl_typedef" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> block_size = 0;</div>
<div class="line"><span class="lineno">  428</span> </div>
<div class="line"><span class="lineno">  429</span>    <a class="code hl_typedef" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> max_threads = 0;</div>
<div class="line"><span class="lineno">  430</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> available_threads = pool.<a class="code hl_function" href="../../d3/dce/classthread__pool.html#a731854a1dec41386e233847a55c74737">get_num_threads</a>() + 1; <span class="comment">// workers and master (+1)</span></div>
<div class="line"><span class="lineno">  431</span>    <a class="code hl_typedef" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> num_threads = 0;</div>
<div class="line"><span class="lineno">  432</span> </div>
<div class="line"><span class="lineno">  433</span>    <a class="code hl_function" href="../../df/d05/tpool_8h.html#a024f3853091c417a440157aa77ce1b35">get_scheduling_parameters</a>(</div>
<div class="line"><span class="lineno">  434</span>        num_threads,</div>
<div class="line"><span class="lineno">  435</span>        max_threads,</div>
<div class="line"><span class="lineno">  436</span>        block_size,</div>
<div class="line"><span class="lineno">  437</span>        length_,</div>
<div class="line"><span class="lineno">  438</span>        available_threads,</div>
<div class="line"><span class="lineno">  439</span>        min_per_thread);</div>
<div class="line"><span class="lineno">  440</span> </div>
<div class="line"><span class="lineno">  441</span>    futures.resize(num_threads - 1);</div>
<div class="line"><span class="lineno">  442</span>    InputStorageIteratorType block_start = first;</div>
<div class="line"><span class="lineno">  443</span> </div>
<div class="line"><span class="lineno">  444</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> i = 0; i &lt; (num_threads - 1); ++i) {</div>
<div class="line"><span class="lineno">  445</span>        InputStorageIteratorType block_end = block_start;</div>
<div class="line"><span class="lineno">  446</span> </div>
<div class="line"><span class="lineno">  447</span>        std::advance(block_end, block_size);</div>
<div class="line"><span class="lineno">  448</span> </div>
<div class="line"><span class="lineno">  449</span>        futures[i] = pool.<a class="code hl_function" href="../../d3/dce/classthread__pool.html#a105646fee998f77c07a00d47966cd570">submit</a>(i,</div>
<div class="line"><span class="lineno">  450</span>            [&amp;, block_start, block_end]() -&gt; OutputStorageType {</div>
<div class="line"><span class="lineno">  451</span>                <span class="keywordflow">return</span> task_func(block_start, block_end);</div>
<div class="line"><span class="lineno">  452</span>            });</div>
<div class="line"><span class="lineno">  453</span> </div>
<div class="line"><span class="lineno">  454</span>        block_start = block_end;</div>
<div class="line"><span class="lineno">  455</span>    }</div>
<div class="line"><span class="lineno">  456</span> </div>
<div class="line"><span class="lineno">  457</span>    master_thread_output = task_func(block_start, last);</div>
<div class="line"><span class="lineno">  458</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00582">std::distance()</a>, <a class="el" href="../../#l00329">thread_pool::get_num_threads()</a>, <a class="el" href="../../#l00340">get_scheduling_parameters()</a>, <a class="el" href="../../#l00062">MCUT_ASSERT</a>, and <a class="el" href="../../#l00317">thread_pool::submit()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00022">igl::ambient_occlusion()</a>, <a class="el" href="../../#l00021">client_input_arrays_to_hmesh()</a>, <a class="el" href="../../#l01558">dispatch()</a>, <a class="el" href="../../#l00145">igl::doublearea()</a>, <a class="el" href="../../#l00384">extract_connected_components()</a>, <a class="el" href="../../#l00227">find_connected_components()</a>, <a class="el" href="../../#l01797">get_connected_component_data_impl_detail()</a>, <a class="el" href="../../#l00090">igl::internal_angles_using_edge_lengths()</a>, <a class="el" href="../../#l00066">igl::internal_angles_using_squared_edge_lengths()</a>, <a class="el" href="../../#l00099">igl::parallel_for()</a>, <a class="el" href="../../#l01276">preproc()</a>, <a class="el" href="../../#l00025">igl::shape_diameter_function()</a>, <a class="el" href="../../#l00026">igl::signed_distance()</a>, <a class="el" href="../../#l00198">igl::sort3()</a>, <a class="el" href="../../#l00013">igl::squared_edge_lengths()</a>, and <a class="el" href="../../#l00018">igl::unique_simplices()</a>.</p>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../df/d05/tpool_8h_a48d2e68725f7691f1422697f4c359827_cgraph.svg" width="100%" height="489"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../df/d05/tpool_8h_a48d2e68725f7691f1422697f4c359827_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a9eb1c9a323afc4225f4f73a425e74708" name="a9eb1c9a323afc4225f4f73a425e74708"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9eb1c9a323afc4225f4f73a425e74708">&#9670;&#160;</a></span>parallel_partial_sum()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Iterator &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> parallel_partial_sum </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/dce/classthread__pool.html">thread_pool</a> &amp;&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Iterator&#160;</td>
          <td class="paramname"><em>first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Iterator&#160;</td>
          <td class="paramname"><em>last</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  539</span>{</div>
<div class="line"><span class="lineno">  540</span>    <span class="keyword">typedef</span> <span class="keyword">typename</span> Iterator::value_type value_type;</div>
<div class="line"><span class="lineno">  541</span>    <span class="keyword">struct </span>process_chunk {</div>
<div class="line"><span class="lineno">  542</span>        <span class="keywordtype">void</span> operator()(Iterator begin, Iterator last,</div>
<div class="line"><span class="lineno">  543</span>            std::future&lt;value_type&gt;* previous_end_value,</div>
<div class="line"><span class="lineno">  544</span>            std::promise&lt;value_type&gt;* end_value)</div>
<div class="line"><span class="lineno">  545</span>        {</div>
<div class="line"><span class="lineno">  546</span>            <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  547</span>                <a class="code hl_typedef" href="../../d4/d48/namespaceigl_1_1copyleft_1_1cgal_1_1points__inside__component__helper.html#a04be202f8066daf006ce3981bb515084">Iterator</a> <a class="code hl_variable" href="../../d2/d86/xmltok__impl_8inc.html#ade76451eec04fdb3da08ae68f8afee41">end</a> = last;</div>
<div class="line"><span class="lineno">  548</span>                ++<a class="code hl_variable" href="../../d2/d86/xmltok__impl_8inc.html#ade76451eec04fdb3da08ae68f8afee41">end</a>;</div>
<div class="line"><span class="lineno">  549</span>                <a class="code hl_function" href="../../df/d05/tpool_8h.html#a4c5da6e6311738b625977d94ac1b1ac9">partial_sum</a>(begin, end, begin);</div>
<div class="line"><span class="lineno">  550</span>                <span class="keywordflow">if</span> (previous_end_value) {</div>
<div class="line"><span class="lineno">  551</span>                    <span class="keyword">const</span> value_type addend = previous_end_value-&gt;get();</div>
<div class="line"><span class="lineno">  552</span>                    *last += addend;</div>
<div class="line"><span class="lineno">  553</span>                    <span class="keywordflow">if</span> (end_value) {</div>
<div class="line"><span class="lineno">  554</span>                        end_value-&gt;set_value(*last);</div>
<div class="line"><span class="lineno">  555</span>                    }</div>
<div class="line"><span class="lineno">  556</span>                    std::for_each(begin, last, [addend](value_type&amp; item) {</div>
<div class="line"><span class="lineno">  557</span>                        item += addend;</div>
<div class="line"><span class="lineno">  558</span>                    });</div>
<div class="line"><span class="lineno">  559</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (end_value) {</div>
<div class="line"><span class="lineno">  560</span>                    end_value-&gt;set_value(*last);</div>
<div class="line"><span class="lineno">  561</span>                }</div>
<div class="line"><span class="lineno">  562</span>            } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno">  563</span>                <span class="keywordflow">if</span> (end_value) {</div>
<div class="line"><span class="lineno">  564</span>                    end_value-&gt;set_exception(std::current_exception());</div>
<div class="line"><span class="lineno">  565</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  566</span>                    <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno">  567</span>                }</div>
<div class="line"><span class="lineno">  568</span>            }</div>
<div class="line"><span class="lineno">  569</span>        }</div>
<div class="line"><span class="lineno">  570</span>    };</div>
<div class="line"><span class="lineno">  571</span> </div>
<div class="line"><span class="lineno">  572</span>    <span class="comment">// number of elements in range</span></div>
<div class="line"><span class="lineno">  573</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keyword">const</span> <a class="code hl_function" href="../../df/db1/math_8h.html#a3a54064875b1b215da4904e90278a089">length</a> = <a class="code hl_function" href="../../d8/dcc/namespacestd.html#af4bc231d061945eb59dbba98a117ece9">std::distance</a>(first, last);</div>
<div class="line"><span class="lineno">  574</span> </div>
<div class="line"><span class="lineno">  575</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../df/db1/math_8h.html#a3a54064875b1b215da4904e90278a089">length</a>)</div>
<div class="line"><span class="lineno">  576</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  577</span> </div>
<div class="line"><span class="lineno">  578</span>    <a class="code hl_typedef" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> max_threads = 0;</div>
<div class="line"><span class="lineno">  579</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> available_threads = pool.<a class="code hl_function" href="../../d3/dce/classthread__pool.html#a731854a1dec41386e233847a55c74737">get_num_threads</a>() + 1; <span class="comment">// workers and master (+1)</span></div>
<div class="line"><span class="lineno">  580</span>    <a class="code hl_typedef" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> num_threads = 0;</div>
<div class="line"><span class="lineno">  581</span>    <a class="code hl_typedef" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> block_size = 0;</div>
<div class="line"><span class="lineno">  582</span> </div>
<div class="line"><span class="lineno">  583</span>    <a class="code hl_function" href="../../df/d05/tpool_8h.html#a024f3853091c417a440157aa77ce1b35">get_scheduling_parameters</a>(</div>
<div class="line"><span class="lineno">  584</span>        num_threads,</div>
<div class="line"><span class="lineno">  585</span>        max_threads,</div>
<div class="line"><span class="lineno">  586</span>        block_size,</div>
<div class="line"><span class="lineno">  587</span>        <a class="code hl_function" href="../../df/db1/math_8h.html#a3a54064875b1b215da4904e90278a089">length</a>,</div>
<div class="line"><span class="lineno">  588</span>        available_threads);</div>
<div class="line"><span class="lineno">  589</span> </div>
<div class="line"><span class="lineno">  590</span>    <span class="keyword">typedef</span> <span class="keyword">typename</span> Iterator::value_type value_type;</div>
<div class="line"><span class="lineno">  591</span> </div>
<div class="line"><span class="lineno">  592</span>    <span class="comment">// promises holding the value of the last element of a block. Only the</span></div>
<div class="line"><span class="lineno">  593</span>    <span class="comment">// first N-1 blocks (i.e. threads) will have to update this value.</span></div>
<div class="line"><span class="lineno">  594</span>    std::vector&lt;std::promise&lt;value_type&gt;&gt; end_values(num_threads - 1);</div>
<div class="line"><span class="lineno">  595</span>    <span class="comment">// futures that are used to wait for the end value (the last element) of</span></div>
<div class="line"><span class="lineno">  596</span>    <span class="comment">// previous block. Only the last N-1 blocks (i.e. threads) will have to wait</span></div>
<div class="line"><span class="lineno">  597</span>    <span class="comment">// on this value. That is, the first thread has no &quot;previous&quot; block to wait</span></div>
<div class="line"><span class="lineno">  598</span>    <span class="comment">// on,</span></div>
<div class="line"><span class="lineno">  599</span>    std::vector&lt;std::future&lt;value_type&gt;&gt; previous_end_values;</div>
<div class="line"><span class="lineno">  600</span>    previous_end_values.reserve(num_threads - 1);</div>
<div class="line"><span class="lineno">  601</span>    std::vector&lt;std::future&lt;void&gt;&gt; futures;</div>
<div class="line"><span class="lineno">  602</span>    futures.resize(num_threads - 1);</div>
<div class="line"><span class="lineno">  603</span> </div>
<div class="line"><span class="lineno">  604</span>    <a class="code hl_typedef" href="../../d4/d48/namespaceigl_1_1copyleft_1_1cgal_1_1points__inside__component__helper.html#a04be202f8066daf006ce3981bb515084">Iterator</a> block_start = first;</div>
<div class="line"><span class="lineno">  605</span> </div>
<div class="line"><span class="lineno">  606</span>    <span class="comment">// for each pool-thread</span></div>
<div class="line"><span class="lineno">  607</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> i = 0; i &lt; (num_threads - 1); ++i) {</div>
<div class="line"><span class="lineno">  608</span>        <a class="code hl_typedef" href="../../d4/d48/namespaceigl_1_1copyleft_1_1cgal_1_1points__inside__component__helper.html#a04be202f8066daf006ce3981bb515084">Iterator</a> block_last = block_start;</div>
<div class="line"><span class="lineno">  609</span>        std::advance(block_last, block_size - 1);</div>
<div class="line"><span class="lineno">  610</span> </div>
<div class="line"><span class="lineno">  611</span>        <span class="comment">// process_chunk()&quot; handles all synchronisation</span></div>
<div class="line"><span class="lineno">  612</span>        futures[i] = pool.<a class="code hl_function" href="../../d3/dce/classthread__pool.html#a105646fee998f77c07a00d47966cd570">submit</a>(i,</div>
<div class="line"><span class="lineno">  613</span>            [i <span class="comment">/*NOTE: capture by-value*/</span>, &amp;previous_end_values, &amp;end_values, block_start, block_last]() {</div>
<div class="line"><span class="lineno">  614</span>                process_chunk()(block_start, block_last, (i != 0) ? &amp;previous_end_values[i - 1] : 0, &amp;end_values[i]);</div>
<div class="line"><span class="lineno">  615</span>            });</div>
<div class="line"><span class="lineno">  616</span> </div>
<div class="line"><span class="lineno">  617</span>        block_start = block_last;</div>
<div class="line"><span class="lineno">  618</span>        ++block_start;</div>
<div class="line"><span class="lineno">  619</span>        previous_end_values.push_back(end_values[i].get_future()); <span class="comment">// for next thread to wait on</span></div>
<div class="line"><span class="lineno">  620</span>    }</div>
<div class="line"><span class="lineno">  621</span> </div>
<div class="line"><span class="lineno">  622</span>    <a class="code hl_typedef" href="../../d4/d48/namespaceigl_1_1copyleft_1_1cgal_1_1points__inside__component__helper.html#a04be202f8066daf006ce3981bb515084">Iterator</a> final_element = block_start;</div>
<div class="line"><span class="lineno">  623</span>    std::advance(final_element, <a class="code hl_function" href="../../d8/dcc/namespacestd.html#af4bc231d061945eb59dbba98a117ece9">std::distance</a>(block_start, last) - 1);</div>
<div class="line"><span class="lineno">  624</span> </div>
<div class="line"><span class="lineno">  625</span>    <span class="comment">// NOTE: this is a blocking call since the master thread has to wait</span></div>
<div class="line"><span class="lineno">  626</span>    <span class="comment">// for worker-threads assigned to preceeding chunks to finish before it can</span></div>
<div class="line"><span class="lineno">  627</span>    <span class="comment">// process its own chunk.</span></div>
<div class="line"><span class="lineno">  628</span>    process_chunk()(block_start, final_element,</div>
<div class="line"><span class="lineno">  629</span>        (num_threads &gt; 1) ? &amp;previous_end_values.back() : 0,</div>
<div class="line"><span class="lineno">  630</span>        0);</div>
<div class="line"><span class="lineno">  631</span>}</div>
<div class="ttc" id="atpool_8h_html_a4c5da6e6311738b625977d94ac1b1ac9"><div class="ttname"><a href="../../df/d05/tpool_8h.html#a4c5da6e6311738b625977d94ac1b1ac9">partial_sum</a></div><div class="ttdeci">void partial_sum(Iterator first, Iterator last, Iterator d_first)</div><div class="ttdef"><b>Definition</b> tpool.h:517</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00582">std::distance()</a>, <a class="el" href="../../#l00881">end</a>, <a class="el" href="../../#l00329">thread_pool::get_num_threads()</a>, <a class="el" href="../../#l00340">get_scheduling_parameters()</a>, <a class="el" href="../../#l00474">length()</a>, <a class="el" href="../../#l00517">partial_sum()</a>, and <a class="el" href="../../#l00317">thread_pool::submit()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00021">client_input_arrays_to_hmesh()</a>, and <a class="el" href="../../#l01797">get_connected_component_data_impl_detail()</a>.</p>
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../df/d05/tpool_8h_a9eb1c9a323afc4225f4f73a425e74708_cgraph.svg" width="100%" height="551"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/d05/tpool_8h_a9eb1c9a323afc4225f4f73a425e74708_icgraph.svg" width="486" height="142"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a4c5da6e6311738b625977d94ac1b1ac9" name="a4c5da6e6311738b625977d94ac1b1ac9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c5da6e6311738b625977d94ac1b1ac9">&#9670;&#160;</a></span>partial_sum()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Iterator &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> partial_sum </td>
          <td>(</td>
          <td class="paramtype">Iterator&#160;</td>
          <td class="paramname"><em>first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Iterator&#160;</td>
          <td class="paramname"><em>last</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Iterator&#160;</td>
          <td class="paramname"><em>d_first</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  518</span>{</div>
<div class="line"><span class="lineno">  519</span>    <span class="comment">// std::vector&lt;uint32_t&gt;::iterator first = cc_uptr-&gt;face_sizes_cache.begin();</span></div>
<div class="line"><span class="lineno">  520</span>    <span class="comment">// std::vector&lt;uint32_t&gt;::iterator last = cc_uptr-&gt;face_sizes_cache.end();</span></div>
<div class="line"><span class="lineno">  521</span>    <span class="comment">// Iterator d_first = first;</span></div>
<div class="line"><span class="lineno">  522</span> </div>
<div class="line"><span class="lineno">  523</span>    <span class="keywordflow">if</span> (first != last) {</div>
<div class="line"><span class="lineno">  524</span> </div>
<div class="line"><span class="lineno">  525</span>        <a class="code hl_typedef" href="../../db/dc9/_shiny_prereqs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code hl_function" href="../../dc/d25/namespaceigl.html#aafcee476087e30a6e4024ef3326831c4">sum</a> = *first;</div>
<div class="line"><span class="lineno">  526</span>        *d_first = <a class="code hl_function" href="../../dc/d25/namespaceigl.html#aafcee476087e30a6e4024ef3326831c4">sum</a>;</div>
<div class="line"><span class="lineno">  527</span> </div>
<div class="line"><span class="lineno">  528</span>        <span class="keywordflow">while</span> (++first != last) {</div>
<div class="line"><span class="lineno">  529</span>            <a class="code hl_function" href="../../dc/d25/namespaceigl.html#aafcee476087e30a6e4024ef3326831c4">sum</a> = <a class="code hl_function" href="../../dc/d25/namespaceigl.html#aafcee476087e30a6e4024ef3326831c4">sum</a> + *first;</div>
<div class="line"><span class="lineno">  530</span>            *++d_first = <a class="code hl_function" href="../../dc/d25/namespaceigl.html#aafcee476087e30a6e4024ef3326831c4">sum</a>;</div>
<div class="line"><span class="lineno">  531</span>        }</div>
<div class="line"><span class="lineno">  532</span> </div>
<div class="line"><span class="lineno">  533</span>        ++d_first;</div>
<div class="line"><span class="lineno">  534</span>    }</div>
<div class="line"><span class="lineno">  535</span>}</div>
<div class="ttc" id="anamespaceigl_html_aafcee476087e30a6e4024ef3326831c4"><div class="ttname"><a href="../../dc/d25/namespaceigl.html#aafcee476087e30a6e4024ef3326831c4">igl::sum</a></div><div class="ttdeci">IGL_INLINE void sum(const Eigen::SparseMatrix&lt; T &gt; &amp;X, const int dim, Eigen::SparseVector&lt; T &gt; &amp;S)</div><div class="ttdef"><b>Definition</b> sum.cpp:12</div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../#l00538">parallel_partial_sum()</a>.</p>
<div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/d05/tpool_8h_a4c5da6e6311738b625977d94ac1b1ac9_icgraph.svg" width="622" height="142"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_dcca113433f6f432fc72a906d81d6a67.html">mcut</a></li><li class="navelem"><a class="el" href="../../dir_7fad13f42e041aaf08c41c662fc063e3.html">include</a></li><li class="navelem"><a class="el" href="../../dir_6bed316f44e0d522d11d60d38a48c564.html">mcut</a></li><li class="navelem"><a class="el" href="../../dir_d74a410f7b15bc91324fa3e587fb8faa.html">internal</a></li><li class="navelem"><a class="el" href="../../df/d05/tpool_8h.html">tpool.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>
</body>
</html>
